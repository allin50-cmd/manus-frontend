(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function A1(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function x1(s){if(Object.prototype.hasOwnProperty.call(s,"__esModule"))return s;var e=s.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(s).forEach(function(r){var a=Object.getOwnPropertyDescriptor(s,r);Object.defineProperty(t,r,a.get?a:{enumerable:!0,get:function(){return s[r]}})}),t}var Bm={exports:{}},vc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v0;function R1(){if(v0)return vc;v0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:s,type:r,key:u,ref:a!==void 0?a:null,props:l}}return vc.Fragment=e,vc.jsx=t,vc.jsxs=t,vc}var b0;function I1(){return b0||(b0=1,Bm.exports=R1()),Bm.exports}var v=I1(),qm={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w0;function C1(){if(w0)return Oe;w0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),E=Symbol.iterator;function S(k){return k===null||typeof k!="object"?null:(k=E&&k[E]||k["@@iterator"],typeof k=="function"?k:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,z={};function U(k,J,le){this.props=k,this.context=J,this.refs=z,this.updater=le||N}U.prototype.isReactComponent={},U.prototype.setState=function(k,J){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,J,"setState")},U.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function se(){}se.prototype=U.prototype;function W(k,J,le){this.props=k,this.context=J,this.refs=z,this.updater=le||N}var Y=W.prototype=new se;Y.constructor=W,V(Y,U.prototype),Y.isPureReactComponent=!0;var ce=Array.isArray,he={H:null,A:null,T:null,S:null,V:null},ue=Object.prototype.hasOwnProperty;function D(k,J,le,ie,de,Ne){return le=Ne.ref,{$$typeof:s,type:k,key:J,ref:le!==void 0?le:null,props:Ne}}function x(k,J){return D(k.type,J,void 0,void 0,void 0,k.props)}function R(k){return typeof k=="object"&&k!==null&&k.$$typeof===s}function M(k){var J={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(le){return J[le]})}var j=/\/+/g;function C(k,J){return typeof k=="object"&&k!==null&&k.key!=null?M(""+k.key):J.toString(36)}function I(){}function Ge(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(I,I):(k.status="pending",k.then(function(J){k.status==="pending"&&(k.status="fulfilled",k.value=J)},function(J){k.status==="pending"&&(k.status="rejected",k.reason=J)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function Le(k,J,le,ie,de){var Ne=typeof k;(Ne==="undefined"||Ne==="boolean")&&(k=null);var we=!1;if(k===null)we=!0;else switch(Ne){case"bigint":case"string":case"number":we=!0;break;case"object":switch(k.$$typeof){case s:case e:we=!0;break;case y:return we=k._init,Le(we(k._payload),J,le,ie,de)}}if(we)return de=de(k),we=ie===""?"."+C(k,0):ie,ce(de)?(le="",we!=null&&(le=we.replace(j,"$&/")+"/"),Le(de,J,le,"",function(ln){return ln})):de!=null&&(R(de)&&(de=x(de,le+(de.key==null||k&&k.key===de.key?"":(""+de.key).replace(j,"$&/")+"/")+we)),J.push(de)),1;we=0;var ze=ie===""?".":ie+":";if(ce(k))for(var Qe=0;Qe<k.length;Qe++)ie=k[Qe],Ne=ze+C(ie,Qe),we+=Le(ie,J,le,Ne,de);else if(Qe=S(k),typeof Qe=="function")for(k=Qe.call(k),Qe=0;!(ie=k.next()).done;)ie=ie.value,Ne=ze+C(ie,Qe++),we+=Le(ie,J,le,Ne,de);else if(Ne==="object"){if(typeof k.then=="function")return Le(Ge(k),J,le,ie,de);throw J=String(k),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return we}function Q(k,J,le){if(k==null)return k;var ie=[],de=0;return Le(k,ie,"","",function(Ne){return J.call(le,Ne,de++)}),ie}function ae(k){if(k._status===-1){var J=k._result;J=J(),J.then(function(le){(k._status===0||k._status===-1)&&(k._status=1,k._result=le)},function(le){(k._status===0||k._status===-1)&&(k._status=2,k._result=le)}),k._status===-1&&(k._status=0,k._result=J)}if(k._status===1)return k._result.default;throw k._result}var re=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function F(){}return Oe.Children={map:Q,forEach:function(k,J,le){Q(k,function(){J.apply(this,arguments)},le)},count:function(k){var J=0;return Q(k,function(){J++}),J},toArray:function(k){return Q(k,function(J){return J})||[]},only:function(k){if(!R(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Oe.Component=U,Oe.Fragment=t,Oe.Profiler=a,Oe.PureComponent=W,Oe.StrictMode=r,Oe.Suspense=g,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=he,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(k){return he.H.useMemoCache(k)}},Oe.cache=function(k){return function(){return k.apply(null,arguments)}},Oe.cloneElement=function(k,J,le){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ie=V({},k.props),de=k.key,Ne=void 0;if(J!=null)for(we in J.ref!==void 0&&(Ne=void 0),J.key!==void 0&&(de=""+J.key),J)!ue.call(J,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&J.ref===void 0||(ie[we]=J[we]);var we=arguments.length-2;if(we===1)ie.children=le;else if(1<we){for(var ze=Array(we),Qe=0;Qe<we;Qe++)ze[Qe]=arguments[Qe+2];ie.children=ze}return D(k.type,de,void 0,void 0,Ne,ie)},Oe.createContext=function(k){return k={$$typeof:u,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:l,_context:k},k},Oe.createElement=function(k,J,le){var ie,de={},Ne=null;if(J!=null)for(ie in J.key!==void 0&&(Ne=""+J.key),J)ue.call(J,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(de[ie]=J[ie]);var we=arguments.length-2;if(we===1)de.children=le;else if(1<we){for(var ze=Array(we),Qe=0;Qe<we;Qe++)ze[Qe]=arguments[Qe+2];de.children=ze}if(k&&k.defaultProps)for(ie in we=k.defaultProps,we)de[ie]===void 0&&(de[ie]=we[ie]);return D(k,Ne,void 0,void 0,null,de)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(k){return{$$typeof:f,render:k}},Oe.isValidElement=R,Oe.lazy=function(k){return{$$typeof:y,_payload:{_status:-1,_result:k},_init:ae}},Oe.memo=function(k,J){return{$$typeof:p,type:k,compare:J===void 0?null:J}},Oe.startTransition=function(k){var J=he.T,le={};he.T=le;try{var ie=k(),de=he.S;de!==null&&de(le,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(F,re)}catch(Ne){re(Ne)}finally{he.T=J}},Oe.unstable_useCacheRefresh=function(){return he.H.useCacheRefresh()},Oe.use=function(k){return he.H.use(k)},Oe.useActionState=function(k,J,le){return he.H.useActionState(k,J,le)},Oe.useCallback=function(k,J){return he.H.useCallback(k,J)},Oe.useContext=function(k){return he.H.useContext(k)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(k,J){return he.H.useDeferredValue(k,J)},Oe.useEffect=function(k,J,le){var ie=he.H;if(typeof le=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ie.useEffect(k,J)},Oe.useId=function(){return he.H.useId()},Oe.useImperativeHandle=function(k,J,le){return he.H.useImperativeHandle(k,J,le)},Oe.useInsertionEffect=function(k,J){return he.H.useInsertionEffect(k,J)},Oe.useLayoutEffect=function(k,J){return he.H.useLayoutEffect(k,J)},Oe.useMemo=function(k,J){return he.H.useMemo(k,J)},Oe.useOptimistic=function(k,J){return he.H.useOptimistic(k,J)},Oe.useReducer=function(k,J,le){return he.H.useReducer(k,J,le)},Oe.useRef=function(k){return he.H.useRef(k)},Oe.useState=function(k){return he.H.useState(k)},Oe.useSyncExternalStore=function(k,J,le){return he.H.useSyncExternalStore(k,J,le)},Oe.useTransition=function(){return he.H.useTransition()},Oe.version="19.1.0",Oe}var E0;function lp(){return E0||(E0=1,qm.exports=C1()),qm.exports}var De=lp(),$m={exports:{}},bc={},Hm={exports:{}},Fm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T0;function k1(){return T0||(T0=1,function(s){function e(Q,ae){var re=Q.length;Q.push(ae);e:for(;0<re;){var F=re-1>>>1,k=Q[F];if(0<a(k,ae))Q[F]=ae,Q[re]=k,re=F;else break e}}function t(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var ae=Q[0],re=Q.pop();if(re!==ae){Q[0]=re;e:for(var F=0,k=Q.length,J=k>>>1;F<J;){var le=2*(F+1)-1,ie=Q[le],de=le+1,Ne=Q[de];if(0>a(ie,re))de<k&&0>a(Ne,ie)?(Q[F]=Ne,Q[de]=re,F=de):(Q[F]=ie,Q[le]=re,F=le);else if(de<k&&0>a(Ne,re))Q[F]=Ne,Q[de]=re,F=de;else break e}}return ae}function a(Q,ae){var re=Q.sortIndex-ae.sortIndex;return re!==0?re:Q.id-ae.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;s.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();s.unstable_now=function(){return u.now()-f}}var g=[],p=[],y=1,E=null,S=3,N=!1,V=!1,z=!1,U=!1,se=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function ce(Q){for(var ae=t(p);ae!==null;){if(ae.callback===null)r(p);else if(ae.startTime<=Q)r(p),ae.sortIndex=ae.expirationTime,e(g,ae);else break;ae=t(p)}}function he(Q){if(z=!1,ce(Q),!V)if(t(g)!==null)V=!0,ue||(ue=!0,C());else{var ae=t(p);ae!==null&&Le(he,ae.startTime-Q)}}var ue=!1,D=-1,x=5,R=-1;function M(){return U?!0:!(s.unstable_now()-R<x)}function j(){if(U=!1,ue){var Q=s.unstable_now();R=Q;var ae=!0;try{e:{V=!1,z&&(z=!1,W(D),D=-1),N=!0;var re=S;try{t:{for(ce(Q),E=t(g);E!==null&&!(E.expirationTime>Q&&M());){var F=E.callback;if(typeof F=="function"){E.callback=null,S=E.priorityLevel;var k=F(E.expirationTime<=Q);if(Q=s.unstable_now(),typeof k=="function"){E.callback=k,ce(Q),ae=!0;break t}E===t(g)&&r(g),ce(Q)}else r(g);E=t(g)}if(E!==null)ae=!0;else{var J=t(p);J!==null&&Le(he,J.startTime-Q),ae=!1}}break e}finally{E=null,S=re,N=!1}ae=void 0}}finally{ae?C():ue=!1}}}var C;if(typeof Y=="function")C=function(){Y(j)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Ge=I.port2;I.port1.onmessage=j,C=function(){Ge.postMessage(null)}}else C=function(){se(j,0)};function Le(Q,ae){D=se(function(){Q(s.unstable_now())},ae)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Q){Q.callback=null},s.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<Q?Math.floor(1e3/Q):5},s.unstable_getCurrentPriorityLevel=function(){return S},s.unstable_next=function(Q){switch(S){case 1:case 2:case 3:var ae=3;break;default:ae=S}var re=S;S=ae;try{return Q()}finally{S=re}},s.unstable_requestPaint=function(){U=!0},s.unstable_runWithPriority=function(Q,ae){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var re=S;S=Q;try{return ae()}finally{S=re}},s.unstable_scheduleCallback=function(Q,ae,re){var F=s.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?F+re:F):re=F,Q){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=re+k,Q={id:y++,callback:ae,priorityLevel:Q,startTime:re,expirationTime:k,sortIndex:-1},re>F?(Q.sortIndex=re,e(p,Q),t(g)===null&&Q===t(p)&&(z?(W(D),D=-1):z=!0,Le(he,re-F))):(Q.sortIndex=k,e(g,Q),V||N||(V=!0,ue||(ue=!0,C()))),Q},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(Q){var ae=S;return function(){var re=S;S=ae;try{return Q.apply(this,arguments)}finally{S=re}}}}(Fm)),Fm}var S0;function N1(){return S0||(S0=1,Hm.exports=k1()),Hm.exports}var Gm={exports:{}},dn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A0;function O1(){if(A0)return dn;A0=1;var s=lp();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(g,p,y){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:E==null?null:""+E,children:g,containerInfo:p,implementation:y}}var u=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,dn.createPortal=function(g,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(g,p,null,y)},dn.flushSync=function(g){var p=u.T,y=r.p;try{if(u.T=null,r.p=2,g)return g()}finally{u.T=p,r.p=y,r.d.f()}},dn.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(g,p))},dn.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},dn.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var y=p.as,E=f(y,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,N=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?r.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:E,integrity:S,fetchPriority:N}):y==="script"&&r.d.X(g,{crossOrigin:E,integrity:S,fetchPriority:N,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},dn.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=f(p.as,p.crossOrigin);r.d.M(g,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(g)},dn.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,E=f(y,p.crossOrigin);r.d.L(g,y,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},dn.preloadModule=function(g,p){if(typeof g=="string")if(p){var y=f(p.as,p.crossOrigin);r.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(g)},dn.requestFormReset=function(g){r.d.r(g)},dn.unstable_batchedUpdates=function(g,p){return g(p)},dn.useFormState=function(g,p,y){return u.H.useFormState(g,p,y)},dn.useFormStatus=function(){return u.H.useHostTransitionStatus()},dn.version="19.1.0",dn}var x0;function D1(){if(x0)return Gm.exports;x0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Gm.exports=O1(),Gm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R0;function j1(){if(R0)return bc;R0=1;var s=N1(),e=lp(),t=D1();function r(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var i=n,o=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(o=i.return),n=i.return;while(n)}return i.tag===3?o:null}function u(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function f(n){if(l(n)!==n)throw Error(r(188))}function g(n){var i=n.alternate;if(!i){if(i=l(n),i===null)throw Error(r(188));return i!==n?null:n}for(var o=n,c=i;;){var d=o.return;if(d===null)break;var m=d.alternate;if(m===null){if(c=d.return,c!==null){o=c;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===o)return f(d),n;if(m===c)return f(d),i;m=m.sibling}throw Error(r(188))}if(o.return!==c.return)o=d,c=m;else{for(var w=!1,T=d.child;T;){if(T===o){w=!0,o=d,c=m;break}if(T===c){w=!0,c=d,o=m;break}T=T.sibling}if(!w){for(T=m.child;T;){if(T===o){w=!0,o=m,c=d;break}if(T===c){w=!0,c=m,o=d;break}T=T.sibling}if(!w)throw Error(r(189))}}if(o.alternate!==c)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?n:i}function p(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=p(n),i!==null)return i;n=n.sibling}return null}var y=Object.assign,E=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),se=Symbol.for("react.provider"),W=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function C(n){return n===null||typeof n!="object"?null:(n=j&&n[j]||n["@@iterator"],typeof n=="function"?n:null)}var I=Symbol.for("react.client.reference");function Ge(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===I?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case V:return"Fragment";case U:return"Profiler";case z:return"StrictMode";case he:return"Suspense";case ue:return"SuspenseList";case R:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case N:return"Portal";case Y:return(n.displayName||"Context")+".Provider";case W:return(n._context.displayName||"Context")+".Consumer";case ce:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case D:return i=n.displayName||null,i!==null?i:Ge(n.type)||"Memo";case x:i=n._payload,n=n._init;try{return Ge(n(i))}catch{}}return null}var Le=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},F=[],k=-1;function J(n){return{current:n}}function le(n){0>k||(n.current=F[k],F[k]=null,k--)}function ie(n,i){k++,F[k]=n.current,n.current=i}var de=J(null),Ne=J(null),we=J(null),ze=J(null);function Qe(n,i){switch(ie(we,i),ie(Ne,n),ie(de,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?Kv(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=Kv(i),n=Qv(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}le(de),ie(de,n)}function ln(){le(de),le(Ne),le(we)}function yr(n){n.memoizedState!==null&&ie(ze,n);var i=de.current,o=Qv(i,n.type);i!==o&&(ie(Ne,n),ie(de,o))}function _r(n){Ne.current===n&&(le(de),le(Ne)),ze.current===n&&(le(ze),mc._currentValue=re)}var Zn=Object.prototype.hasOwnProperty,Ci=s.unstable_scheduleCallback,Pa=s.unstable_cancelCallback,Bd=s.unstable_shouldYield,ml=s.unstable_requestPaint,En=s.unstable_now,ou=s.unstable_getCurrentPriorityLevel,Vt=s.unstable_ImmediatePriority,Gt=s.unstable_UserBlockingPriority,qr=s.unstable_NormalPriority,qd=s.unstable_LowPriority,gl=s.unstable_IdlePriority,$d=s.log,ki=s.unstable_setDisableYieldValue,vs=null,cn=null;function Ln(n){if(typeof $d=="function"&&ki(n),cn&&typeof cn.setStrictMode=="function")try{cn.setStrictMode(vs,n)}catch{}}var yn=Math.clz32?Math.clz32:cu,Hd=Math.log,lu=Math.LN2;function cu(n){return n>>>=0,n===0?32:31-(Hd(n)/lu|0)|0}var vr=256,bs=4194304;function er(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function zn(n,i,o){var c=n.pendingLanes;if(c===0)return 0;var d=0,m=n.suspendedLanes,w=n.pingedLanes;n=n.warmLanes;var T=c&134217727;return T!==0?(c=T&~m,c!==0?d=er(c):(w&=T,w!==0?d=er(w):o||(o=T&~n,o!==0&&(d=er(o))))):(T=c&~m,T!==0?d=er(T):w!==0?d=er(w):o||(o=c&~n,o!==0&&(d=er(o)))),d===0?0:i!==0&&i!==d&&(i&m)===0&&(m=d&-d,o=i&-i,m>=o||m===32&&(o&4194048)!==0)?i:d}function ws(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function Ma(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pl(){var n=vr;return vr<<=1,(vr&4194048)===0&&(vr=256),n}function Es(){var n=bs;return bs<<=1,(bs&62914560)===0&&(bs=4194304),n}function Va(n){for(var i=[],o=0;31>o;o++)i.push(n);return i}function Et(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function uu(n,i,o,c,d,m){var w=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var T=n.entanglements,O=n.expirationTimes,$=n.hiddenUpdates;for(o=w&~o;0<o;){var X=31-yn(o),te=1<<X;T[X]=0,O[X]=-1;var H=$[X];if(H!==null)for($[X]=null,X=0;X<H.length;X++){var G=H[X];G!==null&&(G.lane&=-536870913)}o&=~te}c!==0&&Ts(n,c,0),m!==0&&d===0&&n.tag!==0&&(n.suspendedLanes|=m&~(w&~i))}function Ts(n,i,o){n.pendingLanes|=i,n.suspendedLanes&=~i;var c=31-yn(i);n.entangledLanes|=i,n.entanglements[c]=n.entanglements[c]|1073741824|o&4194090}function Ss(n,i){var o=n.entangledLanes|=i;for(n=n.entanglements;o;){var c=31-yn(o),d=1<<c;d&i|n[c]&i&&(n[c]|=i),o&=~d}}function yl(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function _l(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function $r(){var n=ae.p;return n!==0?n:(n=window.event,n===void 0?32:f0(n.type))}function Fd(n,i){var o=ae.p;try{return ae.p=n,i()}finally{ae.p=o}}var br=Math.random().toString(36).slice(2),Tt="__reactFiber$"+br,en="__reactProps$"+br,Hr="__reactContainer$"+br,Ni="__reactEvents$"+br,Oi="__reactListeners$"+br,Gd="__reactHandles$"+br,tr="__reactResources$"+br,As="__reactMarker$"+br;function Ua(n){delete n[Tt],delete n[en],delete n[Ni],delete n[Oi],delete n[Gd]}function wr(n){var i=n[Tt];if(i)return i;for(var o=n.parentNode;o;){if(i=o[Hr]||o[Tt]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(n=Jv(n);n!==null;){if(o=n[Tt])return o;n=Jv(n)}return i}n=o,o=n.parentNode}return null}function Er(n){if(n=n[Tt]||n[Hr]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function xs(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(r(33))}function Rs(n){var i=n[tr];return i||(i=n[tr]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function St(n){n[As]=!0}var hu=new Set,Di={};function Tr(n,i){Sr(n,i),Sr(n+"Capture",i)}function Sr(n,i){for(Di[n]=i,n=0;n<i.length;n++)hu.add(i[n])}var ji=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ar={},La={};function Kd(n){return Zn.call(La,n)?!0:Zn.call(Ar,n)?!1:ji.test(n)?La[n]=!0:(Ar[n]=!0,!1)}function Pi(n,i,o){if(Kd(i))if(o===null)n.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+o)}}function Mi(n,i,o){if(o===null)n.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+o)}}function Bn(n,i,o,c){if(c===null)n.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(i,o,""+c)}}var Vi,za;function Fr(n){if(Vi===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);Vi=i&&i[1]||"",za=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Vi+n+za}var Ba=!1;function qa(n,i){if(!n||Ba)return"";Ba=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(G){var H=G}Reflect.construct(n,[],te)}else{try{te.call()}catch(G){H=G}n.call(te.prototype)}}else{try{throw Error()}catch(G){H=G}(te=n())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(G){if(G&&H&&typeof G.stack=="string")return[G.stack,H.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=c.DetermineComponentFrameRoot(),w=m[0],T=m[1];if(w&&T){var O=w.split(`
`),$=T.split(`
`);for(d=c=0;c<O.length&&!O[c].includes("DetermineComponentFrameRoot");)c++;for(;d<$.length&&!$[d].includes("DetermineComponentFrameRoot");)d++;if(c===O.length||d===$.length)for(c=O.length-1,d=$.length-1;1<=c&&0<=d&&O[c]!==$[d];)d--;for(;1<=c&&0<=d;c--,d--)if(O[c]!==$[d]){if(c!==1||d!==1)do if(c--,d--,0>d||O[c]!==$[d]){var X=`
`+O[c].replace(" at new "," at ");return n.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",n.displayName)),X}while(1<=c&&0<=d);break}}}finally{Ba=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?Fr(o):""}function Qd(n){switch(n.tag){case 26:case 27:case 5:return Fr(n.type);case 16:return Fr("Lazy");case 13:return Fr("Suspense");case 19:return Fr("SuspenseList");case 0:case 15:return qa(n.type,!1);case 11:return qa(n.type.render,!1);case 1:return qa(n.type,!0);case 31:return Fr("Activity");default:return""}}function nr(n){try{var i="";do i+=Qd(n),n=n.return;while(n);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function gt(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Is(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ui(n){var i=Is(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),c=""+n[i];if(!n.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,m=o.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return d.call(this)},set:function(w){c=""+w,m.call(this,w)}}),Object.defineProperty(n,i,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Cs(n){n._valueTracker||(n._valueTracker=Ui(n))}function et(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var o=i.getValue(),c="";return n&&(c=Is(n)?n.checked?"true":"false":n.value),n=c,n!==o?(i.setValue(n),!0):!1}function Gr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Li=/[\n"\\]/g;function Kt(n){return n.replace(Li,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function vl(n,i,o,c,d,m,w,T){n.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.type=w:n.removeAttribute("type"),i!=null?w==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+gt(i)):n.value!==""+gt(i)&&(n.value=""+gt(i)):w!=="submit"&&w!=="reset"||n.removeAttribute("value"),i!=null?wl(n,w,gt(i)):o!=null?wl(n,w,gt(o)):c!=null&&n.removeAttribute("value"),d==null&&m!=null&&(n.defaultChecked=!!m),d!=null&&(n.checked=d&&typeof d!="function"&&typeof d!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.name=""+gt(T):n.removeAttribute("name")}function bl(n,i,o,c,d,m,w,T){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),i!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||i!=null))return;o=o!=null?""+gt(o):"",i=i!=null?""+gt(i):o,T||i===n.value||(n.value=i),n.defaultValue=i}c=c??d,c=typeof c!="function"&&typeof c!="symbol"&&!!c,n.checked=T?n.checked:!!c,n.defaultChecked=!!c,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(n.name=w)}function wl(n,i,o){i==="number"&&Gr(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function ks(n,i,o,c){if(n=n.options,i){i={};for(var d=0;d<o.length;d++)i["$"+o[d]]=!0;for(o=0;o<n.length;o++)d=i.hasOwnProperty("$"+n[o].value),n[o].selected!==d&&(n[o].selected=d),d&&c&&(n[o].defaultSelected=!0)}else{for(o=""+gt(o),i=null,d=0;d<n.length;d++){if(n[d].value===o){n[d].selected=!0,c&&(n[d].defaultSelected=!0);return}i!==null||n[d].disabled||(i=n[d])}i!==null&&(i.selected=!0)}}function du(n,i,o){if(i!=null&&(i=""+gt(i),i!==n.value&&(n.value=i),o==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=o!=null?""+gt(o):""}function fu(n,i,o,c){if(i==null){if(c!=null){if(o!=null)throw Error(r(92));if(Le(c)){if(1<c.length)throw Error(r(93));c=c[0]}o=c}o==null&&(o=""),i=o}o=gt(i),n.defaultValue=o,c=n.textContent,c===o&&c!==""&&c!==null&&(n.value=c)}function qn(n,i){if(i){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=i;return}}n.textContent=i}var Kr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function El(n,i,o){var c=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":c?n.setProperty(i,o):typeof o!="number"||o===0||Kr.has(i)?i==="float"?n.cssFloat=o:n[i]=(""+o).trim():n[i]=o+"px"}function Tl(n,i,o){if(i!=null&&typeof i!="object")throw Error(r(62));if(n=n.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?n.setProperty(c,""):c==="float"?n.cssFloat="":n[c]="");for(var d in i)c=i[d],i.hasOwnProperty(d)&&o[d]!==c&&El(n,d,c)}else for(var m in i)i.hasOwnProperty(m)&&El(n,m,i[m])}function $a(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rr(n){return gu.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Sl=null;function Al(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ns=null,_n=null;function pu(n){var i=Er(n);if(i&&(n=i.stateNode)){var o=n[en]||null;e:switch(n=i.stateNode,i.type){case"input":if(vl(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Kt(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var c=o[i];if(c!==n&&c.form===n.form){var d=c[en]||null;if(!d)throw Error(r(90));vl(c,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<o.length;i++)c=o[i],c.form===n.form&&et(c)}break e;case"textarea":du(n,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&ks(n,!!o.multiple,i,!1)}}}var zi=!1;function Bi(n,i,o){if(zi)return n(i,o);zi=!0;try{var c=n(i);return c}finally{if(zi=!1,(Ns!==null||_n!==null)&&(ih(),Ns&&(i=Ns,n=_n,_n=Ns=null,pu(i),n)))for(i=0;i<n.length;i++)pu(n[i])}}function Os(n,i){var o=n.stateNode;if(o===null)return null;var c=o[en]||null;if(c===null)return null;o=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(r(231,i,typeof o));return o}var vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qr=!1;if(vn)try{var Ds={};Object.defineProperty(Ds,"passive",{get:function(){Qr=!0}}),window.addEventListener("test",Ds,Ds),window.removeEventListener("test",Ds,Ds)}catch{Qr=!1}var $n=null,at=null,Ha=null;function yu(){if(Ha)return Ha;var n,i=at,o=i.length,c,d="value"in $n?$n.value:$n.textContent,m=d.length;for(n=0;n<o&&i[n]===d[n];n++);var w=o-n;for(c=1;c<=w&&i[o-c]===d[m-c];c++);return Ha=d.slice(n,1<c?1-c:void 0)}function qi(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function $i(){return!0}function xl(){return!1}function Ut(n){function i(o,c,d,m,w){this._reactName=o,this._targetInst=d,this.type=c,this.nativeEvent=m,this.target=w,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(o=n[T],this[T]=o?o(m):m[T]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?$i:xl,this.isPropagationStopped=xl,this}return y(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=$i)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=$i)},persist:function(){},isPersistent:$i}),i}var un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hi=Ut(un),Fi=y({},un,{view:0,detail:0}),Gi=Ut(Fi),Fa,Ki,xr,Qi=y({},Fi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qa,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==xr&&(xr&&n.type==="mousemove"?(Fa=n.screenX-xr.screenX,Ki=n.screenY-xr.screenY):Ki=Fa=0,xr=n),Fa)},movementY:function(n){return"movementY"in n?n.movementY:Ki}}),Yi=Ut(Qi),Yd=y({},Qi,{dataTransfer:0}),_u=Ut(Yd),Wi=y({},Fi,{relatedTarget:0}),Ga=Ut(Wi),vu=y({},un,{animationName:0,elapsedTime:0,pseudoElement:0}),Rl=Ut(vu),Il=y({},un,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),bu=Ut(Il),Ka=y({},un,{data:0}),Cl=Ut(Ka),wu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tu(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Eu[n])?!!i[n]:!1}function Qa(){return Tu}var Su=y({},Fi,{key:function(n){if(n.key){var i=wu[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=qi(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Yr[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qa,charCode:function(n){return n.type==="keypress"?qi(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?qi(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Ya=Ut(Su),bn=y({},Qi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kl=Ut(bn),Au=y({},Fi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qa}),js=Ut(Au),h=y({},un,{propertyName:0,elapsedTime:0,pseudoElement:0}),_=Ut(h),b=y({},Qi,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),A=Ut(b),q=y({},un,{newState:0,oldState:0}),K=Ut(q),oe=[9,13,27,32],Ie=vn&&"CompositionEvent"in window,ht=null;vn&&"documentMode"in document&&(ht=document.documentMode);var Xe=vn&&"TextEvent"in window&&!ht,At=vn&&(!Ie||ht&&8<ht&&11>=ht),Cn=" ",Rr=!1;function sr(n,i){switch(n){case"keyup":return oe.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ir(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ar=!1;function Nl(n,i){switch(n){case"compositionend":return ir(i);case"keypress":return i.which!==32?null:(Rr=!0,Cn);case"textInput":return n=i.data,n===Cn&&Rr?null:n;default:return null}}function JS(n,i){if(ar)return n==="compositionend"||!Ie&&sr(n,i)?(n=yu(),Ha=at=$n=null,ar=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return At&&i.locale!=="ko"?null:i.data;default:return null}}var ZS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oy(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!ZS[n.type]:i==="textarea"}function ly(n,i,o,c){Ns?_n?_n.push(c):_n=[c]:Ns=c,i=hh(i,"onChange"),0<i.length&&(o=new Hi("onChange","change",null,o,c),n.push({event:o,listeners:i}))}var Ol=null,Dl=null;function eA(n){qv(n,0)}function xu(n){var i=xs(n);if(et(i))return n}function cy(n,i){if(n==="change")return i}var uy=!1;if(vn){var Wd;if(vn){var Xd="oninput"in document;if(!Xd){var hy=document.createElement("div");hy.setAttribute("oninput","return;"),Xd=typeof hy.oninput=="function"}Wd=Xd}else Wd=!1;uy=Wd&&(!document.documentMode||9<document.documentMode)}function dy(){Ol&&(Ol.detachEvent("onpropertychange",fy),Dl=Ol=null)}function fy(n){if(n.propertyName==="value"&&xu(Dl)){var i=[];ly(i,Dl,n,Al(n)),Bi(eA,i)}}function tA(n,i,o){n==="focusin"?(dy(),Ol=i,Dl=o,Ol.attachEvent("onpropertychange",fy)):n==="focusout"&&dy()}function nA(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return xu(Dl)}function rA(n,i){if(n==="click")return xu(i)}function sA(n,i){if(n==="input"||n==="change")return xu(i)}function iA(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var kn=typeof Object.is=="function"?Object.is:iA;function jl(n,i){if(kn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var o=Object.keys(n),c=Object.keys(i);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var d=o[c];if(!Zn.call(i,d)||!kn(n[d],i[d]))return!1}return!0}function my(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function gy(n,i){var o=my(n);n=0;for(var c;o;){if(o.nodeType===3){if(c=n+o.textContent.length,n<=i&&c>=i)return{node:o,offset:i-n};n=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=my(o)}}function py(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?py(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function yy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=Gr(n.document);i instanceof n.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)n=i.contentWindow;else break;i=Gr(n.document)}return i}function Jd(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var aA=vn&&"documentMode"in document&&11>=document.documentMode,Wa=null,Zd=null,Pl=null,ef=!1;function _y(n,i,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;ef||Wa==null||Wa!==Gr(c)||(c=Wa,"selectionStart"in c&&Jd(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Pl&&jl(Pl,c)||(Pl=c,c=hh(Zd,"onSelect"),0<c.length&&(i=new Hi("onSelect","select",null,i,o),n.push({event:i,listeners:c}),i.target=Wa)))}function Xi(n,i){var o={};return o[n.toLowerCase()]=i.toLowerCase(),o["Webkit"+n]="webkit"+i,o["Moz"+n]="moz"+i,o}var Xa={animationend:Xi("Animation","AnimationEnd"),animationiteration:Xi("Animation","AnimationIteration"),animationstart:Xi("Animation","AnimationStart"),transitionrun:Xi("Transition","TransitionRun"),transitionstart:Xi("Transition","TransitionStart"),transitioncancel:Xi("Transition","TransitionCancel"),transitionend:Xi("Transition","TransitionEnd")},tf={},vy={};vn&&(vy=document.createElement("div").style,"AnimationEvent"in window||(delete Xa.animationend.animation,delete Xa.animationiteration.animation,delete Xa.animationstart.animation),"TransitionEvent"in window||delete Xa.transitionend.transition);function Ji(n){if(tf[n])return tf[n];if(!Xa[n])return n;var i=Xa[n],o;for(o in i)if(i.hasOwnProperty(o)&&o in vy)return tf[n]=i[o];return n}var by=Ji("animationend"),wy=Ji("animationiteration"),Ey=Ji("animationstart"),oA=Ji("transitionrun"),lA=Ji("transitionstart"),cA=Ji("transitioncancel"),Ty=Ji("transitionend"),Sy=new Map,nf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");nf.push("scrollEnd");function or(n,i){Sy.set(n,i),Tr(i,[n])}var Ay=new WeakMap;function Hn(n,i){if(typeof n=="object"&&n!==null){var o=Ay.get(n);return o!==void 0?o:(i={value:n,source:i,stack:nr(i)},Ay.set(n,i),i)}return{value:n,source:i,stack:nr(i)}}var Fn=[],Ja=0,rf=0;function Ru(){for(var n=Ja,i=rf=Ja=0;i<n;){var o=Fn[i];Fn[i++]=null;var c=Fn[i];Fn[i++]=null;var d=Fn[i];Fn[i++]=null;var m=Fn[i];if(Fn[i++]=null,c!==null&&d!==null){var w=c.pending;w===null?d.next=d:(d.next=w.next,w.next=d),c.pending=d}m!==0&&xy(o,d,m)}}function Iu(n,i,o,c){Fn[Ja++]=n,Fn[Ja++]=i,Fn[Ja++]=o,Fn[Ja++]=c,rf|=c,n.lanes|=c,n=n.alternate,n!==null&&(n.lanes|=c)}function sf(n,i,o,c){return Iu(n,i,o,c),Cu(n)}function Za(n,i){return Iu(n,null,null,i),Cu(n)}function xy(n,i,o){n.lanes|=o;var c=n.alternate;c!==null&&(c.lanes|=o);for(var d=!1,m=n.return;m!==null;)m.childLanes|=o,c=m.alternate,c!==null&&(c.childLanes|=o),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(d=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,d&&i!==null&&(d=31-yn(o),n=m.hiddenUpdates,c=n[d],c===null?n[d]=[i]:c.push(i),i.lane=o|536870912),m):null}function Cu(n){if(50<ac)throw ac=0,hm=null,Error(r(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var eo={};function uA(n,i,o,c){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(n,i,o,c){return new uA(n,i,o,c)}function af(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Wr(n,i){var o=n.alternate;return o===null?(o=Nn(n.tag,i,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=i,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,i=n.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function Ry(n,i){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,i=o.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function ku(n,i,o,c,d,m){var w=0;if(c=n,typeof n=="function")af(n)&&(w=1);else if(typeof n=="string")w=d1(n,o,de.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case R:return n=Nn(31,o,i,d),n.elementType=R,n.lanes=m,n;case V:return Zi(o.children,d,m,i);case z:w=8,d|=24;break;case U:return n=Nn(12,o,i,d|2),n.elementType=U,n.lanes=m,n;case he:return n=Nn(13,o,i,d),n.elementType=he,n.lanes=m,n;case ue:return n=Nn(19,o,i,d),n.elementType=ue,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case se:case Y:w=10;break e;case W:w=9;break e;case ce:w=11;break e;case D:w=14;break e;case x:w=16,c=null;break e}w=29,o=Error(r(130,n===null?"null":typeof n,"")),c=null}return i=Nn(w,o,i,d),i.elementType=n,i.type=c,i.lanes=m,i}function Zi(n,i,o,c){return n=Nn(7,n,c,i),n.lanes=o,n}function of(n,i,o){return n=Nn(6,n,null,i),n.lanes=o,n}function lf(n,i,o){return i=Nn(4,n.children!==null?n.children:[],n.key,i),i.lanes=o,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var to=[],no=0,Nu=null,Ou=0,Gn=[],Kn=0,ea=null,Xr=1,Jr="";function ta(n,i){to[no++]=Ou,to[no++]=Nu,Nu=n,Ou=i}function Iy(n,i,o){Gn[Kn++]=Xr,Gn[Kn++]=Jr,Gn[Kn++]=ea,ea=n;var c=Xr;n=Jr;var d=32-yn(c)-1;c&=~(1<<d),o+=1;var m=32-yn(i)+d;if(30<m){var w=d-d%5;m=(c&(1<<w)-1).toString(32),c>>=w,d-=w,Xr=1<<32-yn(i)+d|o<<d|c,Jr=m+n}else Xr=1<<m|o<<d|c,Jr=n}function cf(n){n.return!==null&&(ta(n,1),Iy(n,1,0))}function uf(n){for(;n===Nu;)Nu=to[--no],to[no]=null,Ou=to[--no],to[no]=null;for(;n===ea;)ea=Gn[--Kn],Gn[Kn]=null,Jr=Gn[--Kn],Gn[Kn]=null,Xr=Gn[--Kn],Gn[Kn]=null}var wn=null,_t=null,Ye=!1,na=null,Ir=!1,hf=Error(r(519));function ra(n){var i=Error(r(418,""));throw Ul(Hn(i,n)),hf}function Cy(n){var i=n.stateNode,o=n.type,c=n.memoizedProps;switch(i[Tt]=n,i[en]=c,o){case"dialog":Ue("cancel",i),Ue("close",i);break;case"iframe":case"object":case"embed":Ue("load",i);break;case"video":case"audio":for(o=0;o<lc.length;o++)Ue(lc[o],i);break;case"source":Ue("error",i);break;case"img":case"image":case"link":Ue("error",i),Ue("load",i);break;case"details":Ue("toggle",i);break;case"input":Ue("invalid",i),bl(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Cs(i);break;case"select":Ue("invalid",i);break;case"textarea":Ue("invalid",i),fu(i,c.value,c.defaultValue,c.children),Cs(i)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||c.suppressHydrationWarning===!0||Gv(i.textContent,o)?(c.popover!=null&&(Ue("beforetoggle",i),Ue("toggle",i)),c.onScroll!=null&&Ue("scroll",i),c.onScrollEnd!=null&&Ue("scrollend",i),c.onClick!=null&&(i.onclick=dh),i=!0):i=!1,i||ra(n)}function ky(n){for(wn=n.return;wn;)switch(wn.tag){case 5:case 13:Ir=!1;return;case 27:case 3:Ir=!0;return;default:wn=wn.return}}function Ml(n){if(n!==wn)return!1;if(!Ye)return ky(n),Ye=!0,!1;var i=n.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||Rm(n.type,n.memoizedProps)),o=!o),o&&_t&&ra(n),ky(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(o=n.data,o==="/$"){if(i===0){_t=cr(n.nextSibling);break e}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++;n=n.nextSibling}_t=null}}else i===27?(i=_t,Ws(n.type)?(n=Nm,Nm=null,_t=n):_t=i):_t=wn?cr(n.stateNode.nextSibling):null;return!0}function Vl(){_t=wn=null,Ye=!1}function Ny(){var n=na;return n!==null&&(An===null?An=n:An.push.apply(An,n),na=null),n}function Ul(n){na===null?na=[n]:na.push(n)}var df=J(null),sa=null,Zr=null;function Ps(n,i,o){ie(df,i._currentValue),i._currentValue=o}function es(n){n._currentValue=df.current,le(df)}function ff(n,i,o){for(;n!==null;){var c=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),n===o)break;n=n.return}}function mf(n,i,o,c){var d=n.child;for(d!==null&&(d.return=n);d!==null;){var m=d.dependencies;if(m!==null){var w=d.child;m=m.firstContext;e:for(;m!==null;){var T=m;m=d;for(var O=0;O<i.length;O++)if(T.context===i[O]){m.lanes|=o,T=m.alternate,T!==null&&(T.lanes|=o),ff(m.return,o,n),c||(w=null);break e}m=T.next}}else if(d.tag===18){if(w=d.return,w===null)throw Error(r(341));w.lanes|=o,m=w.alternate,m!==null&&(m.lanes|=o),ff(w,o,n),w=null}else w=d.child;if(w!==null)w.return=d;else for(w=d;w!==null;){if(w===n){w=null;break}if(d=w.sibling,d!==null){d.return=w.return,w=d;break}w=w.return}d=w}}function Ll(n,i,o,c){n=null;for(var d=i,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var w=d.alternate;if(w===null)throw Error(r(387));if(w=w.memoizedProps,w!==null){var T=d.type;kn(d.pendingProps.value,w.value)||(n!==null?n.push(T):n=[T])}}else if(d===ze.current){if(w=d.alternate,w===null)throw Error(r(387));w.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(n!==null?n.push(mc):n=[mc])}d=d.return}n!==null&&mf(i,n,o,c),i.flags|=262144}function Du(n){for(n=n.firstContext;n!==null;){if(!kn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ia(n){sa=n,Zr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function hn(n){return Oy(sa,n)}function ju(n,i){return sa===null&&ia(n),Oy(n,i)}function Oy(n,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},Zr===null){if(n===null)throw Error(r(308));Zr=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Zr=Zr.next=i;return o}var hA=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(o,c){n.push(c)}};this.abort=function(){i.aborted=!0,n.forEach(function(o){return o()})}},dA=s.unstable_scheduleCallback,fA=s.unstable_NormalPriority,Lt={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gf(){return{controller:new hA,data:new Map,refCount:0}}function zl(n){n.refCount--,n.refCount===0&&dA(fA,function(){n.controller.abort()})}var Bl=null,pf=0,ro=0,so=null;function mA(n,i){if(Bl===null){var o=Bl=[];pf=0,ro=_m(),so={status:"pending",value:void 0,then:function(c){o.push(c)}}}return pf++,i.then(Dy,Dy),i}function Dy(){if(--pf===0&&Bl!==null){so!==null&&(so.status="fulfilled");var n=Bl;Bl=null,ro=0,so=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function gA(n,i){var o=[],c={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return n.then(function(){c.status="fulfilled",c.value=i;for(var d=0;d<o.length;d++)(0,o[d])(i)},function(d){for(c.status="rejected",c.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),c}var jy=Q.S;Q.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&mA(n,i),jy!==null&&jy(n,i)};var aa=J(null);function yf(){var n=aa.current;return n!==null?n:ot.pooledCache}function Pu(n,i){i===null?ie(aa,aa.current):ie(aa,i.pool)}function Py(){var n=yf();return n===null?null:{parent:Lt._currentValue,pool:n}}var ql=Error(r(460)),My=Error(r(474)),Mu=Error(r(542)),_f={then:function(){}};function Vy(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Vu(){}function Uy(n,i,o){switch(o=n[o],o===void 0?n.push(i):o!==i&&(i.then(Vu,Vu),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,zy(n),n;default:if(typeof i.status=="string")i.then(Vu,Vu);else{if(n=ot,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=i,n.status="pending",n.then(function(c){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=c}},function(c){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,zy(n),n}throw $l=i,ql}}var $l=null;function Ly(){if($l===null)throw Error(r(459));var n=$l;return $l=null,n}function zy(n){if(n===ql||n===Mu)throw Error(r(483))}var Ms=!1;function vf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bf(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Vs(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Us(n,i,o){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(Je&2)!==0){var d=c.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),c.pending=i,i=Cu(n),xy(n,null,o),i}return Iu(n,c,i,o),Cu(n)}function Hl(n,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var c=i.lanes;c&=n.pendingLanes,o|=c,i.lanes=o,Ss(n,o)}}function wf(n,i){var o=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var d=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?d=m=w:m=m.next=w,o=o.next}while(o!==null);m===null?d=m=i:m=m.next=i}else d=m=i;o={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:c.shared,callbacks:c.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=i:n.next=i,o.lastBaseUpdate=i}var Ef=!1;function Fl(){if(Ef){var n=so;if(n!==null)throw n}}function Gl(n,i,o,c){Ef=!1;var d=n.updateQueue;Ms=!1;var m=d.firstBaseUpdate,w=d.lastBaseUpdate,T=d.shared.pending;if(T!==null){d.shared.pending=null;var O=T,$=O.next;O.next=null,w===null?m=$:w.next=$,w=O;var X=n.alternate;X!==null&&(X=X.updateQueue,T=X.lastBaseUpdate,T!==w&&(T===null?X.firstBaseUpdate=$:T.next=$,X.lastBaseUpdate=O))}if(m!==null){var te=d.baseState;w=0,X=$=O=null,T=m;do{var H=T.lane&-536870913,G=H!==T.lane;if(G?(He&H)===H:(c&H)===H){H!==0&&H===ro&&(Ef=!0),X!==null&&(X=X.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Ae=n,Ee=T;H=i;var rt=o;switch(Ee.tag){case 1:if(Ae=Ee.payload,typeof Ae=="function"){te=Ae.call(rt,te,H);break e}te=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Ee.payload,H=typeof Ae=="function"?Ae.call(rt,te,H):Ae,H==null)break e;te=y({},te,H);break e;case 2:Ms=!0}}H=T.callback,H!==null&&(n.flags|=64,G&&(n.flags|=8192),G=d.callbacks,G===null?d.callbacks=[H]:G.push(H))}else G={lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},X===null?($=X=G,O=te):X=X.next=G,w|=H;if(T=T.next,T===null){if(T=d.shared.pending,T===null)break;G=T,T=G.next,G.next=null,d.lastBaseUpdate=G,d.shared.pending=null}}while(!0);X===null&&(O=te),d.baseState=O,d.firstBaseUpdate=$,d.lastBaseUpdate=X,m===null&&(d.shared.lanes=0),Gs|=w,n.lanes=w,n.memoizedState=te}}function By(n,i){if(typeof n!="function")throw Error(r(191,n));n.call(i)}function qy(n,i){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)By(o[n],i)}var io=J(null),Uu=J(0);function $y(n,i){n=os,ie(Uu,n),ie(io,i),os=n|i.baseLanes}function Tf(){ie(Uu,os),ie(io,io.current)}function Sf(){os=Uu.current,le(io),le(Uu)}var Ls=0,je=null,tt=null,kt=null,Lu=!1,ao=!1,oa=!1,zu=0,Kl=0,oo=null,pA=0;function xt(){throw Error(r(321))}function Af(n,i){if(i===null)return!1;for(var o=0;o<i.length&&o<n.length;o++)if(!kn(n[o],i[o]))return!1;return!0}function xf(n,i,o,c,d,m){return Ls=m,je=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Q.H=n===null||n.memoizedState===null?x_:R_,oa=!1,m=o(c,d),oa=!1,ao&&(m=Fy(i,o,c,d)),Hy(n),m}function Hy(n){Q.H=Gu;var i=tt!==null&&tt.next!==null;if(Ls=0,kt=tt=je=null,Lu=!1,Kl=0,oo=null,i)throw Error(r(300));n===null||Qt||(n=n.dependencies,n!==null&&Du(n)&&(Qt=!0))}function Fy(n,i,o,c){je=n;var d=0;do{if(ao&&(oo=null),Kl=0,ao=!1,25<=d)throw Error(r(301));if(d+=1,kt=tt=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}Q.H=TA,m=i(o,c)}while(ao);return m}function yA(){var n=Q.H,i=n.useState()[0];return i=typeof i.then=="function"?Ql(i):i,n=n.useState()[0],(tt!==null?tt.memoizedState:null)!==n&&(je.flags|=1024),i}function Rf(){var n=zu!==0;return zu=0,n}function If(n,i,o){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~o}function Cf(n){if(Lu){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Lu=!1}Ls=0,kt=tt=je=null,ao=!1,Kl=zu=0,oo=null}function Tn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?je.memoizedState=kt=n:kt=kt.next=n,kt}function Nt(){if(tt===null){var n=je.alternate;n=n!==null?n.memoizedState:null}else n=tt.next;var i=kt===null?je.memoizedState:kt.next;if(i!==null)kt=i,tt=n;else{if(n===null)throw je.alternate===null?Error(r(467)):Error(r(310));tt=n,n={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},kt===null?je.memoizedState=kt=n:kt=kt.next=n}return kt}function kf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ql(n){var i=Kl;return Kl+=1,oo===null&&(oo=[]),n=Uy(oo,n,i),i=je,(kt===null?i.memoizedState:kt.next)===null&&(i=i.alternate,Q.H=i===null||i.memoizedState===null?x_:R_),n}function Bu(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Ql(n);if(n.$$typeof===Y)return hn(n)}throw Error(r(438,String(n)))}function Nf(n){var i=null,o=je.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var c=je.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=kf(),je.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(n),c=0;c<n;c++)o[c]=M;return i.index++,o}function ts(n,i){return typeof i=="function"?i(n):i}function qu(n){var i=Nt();return Of(i,tt,n)}function Of(n,i,o){var c=n.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=o;var d=n.baseQueue,m=c.pending;if(m!==null){if(d!==null){var w=d.next;d.next=m.next,m.next=w}i.baseQueue=d=m,c.pending=null}if(m=n.baseState,d===null)n.memoizedState=m;else{i=d.next;var T=w=null,O=null,$=i,X=!1;do{var te=$.lane&-536870913;if(te!==$.lane?(He&te)===te:(Ls&te)===te){var H=$.revertLane;if(H===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),te===ro&&(X=!0);else if((Ls&H)===H){$=$.next,H===ro&&(X=!0);continue}else te={lane:0,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},O===null?(T=O=te,w=m):O=O.next=te,je.lanes|=H,Gs|=H;te=$.action,oa&&o(m,te),m=$.hasEagerState?$.eagerState:o(m,te)}else H={lane:te,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},O===null?(T=O=H,w=m):O=O.next=H,je.lanes|=te,Gs|=te;$=$.next}while($!==null&&$!==i);if(O===null?w=m:O.next=T,!kn(m,n.memoizedState)&&(Qt=!0,X&&(o=so,o!==null)))throw o;n.memoizedState=m,n.baseState=w,n.baseQueue=O,c.lastRenderedState=m}return d===null&&(c.lanes=0),[n.memoizedState,c.dispatch]}function Df(n){var i=Nt(),o=i.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=n;var c=o.dispatch,d=o.pending,m=i.memoizedState;if(d!==null){o.pending=null;var w=d=d.next;do m=n(m,w.action),w=w.next;while(w!==d);kn(m,i.memoizedState)||(Qt=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),o.lastRenderedState=m}return[m,c]}function Gy(n,i,o){var c=je,d=Nt(),m=Ye;if(m){if(o===void 0)throw Error(r(407));o=o()}else o=i();var w=!kn((tt||d).memoizedState,o);w&&(d.memoizedState=o,Qt=!0),d=d.queue;var T=Yy.bind(null,c,d,n);if(Yl(2048,8,T,[n]),d.getSnapshot!==i||w||kt!==null&&kt.memoizedState.tag&1){if(c.flags|=2048,lo(9,$u(),Qy.bind(null,c,d,o,i),null),ot===null)throw Error(r(349));m||(Ls&124)!==0||Ky(c,i,o)}return o}function Ky(n,i,o){n.flags|=16384,n={getSnapshot:i,value:o},i=je.updateQueue,i===null?(i=kf(),je.updateQueue=i,i.stores=[n]):(o=i.stores,o===null?i.stores=[n]:o.push(n))}function Qy(n,i,o,c){i.value=o,i.getSnapshot=c,Wy(i)&&Xy(n)}function Yy(n,i,o){return o(function(){Wy(i)&&Xy(n)})}function Wy(n){var i=n.getSnapshot;n=n.value;try{var o=i();return!kn(n,o)}catch{return!0}}function Xy(n){var i=Za(n,2);i!==null&&Mn(i,n,2)}function jf(n){var i=Tn();if(typeof n=="function"){var o=n;if(n=o(),oa){Ln(!0);try{o()}finally{Ln(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:n},i}function Jy(n,i,o,c){return n.baseState=o,Of(n,tt,typeof c=="function"?c:ts)}function _A(n,i,o,c,d){if(Fu(n))throw Error(r(485));if(n=i.action,n!==null){var m={payload:d,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){m.listeners.push(w)}};Q.T!==null?o(!0):m.isTransition=!1,c(m),o=i.pending,o===null?(m.next=i.pending=m,Zy(i,m)):(m.next=o.next,i.pending=o.next=m)}}function Zy(n,i){var o=i.action,c=i.payload,d=n.state;if(i.isTransition){var m=Q.T,w={};Q.T=w;try{var T=o(d,c),O=Q.S;O!==null&&O(w,T),e_(n,i,T)}catch($){Pf(n,i,$)}finally{Q.T=m}}else try{m=o(d,c),e_(n,i,m)}catch($){Pf(n,i,$)}}function e_(n,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){t_(n,i,c)},function(c){return Pf(n,i,c)}):t_(n,i,o)}function t_(n,i,o){i.status="fulfilled",i.value=o,n_(i),n.state=o,i=n.pending,i!==null&&(o=i.next,o===i?n.pending=null:(o=o.next,i.next=o,Zy(n,o)))}function Pf(n,i,o){var c=n.pending;if(n.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=o,n_(i),i=i.next;while(i!==c)}n.action=null}function n_(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function r_(n,i){return i}function s_(n,i){if(Ye){var o=ot.formState;if(o!==null){e:{var c=je;if(Ye){if(_t){t:{for(var d=_t,m=Ir;d.nodeType!==8;){if(!m){d=null;break t}if(d=cr(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){_t=cr(d.nextSibling),c=d.data==="F!";break e}}ra(c)}c=!1}c&&(i=o[0])}}return o=Tn(),o.memoizedState=o.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r_,lastRenderedState:i},o.queue=c,o=T_.bind(null,je,c),c.dispatch=o,c=jf(!1),m=zf.bind(null,je,!1,c.queue),c=Tn(),d={state:i,dispatch:null,action:n,pending:null},c.queue=d,o=_A.bind(null,je,d,m,o),d.dispatch=o,c.memoizedState=n,[i,o,!1]}function i_(n){var i=Nt();return a_(i,tt,n)}function a_(n,i,o){if(i=Of(n,i,r_)[0],n=qu(ts)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=Ql(i)}catch(w){throw w===ql?Mu:w}else c=i;i=Nt();var d=i.queue,m=d.dispatch;return o!==i.memoizedState&&(je.flags|=2048,lo(9,$u(),vA.bind(null,d,o),null)),[c,m,n]}function vA(n,i){n.action=i}function o_(n){var i=Nt(),o=tt;if(o!==null)return a_(i,o,n);Nt(),i=i.memoizedState,o=Nt();var c=o.queue.dispatch;return o.memoizedState=n,[i,c,!1]}function lo(n,i,o,c){return n={tag:n,create:o,deps:c,inst:i,next:null},i=je.updateQueue,i===null&&(i=kf(),je.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=n.next=n:(c=o.next,o.next=n,n.next=c,i.lastEffect=n),n}function $u(){return{destroy:void 0,resource:void 0}}function l_(){return Nt().memoizedState}function Hu(n,i,o,c){var d=Tn();c=c===void 0?null:c,je.flags|=n,d.memoizedState=lo(1|i,$u(),o,c)}function Yl(n,i,o,c){var d=Nt();c=c===void 0?null:c;var m=d.memoizedState.inst;tt!==null&&c!==null&&Af(c,tt.memoizedState.deps)?d.memoizedState=lo(i,m,o,c):(je.flags|=n,d.memoizedState=lo(1|i,m,o,c))}function c_(n,i){Hu(8390656,8,n,i)}function u_(n,i){Yl(2048,8,n,i)}function h_(n,i){return Yl(4,2,n,i)}function d_(n,i){return Yl(4,4,n,i)}function f_(n,i){if(typeof i=="function"){n=n();var o=i(n);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function m_(n,i,o){o=o!=null?o.concat([n]):null,Yl(4,4,f_.bind(null,i,n),o)}function Mf(){}function g_(n,i){var o=Nt();i=i===void 0?null:i;var c=o.memoizedState;return i!==null&&Af(i,c[1])?c[0]:(o.memoizedState=[n,i],n)}function p_(n,i){var o=Nt();i=i===void 0?null:i;var c=o.memoizedState;if(i!==null&&Af(i,c[1]))return c[0];if(c=n(),oa){Ln(!0);try{n()}finally{Ln(!1)}}return o.memoizedState=[c,i],c}function Vf(n,i,o){return o===void 0||(Ls&1073741824)!==0?n.memoizedState=i:(n.memoizedState=o,n=vv(),je.lanes|=n,Gs|=n,o)}function y_(n,i,o,c){return kn(o,i)?o:io.current!==null?(n=Vf(n,o,c),kn(n,i)||(Qt=!0),n):(Ls&42)===0?(Qt=!0,n.memoizedState=o):(n=vv(),je.lanes|=n,Gs|=n,i)}function __(n,i,o,c,d){var m=ae.p;ae.p=m!==0&&8>m?m:8;var w=Q.T,T={};Q.T=T,zf(n,!1,i,o);try{var O=d(),$=Q.S;if($!==null&&$(T,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var X=gA(O,c);Wl(n,i,X,Pn(n))}else Wl(n,i,c,Pn(n))}catch(te){Wl(n,i,{then:function(){},status:"rejected",reason:te},Pn())}finally{ae.p=m,Q.T=w}}function bA(){}function Uf(n,i,o,c){if(n.tag!==5)throw Error(r(476));var d=v_(n).queue;__(n,d,i,re,o===null?bA:function(){return b_(n),o(c)})}function v_(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:re},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:o},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function b_(n){var i=v_(n).next.queue;Wl(n,i,{},Pn())}function Lf(){return hn(mc)}function w_(){return Nt().memoizedState}function E_(){return Nt().memoizedState}function wA(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var o=Pn();n=Vs(o);var c=Us(i,n,o);c!==null&&(Mn(c,i,o),Hl(c,i,o)),i={cache:gf()},n.payload=i;return}i=i.return}}function EA(n,i,o){var c=Pn();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Fu(n)?S_(i,o):(o=sf(n,i,o,c),o!==null&&(Mn(o,n,c),A_(o,i,c)))}function T_(n,i,o){var c=Pn();Wl(n,i,o,c)}function Wl(n,i,o,c){var d={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Fu(n))S_(i,d);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var w=i.lastRenderedState,T=m(w,o);if(d.hasEagerState=!0,d.eagerState=T,kn(T,w))return Iu(n,i,d,0),ot===null&&Ru(),!1}catch{}finally{}if(o=sf(n,i,d,c),o!==null)return Mn(o,n,c),A_(o,i,c),!0}return!1}function zf(n,i,o,c){if(c={lane:2,revertLane:_m(),action:c,hasEagerState:!1,eagerState:null,next:null},Fu(n)){if(i)throw Error(r(479))}else i=sf(n,o,c,2),i!==null&&Mn(i,n,2)}function Fu(n){var i=n.alternate;return n===je||i!==null&&i===je}function S_(n,i){ao=Lu=!0;var o=n.pending;o===null?i.next=i:(i.next=o.next,o.next=i),n.pending=i}function A_(n,i,o){if((o&4194048)!==0){var c=i.lanes;c&=n.pendingLanes,o|=c,i.lanes=o,Ss(n,o)}}var Gu={readContext:hn,use:Bu,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useLayoutEffect:xt,useInsertionEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useSyncExternalStore:xt,useId:xt,useHostTransitionStatus:xt,useFormState:xt,useActionState:xt,useOptimistic:xt,useMemoCache:xt,useCacheRefresh:xt},x_={readContext:hn,use:Bu,useCallback:function(n,i){return Tn().memoizedState=[n,i===void 0?null:i],n},useContext:hn,useEffect:c_,useImperativeHandle:function(n,i,o){o=o!=null?o.concat([n]):null,Hu(4194308,4,f_.bind(null,i,n),o)},useLayoutEffect:function(n,i){return Hu(4194308,4,n,i)},useInsertionEffect:function(n,i){Hu(4,2,n,i)},useMemo:function(n,i){var o=Tn();i=i===void 0?null:i;var c=n();if(oa){Ln(!0);try{n()}finally{Ln(!1)}}return o.memoizedState=[c,i],c},useReducer:function(n,i,o){var c=Tn();if(o!==void 0){var d=o(i);if(oa){Ln(!0);try{o(i)}finally{Ln(!1)}}}else d=i;return c.memoizedState=c.baseState=d,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:d},c.queue=n,n=n.dispatch=EA.bind(null,je,n),[c.memoizedState,n]},useRef:function(n){var i=Tn();return n={current:n},i.memoizedState=n},useState:function(n){n=jf(n);var i=n.queue,o=T_.bind(null,je,i);return i.dispatch=o,[n.memoizedState,o]},useDebugValue:Mf,useDeferredValue:function(n,i){var o=Tn();return Vf(o,n,i)},useTransition:function(){var n=jf(!1);return n=__.bind(null,je,n.queue,!0,!1),Tn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,o){var c=je,d=Tn();if(Ye){if(o===void 0)throw Error(r(407));o=o()}else{if(o=i(),ot===null)throw Error(r(349));(He&124)!==0||Ky(c,i,o)}d.memoizedState=o;var m={value:o,getSnapshot:i};return d.queue=m,c_(Yy.bind(null,c,m,n),[n]),c.flags|=2048,lo(9,$u(),Qy.bind(null,c,m,o,i),null),o},useId:function(){var n=Tn(),i=ot.identifierPrefix;if(Ye){var o=Jr,c=Xr;o=(c&~(1<<32-yn(c)-1)).toString(32)+o,i=""+i+"R"+o,o=zu++,0<o&&(i+="H"+o.toString(32)),i+=""}else o=pA++,i=""+i+"r"+o.toString(32)+"";return n.memoizedState=i},useHostTransitionStatus:Lf,useFormState:s_,useActionState:s_,useOptimistic:function(n){var i=Tn();i.memoizedState=i.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=zf.bind(null,je,!0,o),o.dispatch=i,[n,i]},useMemoCache:Nf,useCacheRefresh:function(){return Tn().memoizedState=wA.bind(null,je)}},R_={readContext:hn,use:Bu,useCallback:g_,useContext:hn,useEffect:u_,useImperativeHandle:m_,useInsertionEffect:h_,useLayoutEffect:d_,useMemo:p_,useReducer:qu,useRef:l_,useState:function(){return qu(ts)},useDebugValue:Mf,useDeferredValue:function(n,i){var o=Nt();return y_(o,tt.memoizedState,n,i)},useTransition:function(){var n=qu(ts)[0],i=Nt().memoizedState;return[typeof n=="boolean"?n:Ql(n),i]},useSyncExternalStore:Gy,useId:w_,useHostTransitionStatus:Lf,useFormState:i_,useActionState:i_,useOptimistic:function(n,i){var o=Nt();return Jy(o,tt,n,i)},useMemoCache:Nf,useCacheRefresh:E_},TA={readContext:hn,use:Bu,useCallback:g_,useContext:hn,useEffect:u_,useImperativeHandle:m_,useInsertionEffect:h_,useLayoutEffect:d_,useMemo:p_,useReducer:Df,useRef:l_,useState:function(){return Df(ts)},useDebugValue:Mf,useDeferredValue:function(n,i){var o=Nt();return tt===null?Vf(o,n,i):y_(o,tt.memoizedState,n,i)},useTransition:function(){var n=Df(ts)[0],i=Nt().memoizedState;return[typeof n=="boolean"?n:Ql(n),i]},useSyncExternalStore:Gy,useId:w_,useHostTransitionStatus:Lf,useFormState:o_,useActionState:o_,useOptimistic:function(n,i){var o=Nt();return tt!==null?Jy(o,tt,n,i):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:Nf,useCacheRefresh:E_},co=null,Xl=0;function Ku(n){var i=Xl;return Xl+=1,co===null&&(co=[]),Uy(co,n,i)}function Jl(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Qu(n,i){throw i.$$typeof===E?Error(r(525)):(n=Object.prototype.toString.call(i),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function I_(n){var i=n._init;return i(n._payload)}function C_(n){function i(L,P){if(n){var B=L.deletions;B===null?(L.deletions=[P],L.flags|=16):B.push(P)}}function o(L,P){if(!n)return null;for(;P!==null;)i(L,P),P=P.sibling;return null}function c(L){for(var P=new Map;L!==null;)L.key!==null?P.set(L.key,L):P.set(L.index,L),L=L.sibling;return P}function d(L,P){return L=Wr(L,P),L.index=0,L.sibling=null,L}function m(L,P,B){return L.index=B,n?(B=L.alternate,B!==null?(B=B.index,B<P?(L.flags|=67108866,P):B):(L.flags|=67108866,P)):(L.flags|=1048576,P)}function w(L){return n&&L.alternate===null&&(L.flags|=67108866),L}function T(L,P,B,Z){return P===null||P.tag!==6?(P=of(B,L.mode,Z),P.return=L,P):(P=d(P,B),P.return=L,P)}function O(L,P,B,Z){var ge=B.type;return ge===V?X(L,P,B.props.children,Z,B.key):P!==null&&(P.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===x&&I_(ge)===P.type)?(P=d(P,B.props),Jl(P,B),P.return=L,P):(P=ku(B.type,B.key,B.props,null,L.mode,Z),Jl(P,B),P.return=L,P)}function $(L,P,B,Z){return P===null||P.tag!==4||P.stateNode.containerInfo!==B.containerInfo||P.stateNode.implementation!==B.implementation?(P=lf(B,L.mode,Z),P.return=L,P):(P=d(P,B.children||[]),P.return=L,P)}function X(L,P,B,Z,ge){return P===null||P.tag!==7?(P=Zi(B,L.mode,Z,ge),P.return=L,P):(P=d(P,B),P.return=L,P)}function te(L,P,B){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=of(""+P,L.mode,B),P.return=L,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case S:return B=ku(P.type,P.key,P.props,null,L.mode,B),Jl(B,P),B.return=L,B;case N:return P=lf(P,L.mode,B),P.return=L,P;case x:var Z=P._init;return P=Z(P._payload),te(L,P,B)}if(Le(P)||C(P))return P=Zi(P,L.mode,B,null),P.return=L,P;if(typeof P.then=="function")return te(L,Ku(P),B);if(P.$$typeof===Y)return te(L,ju(L,P),B);Qu(L,P)}return null}function H(L,P,B,Z){var ge=P!==null?P.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ge!==null?null:T(L,P,""+B,Z);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case S:return B.key===ge?O(L,P,B,Z):null;case N:return B.key===ge?$(L,P,B,Z):null;case x:return ge=B._init,B=ge(B._payload),H(L,P,B,Z)}if(Le(B)||C(B))return ge!==null?null:X(L,P,B,Z,null);if(typeof B.then=="function")return H(L,P,Ku(B),Z);if(B.$$typeof===Y)return H(L,P,ju(L,B),Z);Qu(L,B)}return null}function G(L,P,B,Z,ge){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return L=L.get(B)||null,T(P,L,""+Z,ge);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case S:return L=L.get(Z.key===null?B:Z.key)||null,O(P,L,Z,ge);case N:return L=L.get(Z.key===null?B:Z.key)||null,$(P,L,Z,ge);case x:var Me=Z._init;return Z=Me(Z._payload),G(L,P,B,Z,ge)}if(Le(Z)||C(Z))return L=L.get(B)||null,X(P,L,Z,ge,null);if(typeof Z.then=="function")return G(L,P,B,Ku(Z),ge);if(Z.$$typeof===Y)return G(L,P,B,ju(P,Z),ge);Qu(P,Z)}return null}function Ae(L,P,B,Z){for(var ge=null,Me=null,_e=P,Te=P=0,Wt=null;_e!==null&&Te<B.length;Te++){_e.index>Te?(Wt=_e,_e=null):Wt=_e.sibling;var Ke=H(L,_e,B[Te],Z);if(Ke===null){_e===null&&(_e=Wt);break}n&&_e&&Ke.alternate===null&&i(L,_e),P=m(Ke,P,Te),Me===null?ge=Ke:Me.sibling=Ke,Me=Ke,_e=Wt}if(Te===B.length)return o(L,_e),Ye&&ta(L,Te),ge;if(_e===null){for(;Te<B.length;Te++)_e=te(L,B[Te],Z),_e!==null&&(P=m(_e,P,Te),Me===null?ge=_e:Me.sibling=_e,Me=_e);return Ye&&ta(L,Te),ge}for(_e=c(_e);Te<B.length;Te++)Wt=G(_e,L,Te,B[Te],Z),Wt!==null&&(n&&Wt.alternate!==null&&_e.delete(Wt.key===null?Te:Wt.key),P=m(Wt,P,Te),Me===null?ge=Wt:Me.sibling=Wt,Me=Wt);return n&&_e.forEach(function(ti){return i(L,ti)}),Ye&&ta(L,Te),ge}function Ee(L,P,B,Z){if(B==null)throw Error(r(151));for(var ge=null,Me=null,_e=P,Te=P=0,Wt=null,Ke=B.next();_e!==null&&!Ke.done;Te++,Ke=B.next()){_e.index>Te?(Wt=_e,_e=null):Wt=_e.sibling;var ti=H(L,_e,Ke.value,Z);if(ti===null){_e===null&&(_e=Wt);break}n&&_e&&ti.alternate===null&&i(L,_e),P=m(ti,P,Te),Me===null?ge=ti:Me.sibling=ti,Me=ti,_e=Wt}if(Ke.done)return o(L,_e),Ye&&ta(L,Te),ge;if(_e===null){for(;!Ke.done;Te++,Ke=B.next())Ke=te(L,Ke.value,Z),Ke!==null&&(P=m(Ke,P,Te),Me===null?ge=Ke:Me.sibling=Ke,Me=Ke);return Ye&&ta(L,Te),ge}for(_e=c(_e);!Ke.done;Te++,Ke=B.next())Ke=G(_e,L,Te,Ke.value,Z),Ke!==null&&(n&&Ke.alternate!==null&&_e.delete(Ke.key===null?Te:Ke.key),P=m(Ke,P,Te),Me===null?ge=Ke:Me.sibling=Ke,Me=Ke);return n&&_e.forEach(function(S1){return i(L,S1)}),Ye&&ta(L,Te),ge}function rt(L,P,B,Z){if(typeof B=="object"&&B!==null&&B.type===V&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case S:e:{for(var ge=B.key;P!==null;){if(P.key===ge){if(ge=B.type,ge===V){if(P.tag===7){o(L,P.sibling),Z=d(P,B.props.children),Z.return=L,L=Z;break e}}else if(P.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===x&&I_(ge)===P.type){o(L,P.sibling),Z=d(P,B.props),Jl(Z,B),Z.return=L,L=Z;break e}o(L,P);break}else i(L,P);P=P.sibling}B.type===V?(Z=Zi(B.props.children,L.mode,Z,B.key),Z.return=L,L=Z):(Z=ku(B.type,B.key,B.props,null,L.mode,Z),Jl(Z,B),Z.return=L,L=Z)}return w(L);case N:e:{for(ge=B.key;P!==null;){if(P.key===ge)if(P.tag===4&&P.stateNode.containerInfo===B.containerInfo&&P.stateNode.implementation===B.implementation){o(L,P.sibling),Z=d(P,B.children||[]),Z.return=L,L=Z;break e}else{o(L,P);break}else i(L,P);P=P.sibling}Z=lf(B,L.mode,Z),Z.return=L,L=Z}return w(L);case x:return ge=B._init,B=ge(B._payload),rt(L,P,B,Z)}if(Le(B))return Ae(L,P,B,Z);if(C(B)){if(ge=C(B),typeof ge!="function")throw Error(r(150));return B=ge.call(B),Ee(L,P,B,Z)}if(typeof B.then=="function")return rt(L,P,Ku(B),Z);if(B.$$typeof===Y)return rt(L,P,ju(L,B),Z);Qu(L,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,P!==null&&P.tag===6?(o(L,P.sibling),Z=d(P,B),Z.return=L,L=Z):(o(L,P),Z=of(B,L.mode,Z),Z.return=L,L=Z),w(L)):o(L,P)}return function(L,P,B,Z){try{Xl=0;var ge=rt(L,P,B,Z);return co=null,ge}catch(_e){if(_e===ql||_e===Mu)throw _e;var Me=Nn(29,_e,null,L.mode);return Me.lanes=Z,Me.return=L,Me}finally{}}}var uo=C_(!0),k_=C_(!1),Qn=J(null),Cr=null;function zs(n){var i=n.alternate;ie(zt,zt.current&1),ie(Qn,n),Cr===null&&(i===null||io.current!==null||i.memoizedState!==null)&&(Cr=n)}function N_(n){if(n.tag===22){if(ie(zt,zt.current),ie(Qn,n),Cr===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(Cr=n)}}else Bs()}function Bs(){ie(zt,zt.current),ie(Qn,Qn.current)}function ns(n){le(Qn),Cr===n&&(Cr=null),le(zt)}var zt=J(0);function Yu(n){for(var i=n;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||km(o)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Bf(n,i,o,c){i=n.memoizedState,o=o(c,i),o=o==null?i:y({},i,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var qf={enqueueSetState:function(n,i,o){n=n._reactInternals;var c=Pn(),d=Vs(c);d.payload=i,o!=null&&(d.callback=o),i=Us(n,d,c),i!==null&&(Mn(i,n,c),Hl(i,n,c))},enqueueReplaceState:function(n,i,o){n=n._reactInternals;var c=Pn(),d=Vs(c);d.tag=1,d.payload=i,o!=null&&(d.callback=o),i=Us(n,d,c),i!==null&&(Mn(i,n,c),Hl(i,n,c))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var o=Pn(),c=Vs(o);c.tag=2,i!=null&&(c.callback=i),i=Us(n,c,o),i!==null&&(Mn(i,n,o),Hl(i,n,o))}};function O_(n,i,o,c,d,m,w){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,m,w):i.prototype&&i.prototype.isPureReactComponent?!jl(o,c)||!jl(d,m):!0}function D_(n,i,o,c){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,c),i.state!==n&&qf.enqueueReplaceState(i,i.state,null)}function la(n,i){var o=i;if("ref"in i){o={};for(var c in i)c!=="ref"&&(o[c]=i[c])}if(n=n.defaultProps){o===i&&(o=y({},o));for(var d in n)o[d]===void 0&&(o[d]=n[d])}return o}var Wu=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function j_(n){Wu(n)}function P_(n){console.error(n)}function M_(n){Wu(n)}function Xu(n,i){try{var o=n.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function V_(n,i,o){try{var c=n.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function $f(n,i,o){return o=Vs(o),o.tag=3,o.payload={element:null},o.callback=function(){Xu(n,i)},o}function U_(n){return n=Vs(n),n.tag=3,n}function L_(n,i,o,c){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var m=c.value;n.payload=function(){return d(m)},n.callback=function(){V_(i,o,c)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(n.callback=function(){V_(i,o,c),typeof d!="function"&&(Ks===null?Ks=new Set([this]):Ks.add(this));var T=c.stack;this.componentDidCatch(c.value,{componentStack:T!==null?T:""})})}function SA(n,i,o,c,d){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=o.alternate,i!==null&&Ll(i,o,d,!0),o=Qn.current,o!==null){switch(o.tag){case 13:return Cr===null?fm():o.alternate===null&&vt===0&&(vt=3),o.flags&=-257,o.flags|=65536,o.lanes=d,c===_f?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([c]):i.add(c),gm(n,c,d)),!1;case 22:return o.flags|=65536,c===_f?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([c]):o.add(c)),gm(n,c,d)),!1}throw Error(r(435,o.tag))}return gm(n,c,d),fm(),!1}if(Ye)return i=Qn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,c!==hf&&(n=Error(r(422),{cause:c}),Ul(Hn(n,o)))):(c!==hf&&(i=Error(r(423),{cause:c}),Ul(Hn(i,o))),n=n.current.alternate,n.flags|=65536,d&=-d,n.lanes|=d,c=Hn(c,o),d=$f(n.stateNode,c,d),wf(n,d),vt!==4&&(vt=2)),!1;var m=Error(r(520),{cause:c});if(m=Hn(m,o),ic===null?ic=[m]:ic.push(m),vt!==4&&(vt=2),i===null)return!0;c=Hn(c,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,n=d&-d,o.lanes|=n,n=$f(o.stateNode,c,n),wf(o,n),!1;case 1:if(i=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ks===null||!Ks.has(m))))return o.flags|=65536,d&=-d,o.lanes|=d,d=U_(d),L_(d,n,o,c),wf(o,d),!1}o=o.return}while(o!==null);return!1}var z_=Error(r(461)),Qt=!1;function tn(n,i,o,c){i.child=n===null?k_(i,null,o,c):uo(i,n.child,o,c)}function B_(n,i,o,c,d){o=o.render;var m=i.ref;if("ref"in c){var w={};for(var T in c)T!=="ref"&&(w[T]=c[T])}else w=c;return ia(i),c=xf(n,i,o,w,m,d),T=Rf(),n!==null&&!Qt?(If(n,i,d),rs(n,i,d)):(Ye&&T&&cf(i),i.flags|=1,tn(n,i,c,d),i.child)}function q_(n,i,o,c,d){if(n===null){var m=o.type;return typeof m=="function"&&!af(m)&&m.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=m,$_(n,i,m,c,d)):(n=ku(o.type,null,c,i,i.mode,d),n.ref=i.ref,n.return=i,i.child=n)}if(m=n.child,!Xf(n,d)){var w=m.memoizedProps;if(o=o.compare,o=o!==null?o:jl,o(w,c)&&n.ref===i.ref)return rs(n,i,d)}return i.flags|=1,n=Wr(m,c),n.ref=i.ref,n.return=i,i.child=n}function $_(n,i,o,c,d){if(n!==null){var m=n.memoizedProps;if(jl(m,c)&&n.ref===i.ref)if(Qt=!1,i.pendingProps=c=m,Xf(n,d))(n.flags&131072)!==0&&(Qt=!0);else return i.lanes=n.lanes,rs(n,i,d)}return Hf(n,i,o,c,d)}function H_(n,i,o){var c=i.pendingProps,d=c.children,m=n!==null?n.memoizedState:null;if(c.mode==="hidden"){if((i.flags&128)!==0){if(c=m!==null?m.baseLanes|o:o,n!==null){for(d=i.child=n.child,m=0;d!==null;)m=m|d.lanes|d.childLanes,d=d.sibling;i.childLanes=m&~c}else i.childLanes=0,i.child=null;return F_(n,i,c,o)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&Pu(i,m!==null?m.cachePool:null),m!==null?$y(i,m):Tf(),N_(i);else return i.lanes=i.childLanes=536870912,F_(n,i,m!==null?m.baseLanes|o:o,o)}else m!==null?(Pu(i,m.cachePool),$y(i,m),Bs(),i.memoizedState=null):(n!==null&&Pu(i,null),Tf(),Bs());return tn(n,i,d,o),i.child}function F_(n,i,o,c){var d=yf();return d=d===null?null:{parent:Lt._currentValue,pool:d},i.memoizedState={baseLanes:o,cachePool:d},n!==null&&Pu(i,null),Tf(),N_(i),n!==null&&Ll(n,i,c,!0),null}function Ju(n,i){var o=i.ref;if(o===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(n===null||n.ref!==o)&&(i.flags|=4194816)}}function Hf(n,i,o,c,d){return ia(i),o=xf(n,i,o,c,void 0,d),c=Rf(),n!==null&&!Qt?(If(n,i,d),rs(n,i,d)):(Ye&&c&&cf(i),i.flags|=1,tn(n,i,o,d),i.child)}function G_(n,i,o,c,d,m){return ia(i),i.updateQueue=null,o=Fy(i,c,o,d),Hy(n),c=Rf(),n!==null&&!Qt?(If(n,i,m),rs(n,i,m)):(Ye&&c&&cf(i),i.flags|=1,tn(n,i,o,m),i.child)}function K_(n,i,o,c,d){if(ia(i),i.stateNode===null){var m=eo,w=o.contextType;typeof w=="object"&&w!==null&&(m=hn(w)),m=new o(c,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=qf,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=c,m.state=i.memoizedState,m.refs={},vf(i),w=o.contextType,m.context=typeof w=="object"&&w!==null?hn(w):eo,m.state=i.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(Bf(i,o,w,c),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(w=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),w!==m.state&&qf.enqueueReplaceState(m,m.state,null),Gl(i,c,m,d),Fl(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(n===null){m=i.stateNode;var T=i.memoizedProps,O=la(o,T);m.props=O;var $=m.context,X=o.contextType;w=eo,typeof X=="object"&&X!==null&&(w=hn(X));var te=o.getDerivedStateFromProps;X=typeof te=="function"||typeof m.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,X||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T||$!==w)&&D_(i,m,c,w),Ms=!1;var H=i.memoizedState;m.state=H,Gl(i,c,m,d),Fl(),$=i.memoizedState,T||H!==$||Ms?(typeof te=="function"&&(Bf(i,o,te,c),$=i.memoizedState),(O=Ms||O_(i,o,O,c,H,$,w))?(X||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=$),m.props=c,m.state=$,m.context=w,c=O):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{m=i.stateNode,bf(n,i),w=i.memoizedProps,X=la(o,w),m.props=X,te=i.pendingProps,H=m.context,$=o.contextType,O=eo,typeof $=="object"&&$!==null&&(O=hn($)),T=o.getDerivedStateFromProps,($=typeof T=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w!==te||H!==O)&&D_(i,m,c,O),Ms=!1,H=i.memoizedState,m.state=H,Gl(i,c,m,d),Fl();var G=i.memoizedState;w!==te||H!==G||Ms||n!==null&&n.dependencies!==null&&Du(n.dependencies)?(typeof T=="function"&&(Bf(i,o,T,c),G=i.memoizedState),(X=Ms||O_(i,o,X,c,H,G,O)||n!==null&&n.dependencies!==null&&Du(n.dependencies))?($||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(c,G,O),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(c,G,O)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||w===n.memoizedProps&&H===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||w===n.memoizedProps&&H===n.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=G),m.props=c,m.state=G,m.context=O,c=X):(typeof m.componentDidUpdate!="function"||w===n.memoizedProps&&H===n.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||w===n.memoizedProps&&H===n.memoizedState||(i.flags|=1024),c=!1)}return m=c,Ju(n,i),c=(i.flags&128)!==0,m||c?(m=i.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,n!==null&&c?(i.child=uo(i,n.child,null,d),i.child=uo(i,null,o,d)):tn(n,i,o,d),i.memoizedState=m.state,n=i.child):n=rs(n,i,d),n}function Q_(n,i,o,c){return Vl(),i.flags|=256,tn(n,i,o,c),i.child}var Ff={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gf(n){return{baseLanes:n,cachePool:Py()}}function Kf(n,i,o){return n=n!==null?n.childLanes&~o:0,i&&(n|=Yn),n}function Y_(n,i,o){var c=i.pendingProps,d=!1,m=(i.flags&128)!==0,w;if((w=m)||(w=n!==null&&n.memoizedState===null?!1:(zt.current&2)!==0),w&&(d=!0,i.flags&=-129),w=(i.flags&32)!==0,i.flags&=-33,n===null){if(Ye){if(d?zs(i):Bs(),Ye){var T=_t,O;if(O=T){e:{for(O=T,T=Ir;O.nodeType!==8;){if(!T){T=null;break e}if(O=cr(O.nextSibling),O===null){T=null;break e}}T=O}T!==null?(i.memoizedState={dehydrated:T,treeContext:ea!==null?{id:Xr,overflow:Jr}:null,retryLane:536870912,hydrationErrors:null},O=Nn(18,null,null,0),O.stateNode=T,O.return=i,i.child=O,wn=i,_t=null,O=!0):O=!1}O||ra(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return km(T)?i.lanes=32:i.lanes=536870912,null;ns(i)}return T=c.children,c=c.fallback,d?(Bs(),d=i.mode,T=Zu({mode:"hidden",children:T},d),c=Zi(c,d,o,null),T.return=i,c.return=i,T.sibling=c,i.child=T,d=i.child,d.memoizedState=Gf(o),d.childLanes=Kf(n,w,o),i.memoizedState=Ff,c):(zs(i),Qf(i,T))}if(O=n.memoizedState,O!==null&&(T=O.dehydrated,T!==null)){if(m)i.flags&256?(zs(i),i.flags&=-257,i=Yf(n,i,o)):i.memoizedState!==null?(Bs(),i.child=n.child,i.flags|=128,i=null):(Bs(),d=c.fallback,T=i.mode,c=Zu({mode:"visible",children:c.children},T),d=Zi(d,T,o,null),d.flags|=2,c.return=i,d.return=i,c.sibling=d,i.child=c,uo(i,n.child,null,o),c=i.child,c.memoizedState=Gf(o),c.childLanes=Kf(n,w,o),i.memoizedState=Ff,i=d);else if(zs(i),km(T)){if(w=T.nextSibling&&T.nextSibling.dataset,w)var $=w.dgst;w=$,c=Error(r(419)),c.stack="",c.digest=w,Ul({value:c,source:null,stack:null}),i=Yf(n,i,o)}else if(Qt||Ll(n,i,o,!1),w=(o&n.childLanes)!==0,Qt||w){if(w=ot,w!==null&&(c=o&-o,c=(c&42)!==0?1:yl(c),c=(c&(w.suspendedLanes|o))!==0?0:c,c!==0&&c!==O.retryLane))throw O.retryLane=c,Za(n,c),Mn(w,n,c),z_;T.data==="$?"||fm(),i=Yf(n,i,o)}else T.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=O.treeContext,_t=cr(T.nextSibling),wn=i,Ye=!0,na=null,Ir=!1,n!==null&&(Gn[Kn++]=Xr,Gn[Kn++]=Jr,Gn[Kn++]=ea,Xr=n.id,Jr=n.overflow,ea=i),i=Qf(i,c.children),i.flags|=4096);return i}return d?(Bs(),d=c.fallback,T=i.mode,O=n.child,$=O.sibling,c=Wr(O,{mode:"hidden",children:c.children}),c.subtreeFlags=O.subtreeFlags&65011712,$!==null?d=Wr($,d):(d=Zi(d,T,o,null),d.flags|=2),d.return=i,c.return=i,c.sibling=d,i.child=c,c=d,d=i.child,T=n.child.memoizedState,T===null?T=Gf(o):(O=T.cachePool,O!==null?($=Lt._currentValue,O=O.parent!==$?{parent:$,pool:$}:O):O=Py(),T={baseLanes:T.baseLanes|o,cachePool:O}),d.memoizedState=T,d.childLanes=Kf(n,w,o),i.memoizedState=Ff,c):(zs(i),o=n.child,n=o.sibling,o=Wr(o,{mode:"visible",children:c.children}),o.return=i,o.sibling=null,n!==null&&(w=i.deletions,w===null?(i.deletions=[n],i.flags|=16):w.push(n)),i.child=o,i.memoizedState=null,o)}function Qf(n,i){return i=Zu({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Zu(n,i){return n=Nn(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Yf(n,i,o){return uo(i,n.child,null,o),n=Qf(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function W_(n,i,o){n.lanes|=i;var c=n.alternate;c!==null&&(c.lanes|=i),ff(n.return,i,o)}function Wf(n,i,o,c,d){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:d}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=c,m.tail=o,m.tailMode=d)}function X_(n,i,o){var c=i.pendingProps,d=c.revealOrder,m=c.tail;if(tn(n,i,c.children,o),c=zt.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&W_(n,o,i);else if(n.tag===19)W_(n,o,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}switch(ie(zt,c),d){case"forwards":for(o=i.child,d=null;o!==null;)n=o.alternate,n!==null&&Yu(n)===null&&(d=o),o=o.sibling;o=d,o===null?(d=i.child,i.child=null):(d=o.sibling,o.sibling=null),Wf(i,!1,d,o,m);break;case"backwards":for(o=null,d=i.child,i.child=null;d!==null;){if(n=d.alternate,n!==null&&Yu(n)===null){i.child=d;break}n=d.sibling,d.sibling=o,o=d,d=n}Wf(i,!0,o,null,m);break;case"together":Wf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function rs(n,i,o){if(n!==null&&(i.dependencies=n.dependencies),Gs|=i.lanes,(o&i.childLanes)===0)if(n!==null){if(Ll(n,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(r(153));if(i.child!==null){for(n=i.child,o=Wr(n,n.pendingProps),i.child=o,o.return=i;n.sibling!==null;)n=n.sibling,o=o.sibling=Wr(n,n.pendingProps),o.return=i;o.sibling=null}return i.child}function Xf(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&Du(n)))}function AA(n,i,o){switch(i.tag){case 3:Qe(i,i.stateNode.containerInfo),Ps(i,Lt,n.memoizedState.cache),Vl();break;case 27:case 5:yr(i);break;case 4:Qe(i,i.stateNode.containerInfo);break;case 10:Ps(i,i.type,i.memoizedProps.value);break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(zs(i),i.flags|=128,null):(o&i.child.childLanes)!==0?Y_(n,i,o):(zs(i),n=rs(n,i,o),n!==null?n.sibling:null);zs(i);break;case 19:var d=(n.flags&128)!==0;if(c=(o&i.childLanes)!==0,c||(Ll(n,i,o,!1),c=(o&i.childLanes)!==0),d){if(c)return X_(n,i,o);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ie(zt,zt.current),c)break;return null;case 22:case 23:return i.lanes=0,H_(n,i,o);case 24:Ps(i,Lt,n.memoizedState.cache)}return rs(n,i,o)}function J_(n,i,o){if(n!==null)if(n.memoizedProps!==i.pendingProps)Qt=!0;else{if(!Xf(n,o)&&(i.flags&128)===0)return Qt=!1,AA(n,i,o);Qt=(n.flags&131072)!==0}else Qt=!1,Ye&&(i.flags&1048576)!==0&&Iy(i,Ou,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var c=i.elementType,d=c._init;if(c=d(c._payload),i.type=c,typeof c=="function")af(c)?(n=la(c,n),i.tag=1,i=K_(null,i,c,n,o)):(i.tag=0,i=Hf(null,i,c,n,o));else{if(c!=null){if(d=c.$$typeof,d===ce){i.tag=11,i=B_(null,i,c,n,o);break e}else if(d===D){i.tag=14,i=q_(null,i,c,n,o);break e}}throw i=Ge(c)||c,Error(r(306,i,""))}}return i;case 0:return Hf(n,i,i.type,i.pendingProps,o);case 1:return c=i.type,d=la(c,i.pendingProps),K_(n,i,c,d,o);case 3:e:{if(Qe(i,i.stateNode.containerInfo),n===null)throw Error(r(387));c=i.pendingProps;var m=i.memoizedState;d=m.element,bf(n,i),Gl(i,c,null,o);var w=i.memoizedState;if(c=w.cache,Ps(i,Lt,c),c!==m.cache&&mf(i,[Lt],o,!0),Fl(),c=w.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:w.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=Q_(n,i,c,o);break e}else if(c!==d){d=Hn(Error(r(424)),i),Ul(d),i=Q_(n,i,c,o);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(_t=cr(n.firstChild),wn=i,Ye=!0,na=null,Ir=!0,o=k_(i,null,c,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Vl(),c===d){i=rs(n,i,o);break e}tn(n,i,c,o)}i=i.child}return i;case 26:return Ju(n,i),n===null?(o=n0(i.type,null,i.pendingProps,null))?i.memoizedState=o:Ye||(o=i.type,n=i.pendingProps,c=fh(we.current).createElement(o),c[Tt]=i,c[en]=n,rn(c,o,n),St(c),i.stateNode=c):i.memoizedState=n0(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return yr(i),n===null&&Ye&&(c=i.stateNode=Zv(i.type,i.pendingProps,we.current),wn=i,Ir=!0,d=_t,Ws(i.type)?(Nm=d,_t=cr(c.firstChild)):_t=d),tn(n,i,i.pendingProps.children,o),Ju(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&Ye&&((d=c=_t)&&(c=ZA(c,i.type,i.pendingProps,Ir),c!==null?(i.stateNode=c,wn=i,_t=cr(c.firstChild),Ir=!1,d=!0):d=!1),d||ra(i)),yr(i),d=i.type,m=i.pendingProps,w=n!==null?n.memoizedProps:null,c=m.children,Rm(d,m)?c=null:w!==null&&Rm(d,w)&&(i.flags|=32),i.memoizedState!==null&&(d=xf(n,i,yA,null,null,o),mc._currentValue=d),Ju(n,i),tn(n,i,c,o),i.child;case 6:return n===null&&Ye&&((n=o=_t)&&(o=e1(o,i.pendingProps,Ir),o!==null?(i.stateNode=o,wn=i,_t=null,n=!0):n=!1),n||ra(i)),null;case 13:return Y_(n,i,o);case 4:return Qe(i,i.stateNode.containerInfo),c=i.pendingProps,n===null?i.child=uo(i,null,c,o):tn(n,i,c,o),i.child;case 11:return B_(n,i,i.type,i.pendingProps,o);case 7:return tn(n,i,i.pendingProps,o),i.child;case 8:return tn(n,i,i.pendingProps.children,o),i.child;case 12:return tn(n,i,i.pendingProps.children,o),i.child;case 10:return c=i.pendingProps,Ps(i,i.type,c.value),tn(n,i,c.children,o),i.child;case 9:return d=i.type._context,c=i.pendingProps.children,ia(i),d=hn(d),c=c(d),i.flags|=1,tn(n,i,c,o),i.child;case 14:return q_(n,i,i.type,i.pendingProps,o);case 15:return $_(n,i,i.type,i.pendingProps,o);case 19:return X_(n,i,o);case 31:return c=i.pendingProps,o=i.mode,c={mode:c.mode,children:c.children},n===null?(o=Zu(c,o),o.ref=i.ref,i.child=o,o.return=i,i=o):(o=Wr(n.child,c),o.ref=i.ref,i.child=o,o.return=i,i=o),i;case 22:return H_(n,i,o);case 24:return ia(i),c=hn(Lt),n===null?(d=yf(),d===null&&(d=ot,m=gf(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=o),d=m),i.memoizedState={parent:c,cache:d},vf(i),Ps(i,Lt,d)):((n.lanes&o)!==0&&(bf(n,i),Gl(i,null,null,o),Fl()),d=n.memoizedState,m=i.memoizedState,d.parent!==c?(d={parent:c,cache:c},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),Ps(i,Lt,c)):(c=m.cache,Ps(i,Lt,c),c!==d.cache&&mf(i,[Lt],o,!0))),tn(n,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function ss(n){n.flags|=4}function Z_(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!o0(i)){if(i=Qn.current,i!==null&&((He&4194048)===He?Cr!==null:(He&62914560)!==He&&(He&536870912)===0||i!==Cr))throw $l=_f,My;n.flags|=8192}}function eh(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Es():536870912,n.lanes|=i,go|=i)}function Zl(n,i){if(!Ye)switch(n.tailMode){case"hidden":i=n.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function pt(n){var i=n.alternate!==null&&n.alternate.child===n.child,o=0,c=0;if(i)for(var d=n.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags&65011712,c|=d.flags&65011712,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=c,n.childLanes=o,i}function xA(n,i,o){var c=i.pendingProps;switch(uf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(i),null;case 1:return pt(i),null;case 3:return o=i.stateNode,c=null,n!==null&&(c=n.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),es(Lt),ln(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(Ml(i)?ss(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ny())),pt(i),null;case 26:return o=i.memoizedState,n===null?(ss(i),o!==null?(pt(i),Z_(i,o)):(pt(i),i.flags&=-16777217)):o?o!==n.memoizedState?(ss(i),pt(i),Z_(i,o)):(pt(i),i.flags&=-16777217):(n.memoizedProps!==c&&ss(i),pt(i),i.flags&=-16777217),null;case 27:_r(i),o=we.current;var d=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==c&&ss(i);else{if(!c){if(i.stateNode===null)throw Error(r(166));return pt(i),null}n=de.current,Ml(i)?Cy(i):(n=Zv(d,c,o),i.stateNode=n,ss(i))}return pt(i),null;case 5:if(_r(i),o=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==c&&ss(i);else{if(!c){if(i.stateNode===null)throw Error(r(166));return pt(i),null}if(n=de.current,Ml(i))Cy(i);else{switch(d=fh(we.current),n){case 1:n=d.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:n=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":n=d.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":n=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":n=d.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof c.is=="string"?d.createElement("select",{is:c.is}):d.createElement("select"),c.multiple?n.multiple=!0:c.size&&(n.size=c.size);break;default:n=typeof c.is=="string"?d.createElement(o,{is:c.is}):d.createElement(o)}}n[Tt]=i,n[en]=c;e:for(d=i.child;d!==null;){if(d.tag===5||d.tag===6)n.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===i)break e;for(;d.sibling===null;){if(d.return===null||d.return===i)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}i.stateNode=n;e:switch(rn(n,o,c),o){case"button":case"input":case"select":case"textarea":n=!!c.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&ss(i)}}return pt(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==c&&ss(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(r(166));if(n=we.current,Ml(i)){if(n=i.stateNode,o=i.memoizedProps,c=null,d=wn,d!==null)switch(d.tag){case 27:case 5:c=d.memoizedProps}n[Tt]=i,n=!!(n.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||Gv(n.nodeValue,o)),n||ra(i)}else n=fh(n).createTextNode(c),n[Tt]=i,i.stateNode=n}return pt(i),null;case 13:if(c=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(d=Ml(i),c!==null&&c.dehydrated!==null){if(n===null){if(!d)throw Error(r(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[Tt]=i}else Vl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;pt(i),d=!1}else d=Ny(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=d),d=!0;if(!d)return i.flags&256?(ns(i),i):(ns(i),null)}if(ns(i),(i.flags&128)!==0)return i.lanes=o,i;if(o=c!==null,n=n!==null&&n.memoizedState!==null,o){c=i.child,d=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(d=c.alternate.memoizedState.cachePool.pool);var m=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==d&&(c.flags|=2048)}return o!==n&&o&&(i.child.flags|=8192),eh(i,i.updateQueue),pt(i),null;case 4:return ln(),n===null&&Em(i.stateNode.containerInfo),pt(i),null;case 10:return es(i.type),pt(i),null;case 19:if(le(zt),d=i.memoizedState,d===null)return pt(i),null;if(c=(i.flags&128)!==0,m=d.rendering,m===null)if(c)Zl(d,!1);else{if(vt!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(m=Yu(n),m!==null){for(i.flags|=128,Zl(d,!1),n=m.updateQueue,i.updateQueue=n,eh(i,n),i.subtreeFlags=0,n=o,o=i.child;o!==null;)Ry(o,n),o=o.sibling;return ie(zt,zt.current&1|2),i.child}n=n.sibling}d.tail!==null&&En()>rh&&(i.flags|=128,c=!0,Zl(d,!1),i.lanes=4194304)}else{if(!c)if(n=Yu(m),n!==null){if(i.flags|=128,c=!0,n=n.updateQueue,i.updateQueue=n,eh(i,n),Zl(d,!0),d.tail===null&&d.tailMode==="hidden"&&!m.alternate&&!Ye)return pt(i),null}else 2*En()-d.renderingStartTime>rh&&o!==536870912&&(i.flags|=128,c=!0,Zl(d,!1),i.lanes=4194304);d.isBackwards?(m.sibling=i.child,i.child=m):(n=d.last,n!==null?n.sibling=m:i.child=m,d.last=m)}return d.tail!==null?(i=d.tail,d.rendering=i,d.tail=i.sibling,d.renderingStartTime=En(),i.sibling=null,n=zt.current,ie(zt,c?n&1|2:n&1),i):(pt(i),null);case 22:case 23:return ns(i),Sf(),c=i.memoizedState!==null,n!==null?n.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(o&536870912)!==0&&(i.flags&128)===0&&(pt(i),i.subtreeFlags&6&&(i.flags|=8192)):pt(i),o=i.updateQueue,o!==null&&eh(i,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==o&&(i.flags|=2048),n!==null&&le(aa),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),es(Lt),pt(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function RA(n,i){switch(uf(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return es(Lt),ln(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return _r(i),null;case 13:if(ns(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Vl()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return le(zt),null;case 4:return ln(),null;case 10:return es(i.type),null;case 22:case 23:return ns(i),Sf(),n!==null&&le(aa),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return es(Lt),null;case 25:return null;default:return null}}function ev(n,i){switch(uf(i),i.tag){case 3:es(Lt),ln();break;case 26:case 27:case 5:_r(i);break;case 4:ln();break;case 13:ns(i);break;case 19:le(zt);break;case 10:es(i.type);break;case 22:case 23:ns(i),Sf(),n!==null&&le(aa);break;case 24:es(Lt)}}function ec(n,i){try{var o=i.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var d=c.next;o=d;do{if((o.tag&n)===n){c=void 0;var m=o.create,w=o.inst;c=m(),w.destroy=c}o=o.next}while(o!==d)}}catch(T){it(i,i.return,T)}}function qs(n,i,o){try{var c=i.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var m=d.next;c=m;do{if((c.tag&n)===n){var w=c.inst,T=w.destroy;if(T!==void 0){w.destroy=void 0,d=i;var O=o,$=T;try{$()}catch(X){it(d,O,X)}}}c=c.next}while(c!==m)}}catch(X){it(i,i.return,X)}}function tv(n){var i=n.updateQueue;if(i!==null){var o=n.stateNode;try{qy(i,o)}catch(c){it(n,n.return,c)}}}function nv(n,i,o){o.props=la(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(c){it(n,i,c)}}function tc(n,i){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var c=n.stateNode;break;case 30:c=n.stateNode;break;default:c=n.stateNode}typeof o=="function"?n.refCleanup=o(c):o.current=c}}catch(d){it(n,i,d)}}function kr(n,i){var o=n.ref,c=n.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(d){it(n,i,d)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){it(n,i,d)}else o.current=null}function rv(n){var i=n.type,o=n.memoizedProps,c=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(d){it(n,n.return,d)}}function Jf(n,i,o){try{var c=n.stateNode;QA(c,n.type,o,i),c[en]=i}catch(d){it(n,n.return,d)}}function sv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Ws(n.type)||n.tag===4}function Zf(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||sv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Ws(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function em(n,i,o){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(n),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=dh));else if(c!==4&&(c===27&&Ws(n.type)&&(o=n.stateNode,i=null),n=n.child,n!==null))for(em(n,i,o),n=n.sibling;n!==null;)em(n,i,o),n=n.sibling}function th(n,i,o){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?o.insertBefore(n,i):o.appendChild(n);else if(c!==4&&(c===27&&Ws(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(th(n,i,o),n=n.sibling;n!==null;)th(n,i,o),n=n.sibling}function iv(n){var i=n.stateNode,o=n.memoizedProps;try{for(var c=n.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);rn(i,c,o),i[Tt]=n,i[en]=o}catch(m){it(n,n.return,m)}}var is=!1,Rt=!1,tm=!1,av=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function IA(n,i){if(n=n.containerInfo,Am=vh,n=yy(n),Jd(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var d=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var w=0,T=-1,O=-1,$=0,X=0,te=n,H=null;t:for(;;){for(var G;te!==o||d!==0&&te.nodeType!==3||(T=w+d),te!==m||c!==0&&te.nodeType!==3||(O=w+c),te.nodeType===3&&(w+=te.nodeValue.length),(G=te.firstChild)!==null;)H=te,te=G;for(;;){if(te===n)break t;if(H===o&&++$===d&&(T=w),H===m&&++X===c&&(O=w),(G=te.nextSibling)!==null)break;te=H,H=te.parentNode}te=G}o=T===-1||O===-1?null:{start:T,end:O}}else o=null}o=o||{start:0,end:0}}else o=null;for(xm={focusedElem:n,selectionRange:o},vh=!1,Yt=i;Yt!==null;)if(i=Yt,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,Yt=n;else for(;Yt!==null;){switch(i=Yt,m=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,o=i,d=m.memoizedProps,m=m.memoizedState,c=o.stateNode;try{var Ae=la(o.type,d,o.elementType===o.type);n=c.getSnapshotBeforeUpdate(Ae,m),c.__reactInternalSnapshotBeforeUpdate=n}catch(Ee){it(o,o.return,Ee)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,o=n.nodeType,o===9)Cm(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Cm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=i.sibling,n!==null){n.return=i.return,Yt=n;break}Yt=i.return}}function ov(n,i,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:$s(n,o),c&4&&ec(5,o);break;case 1:if($s(n,o),c&4)if(n=o.stateNode,i===null)try{n.componentDidMount()}catch(w){it(o,o.return,w)}else{var d=la(o.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(d,i,n.__reactInternalSnapshotBeforeUpdate)}catch(w){it(o,o.return,w)}}c&64&&tv(o),c&512&&tc(o,o.return);break;case 3:if($s(n,o),c&64&&(n=o.updateQueue,n!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{qy(n,i)}catch(w){it(o,o.return,w)}}break;case 27:i===null&&c&4&&iv(o);case 26:case 5:$s(n,o),i===null&&c&4&&rv(o),c&512&&tc(o,o.return);break;case 12:$s(n,o);break;case 13:$s(n,o),c&4&&uv(n,o),c&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=VA.bind(null,o),t1(n,o))));break;case 22:if(c=o.memoizedState!==null||is,!c){i=i!==null&&i.memoizedState!==null||Rt,d=is;var m=Rt;is=c,(Rt=i)&&!m?Hs(n,o,(o.subtreeFlags&8772)!==0):$s(n,o),is=d,Rt=m}break;case 30:break;default:$s(n,o)}}function lv(n){var i=n.alternate;i!==null&&(n.alternate=null,lv(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Ua(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ft=null,Sn=!1;function as(n,i,o){for(o=o.child;o!==null;)cv(n,i,o),o=o.sibling}function cv(n,i,o){if(cn&&typeof cn.onCommitFiberUnmount=="function")try{cn.onCommitFiberUnmount(vs,o)}catch{}switch(o.tag){case 26:Rt||kr(o,i),as(n,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Rt||kr(o,i);var c=ft,d=Sn;Ws(o.type)&&(ft=o.stateNode,Sn=!1),as(n,i,o),uc(o.stateNode),ft=c,Sn=d;break;case 5:Rt||kr(o,i);case 6:if(c=ft,d=Sn,ft=null,as(n,i,o),ft=c,Sn=d,ft!==null)if(Sn)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(o.stateNode)}catch(m){it(o,i,m)}else try{ft.removeChild(o.stateNode)}catch(m){it(o,i,m)}break;case 18:ft!==null&&(Sn?(n=ft,Xv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),_c(n)):Xv(ft,o.stateNode));break;case 4:c=ft,d=Sn,ft=o.stateNode.containerInfo,Sn=!0,as(n,i,o),ft=c,Sn=d;break;case 0:case 11:case 14:case 15:Rt||qs(2,o,i),Rt||qs(4,o,i),as(n,i,o);break;case 1:Rt||(kr(o,i),c=o.stateNode,typeof c.componentWillUnmount=="function"&&nv(o,i,c)),as(n,i,o);break;case 21:as(n,i,o);break;case 22:Rt=(c=Rt)||o.memoizedState!==null,as(n,i,o),Rt=c;break;default:as(n,i,o)}}function uv(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{_c(n)}catch(o){it(i,i.return,o)}}function CA(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new av),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new av),i;default:throw Error(r(435,n.tag))}}function nm(n,i){var o=CA(n);i.forEach(function(c){var d=UA.bind(null,n,c);o.has(c)||(o.add(c),c.then(d,d))})}function On(n,i){var o=i.deletions;if(o!==null)for(var c=0;c<o.length;c++){var d=o[c],m=n,w=i,T=w;e:for(;T!==null;){switch(T.tag){case 27:if(Ws(T.type)){ft=T.stateNode,Sn=!1;break e}break;case 5:ft=T.stateNode,Sn=!1;break e;case 3:case 4:ft=T.stateNode.containerInfo,Sn=!0;break e}T=T.return}if(ft===null)throw Error(r(160));cv(m,w,d),ft=null,Sn=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)hv(i,n),i=i.sibling}var lr=null;function hv(n,i){var o=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:On(i,n),Dn(n),c&4&&(qs(3,n,n.return),ec(3,n),qs(5,n,n.return));break;case 1:On(i,n),Dn(n),c&512&&(Rt||o===null||kr(o,o.return)),c&64&&is&&(n=n.updateQueue,n!==null&&(c=n.callbacks,c!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var d=lr;if(On(i,n),Dn(n),c&512&&(Rt||o===null||kr(o,o.return)),c&4){var m=o!==null?o.memoizedState:null;if(c=n.memoizedState,o===null)if(c===null)if(n.stateNode===null){e:{c=n.type,o=n.memoizedProps,d=d.ownerDocument||d;t:switch(c){case"title":m=d.getElementsByTagName("title")[0],(!m||m[As]||m[Tt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(c),d.head.insertBefore(m,d.querySelector("head > title"))),rn(m,c,o),m[Tt]=n,St(m),c=m;break e;case"link":var w=i0("link","href",d).get(c+(o.href||""));if(w){for(var T=0;T<w.length;T++)if(m=w[T],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(T,1);break t}}m=d.createElement(c),rn(m,c,o),d.head.appendChild(m);break;case"meta":if(w=i0("meta","content",d).get(c+(o.content||""))){for(T=0;T<w.length;T++)if(m=w[T],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(T,1);break t}}m=d.createElement(c),rn(m,c,o),d.head.appendChild(m);break;default:throw Error(r(468,c))}m[Tt]=n,St(m),c=m}n.stateNode=c}else a0(d,n.type,n.stateNode);else n.stateNode=s0(d,c,n.memoizedProps);else m!==c?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,c===null?a0(d,n.type,n.stateNode):s0(d,c,n.memoizedProps)):c===null&&n.stateNode!==null&&Jf(n,n.memoizedProps,o.memoizedProps)}break;case 27:On(i,n),Dn(n),c&512&&(Rt||o===null||kr(o,o.return)),o!==null&&c&4&&Jf(n,n.memoizedProps,o.memoizedProps);break;case 5:if(On(i,n),Dn(n),c&512&&(Rt||o===null||kr(o,o.return)),n.flags&32){d=n.stateNode;try{qn(d,"")}catch(G){it(n,n.return,G)}}c&4&&n.stateNode!=null&&(d=n.memoizedProps,Jf(n,d,o!==null?o.memoizedProps:d)),c&1024&&(tm=!0);break;case 6:if(On(i,n),Dn(n),c&4){if(n.stateNode===null)throw Error(r(162));c=n.memoizedProps,o=n.stateNode;try{o.nodeValue=c}catch(G){it(n,n.return,G)}}break;case 3:if(ph=null,d=lr,lr=mh(i.containerInfo),On(i,n),lr=d,Dn(n),c&4&&o!==null&&o.memoizedState.isDehydrated)try{_c(i.containerInfo)}catch(G){it(n,n.return,G)}tm&&(tm=!1,dv(n));break;case 4:c=lr,lr=mh(n.stateNode.containerInfo),On(i,n),Dn(n),lr=c;break;case 12:On(i,n),Dn(n);break;case 13:On(i,n),Dn(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(lm=En()),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,nm(n,c)));break;case 22:d=n.memoizedState!==null;var O=o!==null&&o.memoizedState!==null,$=is,X=Rt;if(is=$||d,Rt=X||O,On(i,n),Rt=X,is=$,Dn(n),c&8192)e:for(i=n.stateNode,i._visibility=d?i._visibility&-2:i._visibility|1,d&&(o===null||O||is||Rt||ca(n)),o=null,i=n;;){if(i.tag===5||i.tag===26){if(o===null){O=o=i;try{if(m=O.stateNode,d)w=m.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{T=O.stateNode;var te=O.memoizedProps.style,H=te!=null&&te.hasOwnProperty("display")?te.display:null;T.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(G){it(O,O.return,G)}}}else if(i.tag===6){if(o===null){O=i;try{O.stateNode.nodeValue=d?"":O.memoizedProps}catch(G){it(O,O.return,G)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=n.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,nm(n,o))));break;case 19:On(i,n),Dn(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,nm(n,c)));break;case 30:break;case 21:break;default:On(i,n),Dn(n)}}function Dn(n){var i=n.flags;if(i&2){try{for(var o,c=n.return;c!==null;){if(sv(c)){o=c;break}c=c.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var d=o.stateNode,m=Zf(n);th(n,m,d);break;case 5:var w=o.stateNode;o.flags&32&&(qn(w,""),o.flags&=-33);var T=Zf(n);th(n,T,w);break;case 3:case 4:var O=o.stateNode.containerInfo,$=Zf(n);em(n,$,O);break;default:throw Error(r(161))}}catch(X){it(n,n.return,X)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function dv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;dv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function $s(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)ov(n,i.alternate,i),i=i.sibling}function ca(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:qs(4,i,i.return),ca(i);break;case 1:kr(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&nv(i,i.return,o),ca(i);break;case 27:uc(i.stateNode);case 26:case 5:kr(i,i.return),ca(i);break;case 22:i.memoizedState===null&&ca(i);break;case 30:ca(i);break;default:ca(i)}n=n.sibling}}function Hs(n,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,d=n,m=i,w=m.flags;switch(m.tag){case 0:case 11:case 15:Hs(d,m,o),ec(4,m);break;case 1:if(Hs(d,m,o),c=m,d=c.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch($){it(c,c.return,$)}if(c=m,d=c.updateQueue,d!==null){var T=c.stateNode;try{var O=d.shared.hiddenCallbacks;if(O!==null)for(d.shared.hiddenCallbacks=null,d=0;d<O.length;d++)By(O[d],T)}catch($){it(c,c.return,$)}}o&&w&64&&tv(m),tc(m,m.return);break;case 27:iv(m);case 26:case 5:Hs(d,m,o),o&&c===null&&w&4&&rv(m),tc(m,m.return);break;case 12:Hs(d,m,o);break;case 13:Hs(d,m,o),o&&w&4&&uv(d,m);break;case 22:m.memoizedState===null&&Hs(d,m,o),tc(m,m.return);break;case 30:break;default:Hs(d,m,o)}i=i.sibling}}function rm(n,i){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&zl(o))}function sm(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&zl(n))}function Nr(n,i,o,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)fv(n,i,o,c),i=i.sibling}function fv(n,i,o,c){var d=i.flags;switch(i.tag){case 0:case 11:case 15:Nr(n,i,o,c),d&2048&&ec(9,i);break;case 1:Nr(n,i,o,c);break;case 3:Nr(n,i,o,c),d&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&zl(n)));break;case 12:if(d&2048){Nr(n,i,o,c),n=i.stateNode;try{var m=i.memoizedProps,w=m.id,T=m.onPostCommit;typeof T=="function"&&T(w,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(O){it(i,i.return,O)}}else Nr(n,i,o,c);break;case 13:Nr(n,i,o,c);break;case 23:break;case 22:m=i.stateNode,w=i.alternate,i.memoizedState!==null?m._visibility&2?Nr(n,i,o,c):nc(n,i):m._visibility&2?Nr(n,i,o,c):(m._visibility|=2,ho(n,i,o,c,(i.subtreeFlags&10256)!==0)),d&2048&&rm(w,i);break;case 24:Nr(n,i,o,c),d&2048&&sm(i.alternate,i);break;default:Nr(n,i,o,c)}}function ho(n,i,o,c,d){for(d=d&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var m=n,w=i,T=o,O=c,$=w.flags;switch(w.tag){case 0:case 11:case 15:ho(m,w,T,O,d),ec(8,w);break;case 23:break;case 22:var X=w.stateNode;w.memoizedState!==null?X._visibility&2?ho(m,w,T,O,d):nc(m,w):(X._visibility|=2,ho(m,w,T,O,d)),d&&$&2048&&rm(w.alternate,w);break;case 24:ho(m,w,T,O,d),d&&$&2048&&sm(w.alternate,w);break;default:ho(m,w,T,O,d)}i=i.sibling}}function nc(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=n,c=i,d=c.flags;switch(c.tag){case 22:nc(o,c),d&2048&&rm(c.alternate,c);break;case 24:nc(o,c),d&2048&&sm(c.alternate,c);break;default:nc(o,c)}i=i.sibling}}var rc=8192;function fo(n){if(n.subtreeFlags&rc)for(n=n.child;n!==null;)mv(n),n=n.sibling}function mv(n){switch(n.tag){case 26:fo(n),n.flags&rc&&n.memoizedState!==null&&m1(lr,n.memoizedState,n.memoizedProps);break;case 5:fo(n);break;case 3:case 4:var i=lr;lr=mh(n.stateNode.containerInfo),fo(n),lr=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=rc,rc=16777216,fo(n),rc=i):fo(n));break;default:fo(n)}}function gv(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function sc(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];Yt=c,yv(c,n)}gv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)pv(n),n=n.sibling}function pv(n){switch(n.tag){case 0:case 11:case 15:sc(n),n.flags&2048&&qs(9,n,n.return);break;case 3:sc(n);break;case 12:sc(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,nh(n)):sc(n);break;default:sc(n)}}function nh(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];Yt=c,yv(c,n)}gv(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:qs(8,i,i.return),nh(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,nh(i));break;default:nh(i)}n=n.sibling}}function yv(n,i){for(;Yt!==null;){var o=Yt;switch(o.tag){case 0:case 11:case 15:qs(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:zl(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Yt=c;else e:for(o=n;Yt!==null;){c=Yt;var d=c.sibling,m=c.return;if(lv(c),c===o){Yt=null;break e}if(d!==null){d.return=m,Yt=d;break e}Yt=m}}}var kA={getCacheForType:function(n){var i=hn(Lt),o=i.data.get(n);return o===void 0&&(o=n(),i.data.set(n,o)),o}},NA=typeof WeakMap=="function"?WeakMap:Map,Je=0,ot=null,Ve=null,He=0,Ze=0,jn=null,Fs=!1,mo=!1,im=!1,os=0,vt=0,Gs=0,ua=0,am=0,Yn=0,go=0,ic=null,An=null,om=!1,lm=0,rh=1/0,sh=null,Ks=null,nn=0,Qs=null,po=null,yo=0,cm=0,um=null,_v=null,ac=0,hm=null;function Pn(){if((Je&2)!==0&&He!==0)return He&-He;if(Q.T!==null){var n=ro;return n!==0?n:_m()}return $r()}function vv(){Yn===0&&(Yn=(He&536870912)===0||Ye?pl():536870912);var n=Qn.current;return n!==null&&(n.flags|=32),Yn}function Mn(n,i,o){(n===ot&&(Ze===2||Ze===9)||n.cancelPendingCommit!==null)&&(_o(n,0),Ys(n,He,Yn,!1)),Et(n,o),((Je&2)===0||n!==ot)&&(n===ot&&((Je&2)===0&&(ua|=o),vt===4&&Ys(n,He,Yn,!1)),Or(n))}function bv(n,i,o){if((Je&6)!==0)throw Error(r(327));var c=!o&&(i&124)===0&&(i&n.expiredLanes)===0||ws(n,i),d=c?jA(n,i):mm(n,i,!0),m=c;do{if(d===0){mo&&!c&&Ys(n,i,0,!1);break}else{if(o=n.current.alternate,m&&!OA(o)){d=mm(n,i,!1),m=!1;continue}if(d===2){if(m=i,n.errorRecoveryDisabledLanes&m)var w=0;else w=n.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){i=w;e:{var T=n;d=ic;var O=T.current.memoizedState.isDehydrated;if(O&&(_o(T,w).flags|=256),w=mm(T,w,!1),w!==2){if(im&&!O){T.errorRecoveryDisabledLanes|=m,ua|=m,d=4;break e}m=An,An=d,m!==null&&(An===null?An=m:An.push.apply(An,m))}d=w}if(m=!1,d!==2)continue}}if(d===1){_o(n,0),Ys(n,i,0,!0);break}e:{switch(c=n,m=d,m){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Ys(c,i,Yn,!Fs);break e;case 2:An=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(d=lm+300-En(),10<d)){if(Ys(c,i,Yn,!Fs),zn(c,0,!0)!==0)break e;c.timeoutHandle=Yv(wv.bind(null,c,o,An,sh,om,i,Yn,ua,go,Fs,m,2,-0,0),d);break e}wv(c,o,An,sh,om,i,Yn,ua,go,Fs,m,0,-0,0)}}break}while(!0);Or(n)}function wv(n,i,o,c,d,m,w,T,O,$,X,te,H,G){if(n.timeoutHandle=-1,te=i.subtreeFlags,(te&8192||(te&16785408)===16785408)&&(fc={stylesheets:null,count:0,unsuspend:f1},mv(i),te=g1(),te!==null)){n.cancelPendingCommit=te(Iv.bind(null,n,i,m,o,c,d,w,T,O,X,1,H,G)),Ys(n,m,w,!$);return}Iv(n,i,m,o,c,d,w,T,O)}function OA(n){for(var i=n;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var d=o[c],m=d.getSnapshot;d=d.value;try{if(!kn(m(),d))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ys(n,i,o,c){i&=~am,i&=~ua,n.suspendedLanes|=i,n.pingedLanes&=~i,c&&(n.warmLanes|=i),c=n.expirationTimes;for(var d=i;0<d;){var m=31-yn(d),w=1<<m;c[m]=-1,d&=~w}o!==0&&Ts(n,o,i)}function ih(){return(Je&6)===0?(oc(0),!1):!0}function dm(){if(Ve!==null){if(Ze===0)var n=Ve.return;else n=Ve,Zr=sa=null,Cf(n),co=null,Xl=0,n=Ve;for(;n!==null;)ev(n.alternate,n),n=n.return;Ve=null}}function _o(n,i){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,WA(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),dm(),ot=n,Ve=o=Wr(n.current,null),He=i,Ze=0,jn=null,Fs=!1,mo=ws(n,i),im=!1,go=Yn=am=ua=Gs=vt=0,An=ic=null,om=!1,(i&8)!==0&&(i|=i&32);var c=n.entangledLanes;if(c!==0)for(n=n.entanglements,c&=i;0<c;){var d=31-yn(c),m=1<<d;i|=n[d],c&=~m}return os=i,Ru(),o}function Ev(n,i){je=null,Q.H=Gu,i===ql||i===Mu?(i=Ly(),Ze=3):i===My?(i=Ly(),Ze=4):Ze=i===z_?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,jn=i,Ve===null&&(vt=1,Xu(n,Hn(i,n.current)))}function Tv(){var n=Q.H;return Q.H=Gu,n===null?Gu:n}function Sv(){var n=Q.A;return Q.A=kA,n}function fm(){vt=4,Fs||(He&4194048)!==He&&Qn.current!==null||(mo=!0),(Gs&134217727)===0&&(ua&134217727)===0||ot===null||Ys(ot,He,Yn,!1)}function mm(n,i,o){var c=Je;Je|=2;var d=Tv(),m=Sv();(ot!==n||He!==i)&&(sh=null,_o(n,i)),i=!1;var w=vt;e:do try{if(Ze!==0&&Ve!==null){var T=Ve,O=jn;switch(Ze){case 8:dm(),w=6;break e;case 3:case 2:case 9:case 6:Qn.current===null&&(i=!0);var $=Ze;if(Ze=0,jn=null,vo(n,T,O,$),o&&mo){w=0;break e}break;default:$=Ze,Ze=0,jn=null,vo(n,T,O,$)}}DA(),w=vt;break}catch(X){Ev(n,X)}while(!0);return i&&n.shellSuspendCounter++,Zr=sa=null,Je=c,Q.H=d,Q.A=m,Ve===null&&(ot=null,He=0,Ru()),w}function DA(){for(;Ve!==null;)Av(Ve)}function jA(n,i){var o=Je;Je|=2;var c=Tv(),d=Sv();ot!==n||He!==i?(sh=null,rh=En()+500,_o(n,i)):mo=ws(n,i);e:do try{if(Ze!==0&&Ve!==null){i=Ve;var m=jn;t:switch(Ze){case 1:Ze=0,jn=null,vo(n,i,m,1);break;case 2:case 9:if(Vy(m)){Ze=0,jn=null,xv(i);break}i=function(){Ze!==2&&Ze!==9||ot!==n||(Ze=7),Or(n)},m.then(i,i);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:Vy(m)?(Ze=0,jn=null,xv(i)):(Ze=0,jn=null,vo(n,i,m,7));break;case 5:var w=null;switch(Ve.tag){case 26:w=Ve.memoizedState;case 5:case 27:var T=Ve;if(!w||o0(w)){Ze=0,jn=null;var O=T.sibling;if(O!==null)Ve=O;else{var $=T.return;$!==null?(Ve=$,ah($)):Ve=null}break t}}Ze=0,jn=null,vo(n,i,m,5);break;case 6:Ze=0,jn=null,vo(n,i,m,6);break;case 8:dm(),vt=6;break e;default:throw Error(r(462))}}PA();break}catch(X){Ev(n,X)}while(!0);return Zr=sa=null,Q.H=c,Q.A=d,Je=o,Ve!==null?0:(ot=null,He=0,Ru(),vt)}function PA(){for(;Ve!==null&&!Bd();)Av(Ve)}function Av(n){var i=J_(n.alternate,n,os);n.memoizedProps=n.pendingProps,i===null?ah(n):Ve=i}function xv(n){var i=n,o=i.alternate;switch(i.tag){case 15:case 0:i=G_(o,i,i.pendingProps,i.type,void 0,He);break;case 11:i=G_(o,i,i.pendingProps,i.type.render,i.ref,He);break;case 5:Cf(i);default:ev(o,i),i=Ve=Ry(i,os),i=J_(o,i,os)}n.memoizedProps=n.pendingProps,i===null?ah(n):Ve=i}function vo(n,i,o,c){Zr=sa=null,Cf(i),co=null,Xl=0;var d=i.return;try{if(SA(n,d,i,o,He)){vt=1,Xu(n,Hn(o,n.current)),Ve=null;return}}catch(m){if(d!==null)throw Ve=d,m;vt=1,Xu(n,Hn(o,n.current)),Ve=null;return}i.flags&32768?(Ye||c===1?n=!0:mo||(He&536870912)!==0?n=!1:(Fs=n=!0,(c===2||c===9||c===3||c===6)&&(c=Qn.current,c!==null&&c.tag===13&&(c.flags|=16384))),Rv(i,n)):ah(i)}function ah(n){var i=n;do{if((i.flags&32768)!==0){Rv(i,Fs);return}n=i.return;var o=xA(i.alternate,i,os);if(o!==null){Ve=o;return}if(i=i.sibling,i!==null){Ve=i;return}Ve=i=n}while(i!==null);vt===0&&(vt=5)}function Rv(n,i){do{var o=RA(n.alternate,n);if(o!==null){o.flags&=32767,Ve=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(n=n.sibling,n!==null)){Ve=n;return}Ve=n=o}while(n!==null);vt=6,Ve=null}function Iv(n,i,o,c,d,m,w,T,O){n.cancelPendingCommit=null;do oh();while(nn!==0);if((Je&6)!==0)throw Error(r(327));if(i!==null){if(i===n.current)throw Error(r(177));if(m=i.lanes|i.childLanes,m|=rf,uu(n,o,m,w,T,O),n===ot&&(Ve=ot=null,He=0),po=i,Qs=n,yo=o,cm=m,um=d,_v=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,LA(qr,function(){return Dv(),null})):(n.callbackNode=null,n.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=Q.T,Q.T=null,d=ae.p,ae.p=2,w=Je,Je|=4;try{IA(n,i,o)}finally{Je=w,ae.p=d,Q.T=c}}nn=1,Cv(),kv(),Nv()}}function Cv(){if(nn===1){nn=0;var n=Qs,i=po,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=Q.T,Q.T=null;var c=ae.p;ae.p=2;var d=Je;Je|=4;try{hv(i,n);var m=xm,w=yy(n.containerInfo),T=m.focusedElem,O=m.selectionRange;if(w!==T&&T&&T.ownerDocument&&py(T.ownerDocument.documentElement,T)){if(O!==null&&Jd(T)){var $=O.start,X=O.end;if(X===void 0&&(X=$),"selectionStart"in T)T.selectionStart=$,T.selectionEnd=Math.min(X,T.value.length);else{var te=T.ownerDocument||document,H=te&&te.defaultView||window;if(H.getSelection){var G=H.getSelection(),Ae=T.textContent.length,Ee=Math.min(O.start,Ae),rt=O.end===void 0?Ee:Math.min(O.end,Ae);!G.extend&&Ee>rt&&(w=rt,rt=Ee,Ee=w);var L=gy(T,Ee),P=gy(T,rt);if(L&&P&&(G.rangeCount!==1||G.anchorNode!==L.node||G.anchorOffset!==L.offset||G.focusNode!==P.node||G.focusOffset!==P.offset)){var B=te.createRange();B.setStart(L.node,L.offset),G.removeAllRanges(),Ee>rt?(G.addRange(B),G.extend(P.node,P.offset)):(B.setEnd(P.node,P.offset),G.addRange(B))}}}}for(te=[],G=T;G=G.parentNode;)G.nodeType===1&&te.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<te.length;T++){var Z=te[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}vh=!!Am,xm=Am=null}finally{Je=d,ae.p=c,Q.T=o}}n.current=i,nn=2}}function kv(){if(nn===2){nn=0;var n=Qs,i=po,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=Q.T,Q.T=null;var c=ae.p;ae.p=2;var d=Je;Je|=4;try{ov(n,i.alternate,i)}finally{Je=d,ae.p=c,Q.T=o}}nn=3}}function Nv(){if(nn===4||nn===3){nn=0,ml();var n=Qs,i=po,o=yo,c=_v;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?nn=5:(nn=0,po=Qs=null,Ov(n,n.pendingLanes));var d=n.pendingLanes;if(d===0&&(Ks=null),_l(o),i=i.stateNode,cn&&typeof cn.onCommitFiberRoot=="function")try{cn.onCommitFiberRoot(vs,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=Q.T,d=ae.p,ae.p=2,Q.T=null;try{for(var m=n.onRecoverableError,w=0;w<c.length;w++){var T=c[w];m(T.value,{componentStack:T.stack})}}finally{Q.T=i,ae.p=d}}(yo&3)!==0&&oh(),Or(n),d=n.pendingLanes,(o&4194090)!==0&&(d&42)!==0?n===hm?ac++:(ac=0,hm=n):ac=0,oc(0)}}function Ov(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,zl(i)))}function oh(n){return Cv(),kv(),Nv(),Dv()}function Dv(){if(nn!==5)return!1;var n=Qs,i=cm;cm=0;var o=_l(yo),c=Q.T,d=ae.p;try{ae.p=32>o?32:o,Q.T=null,o=um,um=null;var m=Qs,w=yo;if(nn=0,po=Qs=null,yo=0,(Je&6)!==0)throw Error(r(331));var T=Je;if(Je|=4,pv(m.current),fv(m,m.current,w,o),Je=T,oc(0,!1),cn&&typeof cn.onPostCommitFiberRoot=="function")try{cn.onPostCommitFiberRoot(vs,m)}catch{}return!0}finally{ae.p=d,Q.T=c,Ov(n,i)}}function jv(n,i,o){i=Hn(o,i),i=$f(n.stateNode,i,2),n=Us(n,i,2),n!==null&&(Et(n,2),Or(n))}function it(n,i,o){if(n.tag===3)jv(n,n,o);else for(;i!==null;){if(i.tag===3){jv(i,n,o);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ks===null||!Ks.has(c))){n=Hn(o,n),o=U_(2),c=Us(i,o,2),c!==null&&(L_(o,c,i,n),Et(c,2),Or(c));break}}i=i.return}}function gm(n,i,o){var c=n.pingCache;if(c===null){c=n.pingCache=new NA;var d=new Set;c.set(i,d)}else d=c.get(i),d===void 0&&(d=new Set,c.set(i,d));d.has(o)||(im=!0,d.add(o),n=MA.bind(null,n,i,o),i.then(n,n))}function MA(n,i,o){var c=n.pingCache;c!==null&&c.delete(i),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,ot===n&&(He&o)===o&&(vt===4||vt===3&&(He&62914560)===He&&300>En()-lm?(Je&2)===0&&_o(n,0):am|=o,go===He&&(go=0)),Or(n)}function Pv(n,i){i===0&&(i=Es()),n=Za(n,i),n!==null&&(Et(n,i),Or(n))}function VA(n){var i=n.memoizedState,o=0;i!==null&&(o=i.retryLane),Pv(n,o)}function UA(n,i){var o=0;switch(n.tag){case 13:var c=n.stateNode,d=n.memoizedState;d!==null&&(o=d.retryLane);break;case 19:c=n.stateNode;break;case 22:c=n.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(i),Pv(n,o)}function LA(n,i){return Ci(n,i)}var lh=null,bo=null,pm=!1,ch=!1,ym=!1,ha=0;function Or(n){n!==bo&&n.next===null&&(bo===null?lh=bo=n:bo=bo.next=n),ch=!0,pm||(pm=!0,BA())}function oc(n,i){if(!ym&&ch){ym=!0;do for(var o=!1,c=lh;c!==null;){if(n!==0){var d=c.pendingLanes;if(d===0)var m=0;else{var w=c.suspendedLanes,T=c.pingedLanes;m=(1<<31-yn(42|n)+1)-1,m&=d&~(w&~T),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,Lv(c,m))}else m=He,m=zn(c,c===ot?m:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(m&3)===0||ws(c,m)||(o=!0,Lv(c,m));c=c.next}while(o);ym=!1}}function zA(){Mv()}function Mv(){ch=pm=!1;var n=0;ha!==0&&(YA()&&(n=ha),ha=0);for(var i=En(),o=null,c=lh;c!==null;){var d=c.next,m=Vv(c,i);m===0?(c.next=null,o===null?lh=d:o.next=d,d===null&&(bo=o)):(o=c,(n!==0||(m&3)!==0)&&(ch=!0)),c=d}oc(n)}function Vv(n,i){for(var o=n.suspendedLanes,c=n.pingedLanes,d=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var w=31-yn(m),T=1<<w,O=d[w];O===-1?((T&o)===0||(T&c)!==0)&&(d[w]=Ma(T,i)):O<=i&&(n.expiredLanes|=T),m&=~T}if(i=ot,o=He,o=zn(n,n===i?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c=n.callbackNode,o===0||n===i&&(Ze===2||Ze===9)||n.cancelPendingCommit!==null)return c!==null&&c!==null&&Pa(c),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||ws(n,o)){if(i=o&-o,i===n.callbackPriority)return i;switch(c!==null&&Pa(c),_l(o)){case 2:case 8:o=Gt;break;case 32:o=qr;break;case 268435456:o=gl;break;default:o=qr}return c=Uv.bind(null,n),o=Ci(o,c),n.callbackPriority=i,n.callbackNode=o,i}return c!==null&&c!==null&&Pa(c),n.callbackPriority=2,n.callbackNode=null,2}function Uv(n,i){if(nn!==0&&nn!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(oh()&&n.callbackNode!==o)return null;var c=He;return c=zn(n,n===ot?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c===0?null:(bv(n,c,i),Vv(n,En()),n.callbackNode!=null&&n.callbackNode===o?Uv.bind(null,n):null)}function Lv(n,i){if(oh())return null;bv(n,i,!0)}function BA(){XA(function(){(Je&6)!==0?Ci(Vt,zA):Mv()})}function _m(){return ha===0&&(ha=pl()),ha}function zv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:rr(""+n)}function Bv(n,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,n.id&&o.setAttribute("form",n.id),i.parentNode.insertBefore(o,i),n=new FormData(n),o.parentNode.removeChild(o),n}function qA(n,i,o,c,d){if(i==="submit"&&o&&o.stateNode===d){var m=zv((d[en]||null).action),w=c.submitter;w&&(i=(i=w[en]||null)?zv(i.formAction):w.getAttribute("formAction"),i!==null&&(m=i,w=null));var T=new Hi("action","action",null,c,d);n.push({event:T,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(ha!==0){var O=w?Bv(d,w):new FormData(d);Uf(o,{pending:!0,data:O,method:d.method,action:m},null,O)}}else typeof m=="function"&&(T.preventDefault(),O=w?Bv(d,w):new FormData(d),Uf(o,{pending:!0,data:O,method:d.method,action:m},m,O))},currentTarget:d}]})}}for(var vm=0;vm<nf.length;vm++){var bm=nf[vm],$A=bm.toLowerCase(),HA=bm[0].toUpperCase()+bm.slice(1);or($A,"on"+HA)}or(by,"onAnimationEnd"),or(wy,"onAnimationIteration"),or(Ey,"onAnimationStart"),or("dblclick","onDoubleClick"),or("focusin","onFocus"),or("focusout","onBlur"),or(oA,"onTransitionRun"),or(lA,"onTransitionStart"),or(cA,"onTransitionCancel"),or(Ty,"onTransitionEnd"),Sr("onMouseEnter",["mouseout","mouseover"]),Sr("onMouseLeave",["mouseout","mouseover"]),Sr("onPointerEnter",["pointerout","pointerover"]),Sr("onPointerLeave",["pointerout","pointerover"]),Tr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Tr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Tr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Tr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Tr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Tr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lc));function qv(n,i){i=(i&4)!==0;for(var o=0;o<n.length;o++){var c=n[o],d=c.event;c=c.listeners;e:{var m=void 0;if(i)for(var w=c.length-1;0<=w;w--){var T=c[w],O=T.instance,$=T.currentTarget;if(T=T.listener,O!==m&&d.isPropagationStopped())break e;m=T,d.currentTarget=$;try{m(d)}catch(X){Wu(X)}d.currentTarget=null,m=O}else for(w=0;w<c.length;w++){if(T=c[w],O=T.instance,$=T.currentTarget,T=T.listener,O!==m&&d.isPropagationStopped())break e;m=T,d.currentTarget=$;try{m(d)}catch(X){Wu(X)}d.currentTarget=null,m=O}}}}function Ue(n,i){var o=i[Ni];o===void 0&&(o=i[Ni]=new Set);var c=n+"__bubble";o.has(c)||($v(i,n,2,!1),o.add(c))}function wm(n,i,o){var c=0;i&&(c|=4),$v(o,n,c,i)}var uh="_reactListening"+Math.random().toString(36).slice(2);function Em(n){if(!n[uh]){n[uh]=!0,hu.forEach(function(o){o!=="selectionchange"&&(FA.has(o)||wm(o,!1,n),wm(o,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[uh]||(i[uh]=!0,wm("selectionchange",!1,i))}}function $v(n,i,o,c){switch(f0(i)){case 2:var d=_1;break;case 8:d=v1;break;default:d=Mm}o=d.bind(null,i,o,n),d=void 0,!Qr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),c?d!==void 0?n.addEventListener(i,o,{capture:!0,passive:d}):n.addEventListener(i,o,!0):d!==void 0?n.addEventListener(i,o,{passive:d}):n.addEventListener(i,o,!1)}function Tm(n,i,o,c,d){var m=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var T=c.stateNode.containerInfo;if(T===d)break;if(w===4)for(w=c.return;w!==null;){var O=w.tag;if((O===3||O===4)&&w.stateNode.containerInfo===d)return;w=w.return}for(;T!==null;){if(w=wr(T),w===null)return;if(O=w.tag,O===5||O===6||O===26||O===27){c=m=w;continue e}T=T.parentNode}}c=c.return}Bi(function(){var $=m,X=Al(o),te=[];e:{var H=Sy.get(n);if(H!==void 0){var G=Hi,Ae=n;switch(n){case"keypress":if(qi(o)===0)break e;case"keydown":case"keyup":G=Ya;break;case"focusin":Ae="focus",G=Ga;break;case"focusout":Ae="blur",G=Ga;break;case"beforeblur":case"afterblur":G=Ga;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Yi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=_u;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=js;break;case by:case wy:case Ey:G=Rl;break;case Ty:G=_;break;case"scroll":case"scrollend":G=Gi;break;case"wheel":G=A;break;case"copy":case"cut":case"paste":G=bu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=kl;break;case"toggle":case"beforetoggle":G=K}var Ee=(i&4)!==0,rt=!Ee&&(n==="scroll"||n==="scrollend"),L=Ee?H!==null?H+"Capture":null:H;Ee=[];for(var P=$,B;P!==null;){var Z=P;if(B=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||B===null||L===null||(Z=Os(P,L),Z!=null&&Ee.push(cc(P,Z,B))),rt)break;P=P.return}0<Ee.length&&(H=new G(H,Ae,null,o,X),te.push({event:H,listeners:Ee}))}}if((i&7)===0){e:{if(H=n==="mouseover"||n==="pointerover",G=n==="mouseout"||n==="pointerout",H&&o!==Sl&&(Ae=o.relatedTarget||o.fromElement)&&(wr(Ae)||Ae[Hr]))break e;if((G||H)&&(H=X.window===X?X:(H=X.ownerDocument)?H.defaultView||H.parentWindow:window,G?(Ae=o.relatedTarget||o.toElement,G=$,Ae=Ae?wr(Ae):null,Ae!==null&&(rt=l(Ae),Ee=Ae.tag,Ae!==rt||Ee!==5&&Ee!==27&&Ee!==6)&&(Ae=null)):(G=null,Ae=$),G!==Ae)){if(Ee=Yi,Z="onMouseLeave",L="onMouseEnter",P="mouse",(n==="pointerout"||n==="pointerover")&&(Ee=kl,Z="onPointerLeave",L="onPointerEnter",P="pointer"),rt=G==null?H:xs(G),B=Ae==null?H:xs(Ae),H=new Ee(Z,P+"leave",G,o,X),H.target=rt,H.relatedTarget=B,Z=null,wr(X)===$&&(Ee=new Ee(L,P+"enter",Ae,o,X),Ee.target=B,Ee.relatedTarget=rt,Z=Ee),rt=Z,G&&Ae)t:{for(Ee=G,L=Ae,P=0,B=Ee;B;B=wo(B))P++;for(B=0,Z=L;Z;Z=wo(Z))B++;for(;0<P-B;)Ee=wo(Ee),P--;for(;0<B-P;)L=wo(L),B--;for(;P--;){if(Ee===L||L!==null&&Ee===L.alternate)break t;Ee=wo(Ee),L=wo(L)}Ee=null}else Ee=null;G!==null&&Hv(te,H,G,Ee,!1),Ae!==null&&rt!==null&&Hv(te,rt,Ae,Ee,!0)}}e:{if(H=$?xs($):window,G=H.nodeName&&H.nodeName.toLowerCase(),G==="select"||G==="input"&&H.type==="file")var ge=cy;else if(oy(H))if(uy)ge=sA;else{ge=nA;var Me=tA}else G=H.nodeName,!G||G.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?$&&$a($.elementType)&&(ge=cy):ge=rA;if(ge&&(ge=ge(n,$))){ly(te,ge,o,X);break e}Me&&Me(n,H,$),n==="focusout"&&$&&H.type==="number"&&$.memoizedProps.value!=null&&wl(H,"number",H.value)}switch(Me=$?xs($):window,n){case"focusin":(oy(Me)||Me.contentEditable==="true")&&(Wa=Me,Zd=$,Pl=null);break;case"focusout":Pl=Zd=Wa=null;break;case"mousedown":ef=!0;break;case"contextmenu":case"mouseup":case"dragend":ef=!1,_y(te,o,X);break;case"selectionchange":if(aA)break;case"keydown":case"keyup":_y(te,o,X)}var _e;if(Ie)e:{switch(n){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else ar?sr(n,o)&&(Te="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(Te="onCompositionStart");Te&&(At&&o.locale!=="ko"&&(ar||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&ar&&(_e=yu()):($n=X,at="value"in $n?$n.value:$n.textContent,ar=!0)),Me=hh($,Te),0<Me.length&&(Te=new Cl(Te,n,null,o,X),te.push({event:Te,listeners:Me}),_e?Te.data=_e:(_e=ir(o),_e!==null&&(Te.data=_e)))),(_e=Xe?Nl(n,o):JS(n,o))&&(Te=hh($,"onBeforeInput"),0<Te.length&&(Me=new Cl("onBeforeInput","beforeinput",null,o,X),te.push({event:Me,listeners:Te}),Me.data=_e)),qA(te,n,$,o,X)}qv(te,i)})}function cc(n,i,o){return{instance:n,listener:i,currentTarget:o}}function hh(n,i){for(var o=i+"Capture",c=[];n!==null;){var d=n,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=Os(n,o),d!=null&&c.unshift(cc(n,d,m)),d=Os(n,i),d!=null&&c.push(cc(n,d,m))),n.tag===3)return c;n=n.return}return[]}function wo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Hv(n,i,o,c,d){for(var m=i._reactName,w=[];o!==null&&o!==c;){var T=o,O=T.alternate,$=T.stateNode;if(T=T.tag,O!==null&&O===c)break;T!==5&&T!==26&&T!==27||$===null||(O=$,d?($=Os(o,m),$!=null&&w.unshift(cc(o,$,O))):d||($=Os(o,m),$!=null&&w.push(cc(o,$,O)))),o=o.return}w.length!==0&&n.push({event:i,listeners:w})}var GA=/\r\n?/g,KA=/\u0000|\uFFFD/g;function Fv(n){return(typeof n=="string"?n:""+n).replace(GA,`
`).replace(KA,"")}function Gv(n,i){return i=Fv(i),Fv(n)===i}function dh(){}function nt(n,i,o,c,d,m){switch(o){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||qn(n,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&qn(n,""+c);break;case"className":Mi(n,"class",c);break;case"tabIndex":Mi(n,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Mi(n,o,c);break;case"style":Tl(n,c,m);break;case"data":if(i!=="object"){Mi(n,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||o!=="href")){n.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(o);break}c=rr(""+c),n.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(i!=="input"&&nt(n,i,"name",d.name,d,null),nt(n,i,"formEncType",d.formEncType,d,null),nt(n,i,"formMethod",d.formMethod,d,null),nt(n,i,"formTarget",d.formTarget,d,null)):(nt(n,i,"encType",d.encType,d,null),nt(n,i,"method",d.method,d,null),nt(n,i,"target",d.target,d,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(o);break}c=rr(""+c),n.setAttribute(o,c);break;case"onClick":c!=null&&(n.onclick=dh);break;case"onScroll":c!=null&&Ue("scroll",n);break;case"onScrollEnd":c!=null&&Ue("scrollend",n);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(r(60));n.innerHTML=o}}break;case"multiple":n.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":n.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){n.removeAttribute("xlink:href");break}o=rr(""+c),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,""+c):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":c===!0?n.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,c):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?n.setAttribute(o,c):n.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?n.removeAttribute(o):n.setAttribute(o,c);break;case"popover":Ue("beforetoggle",n),Ue("toggle",n),Pi(n,"popover",c);break;case"xlinkActuate":Bn(n,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Bn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Bn(n,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Bn(n,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Bn(n,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Bn(n,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Bn(n,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Bn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Bn(n,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Pi(n,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=mu.get(o)||o,Pi(n,o,c))}}function Sm(n,i,o,c,d,m){switch(o){case"style":Tl(n,c,m);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(r(60));n.innerHTML=o}}break;case"children":typeof c=="string"?qn(n,c):(typeof c=="number"||typeof c=="bigint")&&qn(n,""+c);break;case"onScroll":c!=null&&Ue("scroll",n);break;case"onScrollEnd":c!=null&&Ue("scrollend",n);break;case"onClick":c!=null&&(n.onclick=dh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Di.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),i=o.slice(2,d?o.length-7:void 0),m=n[en]||null,m=m!=null?m[o]:null,typeof m=="function"&&n.removeEventListener(i,m,d),typeof c=="function")){typeof m!="function"&&m!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(i,c,d);break e}o in n?n[o]=c:c===!0?n.setAttribute(o,""):Pi(n,o,c)}}}function rn(n,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",n),Ue("load",n);var c=!1,d=!1,m;for(m in o)if(o.hasOwnProperty(m)){var w=o[m];if(w!=null)switch(m){case"src":c=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:nt(n,i,m,w,o,null)}}d&&nt(n,i,"srcSet",o.srcSet,o,null),c&&nt(n,i,"src",o.src,o,null);return;case"input":Ue("invalid",n);var T=m=w=d=null,O=null,$=null;for(c in o)if(o.hasOwnProperty(c)){var X=o[c];if(X!=null)switch(c){case"name":d=X;break;case"type":w=X;break;case"checked":O=X;break;case"defaultChecked":$=X;break;case"value":m=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,i));break;default:nt(n,i,c,X,o,null)}}bl(n,m,T,O,$,w,d,!1),Cs(n);return;case"select":Ue("invalid",n),c=w=m=null;for(d in o)if(o.hasOwnProperty(d)&&(T=o[d],T!=null))switch(d){case"value":m=T;break;case"defaultValue":w=T;break;case"multiple":c=T;default:nt(n,i,d,T,o,null)}i=m,o=w,n.multiple=!!c,i!=null?ks(n,!!c,i,!1):o!=null&&ks(n,!!c,o,!0);return;case"textarea":Ue("invalid",n),m=d=c=null;for(w in o)if(o.hasOwnProperty(w)&&(T=o[w],T!=null))switch(w){case"value":c=T;break;case"defaultValue":d=T;break;case"children":m=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:nt(n,i,w,T,o,null)}fu(n,c,d,m),Cs(n);return;case"option":for(O in o)if(o.hasOwnProperty(O)&&(c=o[O],c!=null))switch(O){case"selected":n.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:nt(n,i,O,c,o,null)}return;case"dialog":Ue("beforetoggle",n),Ue("toggle",n),Ue("cancel",n),Ue("close",n);break;case"iframe":case"object":Ue("load",n);break;case"video":case"audio":for(c=0;c<lc.length;c++)Ue(lc[c],n);break;case"image":Ue("error",n),Ue("load",n);break;case"details":Ue("toggle",n);break;case"embed":case"source":case"link":Ue("error",n),Ue("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in o)if(o.hasOwnProperty($)&&(c=o[$],c!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:nt(n,i,$,c,o,null)}return;default:if($a(i)){for(X in o)o.hasOwnProperty(X)&&(c=o[X],c!==void 0&&Sm(n,i,X,c,o,void 0));return}}for(T in o)o.hasOwnProperty(T)&&(c=o[T],c!=null&&nt(n,i,T,c,o,null))}function QA(n,i,o,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,w=null,T=null,O=null,$=null,X=null;for(G in o){var te=o[G];if(o.hasOwnProperty(G)&&te!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":O=te;default:c.hasOwnProperty(G)||nt(n,i,G,null,c,te)}}for(var H in c){var G=c[H];if(te=o[H],c.hasOwnProperty(H)&&(G!=null||te!=null))switch(H){case"type":m=G;break;case"name":d=G;break;case"checked":$=G;break;case"defaultChecked":X=G;break;case"value":w=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,i));break;default:G!==te&&nt(n,i,H,G,c,te)}}vl(n,w,T,O,$,X,m,d);return;case"select":G=w=T=H=null;for(m in o)if(O=o[m],o.hasOwnProperty(m)&&O!=null)switch(m){case"value":break;case"multiple":G=O;default:c.hasOwnProperty(m)||nt(n,i,m,null,c,O)}for(d in c)if(m=c[d],O=o[d],c.hasOwnProperty(d)&&(m!=null||O!=null))switch(d){case"value":H=m;break;case"defaultValue":T=m;break;case"multiple":w=m;default:m!==O&&nt(n,i,d,m,c,O)}i=T,o=w,c=G,H!=null?ks(n,!!o,H,!1):!!c!=!!o&&(i!=null?ks(n,!!o,i,!0):ks(n,!!o,o?[]:"",!1));return;case"textarea":G=H=null;for(T in o)if(d=o[T],o.hasOwnProperty(T)&&d!=null&&!c.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:nt(n,i,T,null,c,d)}for(w in c)if(d=c[w],m=o[w],c.hasOwnProperty(w)&&(d!=null||m!=null))switch(w){case"value":H=d;break;case"defaultValue":G=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(r(91));break;default:d!==m&&nt(n,i,w,d,c,m)}du(n,H,G);return;case"option":for(var Ae in o)if(H=o[Ae],o.hasOwnProperty(Ae)&&H!=null&&!c.hasOwnProperty(Ae))switch(Ae){case"selected":n.selected=!1;break;default:nt(n,i,Ae,null,c,H)}for(O in c)if(H=c[O],G=o[O],c.hasOwnProperty(O)&&H!==G&&(H!=null||G!=null))switch(O){case"selected":n.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:nt(n,i,O,H,c,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in o)H=o[Ee],o.hasOwnProperty(Ee)&&H!=null&&!c.hasOwnProperty(Ee)&&nt(n,i,Ee,null,c,H);for($ in c)if(H=c[$],G=o[$],c.hasOwnProperty($)&&H!==G&&(H!=null||G!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,i));break;default:nt(n,i,$,H,c,G)}return;default:if($a(i)){for(var rt in o)H=o[rt],o.hasOwnProperty(rt)&&H!==void 0&&!c.hasOwnProperty(rt)&&Sm(n,i,rt,void 0,c,H);for(X in c)H=c[X],G=o[X],!c.hasOwnProperty(X)||H===G||H===void 0&&G===void 0||Sm(n,i,X,H,c,G);return}}for(var L in o)H=o[L],o.hasOwnProperty(L)&&H!=null&&!c.hasOwnProperty(L)&&nt(n,i,L,null,c,H);for(te in c)H=c[te],G=o[te],!c.hasOwnProperty(te)||H===G||H==null&&G==null||nt(n,i,te,H,c,G)}var Am=null,xm=null;function fh(n){return n.nodeType===9?n:n.ownerDocument}function Kv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qv(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function Rm(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Im=null;function YA(){var n=window.event;return n&&n.type==="popstate"?n===Im?!1:(Im=n,!0):(Im=null,!1)}var Yv=typeof setTimeout=="function"?setTimeout:void 0,WA=typeof clearTimeout=="function"?clearTimeout:void 0,Wv=typeof Promise=="function"?Promise:void 0,XA=typeof queueMicrotask=="function"?queueMicrotask:typeof Wv<"u"?function(n){return Wv.resolve(null).then(n).catch(JA)}:Yv;function JA(n){setTimeout(function(){throw n})}function Ws(n){return n==="head"}function Xv(n,i){var o=i,c=0,d=0;do{var m=o.nextSibling;if(n.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"){if(0<c&&8>c){o=c;var w=n.ownerDocument;if(o&1&&uc(w.documentElement),o&2&&uc(w.body),o&4)for(o=w.head,uc(o),w=o.firstChild;w;){var T=w.nextSibling,O=w.nodeName;w[As]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&w.rel.toLowerCase()==="stylesheet"||o.removeChild(w),w=T}}if(d===0){n.removeChild(m),_c(i);return}d--}else o==="$"||o==="$?"||o==="$!"?d++:c=o.charCodeAt(0)-48;else c=0;o=m}while(o);_c(i)}function Cm(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Cm(o),Ua(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function ZA(n,i,o,c){for(;n.nodeType===1;){var d=o;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(c){if(!n[As])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==d.rel||n.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||n.getAttribute("title")!==(d.title==null?null:d.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(d.src==null?null:d.src)||n.getAttribute("type")!==(d.type==null?null:d.type)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=cr(n.nextSibling),n===null)break}return null}function e1(n,i,o){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=cr(n.nextSibling),n===null))return null;return n}function km(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function t1(n,i){var o=n.ownerDocument;if(n.data!=="$?"||o.readyState==="complete")i();else{var c=function(){i(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),n._reactRetry=c}}function cr(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var Nm=null;function Jv(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return n;i--}else o==="/$"&&i++}n=n.previousSibling}return null}function Zv(n,i,o){switch(i=fh(o),n){case"html":if(n=i.documentElement,!n)throw Error(r(452));return n;case"head":if(n=i.head,!n)throw Error(r(453));return n;case"body":if(n=i.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function uc(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);Ua(n)}var Wn=new Map,e0=new Set;function mh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var ls=ae.d;ae.d={f:n1,r:r1,D:s1,C:i1,L:a1,m:o1,X:c1,S:l1,M:u1};function n1(){var n=ls.f(),i=ih();return n||i}function r1(n){var i=Er(n);i!==null&&i.tag===5&&i.type==="form"?b_(i):ls.r(n)}var Eo=typeof document>"u"?null:document;function t0(n,i,o){var c=Eo;if(c&&typeof i=="string"&&i){var d=Kt(i);d='link[rel="'+n+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),e0.has(d)||(e0.add(d),n={rel:n,crossOrigin:o,href:i},c.querySelector(d)===null&&(i=c.createElement("link"),rn(i,"link",n),St(i),c.head.appendChild(i)))}}function s1(n){ls.D(n),t0("dns-prefetch",n,null)}function i1(n,i){ls.C(n,i),t0("preconnect",n,i)}function a1(n,i,o){ls.L(n,i,o);var c=Eo;if(c&&n&&i){var d='link[rel="preload"][as="'+Kt(i)+'"]';i==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+Kt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+Kt(o.imageSizes)+'"]')):d+='[href="'+Kt(n)+'"]';var m=d;switch(i){case"style":m=To(n);break;case"script":m=So(n)}Wn.has(m)||(n=y({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:n,as:i},o),Wn.set(m,n),c.querySelector(d)!==null||i==="style"&&c.querySelector(hc(m))||i==="script"&&c.querySelector(dc(m))||(i=c.createElement("link"),rn(i,"link",n),St(i),c.head.appendChild(i)))}}function o1(n,i){ls.m(n,i);var o=Eo;if(o&&n){var c=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+Kt(c)+'"][href="'+Kt(n)+'"]',m=d;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=So(n)}if(!Wn.has(m)&&(n=y({rel:"modulepreload",href:n},i),Wn.set(m,n),o.querySelector(d)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(dc(m)))return}c=o.createElement("link"),rn(c,"link",n),St(c),o.head.appendChild(c)}}}function l1(n,i,o){ls.S(n,i,o);var c=Eo;if(c&&n){var d=Rs(c).hoistableStyles,m=To(n);i=i||"default";var w=d.get(m);if(!w){var T={loading:0,preload:null};if(w=c.querySelector(hc(m)))T.loading=5;else{n=y({rel:"stylesheet",href:n,"data-precedence":i},o),(o=Wn.get(m))&&Om(n,o);var O=w=c.createElement("link");St(O),rn(O,"link",n),O._p=new Promise(function($,X){O.onload=$,O.onerror=X}),O.addEventListener("load",function(){T.loading|=1}),O.addEventListener("error",function(){T.loading|=2}),T.loading|=4,gh(w,i,c)}w={type:"stylesheet",instance:w,count:1,state:T},d.set(m,w)}}}function c1(n,i){ls.X(n,i);var o=Eo;if(o&&n){var c=Rs(o).hoistableScripts,d=So(n),m=c.get(d);m||(m=o.querySelector(dc(d)),m||(n=y({src:n,async:!0},i),(i=Wn.get(d))&&Dm(n,i),m=o.createElement("script"),St(m),rn(m,"link",n),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(d,m))}}function u1(n,i){ls.M(n,i);var o=Eo;if(o&&n){var c=Rs(o).hoistableScripts,d=So(n),m=c.get(d);m||(m=o.querySelector(dc(d)),m||(n=y({src:n,async:!0,type:"module"},i),(i=Wn.get(d))&&Dm(n,i),m=o.createElement("script"),St(m),rn(m,"link",n),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(d,m))}}function n0(n,i,o,c){var d=(d=we.current)?mh(d):null;if(!d)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=To(o.href),o=Rs(d).hoistableStyles,c=o.get(i),c||(c={type:"style",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=To(o.href);var m=Rs(d).hoistableStyles,w=m.get(n);if(w||(d=d.ownerDocument||d,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,w),(m=d.querySelector(hc(n)))&&!m._p&&(w.instance=m,w.state.loading=5),Wn.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Wn.set(n,o),m||h1(d,n,o,w.state))),i&&c===null)throw Error(r(528,""));return w}if(i&&c!==null)throw Error(r(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=So(o),o=Rs(d).hoistableScripts,c=o.get(i),c||(c={type:"script",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function To(n){return'href="'+Kt(n)+'"'}function hc(n){return'link[rel="stylesheet"]['+n+"]"}function r0(n){return y({},n,{"data-precedence":n.precedence,precedence:null})}function h1(n,i,o,c){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=n.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),rn(i,"link",o),St(i),n.head.appendChild(i))}function So(n){return'[src="'+Kt(n)+'"]'}function dc(n){return"script[async]"+n}function s0(n,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var c=n.querySelector('style[data-href~="'+Kt(o.href)+'"]');if(c)return i.instance=c,St(c),c;var d=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(n.ownerDocument||n).createElement("style"),St(c),rn(c,"style",d),gh(c,o.precedence,n),i.instance=c;case"stylesheet":d=To(o.href);var m=n.querySelector(hc(d));if(m)return i.state.loading|=4,i.instance=m,St(m),m;c=r0(o),(d=Wn.get(d))&&Om(c,d),m=(n.ownerDocument||n).createElement("link"),St(m);var w=m;return w._p=new Promise(function(T,O){w.onload=T,w.onerror=O}),rn(m,"link",c),i.state.loading|=4,gh(m,o.precedence,n),i.instance=m;case"script":return m=So(o.src),(d=n.querySelector(dc(m)))?(i.instance=d,St(d),d):(c=o,(d=Wn.get(m))&&(c=y({},o),Dm(c,d)),n=n.ownerDocument||n,d=n.createElement("script"),St(d),rn(d,"link",c),n.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,gh(c,o.precedence,n));return i.instance}function gh(n,i,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=c.length?c[c.length-1]:null,m=d,w=0;w<c.length;w++){var T=c[w];if(T.dataset.precedence===i)m=T;else if(m!==d)break}m?m.parentNode.insertBefore(n,m.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(n,i.firstChild))}function Om(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function Dm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var ph=null;function i0(n,i,o){if(ph===null){var c=new Map,d=ph=new Map;d.set(o,c)}else d=ph,c=d.get(o),c||(c=new Map,d.set(o,c));if(c.has(n))return c;for(c.set(n,null),o=o.getElementsByTagName(n),d=0;d<o.length;d++){var m=o[d];if(!(m[As]||m[Tt]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var w=m.getAttribute(i)||"";w=n+w;var T=c.get(w);T?T.push(m):c.set(w,[m])}}return c}function a0(n,i,o){n=n.ownerDocument||n,n.head.insertBefore(o,i==="title"?n.querySelector("head > title"):null)}function d1(n,i,o){if(o===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function o0(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var fc=null;function f1(){}function m1(n,i,o){if(fc===null)throw Error(r(475));var c=fc;if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var d=To(o.href),m=n.querySelector(hc(d));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(c.count++,c=yh.bind(c),n.then(c,c)),i.state.loading|=4,i.instance=m,St(m);return}m=n.ownerDocument||n,o=r0(o),(d=Wn.get(d))&&Om(o,d),m=m.createElement("link"),St(m);var w=m;w._p=new Promise(function(T,O){w.onload=T,w.onerror=O}),rn(m,"link",o),i.instance=m}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(c.count++,i=yh.bind(c),n.addEventListener("load",i),n.addEventListener("error",i))}}function g1(){if(fc===null)throw Error(r(475));var n=fc;return n.stylesheets&&n.count===0&&jm(n,n.stylesheets),0<n.count?function(i){var o=setTimeout(function(){if(n.stylesheets&&jm(n,n.stylesheets),n.unsuspend){var c=n.unsuspend;n.unsuspend=null,c()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(o)}}:null}function yh(){if(this.count--,this.count===0){if(this.stylesheets)jm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var _h=null;function jm(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,_h=new Map,i.forEach(p1,n),_h=null,yh.call(n))}function p1(n,i){if(!(i.state.loading&4)){var o=_h.get(n);if(o)var c=o.get(null);else{o=new Map,_h.set(n,o);for(var d=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var w=d[m];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),c=w)}c&&o.set(null,c)}d=i.instance,w=d.getAttribute("data-precedence"),m=o.get(w)||c,m===c&&o.set(null,d),o.set(w,d),this.count++,c=yh.bind(this),d.addEventListener("load",c),d.addEventListener("error",c),m?m.parentNode.insertBefore(d,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(d,n.firstChild)),i.state.loading|=4}}var mc={$$typeof:Y,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function y1(n,i,o,c,d,m,w,T){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Va(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Va(0),this.hiddenUpdates=Va(null),this.identifierPrefix=c,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function l0(n,i,o,c,d,m,w,T,O,$,X,te){return n=new y1(n,i,o,w,T,O,$,te),i=1,m===!0&&(i|=24),m=Nn(3,null,null,i),n.current=m,m.stateNode=n,i=gf(),i.refCount++,n.pooledCache=i,i.refCount++,m.memoizedState={element:c,isDehydrated:o,cache:i},vf(m),n}function c0(n){return n?(n=eo,n):eo}function u0(n,i,o,c,d,m){d=c0(d),c.context===null?c.context=d:c.pendingContext=d,c=Vs(i),c.payload={element:o},m=m===void 0?null:m,m!==null&&(c.callback=m),o=Us(n,c,i),o!==null&&(Mn(o,n,i),Hl(o,n,i))}function h0(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<i?o:i}}function Pm(n,i){h0(n,i),(n=n.alternate)&&h0(n,i)}function d0(n){if(n.tag===13){var i=Za(n,67108864);i!==null&&Mn(i,n,67108864),Pm(n,67108864)}}var vh=!0;function _1(n,i,o,c){var d=Q.T;Q.T=null;var m=ae.p;try{ae.p=2,Mm(n,i,o,c)}finally{ae.p=m,Q.T=d}}function v1(n,i,o,c){var d=Q.T;Q.T=null;var m=ae.p;try{ae.p=8,Mm(n,i,o,c)}finally{ae.p=m,Q.T=d}}function Mm(n,i,o,c){if(vh){var d=Vm(c);if(d===null)Tm(n,i,c,bh,o),m0(n,c);else if(w1(d,n,i,o,c))c.stopPropagation();else if(m0(n,c),i&4&&-1<b1.indexOf(n)){for(;d!==null;){var m=Er(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var w=er(m.pendingLanes);if(w!==0){var T=m;for(T.pendingLanes|=2,T.entangledLanes|=2;w;){var O=1<<31-yn(w);T.entanglements[1]|=O,w&=~O}Or(m),(Je&6)===0&&(rh=En()+500,oc(0))}}break;case 13:T=Za(m,2),T!==null&&Mn(T,m,2),ih(),Pm(m,2)}if(m=Vm(c),m===null&&Tm(n,i,c,bh,o),m===d)break;d=m}d!==null&&c.stopPropagation()}else Tm(n,i,c,null,o)}}function Vm(n){return n=Al(n),Um(n)}var bh=null;function Um(n){if(bh=null,n=wr(n),n!==null){var i=l(n);if(i===null)n=null;else{var o=i.tag;if(o===13){if(n=u(i),n!==null)return n;n=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return bh=n,null}function f0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ou()){case Vt:return 2;case Gt:return 8;case qr:case qd:return 32;case gl:return 268435456;default:return 32}default:return 32}}var Lm=!1,Xs=null,Js=null,Zs=null,gc=new Map,pc=new Map,ei=[],b1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function m0(n,i){switch(n){case"focusin":case"focusout":Xs=null;break;case"dragenter":case"dragleave":Js=null;break;case"mouseover":case"mouseout":Zs=null;break;case"pointerover":case"pointerout":gc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":pc.delete(i.pointerId)}}function yc(n,i,o,c,d,m){return n===null||n.nativeEvent!==m?(n={blockedOn:i,domEventName:o,eventSystemFlags:c,nativeEvent:m,targetContainers:[d]},i!==null&&(i=Er(i),i!==null&&d0(i)),n):(n.eventSystemFlags|=c,i=n.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),n)}function w1(n,i,o,c,d){switch(i){case"focusin":return Xs=yc(Xs,n,i,o,c,d),!0;case"dragenter":return Js=yc(Js,n,i,o,c,d),!0;case"mouseover":return Zs=yc(Zs,n,i,o,c,d),!0;case"pointerover":var m=d.pointerId;return gc.set(m,yc(gc.get(m)||null,n,i,o,c,d)),!0;case"gotpointercapture":return m=d.pointerId,pc.set(m,yc(pc.get(m)||null,n,i,o,c,d)),!0}return!1}function g0(n){var i=wr(n.target);if(i!==null){var o=l(i);if(o!==null){if(i=o.tag,i===13){if(i=u(o),i!==null){n.blockedOn=i,Fd(n.priority,function(){if(o.tag===13){var c=Pn();c=yl(c);var d=Za(o,c);d!==null&&Mn(d,o,c),Pm(o,c)}});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function wh(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var o=Vm(n.nativeEvent);if(o===null){o=n.nativeEvent;var c=new o.constructor(o.type,o);Sl=c,o.target.dispatchEvent(c),Sl=null}else return i=Er(o),i!==null&&d0(i),n.blockedOn=o,!1;i.shift()}return!0}function p0(n,i,o){wh(n)&&o.delete(i)}function E1(){Lm=!1,Xs!==null&&wh(Xs)&&(Xs=null),Js!==null&&wh(Js)&&(Js=null),Zs!==null&&wh(Zs)&&(Zs=null),gc.forEach(p0),pc.forEach(p0)}function Eh(n,i){n.blockedOn===i&&(n.blockedOn=null,Lm||(Lm=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,E1)))}var Th=null;function y0(n){Th!==n&&(Th=n,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Th===n&&(Th=null);for(var i=0;i<n.length;i+=3){var o=n[i],c=n[i+1],d=n[i+2];if(typeof c!="function"){if(Um(c||o)===null)continue;break}var m=Er(o);m!==null&&(n.splice(i,3),i-=3,Uf(m,{pending:!0,data:d,method:o.method,action:c},c,d))}}))}function _c(n){function i(O){return Eh(O,n)}Xs!==null&&Eh(Xs,n),Js!==null&&Eh(Js,n),Zs!==null&&Eh(Zs,n),gc.forEach(i),pc.forEach(i);for(var o=0;o<ei.length;o++){var c=ei[o];c.blockedOn===n&&(c.blockedOn=null)}for(;0<ei.length&&(o=ei[0],o.blockedOn===null);)g0(o),o.blockedOn===null&&ei.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var d=o[c],m=o[c+1],w=d[en]||null;if(typeof m=="function")w||y0(o);else if(w){var T=null;if(m&&m.hasAttribute("formAction")){if(d=m,w=m[en]||null)T=w.formAction;else if(Um(d)!==null)continue}else T=w.action;typeof T=="function"?o[c+1]=T:(o.splice(c,3),c-=3),y0(o)}}}function zm(n){this._internalRoot=n}Sh.prototype.render=zm.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(r(409));var o=i.current,c=Pn();u0(o,c,n,i,null,null)},Sh.prototype.unmount=zm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;u0(n.current,2,null,n,null,null),ih(),i[Hr]=null}};function Sh(n){this._internalRoot=n}Sh.prototype.unstable_scheduleHydration=function(n){if(n){var i=$r();n={blockedOn:null,target:n,priority:i};for(var o=0;o<ei.length&&i!==0&&i<ei[o].priority;o++);ei.splice(o,0,n),o===0&&g0(n)}};var _0=e.version;if(_0!=="19.1.0")throw Error(r(527,_0,"19.1.0"));ae.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=g(i),n=n!==null?p(n):null,n=n===null?null:n.stateNode,n};var T1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ah=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ah.isDisabled&&Ah.supportsFiber)try{vs=Ah.inject(T1),cn=Ah}catch{}}return bc.createRoot=function(n,i){if(!a(n))throw Error(r(299));var o=!1,c="",d=j_,m=P_,w=M_,T=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(w=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=l0(n,1,!1,null,null,o,c,d,m,w,T,null),n[Hr]=i.current,Em(n),new zm(i)},bc.hydrateRoot=function(n,i,o){if(!a(n))throw Error(r(299));var c=!1,d="",m=j_,w=P_,T=M_,O=null,$=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(T=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(O=o.unstable_transitionCallbacks),o.formState!==void 0&&($=o.formState)),i=l0(n,1,!0,i,o??null,c,d,m,w,T,O,$),i.context=c0(null),o=i.current,c=Pn(),c=yl(c),d=Vs(c),d.callback=null,Us(o,d,c),o=c,i.current.lanes=o,Et(i,o),Or(i),n[Hr]=i.current,Em(n),new Sh(i)},bc.version="19.1.0",bc}var I0;function P1(){if(I0)return $m.exports;I0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),$m.exports=j1(),$m.exports}var M1=P1();function C0(s,e){if(typeof s=="function")return s(e);s!=null&&(s.current=e)}function V1(...s){return e=>{let t=!1;const r=s.map(a=>{const l=C0(a,e);return!t&&typeof l=="function"&&(t=!0),l});if(t)return()=>{for(let a=0;a<r.length;a++){const l=r[a];typeof l=="function"?l():C0(s[a],null)}}}}function U1(...s){return De.useCallback(V1(...s),s)}function L1(s){const e=z1(s),t=De.forwardRef((r,a)=>{const{children:l,...u}=r,f=De.Children.toArray(l),g=f.find(q1);if(g){const p=g.props.children,y=f.map(E=>E===g?De.Children.count(p)>1?De.Children.only(null):De.isValidElement(p)?p.props.children:null:E);return v.jsx(e,{...u,ref:a,children:De.isValidElement(p)?De.cloneElement(p,void 0,y):null})}return v.jsx(e,{...u,ref:a,children:l})});return t.displayName=`${s}.Slot`,t}var Qw=L1("Slot");function z1(s){const e=De.forwardRef((t,r)=>{const{children:a,...l}=t,u=De.isValidElement(a)?H1(a):void 0,f=U1(u,r);if(De.isValidElement(a)){const g=$1(l,a.props);return a.type!==De.Fragment&&(g.ref=f),De.cloneElement(a,g)}return De.Children.count(a)>1?De.Children.only(null):null});return e.displayName=`${s}.SlotClone`,e}var B1=Symbol("radix.slottable");function q1(s){return De.isValidElement(s)&&typeof s.type=="function"&&"__radixId"in s.type&&s.type.__radixId===B1}function $1(s,e){const t={...e};for(const r in e){const a=s[r],l=e[r];/^on[A-Z]/.test(r)?a&&l?t[r]=(...f)=>{const g=l(...f);return a(...f),g}:a&&(t[r]=a):r==="style"?t[r]={...a,...l}:r==="className"&&(t[r]=[a,l].filter(Boolean).join(" "))}return{...s,...t}}function H1(s){var r,a;let e=(r=Object.getOwnPropertyDescriptor(s.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?s.ref:(e=(a=Object.getOwnPropertyDescriptor(s,"ref"))==null?void 0:a.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?s.props.ref:s.props.ref||s.ref)}function Yw(s){var e,t,r="";if(typeof s=="string"||typeof s=="number")r+=s;else if(typeof s=="object")if(Array.isArray(s)){var a=s.length;for(e=0;e<a;e++)s[e]&&(t=Yw(s[e]))&&(r&&(r+=" "),r+=t)}else for(t in s)s[t]&&(r&&(r+=" "),r+=t);return r}function Ww(){for(var s,e,t=0,r="",a=arguments.length;t<a;t++)(s=arguments[t])&&(e=Yw(s))&&(r&&(r+=" "),r+=e);return r}const k0=s=>typeof s=="boolean"?`${s}`:s===0?"0":s,N0=Ww,Xw=(s,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return N0(s,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:a,defaultVariants:l}=e,u=Object.keys(a).map(p=>{const y=t==null?void 0:t[p],E=l==null?void 0:l[p];if(y===null)return null;const S=k0(y)||k0(E);return a[p][S]}),f=t&&Object.entries(t).reduce((p,y)=>{let[E,S]=y;return S===void 0||(p[E]=S),p},{}),g=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((p,y)=>{let{class:E,className:S,...N}=y;return Object.entries(N).every(V=>{let[z,U]=V;return Array.isArray(U)?U.includes({...l,...f}[z]):{...l,...f}[z]===U})?[...p,E,S]:p},[]);return N0(s,u,g,t==null?void 0:t.class,t==null?void 0:t.className)},cp="-",F1=s=>{const e=K1(s),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=s;return{getClassGroupId:u=>{const f=u.split(cp);return f[0]===""&&f.length!==1&&f.shift(),Jw(f,e)||G1(u)},getConflictingClassGroupIds:(u,f)=>{const g=t[u]||[];return f&&r[u]?[...g,...r[u]]:g}}},Jw=(s,e)=>{var u;if(s.length===0)return e.classGroupId;const t=s[0],r=e.nextPart.get(t),a=r?Jw(s.slice(1),r):void 0;if(a)return a;if(e.validators.length===0)return;const l=s.join(cp);return(u=e.validators.find(({validator:f})=>f(l)))==null?void 0:u.classGroupId},O0=/^\[(.+)\]$/,G1=s=>{if(O0.test(s)){const e=O0.exec(s)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},K1=s=>{const{theme:e,classGroups:t}=s,r={nextPart:new Map,validators:[]};for(const a in t)wg(t[a],r,a,e);return r},wg=(s,e,t,r)=>{s.forEach(a=>{if(typeof a=="string"){const l=a===""?e:D0(e,a);l.classGroupId=t;return}if(typeof a=="function"){if(Q1(a)){wg(a(r),e,t,r);return}e.validators.push({validator:a,classGroupId:t});return}Object.entries(a).forEach(([l,u])=>{wg(u,D0(e,l),t,r)})})},D0=(s,e)=>{let t=s;return e.split(cp).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},Q1=s=>s.isThemeGetter,Y1=s=>{if(s<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const a=(l,u)=>{t.set(l,u),e++,e>s&&(e=0,r=t,t=new Map)};return{get(l){let u=t.get(l);if(u!==void 0)return u;if((u=r.get(l))!==void 0)return a(l,u),u},set(l,u){t.has(l)?t.set(l,u):a(l,u)}}},Eg="!",Tg=":",W1=Tg.length,X1=s=>{const{prefix:e,experimentalParseClassName:t}=s;let r=a=>{const l=[];let u=0,f=0,g=0,p;for(let V=0;V<a.length;V++){let z=a[V];if(u===0&&f===0){if(z===Tg){l.push(a.slice(g,V)),g=V+W1;continue}if(z==="/"){p=V;continue}}z==="["?u++:z==="]"?u--:z==="("?f++:z===")"&&f--}const y=l.length===0?a:a.substring(g),E=J1(y),S=E!==y,N=p&&p>g?p-g:void 0;return{modifiers:l,hasImportantModifier:S,baseClassName:E,maybePostfixModifierPosition:N}};if(e){const a=e+Tg,l=r;r=u=>u.startsWith(a)?l(u.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(t){const a=r;r=l=>t({className:l,parseClassName:a})}return r},J1=s=>s.endsWith(Eg)?s.substring(0,s.length-1):s.startsWith(Eg)?s.substring(1):s,Z1=s=>{const e=Object.fromEntries(s.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const a=[];let l=[];return r.forEach(u=>{u[0]==="["||e[u]?(a.push(...l.sort(),u),l=[]):l.push(u)}),a.push(...l.sort()),a}},ex=s=>({cache:Y1(s.cacheSize),parseClassName:X1(s),sortModifiers:Z1(s),...F1(s)}),tx=/\s+/,nx=(s,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:a,sortModifiers:l}=e,u=[],f=s.trim().split(tx);let g="";for(let p=f.length-1;p>=0;p-=1){const y=f[p],{isExternal:E,modifiers:S,hasImportantModifier:N,baseClassName:V,maybePostfixModifierPosition:z}=t(y);if(E){g=y+(g.length>0?" "+g:g);continue}let U=!!z,se=r(U?V.substring(0,z):V);if(!se){if(!U){g=y+(g.length>0?" "+g:g);continue}if(se=r(V),!se){g=y+(g.length>0?" "+g:g);continue}U=!1}const W=l(S).join(":"),Y=N?W+Eg:W,ce=Y+se;if(u.includes(ce))continue;u.push(ce);const he=a(se,U);for(let ue=0;ue<he.length;++ue){const D=he[ue];u.push(Y+D)}g=y+(g.length>0?" "+g:g)}return g};function rx(){let s=0,e,t,r="";for(;s<arguments.length;)(e=arguments[s++])&&(t=Zw(e))&&(r&&(r+=" "),r+=t);return r}const Zw=s=>{if(typeof s=="string")return s;let e,t="";for(let r=0;r<s.length;r++)s[r]&&(e=Zw(s[r]))&&(t&&(t+=" "),t+=e);return t};function sx(s,...e){let t,r,a,l=u;function u(g){const p=e.reduce((y,E)=>E(y),s());return t=ex(p),r=t.cache.get,a=t.cache.set,l=f,f(g)}function f(g){const p=r(g);if(p)return p;const y=nx(g,t);return a(g,y),y}return function(){return l(rx.apply(null,arguments))}}const Bt=s=>{const e=t=>t[s]||[];return e.isThemeGetter=!0,e},eE=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,tE=/^\((?:(\w[\w-]*):)?(.+)\)$/i,ix=/^\d+\/\d+$/,ax=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ox=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,lx=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,cx=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ux=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ao=s=>ix.test(s),Pe=s=>!!s&&!Number.isNaN(Number(s)),ni=s=>!!s&&Number.isInteger(Number(s)),Km=s=>s.endsWith("%")&&Pe(s.slice(0,-1)),cs=s=>ax.test(s),hx=()=>!0,dx=s=>ox.test(s)&&!lx.test(s),nE=()=>!1,fx=s=>cx.test(s),mx=s=>ux.test(s),gx=s=>!pe(s)&&!ye(s),px=s=>sl(s,iE,nE),pe=s=>eE.test(s),da=s=>sl(s,aE,dx),Qm=s=>sl(s,wx,Pe),j0=s=>sl(s,rE,nE),yx=s=>sl(s,sE,mx),xh=s=>sl(s,oE,fx),ye=s=>tE.test(s),wc=s=>il(s,aE),_x=s=>il(s,Ex),P0=s=>il(s,rE),vx=s=>il(s,iE),bx=s=>il(s,sE),Rh=s=>il(s,oE,!0),sl=(s,e,t)=>{const r=eE.exec(s);return r?r[1]?e(r[1]):t(r[2]):!1},il=(s,e,t=!1)=>{const r=tE.exec(s);return r?r[1]?e(r[1]):t:!1},rE=s=>s==="position"||s==="percentage",sE=s=>s==="image"||s==="url",iE=s=>s==="length"||s==="size"||s==="bg-size",aE=s=>s==="length",wx=s=>s==="number",Ex=s=>s==="family-name",oE=s=>s==="shadow",Tx=()=>{const s=Bt("color"),e=Bt("font"),t=Bt("text"),r=Bt("font-weight"),a=Bt("tracking"),l=Bt("leading"),u=Bt("breakpoint"),f=Bt("container"),g=Bt("spacing"),p=Bt("radius"),y=Bt("shadow"),E=Bt("inset-shadow"),S=Bt("text-shadow"),N=Bt("drop-shadow"),V=Bt("blur"),z=Bt("perspective"),U=Bt("aspect"),se=Bt("ease"),W=Bt("animate"),Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ce=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],he=()=>[...ce(),ye,pe],ue=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto","contain","none"],x=()=>[ye,pe,g],R=()=>[Ao,"full","auto",...x()],M=()=>[ni,"none","subgrid",ye,pe],j=()=>["auto",{span:["full",ni,ye,pe]},ni,ye,pe],C=()=>[ni,"auto",ye,pe],I=()=>["auto","min","max","fr",ye,pe],Ge=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Le=()=>["start","end","center","stretch","center-safe","end-safe"],Q=()=>["auto",...x()],ae=()=>[Ao,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...x()],re=()=>[s,ye,pe],F=()=>[...ce(),P0,j0,{position:[ye,pe]}],k=()=>["no-repeat",{repeat:["","x","y","space","round"]}],J=()=>["auto","cover","contain",vx,px,{size:[ye,pe]}],le=()=>[Km,wc,da],ie=()=>["","none","full",p,ye,pe],de=()=>["",Pe,wc,da],Ne=()=>["solid","dashed","dotted","double"],we=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ze=()=>[Pe,Km,P0,j0],Qe=()=>["","none",V,ye,pe],ln=()=>["none",Pe,ye,pe],yr=()=>["none",Pe,ye,pe],_r=()=>[Pe,ye,pe],Zn=()=>[Ao,"full",...x()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[cs],breakpoint:[cs],color:[hx],container:[cs],"drop-shadow":[cs],ease:["in","out","in-out"],font:[gx],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[cs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[cs],shadow:[cs],spacing:["px",Pe],text:[cs],"text-shadow":[cs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ao,pe,ye,U]}],container:["container"],columns:[{columns:[Pe,pe,ye,f]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:he()}],overflow:[{overflow:ue()}],"overflow-x":[{"overflow-x":ue()}],"overflow-y":[{"overflow-y":ue()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:R()}],"inset-x":[{"inset-x":R()}],"inset-y":[{"inset-y":R()}],start:[{start:R()}],end:[{end:R()}],top:[{top:R()}],right:[{right:R()}],bottom:[{bottom:R()}],left:[{left:R()}],visibility:["visible","invisible","collapse"],z:[{z:[ni,"auto",ye,pe]}],basis:[{basis:[Ao,"full","auto",f,...x()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Pe,Ao,"auto","initial","none",pe]}],grow:[{grow:["",Pe,ye,pe]}],shrink:[{shrink:["",Pe,ye,pe]}],order:[{order:[ni,"first","last","none",ye,pe]}],"grid-cols":[{"grid-cols":M()}],"col-start-end":[{col:j()}],"col-start":[{"col-start":C()}],"col-end":[{"col-end":C()}],"grid-rows":[{"grid-rows":M()}],"row-start-end":[{row:j()}],"row-start":[{"row-start":C()}],"row-end":[{"row-end":C()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":I()}],"auto-rows":[{"auto-rows":I()}],gap:[{gap:x()}],"gap-x":[{"gap-x":x()}],"gap-y":[{"gap-y":x()}],"justify-content":[{justify:[...Ge(),"normal"]}],"justify-items":[{"justify-items":[...Le(),"normal"]}],"justify-self":[{"justify-self":["auto",...Le()]}],"align-content":[{content:["normal",...Ge()]}],"align-items":[{items:[...Le(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Le(),{baseline:["","last"]}]}],"place-content":[{"place-content":Ge()}],"place-items":[{"place-items":[...Le(),"baseline"]}],"place-self":[{"place-self":["auto",...Le()]}],p:[{p:x()}],px:[{px:x()}],py:[{py:x()}],ps:[{ps:x()}],pe:[{pe:x()}],pt:[{pt:x()}],pr:[{pr:x()}],pb:[{pb:x()}],pl:[{pl:x()}],m:[{m:Q()}],mx:[{mx:Q()}],my:[{my:Q()}],ms:[{ms:Q()}],me:[{me:Q()}],mt:[{mt:Q()}],mr:[{mr:Q()}],mb:[{mb:Q()}],ml:[{ml:Q()}],"space-x":[{"space-x":x()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":x()}],"space-y-reverse":["space-y-reverse"],size:[{size:ae()}],w:[{w:[f,"screen",...ae()]}],"min-w":[{"min-w":[f,"screen","none",...ae()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[u]},...ae()]}],h:[{h:["screen","lh",...ae()]}],"min-h":[{"min-h":["screen","lh","none",...ae()]}],"max-h":[{"max-h":["screen","lh",...ae()]}],"font-size":[{text:["base",t,wc,da]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ye,Qm]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Km,pe]}],"font-family":[{font:[_x,pe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,ye,pe]}],"line-clamp":[{"line-clamp":[Pe,"none",ye,Qm]}],leading:[{leading:[l,...x()]}],"list-image":[{"list-image":["none",ye,pe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ye,pe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:re()}],"text-color":[{text:re()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ne(),"wavy"]}],"text-decoration-thickness":[{decoration:[Pe,"from-font","auto",ye,da]}],"text-decoration-color":[{decoration:re()}],"underline-offset":[{"underline-offset":[Pe,"auto",ye,pe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:x()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ye,pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ye,pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:F()}],"bg-repeat":[{bg:k()}],"bg-size":[{bg:J()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ni,ye,pe],radial:["",ye,pe],conic:[ni,ye,pe]},bx,yx]}],"bg-color":[{bg:re()}],"gradient-from-pos":[{from:le()}],"gradient-via-pos":[{via:le()}],"gradient-to-pos":[{to:le()}],"gradient-from":[{from:re()}],"gradient-via":[{via:re()}],"gradient-to":[{to:re()}],rounded:[{rounded:ie()}],"rounded-s":[{"rounded-s":ie()}],"rounded-e":[{"rounded-e":ie()}],"rounded-t":[{"rounded-t":ie()}],"rounded-r":[{"rounded-r":ie()}],"rounded-b":[{"rounded-b":ie()}],"rounded-l":[{"rounded-l":ie()}],"rounded-ss":[{"rounded-ss":ie()}],"rounded-se":[{"rounded-se":ie()}],"rounded-ee":[{"rounded-ee":ie()}],"rounded-es":[{"rounded-es":ie()}],"rounded-tl":[{"rounded-tl":ie()}],"rounded-tr":[{"rounded-tr":ie()}],"rounded-br":[{"rounded-br":ie()}],"rounded-bl":[{"rounded-bl":ie()}],"border-w":[{border:de()}],"border-w-x":[{"border-x":de()}],"border-w-y":[{"border-y":de()}],"border-w-s":[{"border-s":de()}],"border-w-e":[{"border-e":de()}],"border-w-t":[{"border-t":de()}],"border-w-r":[{"border-r":de()}],"border-w-b":[{"border-b":de()}],"border-w-l":[{"border-l":de()}],"divide-x":[{"divide-x":de()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":de()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ne(),"hidden","none"]}],"divide-style":[{divide:[...Ne(),"hidden","none"]}],"border-color":[{border:re()}],"border-color-x":[{"border-x":re()}],"border-color-y":[{"border-y":re()}],"border-color-s":[{"border-s":re()}],"border-color-e":[{"border-e":re()}],"border-color-t":[{"border-t":re()}],"border-color-r":[{"border-r":re()}],"border-color-b":[{"border-b":re()}],"border-color-l":[{"border-l":re()}],"divide-color":[{divide:re()}],"outline-style":[{outline:[...Ne(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Pe,ye,pe]}],"outline-w":[{outline:["",Pe,wc,da]}],"outline-color":[{outline:re()}],shadow:[{shadow:["","none",y,Rh,xh]}],"shadow-color":[{shadow:re()}],"inset-shadow":[{"inset-shadow":["none",E,Rh,xh]}],"inset-shadow-color":[{"inset-shadow":re()}],"ring-w":[{ring:de()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:re()}],"ring-offset-w":[{"ring-offset":[Pe,da]}],"ring-offset-color":[{"ring-offset":re()}],"inset-ring-w":[{"inset-ring":de()}],"inset-ring-color":[{"inset-ring":re()}],"text-shadow":[{"text-shadow":["none",S,Rh,xh]}],"text-shadow-color":[{"text-shadow":re()}],opacity:[{opacity:[Pe,ye,pe]}],"mix-blend":[{"mix-blend":[...we(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":we()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Pe]}],"mask-image-linear-from-pos":[{"mask-linear-from":ze()}],"mask-image-linear-to-pos":[{"mask-linear-to":ze()}],"mask-image-linear-from-color":[{"mask-linear-from":re()}],"mask-image-linear-to-color":[{"mask-linear-to":re()}],"mask-image-t-from-pos":[{"mask-t-from":ze()}],"mask-image-t-to-pos":[{"mask-t-to":ze()}],"mask-image-t-from-color":[{"mask-t-from":re()}],"mask-image-t-to-color":[{"mask-t-to":re()}],"mask-image-r-from-pos":[{"mask-r-from":ze()}],"mask-image-r-to-pos":[{"mask-r-to":ze()}],"mask-image-r-from-color":[{"mask-r-from":re()}],"mask-image-r-to-color":[{"mask-r-to":re()}],"mask-image-b-from-pos":[{"mask-b-from":ze()}],"mask-image-b-to-pos":[{"mask-b-to":ze()}],"mask-image-b-from-color":[{"mask-b-from":re()}],"mask-image-b-to-color":[{"mask-b-to":re()}],"mask-image-l-from-pos":[{"mask-l-from":ze()}],"mask-image-l-to-pos":[{"mask-l-to":ze()}],"mask-image-l-from-color":[{"mask-l-from":re()}],"mask-image-l-to-color":[{"mask-l-to":re()}],"mask-image-x-from-pos":[{"mask-x-from":ze()}],"mask-image-x-to-pos":[{"mask-x-to":ze()}],"mask-image-x-from-color":[{"mask-x-from":re()}],"mask-image-x-to-color":[{"mask-x-to":re()}],"mask-image-y-from-pos":[{"mask-y-from":ze()}],"mask-image-y-to-pos":[{"mask-y-to":ze()}],"mask-image-y-from-color":[{"mask-y-from":re()}],"mask-image-y-to-color":[{"mask-y-to":re()}],"mask-image-radial":[{"mask-radial":[ye,pe]}],"mask-image-radial-from-pos":[{"mask-radial-from":ze()}],"mask-image-radial-to-pos":[{"mask-radial-to":ze()}],"mask-image-radial-from-color":[{"mask-radial-from":re()}],"mask-image-radial-to-color":[{"mask-radial-to":re()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":ce()}],"mask-image-conic-pos":[{"mask-conic":[Pe]}],"mask-image-conic-from-pos":[{"mask-conic-from":ze()}],"mask-image-conic-to-pos":[{"mask-conic-to":ze()}],"mask-image-conic-from-color":[{"mask-conic-from":re()}],"mask-image-conic-to-color":[{"mask-conic-to":re()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:F()}],"mask-repeat":[{mask:k()}],"mask-size":[{mask:J()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ye,pe]}],filter:[{filter:["","none",ye,pe]}],blur:[{blur:Qe()}],brightness:[{brightness:[Pe,ye,pe]}],contrast:[{contrast:[Pe,ye,pe]}],"drop-shadow":[{"drop-shadow":["","none",N,Rh,xh]}],"drop-shadow-color":[{"drop-shadow":re()}],grayscale:[{grayscale:["",Pe,ye,pe]}],"hue-rotate":[{"hue-rotate":[Pe,ye,pe]}],invert:[{invert:["",Pe,ye,pe]}],saturate:[{saturate:[Pe,ye,pe]}],sepia:[{sepia:["",Pe,ye,pe]}],"backdrop-filter":[{"backdrop-filter":["","none",ye,pe]}],"backdrop-blur":[{"backdrop-blur":Qe()}],"backdrop-brightness":[{"backdrop-brightness":[Pe,ye,pe]}],"backdrop-contrast":[{"backdrop-contrast":[Pe,ye,pe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Pe,ye,pe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Pe,ye,pe]}],"backdrop-invert":[{"backdrop-invert":["",Pe,ye,pe]}],"backdrop-opacity":[{"backdrop-opacity":[Pe,ye,pe]}],"backdrop-saturate":[{"backdrop-saturate":[Pe,ye,pe]}],"backdrop-sepia":[{"backdrop-sepia":["",Pe,ye,pe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":x()}],"border-spacing-x":[{"border-spacing-x":x()}],"border-spacing-y":[{"border-spacing-y":x()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ye,pe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Pe,"initial",ye,pe]}],ease:[{ease:["linear","initial",se,ye,pe]}],delay:[{delay:[Pe,ye,pe]}],animate:[{animate:["none",W,ye,pe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[z,ye,pe]}],"perspective-origin":[{"perspective-origin":he()}],rotate:[{rotate:ln()}],"rotate-x":[{"rotate-x":ln()}],"rotate-y":[{"rotate-y":ln()}],"rotate-z":[{"rotate-z":ln()}],scale:[{scale:yr()}],"scale-x":[{"scale-x":yr()}],"scale-y":[{"scale-y":yr()}],"scale-z":[{"scale-z":yr()}],"scale-3d":["scale-3d"],skew:[{skew:_r()}],"skew-x":[{"skew-x":_r()}],"skew-y":[{"skew-y":_r()}],transform:[{transform:[ye,pe,"","none","gpu","cpu"]}],"transform-origin":[{origin:he()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Zn()}],"translate-x":[{"translate-x":Zn()}],"translate-y":[{"translate-y":Zn()}],"translate-z":[{"translate-z":Zn()}],"translate-none":["translate-none"],accent:[{accent:re()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:re()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ye,pe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":x()}],"scroll-mx":[{"scroll-mx":x()}],"scroll-my":[{"scroll-my":x()}],"scroll-ms":[{"scroll-ms":x()}],"scroll-me":[{"scroll-me":x()}],"scroll-mt":[{"scroll-mt":x()}],"scroll-mr":[{"scroll-mr":x()}],"scroll-mb":[{"scroll-mb":x()}],"scroll-ml":[{"scroll-ml":x()}],"scroll-p":[{"scroll-p":x()}],"scroll-px":[{"scroll-px":x()}],"scroll-py":[{"scroll-py":x()}],"scroll-ps":[{"scroll-ps":x()}],"scroll-pe":[{"scroll-pe":x()}],"scroll-pt":[{"scroll-pt":x()}],"scroll-pr":[{"scroll-pr":x()}],"scroll-pb":[{"scroll-pb":x()}],"scroll-pl":[{"scroll-pl":x()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ye,pe]}],fill:[{fill:["none",...re()]}],"stroke-w":[{stroke:[Pe,wc,da,Qm]}],stroke:[{stroke:["none",...re()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Sx=sx(Tx);function ka(...s){return Sx(Ww(s))}const Ax=Xw("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function mt({className:s,variant:e,size:t,asChild:r=!1,...a}){const l=r?Qw:"button";return v.jsx(l,{"data-slot":"button",className:ka(Ax({variant:e,size:t,className:s})),...a})}function bt({className:s,...e}){return v.jsx("div",{"data-slot":"card",className:ka("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",s),...e})}function $t({className:s,...e}){return v.jsx("div",{"data-slot":"card-header",className:ka("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",s),...e})}function Ht({className:s,...e}){return v.jsx("div",{"data-slot":"card-title",className:ka("leading-none font-semibold",s),...e})}function $o({className:s,...e}){return v.jsx("div",{"data-slot":"card-description",className:ka("text-muted-foreground text-sm",s),...e})}function wt({className:s,...e}){return v.jsx("div",{"data-slot":"card-content",className:ka("px-6",s),...e})}const xx=Xw("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Xn({className:s,variant:e,asChild:t=!1,...r}){const a=t?Qw:"span";return v.jsx(a,{"data-slot":"badge",className:ka(xx({variant:e}),s),...r})}/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ix=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),M0=s=>{const e=Ix(s);return e.charAt(0).toUpperCase()+e.slice(1)},lE=(...s)=>s.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),Cx=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var kx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=De.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:a="",children:l,iconNode:u,...f},g)=>De.createElement("svg",{ref:g,...kx,width:e,height:e,stroke:s,strokeWidth:r?Number(t)*24/Number(e):t,className:lE("lucide",a),...!l&&!Cx(f)&&{"aria-hidden":"true"},...f},[...u.map(([p,y])=>De.createElement(p,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=(s,e)=>{const t=De.forwardRef(({className:r,...a},l)=>De.createElement(Nx,{ref:l,iconNode:e,className:lE(`lucide-${Rx(M0(s))}`,`lucide-${s}`,r),...a}));return t.displayName=M0(s),t};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Ym=ut("bell",Ox);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],Ih=ut("brain",Dx);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Wm=ut("building-2",jx);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],V0=ut("calendar",Px);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],va=ut("circle-check",Mx);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Ux=ut("circle-x",Vx);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]],U0=ut("cog",Lx);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],L0=ut("database",zx);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],qx=ut("dollar-sign",Bx);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Hx=ut("file-text",$x);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Gx=ut("house",Fx);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],z0=ut("info",Kx);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],Yx=ut("menu",Qx);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Xm=ut("message-square",Wx);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],Jx=ut("moon",Xx);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Jm=ut("phone",Zx);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],tR=ut("plus",eR);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nR=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],B0=ut("refresh-cw",nR);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rR=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ec=ut("shield",rR);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sR=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],q0=ut("square-pen",sR);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iR=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],$0=ut("star",iR);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aR=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],oR=ut("sun",aR);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],H0=ut("trash-2",lR);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cR=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Zm=ut("trending-up",cR);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uR=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],cE=ut("triangle-alert",uR);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hR=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],dR=ut("x",hR),F0="/assets/IMG_3575(1)-B07akN18.jpeg",fR="/assets/IMG_3557(1)-Bf6w_X7O.jpeg",mR="/assets/IMG_3554(1)-CshQ5I98.jpeg",gR="/assets/IMG_3556(1)-CjDxWsQq.jpeg",pR="/assets/IMG_3561(1)-DXa8U5hT.jpeg",yR="/assets/IMG_3564(1)-C6wgy6i9.jpeg",_R="/assets/IMG_3551(1)-uvQF3SkX.jpeg";/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=()=>{};var G0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE=function(s){const e=[];let t=0;for(let r=0;r<s.length;r++){let a=s.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(s.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},bR=function(s){const e=[];let t=0,r=0;for(;t<s.length;){const a=s[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=s[t++];e[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=s[t++],u=s[t++],f=s[t++],g=((a&7)<<18|(l&63)<<12|(u&63)<<6|f&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const l=s[t++],u=s[t++];e[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},hE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<s.length;a+=3){const l=s[a],u=a+1<s.length,f=u?s[a+1]:0,g=a+2<s.length,p=g?s[a+2]:0,y=l>>2,E=(l&3)<<4|f>>4;let S=(f&15)<<2|p>>6,N=p&63;g||(N=64,u||(S=64)),r.push(t[y],t[E],t[S],t[N])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(uE(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):bR(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<s.length;){const l=t[s.charAt(a++)],f=a<s.length?t[s.charAt(a)]:0;++a;const p=a<s.length?t[s.charAt(a)]:64;++a;const E=a<s.length?t[s.charAt(a)]:64;if(++a,l==null||f==null||p==null||E==null)throw new wR;const S=l<<2|f>>4;if(r.push(S),p!==64){const N=f<<4&240|p>>2;if(r.push(N),E!==64){const V=p<<6&192|E;r.push(V)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class wR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ER=function(s){const e=uE(s);return hE.encodeByteArray(e,!0)},Yh=function(s){return ER(s).replace(/\./g,"")},dE=function(s){try{return hE.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR=()=>TR().__FIREBASE_DEFAULTS__,AR=()=>{if(typeof process>"u"||typeof G0>"u")return;const s=G0.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},xR=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&dE(s[1]);return e&&JSON.parse(e)},vd=()=>{try{return vR()||SR()||AR()||xR()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},fE=s=>{var e,t;return(t=(e=vd())==null?void 0:e.emulatorHosts)==null?void 0:t[s]},RR=s=>{const e=fE(s);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},mE=()=>{var s;return(s=vd())==null?void 0:s.config},gE=s=>{var e;return(e=vd())==null?void 0:e[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let IR=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function al(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function pE(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=s.iat||0,l=s.sub||s.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Yh(JSON.stringify(t)),Yh(JSON.stringify(u)),""].join(".")}const Ic={};function kR(){const s={prod:[],emulator:[]};for(const e of Object.keys(Ic))Ic[e]?s.emulator.push(e):s.prod.push(e);return s}function NR(s){let e=document.getElementById(s),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),t=!0),{created:t,element:e}}let K0=!1;function yE(s,e){if(typeof window>"u"||typeof document>"u"||!al(window.location.host)||Ic[s]===e||Ic[s]||K0)return;Ic[s]=e;function t(S){return`__firebase__banner__${S}`}const r="__firebase__banner",l=kR().prod.length>0;function u(){const S=document.getElementById(r);S&&S.remove()}function f(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,N){S.setAttribute("width","24"),S.setAttribute("id",N),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function p(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{K0=!0,u()},S}function y(S,N){S.setAttribute("id",N),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function E(){const S=NR(r),N=t("text"),V=document.getElementById(N)||document.createElement("span"),z=t("learnmore"),U=document.getElementById(z)||document.createElement("a"),se=t("preprendIcon"),W=document.getElementById(se)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const Y=S.element;f(Y),y(U,z);const ce=p();g(W,se),Y.append(W,V,U,ce),document.body.appendChild(Y)}l?(V.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function OR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}function DR(){var e;const s=(e=vd())==null?void 0:e.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function PR(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function MR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function VR(){const s=pn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function UR(){return!DR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function LR(){try{return typeof indexedDB=="object"}catch{return!1}}function zR(){return new Promise((s,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),s(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)==null?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR="FirebaseError";class _s extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=BR,Object.setPrototypeOf(this,_s.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kc.prototype.create)}}class Kc{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?qR(l,r):"Error",f=`${this.serviceName}: ${u} (${a}).`;return new _s(a,f,r)}}function qR(s,e){return s.replace($R,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const $R=/\{\$([^}]+)}/g;function HR(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Sa(s,e){if(s===e)return!0;const t=Object.keys(s),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const l=s[a],u=e[a];if(Q0(l)&&Q0(u)){if(!Sa(l,u))return!1}else if(l!==u)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function Q0(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qc(s){const e=[];for(const[t,r]of Object.entries(s))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function FR(s,e){const t=new GR(s,e);return t.subscribe.bind(t)}class GR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");KR(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=eg),a.error===void 0&&(a.error=eg),a.complete===void 0&&(a.complete=eg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function KR(s,e){if(typeof s!="object"||s===null)return!1;for(const t of e)if(t in s&&typeof s[t]=="function")return!0;return!1}function eg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(s){return s&&s._delegate?s._delegate:s}class Aa{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new IR;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(WR(e))try{this.getOrInitializeService({instanceIdentifier:ga})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(e=ga){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ga){return this.instances.has(e)}getOptions(e=ga){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[l,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);r===f&&u.resolve(a)}return a}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const l=this.instances.get(r);return l&&e(l,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:YR(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ga){return this.component?this.component.multipleInstances?e:ga:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YR(s){return s===ga?void 0:s}function WR(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new QR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Be||(Be={}));const JR={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},ZR=Be.INFO,eI={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},tI=(s,e,...t)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),a=eI[e];if(a)console[a](`[${r}]  ${s.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class up{constructor(e){this.name=e,this._logLevel=ZR,this._logHandler=tI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?JR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const nI=(s,e)=>e.some(t=>s instanceof t);let Y0,W0;function rI(){return Y0||(Y0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sI(){return W0||(W0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _E=new WeakMap,Sg=new WeakMap,vE=new WeakMap,tg=new WeakMap,hp=new WeakMap;function iI(s){const e=new Promise((t,r)=>{const a=()=>{s.removeEventListener("success",l),s.removeEventListener("error",u)},l=()=>{t(di(s.result)),a()},u=()=>{r(s.error),a()};s.addEventListener("success",l),s.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&_E.set(t,s)}).catch(()=>{}),hp.set(e,s),e}function aI(s){if(Sg.has(s))return;const e=new Promise((t,r)=>{const a=()=>{s.removeEventListener("complete",l),s.removeEventListener("error",u),s.removeEventListener("abort",u)},l=()=>{t(),a()},u=()=>{r(s.error||new DOMException("AbortError","AbortError")),a()};s.addEventListener("complete",l),s.addEventListener("error",u),s.addEventListener("abort",u)});Sg.set(s,e)}let Ag={get(s,e,t){if(s instanceof IDBTransaction){if(e==="done")return Sg.get(s);if(e==="objectStoreNames")return s.objectStoreNames||vE.get(s);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return di(s[e])},set(s,e,t){return s[e]=t,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function oI(s){Ag=s(Ag)}function lI(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=s.call(ng(this),e,...t);return vE.set(r,e.sort?e.sort():[e]),di(r)}:sI().includes(s)?function(...e){return s.apply(ng(this),e),di(_E.get(this))}:function(...e){return di(s.apply(ng(this),e))}}function cI(s){return typeof s=="function"?lI(s):(s instanceof IDBTransaction&&aI(s),nI(s,rI())?new Proxy(s,Ag):s)}function di(s){if(s instanceof IDBRequest)return iI(s);if(tg.has(s))return tg.get(s);const e=cI(s);return e!==s&&(tg.set(s,e),hp.set(e,s)),e}const ng=s=>hp.get(s);function uI(s,e,{blocked:t,upgrade:r,blocking:a,terminated:l}={}){const u=indexedDB.open(s,e),f=di(u);return r&&u.addEventListener("upgradeneeded",g=>{r(di(u.result),g.oldVersion,g.newVersion,di(u.transaction),g)}),t&&u.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),f.then(g=>{l&&g.addEventListener("close",()=>l()),a&&g.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const hI=["get","getKey","getAll","getAllKeys","count"],dI=["put","add","delete","clear"],rg=new Map;function X0(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(rg.get(e))return rg.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=dI.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||hI.includes(t)))return;const l=async function(u,...f){const g=this.transaction(u,a?"readwrite":"readonly");let p=g.store;return r&&(p=p.index(f.shift())),(await Promise.all([p[t](...f),a&&g.done]))[0]};return rg.set(e,l),l}oI(s=>({...s,get:(e,t,r)=>X0(e,t)||s.get(e,t,r),has:(e,t)=>!!X0(e,t)||s.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(mI(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function mI(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const xg="@firebase/app",J0="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs=new up("@firebase/app"),gI="@firebase/app-compat",pI="@firebase/analytics-compat",yI="@firebase/analytics",_I="@firebase/app-check-compat",vI="@firebase/app-check",bI="@firebase/auth",wI="@firebase/auth-compat",EI="@firebase/database",TI="@firebase/data-connect",SI="@firebase/database-compat",AI="@firebase/functions",xI="@firebase/functions-compat",RI="@firebase/installations",II="@firebase/installations-compat",CI="@firebase/messaging",kI="@firebase/messaging-compat",NI="@firebase/performance",OI="@firebase/performance-compat",DI="@firebase/remote-config",jI="@firebase/remote-config-compat",PI="@firebase/storage",MI="@firebase/storage-compat",VI="@firebase/firestore",UI="@firebase/ai",LI="@firebase/firestore-compat",zI="firebase",BI="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rg="[DEFAULT]",qI={[xg]:"fire-core",[gI]:"fire-core-compat",[yI]:"fire-analytics",[pI]:"fire-analytics-compat",[vI]:"fire-app-check",[_I]:"fire-app-check-compat",[bI]:"fire-auth",[wI]:"fire-auth-compat",[EI]:"fire-rtdb",[TI]:"fire-data-connect",[SI]:"fire-rtdb-compat",[AI]:"fire-fn",[xI]:"fire-fn-compat",[RI]:"fire-iid",[II]:"fire-iid-compat",[CI]:"fire-fcm",[kI]:"fire-fcm-compat",[NI]:"fire-perf",[OI]:"fire-perf-compat",[DI]:"fire-rc",[jI]:"fire-rc-compat",[PI]:"fire-gcs",[MI]:"fire-gcs-compat",[VI]:"fire-fst",[LI]:"fire-fst-compat",[UI]:"fire-vertex","fire-js":"fire-js",[zI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wh=new Map,$I=new Map,Ig=new Map;function Z0(s,e){try{s.container.addComponent(e)}catch(t){fs.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,t)}}function Wo(s){const e=s.name;if(Ig.has(e))return fs.debug(`There were multiple attempts to register component ${e}.`),!1;Ig.set(e,s);for(const t of Wh.values())Z0(t,s);for(const t of $I.values())Z0(t,s);return!0}function dp(s,e){const t=s.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),s.container.getProvider(e)}function dr(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fi=new Kc("app","Firebase",HI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Aa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ol=BI;function bE(s,e={}){let t=s;typeof e!="object"&&(e={name:e});const r={name:Rg,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw fi.create("bad-app-name",{appName:String(a)});if(t||(t=mE()),!t)throw fi.create("no-options");const l=Wh.get(a);if(l){if(Sa(t,l.options)&&Sa(r,l.config))return l;throw fi.create("duplicate-app",{appName:a})}const u=new XR(a);for(const g of Ig.values())u.addComponent(g);const f=new FI(t,r,u);return Wh.set(a,f),f}function wE(s=Rg){const e=Wh.get(s);if(!e&&s===Rg&&mE())return bE();if(!e)throw fi.create("no-app",{appName:s});return e}function mi(s,e,t){let r=qI[s]??s;t&&(r+=`-${t}`);const a=r.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${r}" with version "${e}":`];a&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fs.warn(u.join(" "));return}Wo(new Aa(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI="firebase-heartbeat-database",KI=1,Vc="firebase-heartbeat-store";let sg=null;function EE(){return sg||(sg=uI(GI,KI,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Vc)}catch(t){console.warn(t)}}}}).catch(s=>{throw fi.create("idb-open",{originalErrorMessage:s.message})})),sg}async function QI(s){try{const t=(await EE()).transaction(Vc),r=await t.objectStore(Vc).get(TE(s));return await t.done,r}catch(e){if(e instanceof _s)fs.warn(e.message);else{const t=fi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});fs.warn(t.message)}}}async function eb(s,e){try{const r=(await EE()).transaction(Vc,"readwrite");await r.objectStore(Vc).put(e,TE(s)),await r.done}catch(t){if(t instanceof _s)fs.warn(t.message);else{const r=fi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});fs.warn(r.message)}}}function TE(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI=1024,WI=30;class XI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ZI(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=tb();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>WI){const u=eC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){fs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=tb(),{heartbeatsToSend:r,unsentEntries:a}=JI(this._heartbeatsCache.heartbeats),l=Yh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return fs.warn(t),""}}}function tb(){return new Date().toISOString().substring(0,10)}function JI(s,e=YI){const t=[];let r=s.slice();for(const a of s){const l=t.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),nb(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),nb(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class ZI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return LR()?zR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await QI(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return eb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return eb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function nb(s){return Yh(JSON.stringify({version:2,heartbeats:s})).length}function eC(s){if(s.length===0)return-1;let e=0,t=s[0].date;for(let r=1;r<s.length;r++)s[r].date<t&&(t=s[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(s){Wo(new Aa("platform-logger",e=>new fI(e),"PRIVATE")),Wo(new Aa("heartbeat",e=>new XI(e),"PRIVATE")),mi(xg,J0,s),mi(xg,J0,"esm2020"),mi("fire-js","")}tC("");var nC="firebase",rC="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mi(nC,rC,"app");function SE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sC=SE,AE=new Kc("auth","Firebase",SE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xh=new up("@firebase/auth");function iC(s,...e){Xh.logLevel<=Be.WARN&&Xh.warn(`Auth (${ol}): ${s}`,...e)}function Lh(s,...e){Xh.logLevel<=Be.ERROR&&Xh.error(`Auth (${ol}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ms(s,...e){throw fp(s,...e)}function Pr(s,...e){return fp(s,...e)}function xE(s,e,t){const r={...sC(),[e]:t};return new Kc("auth","Firebase",r).create(e,{appName:s.name})}function gi(s){return xE(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fp(s,...e){if(typeof s!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(t,...r)}return AE.create(s,...e)}function xe(s,e,...t){if(!s)throw fp(e,...t)}function hs(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Lh(e),new Error(e)}function gs(s,e){s||hs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cg(){var s;return typeof self<"u"&&((s=self.location)==null?void 0:s.href)||""}function aC(){return rb()==="http:"||rb()==="https:"}function rb(){var s;return typeof self<"u"&&((s=self.location)==null?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aC()||PR()||"connection"in navigator)?navigator.onLine:!0}function lC(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,t){this.shortDelay=e,this.longDelay=t,gs(t>e,"Short delay should be less than long delay!"),this.isMobile=OR()||MR()}get(){return oC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(s,e){gs(s.emulator,"Emulator should always be set here");const{url:t}=s.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],hC=new Yc(3e4,6e4);function bd(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function ll(s,e,t,r,a={}){return IE(s,a,async()=>{let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});const f=Qc({key:s.config.apiKey,...u}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const p={method:e,headers:g,...l};return jR()||(p.referrerPolicy="no-referrer"),s.emulatorConfig&&al(s.emulatorConfig.host)&&(p.credentials="include"),RE.fetch()(await kE(s,s.config.apiHost,t,f),p)})}async function IE(s,e,t){s._canInitEmulator=!1;const r={...cC,...e};try{const a=new dC(s),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Ch(s,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const f=l.ok?u.errorMessage:u.error.message,[g,p]=f.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ch(s,"credential-already-in-use",u);if(g==="EMAIL_EXISTS")throw Ch(s,"email-already-in-use",u);if(g==="USER_DISABLED")throw Ch(s,"user-disabled",u);const y=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw xE(s,y,p);ms(s,y)}}catch(a){if(a instanceof _s)throw a;ms(s,"network-request-failed",{message:String(a)})}}async function CE(s,e,t,r,a={}){const l=await ll(s,e,t,r,a);return"mfaPendingCredential"in l&&ms(s,"multi-factor-auth-required",{_serverResponse:l}),l}async function kE(s,e,t,r){const a=`${e}${t}?${r}`,l=s,u=l.config.emulator?mp(s.config,a):`${s.config.apiScheme}://${a}`;return uC.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}class dC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Pr(this.auth,"network-request-failed")),hC.get())})}}function Ch(s,e,t){const r={appName:s.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const a=Pr(s,e,r);return a.customData._tokenResponse=t,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fC(s,e){return ll(s,"POST","/v1/accounts:delete",e)}async function Jh(s,e){return ll(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function mC(s,e=!1){const t=Zt(s),r=await t.getIdToken(e),a=gp(r);xe(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l==null?void 0:l.sign_in_provider;return{claims:a,token:r,authTime:Cc(ig(a.auth_time)),issuedAtTime:Cc(ig(a.iat)),expirationTime:Cc(ig(a.exp)),signInProvider:u||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function ig(s){return Number(s)*1e3}function gp(s){const[e,t,r]=s.split(".");if(e===void 0||t===void 0||r===void 0)return Lh("JWT malformed, contained fewer than 3 sections"),null;try{const a=dE(t);return a?JSON.parse(a):(Lh("Failed to decode base64 JWT payload"),null)}catch(a){return Lh("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function sb(s){const e=gp(s);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uc(s,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof _s&&gC(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function gC({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cc(this.lastLoginAt),this.creationTime=Cc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zh(s){var E;const e=s.auth,t=await s.getIdToken(),r=await Uc(s,Jh(e,{idToken:t}));xe(r==null?void 0:r.users.length,e,"internal-error");const a=r.users[0];s._notifyReloadListener(a);const l=(E=a.providerUserInfo)!=null&&E.length?NE(a.providerUserInfo):[],u=_C(s.providerData,l),f=s.isAnonymous,g=!(s.email&&a.passwordHash)&&!(u!=null&&u.length),p=f?g:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new kg(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(s,y)}async function yC(s){const e=Zt(s);await Zh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _C(s,e){return[...s.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function NE(s){return s.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vC(s,e){const t=await IE(s,{},async()=>{const r=Qc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=s.config,u=await kE(s,a,"/v1/token",`key=${l}`),f=await s._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:f,body:r};return s.emulatorConfig&&al(s.emulatorConfig.host)&&(g.credentials="include"),RE.fetch()(u,g)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function bC(s,e){return ll(s,"POST","/v2/accounts:revokeToken",bd(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):sb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const t=sb(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:a,expiresIn:l}=await vC(e,t);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:a,expirationTime:l}=t,u=new Fo;return r&&(xe(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),a&&(xe(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(xe(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fo,this.toJSON())}_performRefresh(){return hs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(s,e){xe(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class fr{constructor({uid:e,auth:t,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new pC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new kg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Uc(this,this.stsTokenManager.getToken(this.auth,e));return xe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return mC(this,e)}reload(){return yC(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new fr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Zh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(dr(this.auth.app))return Promise.reject(gi(this.auth));const e=await this.getIdToken();return await Uc(this,fC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,a=t.email??void 0,l=t.phoneNumber??void 0,u=t.photoURL??void 0,f=t.tenantId??void 0,g=t._redirectEventId??void 0,p=t.createdAt??void 0,y=t.lastLoginAt??void 0,{uid:E,emailVerified:S,isAnonymous:N,providerData:V,stsTokenManager:z}=t;xe(E&&z,e,"internal-error");const U=Fo.fromJSON(this.name,z);xe(typeof E=="string",e,"internal-error"),ri(r,e.name),ri(a,e.name),xe(typeof S=="boolean",e,"internal-error"),xe(typeof N=="boolean",e,"internal-error"),ri(l,e.name),ri(u,e.name),ri(f,e.name),ri(g,e.name),ri(p,e.name),ri(y,e.name);const se=new fr({uid:E,auth:e,email:a,emailVerified:S,displayName:r,isAnonymous:N,photoURL:u,phoneNumber:l,tenantId:f,stsTokenManager:U,createdAt:p,lastLoginAt:y});return V&&Array.isArray(V)&&(se.providerData=V.map(W=>({...W}))),g&&(se._redirectEventId=g),se}static async _fromIdTokenResponse(e,t,r=!1){const a=new Fo;a.updateFromServerResponse(t);const l=new fr({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await Zh(l),l}static async _fromGetAccountInfoResponse(e,t,r){const a=t.users[0];xe(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?NE(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),f=new Fo;f.updateFromIdToken(r);const g=new fr({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new kg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(g,p),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib=new Map;function ds(s){gs(s instanceof Function,"Expected a class definition");let e=ib.get(s);return e?(gs(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,ib.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}OE.type="NONE";const ab=OE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zh(s,e,t){return`firebase:${s}:${e}:${t}`}class Go{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=zh(this.userKey,a.apiKey,l),this.fullPersistenceKey=zh("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Jh(this.auth,{idToken:e}).catch(()=>{});return t?fr._fromGetAccountInfoResponse(this.auth,t,e):null}return fr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Go(ds(ab),e,r);const a=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||ds(ab);const u=zh(r,e.config.apiKey,e.name);let f=null;for(const p of t)try{const y=await p._get(u);if(y){let E;if(typeof y=="string"){const S=await Jh(e,{idToken:y}).catch(()=>{});if(!S)break;E=await fr._fromGetAccountInfoResponse(e,S,y)}else E=fr._fromJSON(e,y);p!==l&&(f=E),l=p;break}}catch{}const g=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!g.length?new Go(l,e,r):(l=g[0],f&&await l._set(u,f.toJSON()),await Promise.all(t.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new Go(l,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ME(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(DE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(UE(e))return"Blackberry";if(LE(e))return"Webos";if(jE(e))return"Safari";if((e.includes("chrome/")||PE(e))&&!e.includes("edge/"))return"Chrome";if(VE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function DE(s=pn()){return/firefox\//i.test(s)}function jE(s=pn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function PE(s=pn()){return/crios\//i.test(s)}function ME(s=pn()){return/iemobile/i.test(s)}function VE(s=pn()){return/android/i.test(s)}function UE(s=pn()){return/blackberry/i.test(s)}function LE(s=pn()){return/webos/i.test(s)}function pp(s=pn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function wC(s=pn()){var e;return pp(s)&&!!((e=window.navigator)!=null&&e.standalone)}function EC(){return VR()&&document.documentMode===10}function zE(s=pn()){return pp(s)||VE(s)||LE(s)||UE(s)||/windows phone/i.test(s)||ME(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(s,e=[]){let t;switch(s){case"Browser":t=ob(pn());break;case"Worker":t=`${ob(pn())}-${s}`;break;default:t=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ol}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=l=>new Promise((u,f)=>{try{const g=e(l);u(g)}catch(g){f(g)}});r.onAbort=t,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SC(s,e={}){return ll(s,"GET","/v2/passwordPolicy",bd(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=6;class xC{constructor(e){var r;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??AC,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e,t,r,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lb(this),this.idTokenSubscription=new lb(this),this.beforeStateQueue=new TC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=AE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ds(t)),this._initializationPromise=this.queue(async()=>{var r,a,l;if(!this._deleted&&(this.persistenceManager=await Go.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)==null?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Jh(this,{idToken:e}),r=await fr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var l;if(dr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(l=this.redirectUser)==null?void 0:l._redirectEventId,f=r==null?void 0:r._redirectEventId,g=await this.tryRedirectSignIn(e);(!u||u===f)&&(g!=null&&g.user)&&(r=g.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Zh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=lC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(dr(this.app))return Promise.reject(gi(this));const t=e?Zt(e):null;return t&&xe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return dr(this.app)?Promise.reject(gi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return dr(this.app)?Promise.reject(gi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ds(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await SC(this),t=new xC(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Kc("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await bC(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ds(e)||this._popupRedirectResolver;xe(t,this,"argument-error"),this.redirectPersistenceManager=await Go.create(this,[ds(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(f,this,"internal-error"),f.then(()=>{u||l(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,r,a);return()=>{u=!0,g()}}else{const g=e.addObserver(t);return()=>{u=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=BE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var t;if(dr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&iC(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function wd(s){return Zt(s)}class lb{constructor(e){this.auth=e,this.observer=null,this.addObserver=FR(t=>this.observer=t)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function IC(s){yp=s}function CC(s){return yp.loadJS(s)}function kC(){return yp.gapiScript}function NC(s){return`__${s}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(s,e){const t=dp(s,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(Sa(l,e??{}))return a;ms(a,"already-initialized")}return t.initialize({options:e})}function DC(s,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(ds);e!=null&&e.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function jC(s,e,t){const r=wd(s);xe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,l=qE(e),{host:u,port:f}=PC(e),g=f===null?"":`:${f}`,p={url:`${l}//${u}${g}/`},y=Object.freeze({host:u,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){xe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),xe(Sa(p,r.config.emulator)&&Sa(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,al(u)?(pE(`${l}//${u}${g}`),yE("Auth",!0)):MC()}function qE(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function PC(s){const e=qE(s),t=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:cb(r.substr(l.length+1))}}else{const[l,u]=r.split(":");return{host:l,port:cb(u)}}}function cb(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function MC(){function s(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return hs("not implemented")}_getIdTokenResponse(e){return hs("not implemented")}_linkToIdToken(e,t){return hs("not implemented")}_getReauthenticationResolver(e){return hs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ko(s,e){return CE(s,"POST","/v1/accounts:signInWithIdp",bd(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC="http://localhost";class xa extends $E{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new xa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ms("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...l}=t;if(!r||!a)return null;const u=new xa(r,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Ko(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ko(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ko(e,t)}buildRequest(){const e={requestUri:VC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Qc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc extends HE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai extends Wc{constructor(){super("facebook.com")}static credential(e){return xa._fromParams({providerId:ai.PROVIDER_ID,signInMethod:ai.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ai.credentialFromTaggedObject(e)}static credentialFromError(e){return ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ai.credential(e.oauthAccessToken)}catch{return null}}}ai.FACEBOOK_SIGN_IN_METHOD="facebook.com";ai.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi extends Wc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return xa._fromParams({providerId:oi.PROVIDER_ID,signInMethod:oi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return oi.credentialFromTaggedObject(e)}static credentialFromError(e){return oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return oi.credential(t,r)}catch{return null}}}oi.GOOGLE_SIGN_IN_METHOD="google.com";oi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li extends Wc{constructor(){super("github.com")}static credential(e){return xa._fromParams({providerId:li.PROVIDER_ID,signInMethod:li.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return li.credentialFromTaggedObject(e)}static credentialFromError(e){return li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return li.credential(e.oauthAccessToken)}catch{return null}}}li.GITHUB_SIGN_IN_METHOD="github.com";li.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends Wc{constructor(){super("twitter.com")}static credential(e,t){return xa._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return ci.credential(t,r)}catch{return null}}}ci.TWITTER_SIGN_IN_METHOD="twitter.com";ci.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UC(s,e){return CE(s,"POST","/v1/accounts:signUp",bd(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,a=!1){const l=await fr._fromIdTokenResponse(e,r,a),u=ub(r);return new vi({user:l,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const a=ub(r);return new vi({user:e,providerId:a,_tokenResponse:r,operationType:t})}}function ub(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LC(s){var a;if(dr(s.app))return Promise.reject(gi(s));const e=wd(s);if(await e._initializationPromise,(a=e.currentUser)!=null&&a.isAnonymous)return new vi({user:e.currentUser,providerId:null,operationType:"signIn"});const t=await UC(e,{returnSecureToken:!0}),r=await vi._fromIdTokenResponse(e,"signIn",t,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed extends _s{constructor(e,t,r,a){super(t.code,t.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,ed.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,a){return new ed(e,t,r,a)}}function FE(s,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(s):t._getIdTokenResponse(s)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?ed._fromErrorAndOperation(s,l,e,r):l})}async function zC(s,e,t=!1){const r=await Uc(s,e._linkToIdToken(s.auth,await s.getIdToken()),t);return vi._forOperation(s,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BC(s,e,t=!1){const{auth:r}=s;if(dr(r.app))return Promise.reject(gi(r));const a="reauthenticate";try{const l=await Uc(s,FE(r,a,e,s),t);xe(l.idToken,r,"internal-error");const u=gp(l.idToken);xe(u,r,"internal-error");const{sub:f}=u;return xe(s.uid===f,r,"user-mismatch"),vi._forOperation(s,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&ms(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qC(s,e,t=!1){if(dr(s.app))return Promise.reject(gi(s));const r="signIn",a=await FE(s,r,e),l=await vi._fromIdTokenResponse(s,r,a);return t||await s._updateCurrentUser(l.user),l}function $C(s,e,t,r){return Zt(s).onIdTokenChanged(e,t,r)}function HC(s,e,t){return Zt(s).beforeAuthStateChanged(e,t)}function FC(s,e,t,r){return Zt(s).onAuthStateChanged(e,t,r)}function GC(s){return Zt(s).signOut()}const td="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(td,"1"),this.storage.removeItem(td),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC=1e3,QC=10;class KE extends GE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),a=this.localCache[t];r!==a&&e(t,a,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,f,g)=>{this.notifyListeners(u,g)});return}const r=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},l=this.storage.getItem(r);EC()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,QC):a()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},KC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}KE.type="LOCAL";const YC=KE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE extends GE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}QE.type="SESSION";const YE=QE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WC(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const r=new Ed(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:a,data:l}=t.data,u=this.handlersMap[a];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const f=Array.from(u).map(async p=>p(t.origin,l)),g=await WC(f);t.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ed.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(s="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return s+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((f,g)=>{const p=_p("",20);a.port1.start();const y=setTimeout(()=>{g(new Error("unsupported_event"))},r);u={messageChannel:a,onMessage(E){const S=E;if(S.data.eventId===p)switch(S.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(S.data.response);break;default:clearTimeout(y),clearTimeout(l),g(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(){return window}function JC(s){Mr().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(){return typeof Mr().WorkerGlobalScope<"u"&&typeof Mr().importScripts=="function"}async function ZC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function e2(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)==null?void 0:s.controller)||null}function t2(){return WE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE="firebaseLocalStorageDb",n2=1,nd="firebaseLocalStorage",JE="fbase_key";class Xc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Td(s,e){return s.transaction([nd],e?"readwrite":"readonly").objectStore(nd)}function r2(){const s=indexedDB.deleteDatabase(XE);return new Xc(s).toPromise()}function Ng(){const s=indexedDB.open(XE,n2);return new Promise((e,t)=>{s.addEventListener("error",()=>{t(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(nd,{keyPath:JE})}catch(a){t(a)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(nd)?e(r):(r.close(),await r2(),e(await Ng()))})})}async function hb(s,e,t){const r=Td(s,!0).put({[JE]:e,value:t});return new Xc(r).toPromise()}async function s2(s,e){const t=Td(s,!1).get(e),r=await new Xc(t).toPromise();return r===void 0?null:r.value}function db(s,e){const t=Td(s,!0).delete(e);return new Xc(t).toPromise()}const i2=800,a2=3;class ZE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ng(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>a2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return WE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ed._getInstance(t2()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await ZC(),!this.activeServiceWorker)return;this.sender=new XC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||e2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ng();return await hb(e,td,"1"),await db(e,td),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>hb(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>s2(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>db(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Td(a,!1).getAll();return new Xc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),i2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ZE.type="LOCAL";const o2=ZE;new Yc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(s,e){return e?ds(e):(xe(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp extends $E{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ko(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ko(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ko(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function c2(s){return qC(s.auth,new vp(s),s.bypassAuthState)}function u2(s){const{auth:e,user:t}=s;return xe(t,e,"internal-error"),BC(t,new vp(s),s.bypassAuthState)}async function h2(s){const{auth:e,user:t}=s;return xe(t,e,"internal-error"),zC(t,new vp(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(e,t,r,a,l=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:a,tenantId:l,error:u,type:f}=e;if(u){this.reject(u);return}const g={auth:this.auth,requestUri:t,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return c2;case"linkViaPopup":case"linkViaRedirect":return h2;case"reauthViaPopup":case"reauthViaRedirect":return u2;default:ms(this.auth,"internal-error")}}resolve(e){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2=new Yc(2e3,1e4);class Ho extends eT{constructor(e,t,r,a,l){super(e,t,a,l),this.provider=r,this.authWindow=null,this.pollId=null,Ho.currentPopupAction&&Ho.currentPopupAction.cancel(),Ho.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){gs(this.filter.length===1,"Popup operations only handle one event");const e=_p();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Pr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Pr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ho.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if((r=(t=this.authWindow)==null?void 0:t.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,d2.get())};e()}}Ho.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2="pendingRedirect",Bh=new Map;class m2 extends eT{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Bh.get(this.auth._key());if(!e){try{const r=await g2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Bh.set(this.auth._key(),e)}return this.bypassAuthState||Bh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function g2(s,e){const t=_2(e),r=y2(s);if(!await r._isAvailable())return!1;const a=await r._get(t)==="true";return await r._remove(t),a}function p2(s,e){Bh.set(s._key(),e)}function y2(s){return ds(s._redirectPersistence)}function _2(s){return zh(f2,s.config.apiKey,s.name)}async function v2(s,e,t=!1){if(dr(s.app))return Promise.reject(gi(s));const r=wd(s),a=l2(r,e),u=await new m2(r,a,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2=10*60*1e3;class w2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!E2(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!tT(e)){const a=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";t.onError(Pr(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=b2&&this.cachedEventUids.clear(),this.cachedEventUids.has(fb(e))}saveEventToCache(e){this.cachedEventUids.add(fb(e)),this.lastProcessedEventTime=Date.now()}}function fb(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function tT({type:s,error:e}){return s==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function E2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tT(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T2(s,e={}){return ll(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,A2=/^https?/;async function x2(s){if(s.config.emulator)return;const{authorizedDomains:e}=await T2(s);for(const t of e)try{if(R2(t))return}catch{}ms(s,"unauthorized-domain")}function R2(s){const e=Cg(),{protocol:t,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const u=new URL(s);return u.hostname===""&&r===""?t==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!A2.test(t))return!1;if(S2.test(s))return r===s;const a=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2=new Yc(3e4,6e4);function mb(){const s=Mr().___jsl;if(s!=null&&s.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let t=0;t<s.CP.length;t++)s.CP[t]=null}}function C2(s){return new Promise((e,t)=>{var a,l,u;function r(){mb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mb(),t(Pr(s,"network-request-failed"))},timeout:I2.get()})}if((l=(a=Mr().gapi)==null?void 0:a.iframes)!=null&&l.Iframe)e(gapi.iframes.getContext());else if((u=Mr().gapi)!=null&&u.load)r();else{const f=NC("iframefcb");return Mr()[f]=()=>{gapi.load?r():t(Pr(s,"network-request-failed"))},CC(`${kC()}?onload=${f}`).catch(g=>t(g))}}).catch(e=>{throw qh=null,e})}let qh=null;function k2(s){return qh=qh||C2(s),qh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2=new Yc(5e3,15e3),O2="__/auth/iframe",D2="emulator/auth/iframe",j2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},P2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function M2(s){const e=s.config;xe(e.authDomain,s,"auth-domain-config-required");const t=e.emulator?mp(e,D2):`https://${s.config.authDomain}/${O2}`,r={apiKey:e.apiKey,appName:s.name,v:ol},a=P2.get(s.config.apiHost);a&&(r.eid=a);const l=s._getFrameworks();return l.length&&(r.fw=l.join(",")),`${t}?${Qc(r).slice(1)}`}async function V2(s){const e=await k2(s),t=Mr().gapi;return xe(t,s,"internal-error"),e.open({where:document.body,url:M2(s),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:j2,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const u=Pr(s,"network-request-failed"),f=Mr().setTimeout(()=>{l(u)},N2.get());function g(){Mr().clearTimeout(f),a(r)}r.ping(g).then(g,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},L2=500,z2=600,B2="_blank",q2="http://localhost";class gb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $2(s,e,t,r=L2,a=z2){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const g={...U2,width:r.toString(),height:a.toString(),top:l,left:u},p=pn().toLowerCase();t&&(f=PE(p)?B2:t),DE(p)&&(e=e||q2,g.scrollbars="yes");const y=Object.entries(g).reduce((S,[N,V])=>`${S}${N}=${V},`,"");if(wC(p)&&f!=="_self")return H2(e||"",f),new gb(null);const E=window.open(e||"",f,y);xe(E,s,"popup-blocked");try{E.focus()}catch{}return new gb(E)}function H2(s,e){const t=document.createElement("a");t.href=s,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2="__/auth/handler",G2="emulator/auth/handler",K2=encodeURIComponent("fac");async function pb(s,e,t,r,a,l){xe(s.config.authDomain,s,"auth-domain-config-required"),xe(s.config.apiKey,s,"invalid-api-key");const u={apiKey:s.config.apiKey,appName:s.name,authType:t,redirectUrl:r,v:ol,eventId:a};if(e instanceof HE){e.setDefaultLanguage(s.languageCode),u.providerId=e.providerId||"",HR(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,E]of Object.entries({}))u[y]=E}if(e instanceof Wc){const y=e.getScopes().filter(E=>E!=="");y.length>0&&(u.scopes=y.join(","))}s.tenantId&&(u.tid=s.tenantId);const f=u;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const g=await s._getAppCheckToken(),p=g?`#${K2}=${encodeURIComponent(g)}`:"";return`${Q2(s)}?${Qc(f).slice(1)}${p}`}function Q2({config:s}){return s.emulator?mp(s,G2):`https://${s.authDomain}/${F2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag="webStorageSupport";class Y2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=YE,this._completeRedirectFn=v2,this._overrideRedirectResult=p2}async _openPopup(e,t,r,a){var u;gs((u=this.eventManagers[e._key()])==null?void 0:u.manager,"_initialize() not called before _openPopup()");const l=await pb(e,t,r,Cg(),a);return $2(e,l,_p())}async _openRedirect(e,t,r,a){await this._originValidation(e);const l=await pb(e,t,r,Cg(),a);return JC(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(gs(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await V2(e),r=new w2(e);return t.register("authEvent",a=>(xe(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ag,{type:ag},a=>{var u;const l=(u=a==null?void 0:a[0])==null?void 0:u[ag];l!==void 0&&t(!!l),ms(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=x2(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return zE()||jE()||pp()}}const W2=Y2;var yb="@firebase/auth",_b="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Z2(s){Wo(new Aa("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=r.options;xe(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:u,authDomain:f,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:BE(s)},p=new RC(r,a,l,g);return DC(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Wo(new Aa("auth-internal",e=>{const t=wd(e.getProvider("auth").getImmediate());return(r=>new X2(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),mi(yb,_b,J2(s)),mi(yb,_b,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ek=5*60,tk=gE("authIdTokenMaxAge")||ek;let vb=null;const nk=s=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>tk)return;const a=t==null?void 0:t.token;vb!==a&&(vb=a,await fetch(s,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function rk(s=wE()){const e=dp(s,"auth");if(e.isInitialized())return e.getImmediate();const t=OC(s,{popupRedirectResolver:W2,persistence:[o2,YC,YE]}),r=gE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const u=nk(l.toString());HC(t,u,()=>u(t.currentUser)),$C(t,f=>u(f))}}const a=fE("auth");return a&&jC(t,`http://${a}`),t}function sk(){var s;return((s=document.getElementsByTagName("head"))==null?void 0:s[0])??document}IC({loadJS(s){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=a=>{const l=Pr("internal-error");l.customData=a,t(l)},r.type="text/javascript",r.charset="UTF-8",sk().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Z2("Browser");var bb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pi,nT;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,x){function R(){}R.prototype=x.prototype,D.F=x.prototype,D.prototype=new R,D.prototype.constructor=D,D.D=function(M,j,C){for(var I=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)I[Ge-2]=arguments[Ge];return x.prototype[j].apply(M,I)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(D,x,R){R||(R=0);const M=Array(16);if(typeof x=="string")for(var j=0;j<16;++j)M[j]=x.charCodeAt(R++)|x.charCodeAt(R++)<<8|x.charCodeAt(R++)<<16|x.charCodeAt(R++)<<24;else for(j=0;j<16;++j)M[j]=x[R++]|x[R++]<<8|x[R++]<<16|x[R++]<<24;x=D.g[0],R=D.g[1],j=D.g[2];let C=D.g[3],I;I=x+(C^R&(j^C))+M[0]+3614090360&4294967295,x=R+(I<<7&4294967295|I>>>25),I=C+(j^x&(R^j))+M[1]+3905402710&4294967295,C=x+(I<<12&4294967295|I>>>20),I=j+(R^C&(x^R))+M[2]+606105819&4294967295,j=C+(I<<17&4294967295|I>>>15),I=R+(x^j&(C^x))+M[3]+3250441966&4294967295,R=j+(I<<22&4294967295|I>>>10),I=x+(C^R&(j^C))+M[4]+4118548399&4294967295,x=R+(I<<7&4294967295|I>>>25),I=C+(j^x&(R^j))+M[5]+1200080426&4294967295,C=x+(I<<12&4294967295|I>>>20),I=j+(R^C&(x^R))+M[6]+2821735955&4294967295,j=C+(I<<17&4294967295|I>>>15),I=R+(x^j&(C^x))+M[7]+4249261313&4294967295,R=j+(I<<22&4294967295|I>>>10),I=x+(C^R&(j^C))+M[8]+1770035416&4294967295,x=R+(I<<7&4294967295|I>>>25),I=C+(j^x&(R^j))+M[9]+2336552879&4294967295,C=x+(I<<12&4294967295|I>>>20),I=j+(R^C&(x^R))+M[10]+4294925233&4294967295,j=C+(I<<17&4294967295|I>>>15),I=R+(x^j&(C^x))+M[11]+2304563134&4294967295,R=j+(I<<22&4294967295|I>>>10),I=x+(C^R&(j^C))+M[12]+1804603682&4294967295,x=R+(I<<7&4294967295|I>>>25),I=C+(j^x&(R^j))+M[13]+4254626195&4294967295,C=x+(I<<12&4294967295|I>>>20),I=j+(R^C&(x^R))+M[14]+2792965006&4294967295,j=C+(I<<17&4294967295|I>>>15),I=R+(x^j&(C^x))+M[15]+1236535329&4294967295,R=j+(I<<22&4294967295|I>>>10),I=x+(j^C&(R^j))+M[1]+4129170786&4294967295,x=R+(I<<5&4294967295|I>>>27),I=C+(R^j&(x^R))+M[6]+3225465664&4294967295,C=x+(I<<9&4294967295|I>>>23),I=j+(x^R&(C^x))+M[11]+643717713&4294967295,j=C+(I<<14&4294967295|I>>>18),I=R+(C^x&(j^C))+M[0]+3921069994&4294967295,R=j+(I<<20&4294967295|I>>>12),I=x+(j^C&(R^j))+M[5]+3593408605&4294967295,x=R+(I<<5&4294967295|I>>>27),I=C+(R^j&(x^R))+M[10]+38016083&4294967295,C=x+(I<<9&4294967295|I>>>23),I=j+(x^R&(C^x))+M[15]+3634488961&4294967295,j=C+(I<<14&4294967295|I>>>18),I=R+(C^x&(j^C))+M[4]+3889429448&4294967295,R=j+(I<<20&4294967295|I>>>12),I=x+(j^C&(R^j))+M[9]+568446438&4294967295,x=R+(I<<5&4294967295|I>>>27),I=C+(R^j&(x^R))+M[14]+3275163606&4294967295,C=x+(I<<9&4294967295|I>>>23),I=j+(x^R&(C^x))+M[3]+4107603335&4294967295,j=C+(I<<14&4294967295|I>>>18),I=R+(C^x&(j^C))+M[8]+1163531501&4294967295,R=j+(I<<20&4294967295|I>>>12),I=x+(j^C&(R^j))+M[13]+2850285829&4294967295,x=R+(I<<5&4294967295|I>>>27),I=C+(R^j&(x^R))+M[2]+4243563512&4294967295,C=x+(I<<9&4294967295|I>>>23),I=j+(x^R&(C^x))+M[7]+1735328473&4294967295,j=C+(I<<14&4294967295|I>>>18),I=R+(C^x&(j^C))+M[12]+2368359562&4294967295,R=j+(I<<20&4294967295|I>>>12),I=x+(R^j^C)+M[5]+4294588738&4294967295,x=R+(I<<4&4294967295|I>>>28),I=C+(x^R^j)+M[8]+2272392833&4294967295,C=x+(I<<11&4294967295|I>>>21),I=j+(C^x^R)+M[11]+1839030562&4294967295,j=C+(I<<16&4294967295|I>>>16),I=R+(j^C^x)+M[14]+4259657740&4294967295,R=j+(I<<23&4294967295|I>>>9),I=x+(R^j^C)+M[1]+2763975236&4294967295,x=R+(I<<4&4294967295|I>>>28),I=C+(x^R^j)+M[4]+1272893353&4294967295,C=x+(I<<11&4294967295|I>>>21),I=j+(C^x^R)+M[7]+4139469664&4294967295,j=C+(I<<16&4294967295|I>>>16),I=R+(j^C^x)+M[10]+3200236656&4294967295,R=j+(I<<23&4294967295|I>>>9),I=x+(R^j^C)+M[13]+681279174&4294967295,x=R+(I<<4&4294967295|I>>>28),I=C+(x^R^j)+M[0]+3936430074&4294967295,C=x+(I<<11&4294967295|I>>>21),I=j+(C^x^R)+M[3]+3572445317&4294967295,j=C+(I<<16&4294967295|I>>>16),I=R+(j^C^x)+M[6]+76029189&4294967295,R=j+(I<<23&4294967295|I>>>9),I=x+(R^j^C)+M[9]+3654602809&4294967295,x=R+(I<<4&4294967295|I>>>28),I=C+(x^R^j)+M[12]+3873151461&4294967295,C=x+(I<<11&4294967295|I>>>21),I=j+(C^x^R)+M[15]+530742520&4294967295,j=C+(I<<16&4294967295|I>>>16),I=R+(j^C^x)+M[2]+3299628645&4294967295,R=j+(I<<23&4294967295|I>>>9),I=x+(j^(R|~C))+M[0]+4096336452&4294967295,x=R+(I<<6&4294967295|I>>>26),I=C+(R^(x|~j))+M[7]+1126891415&4294967295,C=x+(I<<10&4294967295|I>>>22),I=j+(x^(C|~R))+M[14]+2878612391&4294967295,j=C+(I<<15&4294967295|I>>>17),I=R+(C^(j|~x))+M[5]+4237533241&4294967295,R=j+(I<<21&4294967295|I>>>11),I=x+(j^(R|~C))+M[12]+1700485571&4294967295,x=R+(I<<6&4294967295|I>>>26),I=C+(R^(x|~j))+M[3]+2399980690&4294967295,C=x+(I<<10&4294967295|I>>>22),I=j+(x^(C|~R))+M[10]+4293915773&4294967295,j=C+(I<<15&4294967295|I>>>17),I=R+(C^(j|~x))+M[1]+2240044497&4294967295,R=j+(I<<21&4294967295|I>>>11),I=x+(j^(R|~C))+M[8]+1873313359&4294967295,x=R+(I<<6&4294967295|I>>>26),I=C+(R^(x|~j))+M[15]+4264355552&4294967295,C=x+(I<<10&4294967295|I>>>22),I=j+(x^(C|~R))+M[6]+2734768916&4294967295,j=C+(I<<15&4294967295|I>>>17),I=R+(C^(j|~x))+M[13]+1309151649&4294967295,R=j+(I<<21&4294967295|I>>>11),I=x+(j^(R|~C))+M[4]+4149444226&4294967295,x=R+(I<<6&4294967295|I>>>26),I=C+(R^(x|~j))+M[11]+3174756917&4294967295,C=x+(I<<10&4294967295|I>>>22),I=j+(x^(C|~R))+M[2]+718787259&4294967295,j=C+(I<<15&4294967295|I>>>17),I=R+(C^(j|~x))+M[9]+3951481745&4294967295,D.g[0]=D.g[0]+x&4294967295,D.g[1]=D.g[1]+(j+(I<<21&4294967295|I>>>11))&4294967295,D.g[2]=D.g[2]+j&4294967295,D.g[3]=D.g[3]+C&4294967295}r.prototype.v=function(D,x){x===void 0&&(x=D.length);const R=x-this.blockSize,M=this.C;let j=this.h,C=0;for(;C<x;){if(j==0)for(;C<=R;)a(this,D,C),C+=this.blockSize;if(typeof D=="string"){for(;C<x;)if(M[j++]=D.charCodeAt(C++),j==this.blockSize){a(this,M),j=0;break}}else for(;C<x;)if(M[j++]=D[C++],j==this.blockSize){a(this,M),j=0;break}}this.h=j,this.o+=x},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var x=1;x<D.length-8;++x)D[x]=0;x=this.o*8;for(var R=D.length-8;R<D.length;++R)D[R]=x&255,x/=256;for(this.v(D),D=Array(16),x=0,R=0;R<4;++R)for(let M=0;M<32;M+=8)D[x++]=this.g[R]>>>M&255;return D};function l(D,x){var R=f;return Object.prototype.hasOwnProperty.call(R,D)?R[D]:R[D]=x(D)}function u(D,x){this.h=x;const R=[];let M=!0;for(let j=D.length-1;j>=0;j--){const C=D[j]|0;M&&C==x||(R[j]=C,M=!1)}this.g=R}var f={};function g(D){return-128<=D&&D<128?l(D,function(x){return new u([x|0],x<0?-1:0)}):new u([D|0],D<0?-1:0)}function p(D){if(isNaN(D)||!isFinite(D))return E;if(D<0)return U(p(-D));const x=[];let R=1;for(let M=0;D>=R;M++)x[M]=D/R|0,R*=4294967296;return new u(x,0)}function y(D,x){if(D.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(D.charAt(0)=="-")return U(y(D.substring(1),x));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=p(Math.pow(x,8));let M=E;for(let C=0;C<D.length;C+=8){var j=Math.min(8,D.length-C);const I=parseInt(D.substring(C,C+j),x);j<8?(j=p(Math.pow(x,j)),M=M.j(j).add(p(I))):(M=M.j(R),M=M.add(p(I)))}return M}var E=g(0),S=g(1),N=g(16777216);s=u.prototype,s.m=function(){if(z(this))return-U(this).m();let D=0,x=1;for(let R=0;R<this.g.length;R++){const M=this.i(R);D+=(M>=0?M:4294967296+M)*x,x*=4294967296}return D},s.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(V(this))return"0";if(z(this))return"-"+U(this).toString(D);const x=p(Math.pow(D,6));var R=this;let M="";for(;;){const j=ce(R,x).g;R=se(R,j.j(x));let C=((R.g.length>0?R.g[0]:R.h)>>>0).toString(D);if(R=j,V(R))return C+M;for(;C.length<6;)C="0"+C;M=C+M}},s.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function V(D){if(D.h!=0)return!1;for(let x=0;x<D.g.length;x++)if(D.g[x]!=0)return!1;return!0}function z(D){return D.h==-1}s.l=function(D){return D=se(this,D),z(D)?-1:V(D)?0:1};function U(D){const x=D.g.length,R=[];for(let M=0;M<x;M++)R[M]=~D.g[M];return new u(R,~D.h).add(S)}s.abs=function(){return z(this)?U(this):this},s.add=function(D){const x=Math.max(this.g.length,D.g.length),R=[];let M=0;for(let j=0;j<=x;j++){let C=M+(this.i(j)&65535)+(D.i(j)&65535),I=(C>>>16)+(this.i(j)>>>16)+(D.i(j)>>>16);M=I>>>16,C&=65535,I&=65535,R[j]=I<<16|C}return new u(R,R[R.length-1]&-2147483648?-1:0)};function se(D,x){return D.add(U(x))}s.j=function(D){if(V(this)||V(D))return E;if(z(this))return z(D)?U(this).j(U(D)):U(U(this).j(D));if(z(D))return U(this.j(U(D)));if(this.l(N)<0&&D.l(N)<0)return p(this.m()*D.m());const x=this.g.length+D.g.length,R=[];for(var M=0;M<2*x;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(let j=0;j<D.g.length;j++){const C=this.i(M)>>>16,I=this.i(M)&65535,Ge=D.i(j)>>>16,Le=D.i(j)&65535;R[2*M+2*j]+=I*Le,W(R,2*M+2*j),R[2*M+2*j+1]+=C*Le,W(R,2*M+2*j+1),R[2*M+2*j+1]+=I*Ge,W(R,2*M+2*j+1),R[2*M+2*j+2]+=C*Ge,W(R,2*M+2*j+2)}for(D=0;D<x;D++)R[D]=R[2*D+1]<<16|R[2*D];for(D=x;D<2*x;D++)R[D]=0;return new u(R,0)};function W(D,x){for(;(D[x]&65535)!=D[x];)D[x+1]+=D[x]>>>16,D[x]&=65535,x++}function Y(D,x){this.g=D,this.h=x}function ce(D,x){if(V(x))throw Error("division by zero");if(V(D))return new Y(E,E);if(z(D))return x=ce(U(D),x),new Y(U(x.g),U(x.h));if(z(x))return x=ce(D,U(x)),new Y(U(x.g),x.h);if(D.g.length>30){if(z(D)||z(x))throw Error("slowDivide_ only works with positive integers.");for(var R=S,M=x;M.l(D)<=0;)R=he(R),M=he(M);var j=ue(R,1),C=ue(M,1);for(M=ue(M,2),R=ue(R,2);!V(M);){var I=C.add(M);I.l(D)<=0&&(j=j.add(R),C=I),M=ue(M,1),R=ue(R,1)}return x=se(D,j.j(x)),new Y(j,x)}for(j=E;D.l(x)>=0;){for(R=Math.max(1,Math.floor(D.m()/x.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),C=p(R),I=C.j(x);z(I)||I.l(D)>0;)R-=M,C=p(R),I=C.j(x);V(C)&&(C=S),j=j.add(C),D=se(D,I)}return new Y(j,D)}s.B=function(D){return ce(this,D).h},s.and=function(D){const x=Math.max(this.g.length,D.g.length),R=[];for(let M=0;M<x;M++)R[M]=this.i(M)&D.i(M);return new u(R,this.h&D.h)},s.or=function(D){const x=Math.max(this.g.length,D.g.length),R=[];for(let M=0;M<x;M++)R[M]=this.i(M)|D.i(M);return new u(R,this.h|D.h)},s.xor=function(D){const x=Math.max(this.g.length,D.g.length),R=[];for(let M=0;M<x;M++)R[M]=this.i(M)^D.i(M);return new u(R,this.h^D.h)};function he(D){const x=D.g.length+1,R=[];for(let M=0;M<x;M++)R[M]=D.i(M)<<1|D.i(M-1)>>>31;return new u(R,D.h)}function ue(D,x){const R=x>>5;x%=32;const M=D.g.length-R,j=[];for(let C=0;C<M;C++)j[C]=x>0?D.i(C+R)>>>x|D.i(C+R+1)<<32-x:D.i(C+R);return new u(j,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,nT=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=y,pi=u}).apply(typeof bb<"u"?bb:typeof self<"u"?self:typeof window<"u"?window:{});var kh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rT,Tc,sT,$h,Og,iT,aT,oT;(function(){var s,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof kh=="object"&&kh];for(var _=0;_<h.length;++_){var b=h[_];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=t(this);function a(h,_){if(_)e:{var b=r;h=h.split(".");for(var A=0;A<h.length-1;A++){var q=h[A];if(!(q in b))break e;b=b[q]}h=h[h.length-1],A=b[h],_=_(A),_!=A&&_!=null&&e(b,h,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(_){var b=[],A;for(A in _)Object.prototype.hasOwnProperty.call(_,A)&&b.push([A,_[A]]);return b}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function f(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function g(h,_,b){return h.call.apply(h.bind,arguments)}function p(h,_,b){return p=g,p.apply(null,arguments)}function y(h,_){var b=Array.prototype.slice.call(arguments,1);return function(){var A=b.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function E(h,_){function b(){}b.prototype=_.prototype,h.Z=_.prototype,h.prototype=new b,h.prototype.constructor=h,h.Ob=function(A,q,K){for(var oe=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)oe[Ie-2]=arguments[Ie];return _.prototype[q].apply(A,oe)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function N(h){const _=h.length;if(_>0){const b=Array(_);for(let A=0;A<_;A++)b[A]=h[A];return b}return[]}function V(h,_){for(let A=1;A<arguments.length;A++){const q=arguments[A];var b=typeof q;if(b=b!="object"?b:q?Array.isArray(q)?"array":b:"null",b=="array"||b=="object"&&typeof q.length=="number"){b=h.length||0;const K=q.length||0;h.length=b+K;for(let oe=0;oe<K;oe++)h[b+oe]=q[oe]}else h.push(q)}}class z{constructor(_,b){this.i=_,this.j=b,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function U(h){u.setTimeout(()=>{throw h},0)}function se(){var h=D;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class W{constructor(){this.h=this.g=null}add(_,b){const A=Y.get();A.set(_,b),this.h?this.h.next=A:this.g=A,this.h=A}}var Y=new z(()=>new ce,h=>h.reset());class ce{constructor(){this.next=this.g=this.h=null}set(_,b){this.h=_,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let he,ue=!1,D=new W,x=()=>{const h=Promise.resolve(void 0);he=()=>{h.then(R)}};function R(){for(var h;h=se();){try{h.h.call(h.g)}catch(b){U(b)}var _=Y;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}ue=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var C=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const b=()=>{};u.addEventListener("test",b,_),u.removeEventListener("test",b,_)}catch{}return h}();function I(h){return/^[\s\xa0]*$/.test(h)}function Ge(h,_){j.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}E(Ge,j),Ge.prototype.init=function(h,_){const b=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(b=="mouseover"?_=h.fromElement:b=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Ge.Z.h.call(this)},Ge.prototype.h=function(){Ge.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Le="closure_listenable_"+(Math.random()*1e6|0),Q=0;function ae(h,_,b,A,q){this.listener=h,this.proxy=null,this.src=_,this.type=b,this.capture=!!A,this.ha=q,this.key=++Q,this.da=this.fa=!1}function re(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function F(h,_,b){for(const A in h)_.call(b,h[A],A,h)}function k(h,_){for(const b in h)_.call(void 0,h[b],b,h)}function J(h){const _={};for(const b in h)_[b]=h[b];return _}const le="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(h,_){let b,A;for(let q=1;q<arguments.length;q++){A=arguments[q];for(b in A)h[b]=A[b];for(let K=0;K<le.length;K++)b=le[K],Object.prototype.hasOwnProperty.call(A,b)&&(h[b]=A[b])}}function de(h){this.src=h,this.g={},this.h=0}de.prototype.add=function(h,_,b,A,q){const K=h.toString();h=this.g[K],h||(h=this.g[K]=[],this.h++);const oe=we(h,_,A,q);return oe>-1?(_=h[oe],b||(_.fa=!1)):(_=new ae(_,this.src,K,!!A,q),_.fa=b,h.push(_)),_};function Ne(h,_){const b=_.type;if(b in h.g){var A=h.g[b],q=Array.prototype.indexOf.call(A,_,void 0),K;(K=q>=0)&&Array.prototype.splice.call(A,q,1),K&&(re(_),h.g[b].length==0&&(delete h.g[b],h.h--))}}function we(h,_,b,A){for(let q=0;q<h.length;++q){const K=h[q];if(!K.da&&K.listener==_&&K.capture==!!b&&K.ha==A)return q}return-1}var ze="closure_lm_"+(Math.random()*1e6|0),Qe={};function ln(h,_,b,A,q){if(Array.isArray(_)){for(let K=0;K<_.length;K++)ln(h,_[K],b,A,q);return null}return b=ou(b),h&&h[Le]?h.J(_,b,f(A)?!!A.capture:!1,q):yr(h,_,b,!1,A,q)}function yr(h,_,b,A,q,K){if(!_)throw Error("Invalid event type");const oe=f(q)?!!q.capture:!!q;let Ie=ml(h);if(Ie||(h[ze]=Ie=new de(h)),b=Ie.add(_,b,A,oe,K),b.proxy)return b;if(A=_r(),b.proxy=A,A.src=h,A.listener=b,h.addEventListener)C||(q=oe),q===void 0&&(q=!1),h.addEventListener(_.toString(),A,q);else if(h.attachEvent)h.attachEvent(Pa(_.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return b}function _r(){function h(b){return _.call(h.src,h.listener,b)}const _=Bd;return h}function Zn(h,_,b,A,q){if(Array.isArray(_))for(var K=0;K<_.length;K++)Zn(h,_[K],b,A,q);else A=f(A)?!!A.capture:!!A,b=ou(b),h&&h[Le]?(h=h.i,K=String(_).toString(),K in h.g&&(_=h.g[K],b=we(_,b,A,q),b>-1&&(re(_[b]),Array.prototype.splice.call(_,b,1),_.length==0&&(delete h.g[K],h.h--)))):h&&(h=ml(h))&&(_=h.g[_.toString()],h=-1,_&&(h=we(_,b,A,q)),(b=h>-1?_[h]:null)&&Ci(b))}function Ci(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[Le])Ne(_.i,h);else{var b=h.type,A=h.proxy;_.removeEventListener?_.removeEventListener(b,A,h.capture):_.detachEvent?_.detachEvent(Pa(b),A):_.addListener&&_.removeListener&&_.removeListener(A),(b=ml(_))?(Ne(b,h),b.h==0&&(b.src=null,_[ze]=null)):re(h)}}}function Pa(h){return h in Qe?Qe[h]:Qe[h]="on"+h}function Bd(h,_){if(h.da)h=!0;else{_=new Ge(_,this);const b=h.listener,A=h.ha||h.src;h.fa&&Ci(h),h=b.call(A,_)}return h}function ml(h){return h=h[ze],h instanceof de?h:null}var En="__closure_events_fn_"+(Math.random()*1e9>>>0);function ou(h){return typeof h=="function"?h:(h[En]||(h[En]=function(_){return h.handleEvent(_)}),h[En])}function Vt(){M.call(this),this.i=new de(this),this.M=this,this.G=null}E(Vt,M),Vt.prototype[Le]=!0,Vt.prototype.removeEventListener=function(h,_,b,A){Zn(this,h,_,b,A)};function Gt(h,_){var b,A=h.G;if(A)for(b=[];A;A=A.G)b.push(A);if(h=h.M,A=_.type||_,typeof _=="string")_=new j(_,h);else if(_ instanceof j)_.target=_.target||h;else{var q=_;_=new j(A,h),ie(_,q)}q=!0;let K,oe;if(b)for(oe=b.length-1;oe>=0;oe--)K=_.g=b[oe],q=qr(K,A,!0,_)&&q;if(K=_.g=h,q=qr(K,A,!0,_)&&q,q=qr(K,A,!1,_)&&q,b)for(oe=0;oe<b.length;oe++)K=_.g=b[oe],q=qr(K,A,!1,_)&&q}Vt.prototype.N=function(){if(Vt.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const b=h.g[_];for(let A=0;A<b.length;A++)re(b[A]);delete h.g[_],h.h--}}this.G=null},Vt.prototype.J=function(h,_,b,A){return this.i.add(String(h),_,!1,b,A)},Vt.prototype.K=function(h,_,b,A){return this.i.add(String(h),_,!0,b,A)};function qr(h,_,b,A){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let q=!0;for(let K=0;K<_.length;++K){const oe=_[K];if(oe&&!oe.da&&oe.capture==b){const Ie=oe.listener,ht=oe.ha||oe.src;oe.fa&&Ne(h.i,oe),q=Ie.call(ht,A)!==!1&&q}}return q&&!A.defaultPrevented}function qd(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(h,_||0)}function gl(h){h.g=qd(()=>{h.g=null,h.i&&(h.i=!1,gl(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class $d extends M{constructor(_,b){super(),this.m=_,this.l=b,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:gl(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ki(h){M.call(this),this.h=h,this.g={}}E(ki,M);var vs=[];function cn(h){F(h.g,function(_,b){this.g.hasOwnProperty(b)&&Ci(_)},h),h.g={}}ki.prototype.N=function(){ki.Z.N.call(this),cn(this)},ki.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ln=u.JSON.stringify,yn=u.JSON.parse,Hd=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function lu(){}function cu(){}var vr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function bs(){j.call(this,"d")}E(bs,j);function er(){j.call(this,"c")}E(er,j);var zn={},ws=null;function Ma(){return ws=ws||new Vt}zn.Ia="serverreachability";function pl(h){j.call(this,zn.Ia,h)}E(pl,j);function Es(h){const _=Ma();Gt(_,new pl(_))}zn.STAT_EVENT="statevent";function Va(h,_){j.call(this,zn.STAT_EVENT,h),this.stat=_}E(Va,j);function Et(h){const _=Ma();Gt(_,new Va(_,h))}zn.Ja="timingevent";function uu(h,_){j.call(this,zn.Ja,h),this.size=_}E(uu,j);function Ts(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},_)}function Ss(){this.g=!0}Ss.prototype.ua=function(){this.g=!1};function yl(h,_,b,A,q,K){h.info(function(){if(h.g)if(K){var oe="",Ie=K.split("&");for(let Xe=0;Xe<Ie.length;Xe++){var ht=Ie[Xe].split("=");if(ht.length>1){const At=ht[0];ht=ht[1];const Cn=At.split("_");oe=Cn.length>=2&&Cn[1]=="type"?oe+(At+"="+ht+"&"):oe+(At+"=redacted&")}}}else oe=null;else oe=K;return"XMLHTTP REQ ("+A+") [attempt "+q+"]: "+_+`
`+b+`
`+oe})}function _l(h,_,b,A,q,K,oe){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+q+"]: "+_+`
`+b+`
`+K+" "+oe})}function $r(h,_,b,A){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+br(h,b)+(A?" "+A:"")})}function Fd(h,_){h.info(function(){return"TIMEOUT: "+_})}Ss.prototype.info=function(){};function br(h,_){if(!h.g)return _;if(!_)return null;try{const K=JSON.parse(_);if(K){for(h=0;h<K.length;h++)if(Array.isArray(K[h])){var b=K[h];if(!(b.length<2)){var A=b[1];if(Array.isArray(A)&&!(A.length<1)){var q=A[0];if(q!="noop"&&q!="stop"&&q!="close")for(let oe=1;oe<A.length;oe++)A[oe]=""}}}}return Ln(K)}catch{return _}}var Tt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},en={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Hr;function Ni(){}E(Ni,lu),Ni.prototype.g=function(){return new XMLHttpRequest},Hr=new Ni;function Oi(h){return encodeURIComponent(String(h))}function Gd(h){var _=1;h=h.split(":");const b=[];for(;_>0&&h.length;)b.push(h.shift()),_--;return h.length&&b.push(h.join(":")),b}function tr(h,_,b,A){this.j=h,this.i=_,this.l=b,this.S=A||1,this.V=new ki(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new As}function As(){this.i=null,this.g="",this.h=!1}var Ua={},wr={};function Er(h,_,b){h.M=1,h.A=Gr(gt(_)),h.u=b,h.R=!0,xs(h,null)}function xs(h,_){h.F=Date.now(),Di(h),h.B=gt(h.A);var b=h.B,A=h.S;Array.isArray(A)||(A=[String(A)]),mu(b.i,"t",A),h.C=0,b=h.j.L,h.h=new As,h.g=Qa(h.j,b?_:null,!h.u),h.P>0&&(h.O=new $d(p(h.Y,h,h.g),h.P)),_=h.V,b=h.g,A=h.ba;var q="readystatechange";Array.isArray(q)||(q&&(vs[0]=q.toString()),q=vs);for(let K=0;K<q.length;K++){const oe=ln(b,q[K],A||_.handleEvent,!1,_.h||_);if(!oe)break;_.g[oe.key]=oe}_=h.J?J(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),Es(),yl(h.i,h.v,h.B,h.l,h.S,h.u)}tr.prototype.ba=function(h){h=h.target;const _=this.O;_&&un(h)==3?_.j():this.Y(h)},tr.prototype.Y=function(h){try{if(h==this.g)e:{const Ie=un(this.g),ht=this.g.ya(),Xe=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||Hi(this.g)))){this.K||Ie!=4||ht==7||(ht==8||Xe<=0?Es(3):Es(2)),Sr(this);var _=this.g.ca();this.X=_;var b=Rs(this);if(this.o=_==200,_l(this.i,this.v,this.B,this.l,this.S,Ie,_),this.o){if(this.U&&!this.L){t:{if(this.g){var A,q=this.g;if((A=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(A)){var K=A;break t}}K=null}if(h=K)$r(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,La(this,h);else{this.o=!1,this.m=3,Et(12),Ar(this),ji(this);break e}}if(this.R){h=!0;let At;for(;!this.K&&this.C<b.length;)if(At=hu(this,b),At==wr){Ie==4&&(this.m=4,Et(14),h=!1),$r(this.i,this.l,null,"[Incomplete Response]");break}else if(At==Ua){this.m=4,Et(15),$r(this.i,this.l,b,"[Invalid Chunk]"),h=!1;break}else $r(this.i,this.l,At,null),La(this,At);if(St(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||b.length!=0||this.h.h||(this.m=1,Et(16),h=!1),this.o=this.o&&h,!h)$r(this.i,this.l,b,"[Invalid Chunked Response]"),Ar(this),ji(this);else if(b.length>0&&!this.W){this.W=!0;var oe=this.j;oe.g==this&&oe.aa&&!oe.P&&(oe.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Il(oe),oe.P=!0,Et(11))}}else $r(this.i,this.l,b,null),La(this,b);Ie==4&&Ar(this),this.o&&!this.K&&(Ie==4?Cl(this.j,this):(this.o=!1,Di(this)))}else Fi(this.g),_==400&&b.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),Ar(this),ji(this)}}}catch{}finally{}};function Rs(h){if(!St(h))return h.g.la();const _=Hi(h.g);if(_==="")return"";let b="";const A=_.length,q=un(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Ar(h),ji(h),"";h.h.i=new u.TextDecoder}for(let K=0;K<A;K++)h.h.h=!0,b+=h.h.i.decode(_[K],{stream:!(q&&K==A-1)});return _.length=0,h.h.g+=b,h.C=0,h.h.g}function St(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function hu(h,_){var b=h.C,A=_.indexOf(`
`,b);return A==-1?wr:(b=Number(_.substring(b,A)),isNaN(b)?Ua:(A+=1,A+b>_.length?wr:(_=_.slice(A,A+b),h.C=A+b,_)))}tr.prototype.cancel=function(){this.K=!0,Ar(this)};function Di(h){h.T=Date.now()+h.H,Tr(h,h.H)}function Tr(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Ts(p(h.aa,h),_)}function Sr(h){h.D&&(u.clearTimeout(h.D),h.D=null)}tr.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Fd(this.i,this.B),this.M!=2&&(Es(),Et(17)),Ar(this),this.m=2,ji(this)):Tr(this,this.T-h)};function ji(h){h.j.I==0||h.K||Cl(h.j,h)}function Ar(h){Sr(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,cn(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function La(h,_){try{var b=h.j;if(b.I!=0&&(b.g==h||Vi(b.h,h))){if(!h.L&&Vi(b.h,h)&&b.I==3){try{var A=b.Ba.g.parse(_)}catch{A=null}if(Array.isArray(A)&&A.length==3){var q=A;if(q[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<h.F)Ka(b),xr(b);else break e;Rl(b),Et(18)}}else b.xa=q[1],0<b.xa-b.K&&q[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=Ts(p(b.Va,b),6e3));Bn(b.h)<=1&&b.ta&&(b.ta=void 0)}else Yr(b,11)}else if((h.L||b.g==h)&&Ka(b),!I(_))for(q=b.Ba.g.parse(_),_=0;_<q.length;_++){let Xe=q[_];const At=Xe[0];if(!(At<=b.K))if(b.K=At,Xe=Xe[1],b.I==2)if(Xe[0]=="c"){b.M=Xe[1],b.ba=Xe[2];const Cn=Xe[3];Cn!=null&&(b.ka=Cn,b.j.info("VER="+b.ka));const Rr=Xe[4];Rr!=null&&(b.za=Rr,b.j.info("SVER="+b.za));const sr=Xe[5];sr!=null&&typeof sr=="number"&&sr>0&&(A=1.5*sr,b.O=A,b.j.info("backChannelRequestTimeoutMs_="+A)),A=b;const ir=h.g;if(ir){const ar=ir.g?ir.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ar){var K=A.h;K.g||ar.indexOf("spdy")==-1&&ar.indexOf("quic")==-1&&ar.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(za(K,K.h),K.h=null))}if(A.G){const Nl=ir.g?ir.g.getResponseHeader("X-HTTP-Session-Id"):null;Nl&&(A.wa=Nl,et(A.J,A.G,Nl))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-h.F,b.j.info("Handshake RTT: "+b.T+"ms")),A=b;var oe=h;if(A.na=Tu(A,A.L?A.ba:null,A.W),oe.L){Fr(A.h,oe);var Ie=oe,ht=A.O;ht&&(Ie.H=ht),Ie.D&&(Sr(Ie),Di(Ie)),A.g=oe}else vu(A);b.i.length>0&&Yi(b)}else Xe[0]!="stop"&&Xe[0]!="close"||Yr(b,7);else b.I==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?Yr(b,7):Ki(b):Xe[0]!="noop"&&b.l&&b.l.qa(Xe),b.A=0)}}Es(4)}catch{}}var Kd=class{constructor(h,_){this.g=h,this.map=_}};function Pi(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Mi(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Bn(h){return h.h?1:h.g?h.g.size:0}function Vi(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function za(h,_){h.g?h.g.add(_):h.h=_}function Fr(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}Pi.prototype.cancel=function(){if(this.i=Ba(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Ba(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const b of h.g.values())_=_.concat(b.G);return _}return N(h.i)}var qa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qd(h,_){if(h){h=h.split("&");for(let b=0;b<h.length;b++){const A=h[b].indexOf("=");let q,K=null;A>=0?(q=h[b].substring(0,A),K=h[b].substring(A+1)):q=h[b],_(q,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function nr(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof nr?(this.l=h.l,Is(this,h.j),this.o=h.o,this.g=h.g,Ui(this,h.u),this.h=h.h,Cs(this,gu(h.i)),this.m=h.m):h&&(_=String(h).match(qa))?(this.l=!1,Is(this,_[1]||"",!0),this.o=Li(_[2]||""),this.g=Li(_[3]||"",!0),Ui(this,_[4]),this.h=Li(_[5]||"",!0),Cs(this,_[6]||"",!0),this.m=Li(_[7]||"")):(this.l=!1,this.i=new qn(null,this.l))}nr.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(Kt(_,bl,!0),":");var b=this.g;return(b||_=="file")&&(h.push("//"),(_=this.o)&&h.push(Kt(_,bl,!0),"@"),h.push(Oi(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&h.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&h.push("/"),h.push(Kt(b,b.charAt(0)=="/"?ks:wl,!0))),(b=this.i.toString())&&h.push("?",b),(b=this.m)&&h.push("#",Kt(b,fu)),h.join("")},nr.prototype.resolve=function(h){const _=gt(this);let b=!!h.j;b?Is(_,h.j):b=!!h.o,b?_.o=h.o:b=!!h.g,b?_.g=h.g:b=h.u!=null;var A=h.h;if(b)Ui(_,h.u);else if(b=!!h.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var q=_.h.lastIndexOf("/");q!=-1&&(A=_.h.slice(0,q+1)+A)}if(q=A,q==".."||q==".")A="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){A=q.lastIndexOf("/",0)==0,q=q.split("/");const K=[];for(let oe=0;oe<q.length;){const Ie=q[oe++];Ie=="."?A&&oe==q.length&&K.push(""):Ie==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),A&&oe==q.length&&K.push("")):(K.push(Ie),A=!0)}A=K.join("/")}else A=q}return b?_.h=A:b=h.i.toString()!=="",b?Cs(_,gu(h.i)):b=!!h.m,b&&(_.m=h.m),_};function gt(h){return new nr(h)}function Is(h,_,b){h.j=b?Li(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function Ui(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function Cs(h,_,b){_ instanceof qn?(h.i=_,Sl(h.i,h.l)):(b||(_=Kt(_,du)),h.i=new qn(_,h.l))}function et(h,_,b){h.i.set(_,b)}function Gr(h){return et(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Li(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Kt(h,_,b){return typeof h=="string"?(h=encodeURI(h).replace(_,vl),b&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function vl(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var bl=/[#\/\?@]/g,wl=/[#\?:]/g,ks=/[#\?]/g,du=/[#\?@]/g,fu=/#/g;function qn(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function Kr(h){h.g||(h.g=new Map,h.h=0,h.i&&Qd(h.i,function(_,b){h.add(decodeURIComponent(_.replace(/\+/g," ")),b)}))}s=qn.prototype,s.add=function(h,_){Kr(this),this.i=null,h=rr(this,h);let b=this.g.get(h);return b||this.g.set(h,b=[]),b.push(_),this.h+=1,this};function El(h,_){Kr(h),_=rr(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function Tl(h,_){return Kr(h),_=rr(h,_),h.g.has(_)}s.forEach=function(h,_){Kr(this),this.g.forEach(function(b,A){b.forEach(function(q){h.call(_,q,A,this)},this)},this)};function $a(h,_){Kr(h);let b=[];if(typeof _=="string")Tl(h,_)&&(b=b.concat(h.g.get(rr(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)b=b.concat(h[_]);return b}s.set=function(h,_){return Kr(this),this.i=null,h=rr(this,h),Tl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},s.get=function(h,_){return h?(h=$a(this,h),h.length>0?String(h[0]):_):_};function mu(h,_,b){El(h,_),b.length>0&&(h.i=null,h.g.set(rr(h,_),N(b)),h.h+=b.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let A=0;A<_.length;A++){var b=_[A];const q=Oi(b);b=$a(this,b);for(let K=0;K<b.length;K++){let oe=q;b[K]!==""&&(oe+="="+Oi(b[K])),h.push(oe)}}return this.i=h.join("&")};function gu(h){const _=new qn;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function rr(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function Sl(h,_){_&&!h.j&&(Kr(h),h.i=null,h.g.forEach(function(b,A){const q=A.toLowerCase();A!=q&&(El(this,A),mu(this,q,b))},h)),h.j=_}function Al(h,_){const b=new Ss;if(u.Image){const A=new Image;A.onload=y(_n,b,"TestLoadImage: loaded",!0,_,A),A.onerror=y(_n,b,"TestLoadImage: error",!1,_,A),A.onabort=y(_n,b,"TestLoadImage: abort",!1,_,A),A.ontimeout=y(_n,b,"TestLoadImage: timeout",!1,_,A),u.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else _(!1)}function Ns(h,_){const b=new Ss,A=new AbortController,q=setTimeout(()=>{A.abort(),_n(b,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:A.signal}).then(K=>{clearTimeout(q),K.ok?_n(b,"TestPingServer: ok",!0,_):_n(b,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(q),_n(b,"TestPingServer: error",!1,_)})}function _n(h,_,b,A,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),A(b)}catch{}}function pu(){this.g=new Hd}function zi(h){this.i=h.Sb||null,this.h=h.ab||!1}E(zi,lu),zi.prototype.g=function(){return new Bi(this.i,this.h)};function Bi(h,_){Vt.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(Bi,Vt),s=Bi.prototype,s.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,Qr(this)},s.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,vn(this)),this.readyState=0},s.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Qr(this)),this.g&&(this.readyState=3,Qr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Os(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Os(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}s.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?vn(this):Qr(this),this.readyState==3&&Os(this)}},s.Oa=function(h){this.g&&(this.response=this.responseText=h,vn(this))},s.Na=function(h){this.g&&(this.response=h,vn(this))},s.ga=function(){this.g&&vn(this)};function vn(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Qr(h)}s.setRequestHeader=function(h,_){this.A.append(h,_)},s.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var b=_.next();!b.done;)b=b.value,h.push(b[0]+": "+b[1]),b=_.next();return h.join(`\r
`)};function Qr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Bi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Ds(h){let _="";return F(h,function(b,A){_+=A,_+=":",_+=b,_+=`\r
`}),_}function $n(h,_,b){e:{for(A in b){var A=!1;break e}A=!0}A||(b=Ds(b),typeof h=="string"?b!=null&&Oi(b):et(h,_,b))}function at(h){Vt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(at,Vt);var Ha=/^https?$/i,yu=["POST","PUT"];s=at.prototype,s.Fa=function(h){this.H=h},s.ea=function(h,_,b,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Hr.g(),this.g.onreadystatechange=S(p(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(K){qi(this,K);return}if(h=b||"",b=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var q in A)b.set(q,A[q]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const K of A.keys())b.set(K,A.get(K));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(b.keys()).find(K=>K.toLowerCase()=="content-type"),q=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(yu,_,void 0)>=0)||A||q||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,oe]of b)this.g.setRequestHeader(K,oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(K){qi(this,K)}};function qi(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,$i(h),Ut(h)}function $i(h){h.A||(h.A=!0,Gt(h,"complete"),Gt(h,"error"))}s.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Gt(this,"complete"),Gt(this,"abort"),Ut(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ut(this,!0)),at.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?xl(this):this.Xa())},s.Xa=function(){xl(this)};function xl(h){if(h.h&&typeof l<"u"){if(h.v&&un(h)==4)setTimeout(h.Ca.bind(h),0);else if(Gt(h,"readystatechange"),un(h)==4){h.h=!1;try{const K=h.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var b;if(!(b=_)){var A;if(A=K===0){let oe=String(h.D).match(qa)[1]||null;!oe&&u.self&&u.self.location&&(oe=u.self.location.protocol.slice(0,-1)),A=!Ha.test(oe?oe.toLowerCase():"")}b=A}if(b)Gt(h,"complete"),Gt(h,"success");else{h.o=6;try{var q=un(h)>2?h.g.statusText:""}catch{q=""}h.l=q+" ["+h.ca()+"]",$i(h)}}finally{Ut(h)}}}}function Ut(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const b=h.g;h.g=null,_||Gt(h,"ready");try{b.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function un(h){return h.g?h.g.readyState:0}s.ca=function(){try{return un(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),yn(_)}};function Hi(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Fi(h){const _={};h=(h.g&&un(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(I(h[A]))continue;var b=Gd(h[A]);const q=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const K=_[q]||[];_[q]=K,K.push(b)}k(_,function(A){return A.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gi(h,_,b){return b&&b.internalChannelParams&&b.internalChannelParams[h]||_}function Fa(h){this.za=0,this.i=[],this.j=new Ss,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Gi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Gi("baseRetryDelayMs",5e3,h),this.Za=Gi("retryDelaySeedMs",1e4,h),this.Ta=Gi("forwardChannelMaxRetries",2,h),this.va=Gi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Pi(h&&h.concurrentRequestLimit),this.Ba=new pu,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Fa.prototype,s.ka=8,s.I=1,s.connect=function(h,_,b,A){Et(0),this.W=h,this.H=_||{},b&&A!==void 0&&(this.H.OSID=b,this.H.OAID=A),this.F=this.X,this.J=Tu(this,null,this.W),Yi(this)};function Ki(h){if(Qi(h),h.I==3){var _=h.V++,b=gt(h.J);if(et(b,"SID",h.M),et(b,"RID",_),et(b,"TYPE","terminate"),Wi(h,b),_=new tr(h,h.j,_),_.M=2,_.A=Gr(gt(b)),b=!1,u.navigator&&u.navigator.sendBeacon)try{b=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!b&&u.Image&&(new Image().src=_.A,b=!0),b||(_.g=Qa(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Di(_)}Eu(h)}function xr(h){h.g&&(Il(h),h.g.cancel(),h.g=null)}function Qi(h){xr(h),h.v&&(u.clearTimeout(h.v),h.v=null),Ka(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function Yi(h){if(!Mi(h.h)&&!h.m){h.m=!0;var _=h.Ea;he||x(),ue||(he(),ue=!0),D.add(_,h),h.D=0}}function Yd(h,_){return Bn(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Ts(p(h.Ea,h,_),wu(h,h.D)),h.D++,!0)}s.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const q=new tr(this,this.j,h);let K=this.o;if(this.U&&(K?(K=J(K),ie(K,this.U)):K=this.U),this.u!==null||this.R||(q.J=K,K=null),this.S)e:{for(var _=0,b=0;b<this.i.length;b++){t:{var A=this.i[b];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(_+=A,_>4096){_=b;break e}if(_===4096||b===this.i.length-1){_=b+1;break e}}_=1e3}else _=1e3;_=Ga(this,q,_),b=gt(this.J),et(b,"RID",h),et(b,"CVER",22),this.G&&et(b,"X-HTTP-Session-Id",this.G),Wi(this,b),K&&(this.R?_="headers="+Oi(Ds(K))+"&"+_:this.u&&$n(b,this.u,K)),za(this.h,q),this.Ra&&et(b,"TYPE","init"),this.S?(et(b,"$req",_),et(b,"SID","null"),q.U=!0,Er(q,b,null)):Er(q,b,_),this.I=2}}else this.I==3&&(h?_u(this,h):this.i.length==0||Mi(this.h)||_u(this))};function _u(h,_){var b;_?b=_.l:b=h.V++;const A=gt(h.J);et(A,"SID",h.M),et(A,"RID",b),et(A,"AID",h.K),Wi(h,A),h.u&&h.o&&$n(A,h.u,h.o),b=new tr(h,h.j,b,h.D+1),h.u===null&&(b.J=h.o),_&&(h.i=_.G.concat(h.i)),_=Ga(h,b,1e3),b.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),za(h.h,b),Er(b,A,_)}function Wi(h,_){h.H&&F(h.H,function(b,A){et(_,A,b)}),h.l&&F({},function(b,A){et(_,A,b)})}function Ga(h,_,b){b=Math.min(h.i.length,b);const A=h.l?p(h.l.Ka,h.l,h):null;e:{var q=h.i;let Ie=-1;for(;;){const ht=["count="+b];Ie==-1?b>0?(Ie=q[0].g,ht.push("ofs="+Ie)):Ie=0:ht.push("ofs="+Ie);let Xe=!0;for(let At=0;At<b;At++){var K=q[At].g;const Cn=q[At].map;if(K-=Ie,K<0)Ie=Math.max(0,q[At].g-100),Xe=!1;else try{K="req"+K+"_"||"";try{var oe=Cn instanceof Map?Cn:Object.entries(Cn);for(const[Rr,sr]of oe){let ir=sr;f(sr)&&(ir=Ln(sr)),ht.push(K+Rr+"="+encodeURIComponent(ir))}}catch(Rr){throw ht.push(K+"type="+encodeURIComponent("_badmap")),Rr}}catch{A&&A(Cn)}}if(Xe){oe=ht.join("&");break e}}oe=void 0}return h=h.i.splice(0,b),_.G=h,oe}function vu(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;he||x(),ue||(he(),ue=!0),D.add(_,h),h.A=0}}function Rl(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Ts(p(h.Da,h),wu(h,h.A)),h.A++,!0)}s.Da=function(){if(this.v=null,bu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Ts(p(this.Wa,this),h)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),xr(this),bu(this))};function Il(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function bu(h){h.g=new tr(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=gt(h.na);et(_,"RID","rpc"),et(_,"SID",h.M),et(_,"AID",h.K),et(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&et(_,"TO",h.ia),et(_,"TYPE","xmlhttp"),Wi(h,_),h.u&&h.o&&$n(_,h.u,h.o),h.O&&(h.g.H=h.O);var b=h.g;h=h.ba,b.M=1,b.A=Gr(gt(_)),b.u=null,b.R=!0,xs(b,h)}s.Va=function(){this.C!=null&&(this.C=null,xr(this),Rl(this),Et(19))};function Ka(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function Cl(h,_){var b=null;if(h.g==_){Ka(h),Il(h),h.g=null;var A=2}else if(Vi(h.h,_))b=_.G,Fr(h.h,_),A=1;else return;if(h.I!=0){if(_.o)if(A==1){b=_.u?_.u.length:0,_=Date.now()-_.F;var q=h.D;A=Ma(),Gt(A,new uu(A,b)),Yi(h)}else vu(h);else if(q=_.m,q==3||q==0&&_.X>0||!(A==1&&Yd(h,_)||A==2&&Rl(h)))switch(b&&b.length>0&&(_=h.h,_.i=_.i.concat(b)),q){case 1:Yr(h,5);break;case 4:Yr(h,10);break;case 3:Yr(h,6);break;default:Yr(h,2)}}}function wu(h,_){let b=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(b*=2),b*_}function Yr(h,_){if(h.j.info("Error code "+_),_==2){var b=p(h.bb,h),A=h.Ua;const q=!A;A=new nr(A||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Is(A,"https"),Gr(A),q?Al(A.toString(),b):Ns(A.toString(),b)}else Et(2);h.I=0,h.l&&h.l.pa(_),Eu(h),Qi(h)}s.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function Eu(h){if(h.I=0,h.ja=[],h.l){const _=Ba(h.h);(_.length!=0||h.i.length!=0)&&(V(h.ja,_),V(h.ja,h.i),h.h.i.length=0,N(h.i),h.i.length=0),h.l.oa()}}function Tu(h,_,b){var A=b instanceof nr?gt(b):new nr(b);if(A.g!="")_&&(A.g=_+"."+A.g),Ui(A,A.u);else{var q=u.location;A=q.protocol,_=_?_+"."+q.hostname:q.hostname,q=+q.port;const K=new nr(null);A&&Is(K,A),_&&(K.g=_),q&&Ui(K,q),b&&(K.h=b),A=K}return b=h.G,_=h.wa,b&&_&&et(A,b,_),et(A,"VER",h.ka),Wi(h,A),A}function Qa(h,_,b){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new at(new zi({ab:b})):new at(h.ma),_.Fa(h.L),_}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Su(){}s=Su.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ya(){}Ya.prototype.g=function(h,_){return new bn(h,_)};function bn(h,_){Vt.call(this),this.g=new Fa(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!I(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!I(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new js(this)}E(bn,Vt),bn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},bn.prototype.close=function(){Ki(this.g)},bn.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var b={};b.__data__=h,h=b}else this.v&&(b={},b.__data__=Ln(h),h=b);_.i.push(new Kd(_.Ya++,h)),_.I==3&&Yi(_)},bn.prototype.N=function(){this.g.l=null,delete this.j,Ki(this.g),delete this.g,bn.Z.N.call(this)};function kl(h){bs.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){e:{for(const b in _){h=b;break e}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}E(kl,bs);function Au(){er.call(this),this.status=1}E(Au,er);function js(h){this.g=h}E(js,Su),js.prototype.ra=function(){Gt(this.g,"a")},js.prototype.qa=function(h){Gt(this.g,new kl(h))},js.prototype.pa=function(h){Gt(this.g,new Au)},js.prototype.oa=function(){Gt(this.g,"b")},Ya.prototype.createWebChannel=Ya.prototype.g,bn.prototype.send=bn.prototype.o,bn.prototype.open=bn.prototype.m,bn.prototype.close=bn.prototype.close,oT=function(){return new Ya},aT=function(){return Ma()},iT=zn,Og={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Tt.NO_ERROR=0,Tt.TIMEOUT=8,Tt.HTTP_ERROR=6,$h=Tt,en.COMPLETE="complete",sT=en,cu.EventType=vr,vr.OPEN="a",vr.CLOSE="b",vr.ERROR="c",vr.MESSAGE="d",Vt.prototype.listen=Vt.prototype.J,Tc=cu,at.prototype.listenOnce=at.prototype.K,at.prototype.getLastError=at.prototype.Ha,at.prototype.getLastErrorCode=at.prototype.ya,at.prototype.getStatus=at.prototype.ca,at.prototype.getResponseJson=at.prototype.La,at.prototype.getResponseText=at.prototype.la,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Fa,rT=at}).apply(typeof kh<"u"?kh:typeof self<"u"?self:typeof window<"u"?window:{});const wb="@firebase/firestore",Eb="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mn.UNAUTHENTICATED=new mn(null),mn.GOOGLE_CREDENTIALS=new mn("google-credentials-uid"),mn.FIRST_PARTY=new mn("first-party-uid"),mn.MOCK_USER=new mn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra=new up("@firebase/firestore");function Vo(){return Ra.logLevel}function me(s,...e){if(Ra.logLevel<=Be.DEBUG){const t=e.map(bp);Ra.debug(`Firestore (${cl}): ${s}`,...t)}}function ps(s,...e){if(Ra.logLevel<=Be.ERROR){const t=e.map(bp);Ra.error(`Firestore (${cl}): ${s}`,...t)}}function Xo(s,...e){if(Ra.logLevel<=Be.WARN){const t=e.map(bp);Ra.warn(`Firestore (${cl}): ${s}`,...t)}}function bp(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(s,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,lT(s,r,t)}function lT(s,e,t){let r=`FIRESTORE (${cl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw ps(r),new Error(r)}function We(s,e,t,r){let a="Unexpected state";typeof t=="string"?a=t:r=t,s||lT(e,a,r)}function ke(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends _s{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ik{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(mn.UNAUTHENTICATED))}shutdown(){}}class ak{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ok{constructor(e){this.t=e,this.currentUser=mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){We(this.o===void 0,42304);let r=this.i;const a=g=>this.i!==r?(r=this.i,t(g)):Promise.resolve();let l=new yi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new yi,e.enqueueRetryable(()=>a(this.currentUser))};const u=()=>{const g=l;e.enqueueRetryable(async()=>{await g.promise,await a(this.currentUser)})},f=g=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(g=>f(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?f(g):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new yi)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(We(typeof r.accessToken=="string",31837,{l:r}),new cT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string",2055,{h:e}),new mn(e)}}class lk{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=mn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ck{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new lk(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(mn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Tb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uk{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,dr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){We(this.o===void 0,3512);const r=l=>{l.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,me("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const a=l=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Tb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(We(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Tb(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hk(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<s;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=hk(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<t&&(r+=e.charAt(a[l]%62))}return r}}function qe(s,e){return s<e?-1:s>e?1:0}function Dg(s,e){const t=Math.min(s.length,e.length);for(let r=0;r<t;r++){const a=s.charAt(r),l=e.charAt(r);if(a!==l)return og(a)===og(l)?qe(a,l):og(a)?1:-1}return qe(s.length,e.length)}const dk=55296,fk=57343;function og(s){const e=s.charCodeAt(0);return e>=dk&&e<=fk}function Jo(s,e,t){return s.length===e.length&&s.every((r,a)=>t(r,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb="__name__";class jr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Se(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Se(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return jr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof jr?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const l=jr.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return qe(e.length,t.length)}static compareSegments(e,t){const r=jr.isNumericId(e),a=jr.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?jr.extractNumericId(e).compare(jr.extractNumericId(t)):Dg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return pi.fromString(e.substring(4,e.length-2))}}class ct extends jr{construct(e,t,r){return new ct(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(a=>a.length>0))}return new ct(t)}static emptyPath(){return new ct([])}}const mk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends jr{construct(e,t,r){return new an(e,t,r)}static isValidIdentifier(e){return mk.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Sb}static keyField(){return new an([Sb])}static fromServerFormat(e){const t=[];let r="",a=0;const l=()=>{if(r.length===0)throw new fe(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new fe(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[a+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new fe(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,a+=2}else f==="`"?(u=!u,a++):f!=="."||u?(r+=f,a++):(l(),a++)}if(l(),u)throw new fe(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new an(t)}static emptyPath(){return new an([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(ct.fromString(e))}static fromName(e){return new ve(ct.fromString(e).popFirst(5))}static empty(){return new ve(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ct.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new ct(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(s,e,t){if(!t)throw new fe(ee.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function gk(s,e,t,r){if(e===!0&&r===!0)throw new fe(ee.INVALID_ARGUMENT,`${s} and ${t} cannot be used together.`)}function Ab(s){if(!ve.isDocumentKey(s))throw new fe(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function xb(s){if(ve.isDocumentKey(s))throw new fe(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function hT(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Sd(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Se(12329,{type:typeof s})}function mr(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new fe(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Sd(s);throw new fe(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(s,e){const t={typeString:s};return e&&(t.value=e),t}function Jc(s,e){if(!hT(s))throw new fe(ee.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const a=e[r].typeString,l="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){t=`JSON missing required field: '${r}'`;break}const u=s[r];if(a&&typeof u!==a){t=`JSON field '${r}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){t=`Expected '${r}' field to equal '${l.value}'`;break}}if(t)throw new fe(ee.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb=-62135596800,Ib=1e6;class dt{static now(){return dt.fromMillis(Date.now())}static fromDate(e){return dt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Ib);return new dt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new fe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new fe(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Rb)throw new fe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ib}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:dt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Jc(e,dt._jsonSchema))return new dt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Rb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}dt._jsonSchemaVersion="firestore/timestamp/1.0",dt._jsonSchema={type:Mt("string",dt._jsonSchemaVersion),seconds:Mt("number"),nanoseconds:Mt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new dt(0,0))}static max(){return new Re(new dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc=-1;function pk(s,e){const t=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,a=Re.fromTimestamp(r===1e9?new dt(t+1,0):new dt(t,r));return new bi(a,ve.empty(),e)}function yk(s){return new bi(s.readTime,s.key,Lc)}class bi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new bi(Re.min(),ve.empty(),Lc)}static max(){return new bi(Re.max(),ve.empty(),Lc)}}function _k(s,e){let t=s.readTime.compareTo(e.readTime);return t!==0?t:(t=ve.comparator(s.documentKey,e.documentKey),t!==0?t:qe(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ul(s){if(s.code!==ee.FAILED_PRECONDITION||s.message!==vk)throw s;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.reject(t)}static resolve(e){return new ne((t,r)=>{t(e)})}static reject(e){return new ne((t,r)=>{r(e)})}static waitFor(e){return new ne((t,r)=>{let a=0,l=0,u=!1;e.forEach(f=>{++a,f.next(()=>{++l,u&&l===a&&t()},g=>r(g))}),u=!0,l===a&&t()})}static or(e){let t=ne.resolve(!1);for(const r of e)t=t.next(a=>a?ne.resolve(a):r());return t}static forEach(e,t){const r=[];return e.forEach((a,l)=>{r.push(t.call(this,a,l))}),this.waitFor(r)}static mapArray(e,t){return new ne((r,a)=>{const l=e.length,u=new Array(l);let f=0;for(let g=0;g<l;g++){const p=g;t(e[p]).next(y=>{u[p]=y,++f,f===l&&r(u)},y=>a(y))}})}static doWhile(e,t){return new ne((r,a)=>{const l=()=>{e()===!0?t().next(()=>{l()},a):r()};l()})}}function wk(s){const e=s.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function hl(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ad.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep=-1;function xd(s){return s==null}function rd(s){return s===0&&1/s==-1/0}function Ek(s){return typeof s=="number"&&Number.isInteger(s)&&!rd(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="";function Tk(s){let e="";for(let t=0;t<s.length;t++)e.length>0&&(e=Cb(e)),e=Sk(s.get(t),e);return Cb(e)}function Sk(s,e){let t=e;const r=s.length;for(let a=0;a<r;a++){const l=s.charAt(a);switch(l){case"\0":t+="";break;case dT:t+="";break;default:t+=l}}return t}function Cb(s){return s+dT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(s){let e=0;for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e++;return e}function xi(s,e){for(const t in s)Object.prototype.hasOwnProperty.call(s,t)&&e(t,s[t])}function fT(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,t){this.comparator=e,this.root=t||sn.EMPTY}insert(e,t){return new yt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nh(this.root,e,this.comparator,!0)}}class Nh{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sn{constructor(e,t,r,a,l){this.key=e,this.value=t,this.color=r??sn.RED,this.left=a??sn.EMPTY,this.right=l??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,l){return new sn(e??this.key,t??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,r),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return sn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,t,r,a,l){return this}insert(e,t,r){return new sn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Nb(this.data.getIterator())}getIteratorFrom(e){return new Nb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ft(this.comparator);return t.data=e,t}}class Nb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.fields=e,e.sort(an.comparator)}static empty(){return new Un([])}unionWith(e){let t=new Ft(an.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Un(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Jo(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new mT("Invalid base64 string: "+l):l}}(e);return new on(t)}static fromUint8Array(e){const t=function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l}(e);return new on(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}on.EMPTY_BYTE_STRING=new on("");const Ak=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wi(s){if(We(!!s,39018),typeof s=="string"){let e=0;const t=Ak.exec(s);if(We(!!t,46558,{timestamp:s}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:It(s.seconds),nanos:It(s.nanos)}}function It(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Ei(s){return typeof s=="string"?on.fromBase64String(s):on.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT="server_timestamp",pT="__type__",yT="__previous_value__",_T="__local_write_time__";function Tp(s){var t,r;return((r=(((t=s==null?void 0:s.mapValue)==null?void 0:t.fields)||{})[pT])==null?void 0:r.stringValue)===gT}function Rd(s){const e=s.mapValue.fields[yT];return Tp(e)?Rd(e):e}function zc(s){const e=wi(s.mapValue.fields[_T].timestampValue);return new dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e,t,r,a,l,u,f,g,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=y}}const sd="(default)";class Bc{constructor(e,t){this.projectId=e,this.database=t||sd}static empty(){return new Bc("","")}get isDefaultDatabase(){return this.database===sd}isEqual(e){return e instanceof Bc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="__type__",Rk="__max__",Oh={mapValue:{}},bT="__vector__",id="value";function Ti(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Tp(s)?4:Ck(s)?9007199254740991:Ik(s)?10:11:Se(28295,{value:s})}function Br(s,e){if(s===e)return!0;const t=Ti(s);if(t!==Ti(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return zc(s).isEqual(zc(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=wi(a.timestampValue),f=wi(l.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(a,l){return Ei(a.bytesValue).isEqual(Ei(l.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(a,l){return It(a.geoPointValue.latitude)===It(l.geoPointValue.latitude)&&It(a.geoPointValue.longitude)===It(l.geoPointValue.longitude)}(s,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return It(a.integerValue)===It(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=It(a.doubleValue),f=It(l.doubleValue);return u===f?rd(u)===rd(f):isNaN(u)&&isNaN(f)}return!1}(s,e);case 9:return Jo(s.arrayValue.values||[],e.arrayValue.values||[],Br);case 10:case 11:return function(a,l){const u=a.mapValue.fields||{},f=l.mapValue.fields||{};if(kb(u)!==kb(f))return!1;for(const g in u)if(u.hasOwnProperty(g)&&(f[g]===void 0||!Br(u[g],f[g])))return!1;return!0}(s,e);default:return Se(52216,{left:s})}}function qc(s,e){return(s.values||[]).find(t=>Br(t,e))!==void 0}function Zo(s,e){if(s===e)return 0;const t=Ti(s),r=Ti(e);if(t!==r)return qe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return qe(s.booleanValue,e.booleanValue);case 2:return function(l,u){const f=It(l.integerValue||l.doubleValue),g=It(u.integerValue||u.doubleValue);return f<g?-1:f>g?1:f===g?0:isNaN(f)?isNaN(g)?0:-1:1}(s,e);case 3:return Ob(s.timestampValue,e.timestampValue);case 4:return Ob(zc(s),zc(e));case 5:return Dg(s.stringValue,e.stringValue);case 6:return function(l,u){const f=Ei(l),g=Ei(u);return f.compareTo(g)}(s.bytesValue,e.bytesValue);case 7:return function(l,u){const f=l.split("/"),g=u.split("/");for(let p=0;p<f.length&&p<g.length;p++){const y=qe(f[p],g[p]);if(y!==0)return y}return qe(f.length,g.length)}(s.referenceValue,e.referenceValue);case 8:return function(l,u){const f=qe(It(l.latitude),It(u.latitude));return f!==0?f:qe(It(l.longitude),It(u.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return Db(s.arrayValue,e.arrayValue);case 10:return function(l,u){var S,N,V,z;const f=l.fields||{},g=u.fields||{},p=(S=f[id])==null?void 0:S.arrayValue,y=(N=g[id])==null?void 0:N.arrayValue,E=qe(((V=p==null?void 0:p.values)==null?void 0:V.length)||0,((z=y==null?void 0:y.values)==null?void 0:z.length)||0);return E!==0?E:Db(p,y)}(s.mapValue,e.mapValue);case 11:return function(l,u){if(l===Oh.mapValue&&u===Oh.mapValue)return 0;if(l===Oh.mapValue)return 1;if(u===Oh.mapValue)return-1;const f=l.fields||{},g=Object.keys(f),p=u.fields||{},y=Object.keys(p);g.sort(),y.sort();for(let E=0;E<g.length&&E<y.length;++E){const S=Dg(g[E],y[E]);if(S!==0)return S;const N=Zo(f[g[E]],p[y[E]]);if(N!==0)return N}return qe(g.length,y.length)}(s.mapValue,e.mapValue);default:throw Se(23264,{he:t})}}function Ob(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return qe(s,e);const t=wi(s),r=wi(e),a=qe(t.seconds,r.seconds);return a!==0?a:qe(t.nanos,r.nanos)}function Db(s,e){const t=s.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const l=Zo(t[a],r[a]);if(l)return l}return qe(t.length,r.length)}function el(s){return jg(s)}function jg(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(t){const r=wi(t);return`time(${r.seconds},${r.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(t){return Ei(t).toBase64()}(s.bytesValue):"referenceValue"in s?function(t){return ve.fromName(t).toString()}(s.referenceValue):"geoPointValue"in s?function(t){return`geo(${t.latitude},${t.longitude})`}(s.geoPointValue):"arrayValue"in s?function(t){let r="[",a=!0;for(const l of t.values||[])a?a=!1:r+=",",r+=jg(l);return r+"]"}(s.arrayValue):"mapValue"in s?function(t){const r=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const u of r)l?l=!1:a+=",",a+=`${u}:${jg(t.fields[u])}`;return a+"}"}(s.mapValue):Se(61005,{value:s})}function Hh(s){switch(Ti(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Rd(s);return e?16+Hh(e):16;case 5:return 2*s.stringValue.length;case 6:return Ei(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,l)=>a+Hh(l),0)}(s.arrayValue);case 10:case 11:return function(r){let a=0;return xi(r.fields,(l,u)=>{a+=l.length+Hh(u)}),a}(s.mapValue);default:throw Se(13486,{value:s})}}function jb(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Pg(s){return!!s&&"integerValue"in s}function Sp(s){return!!s&&"arrayValue"in s}function Pb(s){return!!s&&"nullValue"in s}function Mb(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Fh(s){return!!s&&"mapValue"in s}function Ik(s){var t,r;return((r=(((t=s==null?void 0:s.mapValue)==null?void 0:t.fields)||{})[vT])==null?void 0:r.stringValue)===bT}function kc(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return xi(s.mapValue.fields,(t,r)=>e.mapValue.fields[t]=kc(r)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(s.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=kc(s.arrayValue.values[t]);return e}return{...s}}function Ck(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===Rk}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.value=e}static empty(){return new In({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Fh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=kc(t)}setAll(e){let t=an.emptyPath(),r={},a=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const g=this.getFieldsMap(t);this.applyChanges(g,r,a),r={},a=[],t=f.popLast()}u?r[f.lastSegment()]=kc(u):a.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,a)}delete(e){const t=this.field(e.popLast());Fh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Br(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];Fh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){xi(t,(a,l)=>e[a]=l);for(const a of r)delete e[a]}clone(){return new In(kc(this.value))}}function wT(s){const e=[];return xi(s.fields,(t,r)=>{const a=new an([t]);if(Fh(r)){const l=wT(r.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)}),new Un(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e,t,r,a,l,u,f){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=l,this.data=u,this.documentState=f}static newInvalidDocument(e){return new gn(e,0,Re.min(),Re.min(),Re.min(),In.empty(),0)}static newFoundDocument(e,t,r,a){return new gn(e,1,t,Re.min(),r,a,0)}static newNoDocument(e,t){return new gn(e,2,t,Re.min(),Re.min(),In.empty(),0)}static newUnknownDocument(e,t){return new gn(e,3,t,Re.min(),Re.min(),In.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,t){this.position=e,this.inclusive=t}}function Vb(s,e,t){let r=0;for(let a=0;a<s.position.length;a++){const l=e[a],u=s.position[a];if(l.field.isKeyField()?r=ve.comparator(ve.fromName(u.referenceValue),t.key):r=Zo(u,t.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function Ub(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let t=0;t<s.position.length;t++)if(!Br(s.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,t="asc"){this.field=e,this.dir=t}}function kk(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{}class Pt extends ET{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new Ok(e,t,r):t==="array-contains"?new Pk(e,r):t==="in"?new Mk(e,r):t==="not-in"?new Vk(e,r):t==="array-contains-any"?new Uk(e,r):new Pt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new Dk(e,r):new jk(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Zo(t,this.value)):t!==null&&Ti(this.value)===Ti(t)&&this.matchesComparison(Zo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pr extends ET{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new pr(e,t)}matches(e){return TT(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function TT(s){return s.op==="and"}function ST(s){return Nk(s)&&TT(s)}function Nk(s){for(const e of s.filters)if(e instanceof pr)return!1;return!0}function Mg(s){if(s instanceof Pt)return s.field.canonicalString()+s.op.toString()+el(s.value);if(ST(s))return s.filters.map(e=>Mg(e)).join(",");{const e=s.filters.map(t=>Mg(t)).join(",");return`${s.op}(${e})`}}function AT(s,e){return s instanceof Pt?function(r,a){return a instanceof Pt&&r.op===a.op&&r.field.isEqual(a.field)&&Br(r.value,a.value)}(s,e):s instanceof pr?function(r,a){return a instanceof pr&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((l,u,f)=>l&&AT(u,a.filters[f]),!0):!1}(s,e):void Se(19439)}function xT(s){return s instanceof Pt?function(t){return`${t.field.canonicalString()} ${t.op} ${el(t.value)}`}(s):s instanceof pr?function(t){return t.op.toString()+" {"+t.getFilters().map(xT).join(" ,")+"}"}(s):"Filter"}class Ok extends Pt{constructor(e,t,r){super(e,t,r),this.key=ve.fromName(r.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class Dk extends Pt{constructor(e,t){super(e,"in",t),this.keys=RT("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class jk extends Pt{constructor(e,t){super(e,"not-in",t),this.keys=RT("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function RT(s,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map(r=>ve.fromName(r.referenceValue))}class Pk extends Pt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Sp(t)&&qc(t.arrayValue,this.value)}}class Mk extends Pt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&qc(this.value.arrayValue,t)}}class Vk extends Pt{constructor(e,t){super(e,"not-in",t)}matches(e){if(qc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!qc(this.value.arrayValue,t)}}class Uk extends Pt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Sp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>qc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e,t=null,r=[],a=[],l=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=u,this.endAt=f,this.Te=null}}function Lb(s,e=null,t=[],r=[],a=null,l=null,u=null){return new Lk(s,e,t,r,a,l,u)}function Ap(s){const e=ke(s);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Mg(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(l){return l.field.canonicalString()+l.dir}(r)).join(","),xd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>el(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>el(r)).join(",")),e.Te=t}return e.Te}function xp(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<s.orderBy.length;t++)if(!kk(s.orderBy[t],e.orderBy[t]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let t=0;t<s.filters.length;t++)if(!AT(s.filters[t],e.filters[t]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Ub(s.startAt,e.startAt)&&Ub(s.endAt,e.endAt)}function Vg(s){return ve.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,t=null,r=[],a=[],l=null,u="F",f=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=u,this.startAt=f,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function zk(s,e,t,r,a,l,u,f){return new Zc(s,e,t,r,a,l,u,f)}function Rp(s){return new Zc(s)}function zb(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function IT(s){return s.collectionGroup!==null}function Nc(s){const e=ke(s);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new Ft(an.comparator);return u.filters.forEach(g=>{g.getFlattenedFilters().forEach(p=>{p.isInequality()&&(f=f.add(p.field))})}),f})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new od(l,r))}),t.has(an.keyField().canonicalString())||e.Ie.push(new od(an.keyField(),r))}return e.Ie}function Vr(s){const e=ke(s);return e.Ee||(e.Ee=Bk(e,Nc(s))),e.Ee}function Bk(s,e){if(s.limitType==="F")return Lb(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new od(a.field,l)});const t=s.endAt?new ad(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new ad(s.startAt.position,s.startAt.inclusive):null;return Lb(s.path,s.collectionGroup,e,s.filters,s.limit,t,r)}}function Ug(s,e){const t=s.filters.concat([e]);return new Zc(s.path,s.collectionGroup,s.explicitOrderBy.slice(),t,s.limit,s.limitType,s.startAt,s.endAt)}function Lg(s,e,t){return new Zc(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,t,s.startAt,s.endAt)}function Id(s,e){return xp(Vr(s),Vr(e))&&s.limitType===e.limitType}function CT(s){return`${Ap(Vr(s))}|lt:${s.limitType}`}function Uo(s){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(a=>xT(a)).join(", ")}]`),xd(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(a=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(a)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(a=>el(a)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(a=>el(a)).join(",")),`Target(${r})`}(Vr(s))}; limitType=${s.limitType})`}function Cd(s,e){return e.isFoundDocument()&&function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):ve.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)}(s,e)&&function(r,a){for(const l of Nc(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(s,e)&&function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0}(s,e)&&function(r,a){return!(r.startAt&&!function(u,f,g){const p=Vb(u,f,g);return u.inclusive?p<=0:p<0}(r.startAt,Nc(r),a)||r.endAt&&!function(u,f,g){const p=Vb(u,f,g);return u.inclusive?p>=0:p>0}(r.endAt,Nc(r),a))}(s,e)}function qk(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function kT(s){return(e,t)=>{let r=!1;for(const a of Nc(s)){const l=$k(a,e,t);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function $k(s,e,t){const r=s.field.isKeyField()?ve.comparator(e.key,t.key):function(l,u,f){const g=u.data.field(l),p=f.data.field(l);return g!==null&&p!==null?Zo(g,p):Se(42886)}(s.field,e,t);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Se(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){xi(this.inner,(t,r)=>{for(const[a,l]of r)e(a,l)})}isEmpty(){return fT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk=new yt(ve.comparator);function ys(){return Hk}const NT=new yt(ve.comparator);function Sc(...s){let e=NT;for(const t of s)e=e.insert(t.key,t);return e}function OT(s){let e=NT;return s.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ba(){return Oc()}function DT(){return Oc()}function Oc(){return new Na(s=>s.toString(),(s,e)=>s.isEqual(e))}const Fk=new yt(ve.comparator),Gk=new Ft(ve.comparator);function $e(...s){let e=Gk;for(const t of s)e=e.add(t);return e}const Kk=new Ft(qe);function Qk(){return Kk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rd(e)?"-0":e}}function jT(s){return{integerValue:""+s}}function Yk(s,e){return Ek(e)?jT(e):Ip(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(){this._=void 0}}function Wk(s,e,t){return s instanceof ld?function(a,l){const u={fields:{[pT]:{stringValue:gT},[_T]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Tp(l)&&(l=Rd(l)),l&&(u.fields[yT]=l),{mapValue:u}}(t,e):s instanceof $c?MT(s,e):s instanceof Hc?VT(s,e):function(a,l){const u=PT(a,l),f=Bb(u)+Bb(a.Ae);return Pg(u)&&Pg(a.Ae)?jT(f):Ip(a.serializer,f)}(s,e)}function Xk(s,e,t){return s instanceof $c?MT(s,e):s instanceof Hc?VT(s,e):t}function PT(s,e){return s instanceof cd?function(r){return Pg(r)||function(l){return!!l&&"doubleValue"in l}(r)}(e)?e:{integerValue:0}:null}class ld extends kd{}class $c extends kd{constructor(e){super(),this.elements=e}}function MT(s,e){const t=UT(e);for(const r of s.elements)t.some(a=>Br(a,r))||t.push(r);return{arrayValue:{values:t}}}class Hc extends kd{constructor(e){super(),this.elements=e}}function VT(s,e){let t=UT(e);for(const r of s.elements)t=t.filter(a=>!Br(a,r));return{arrayValue:{values:t}}}class cd extends kd{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Bb(s){return It(s.integerValue||s.doubleValue)}function UT(s){return Sp(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function Jk(s,e){return s.field.isEqual(e.field)&&function(r,a){return r instanceof $c&&a instanceof $c||r instanceof Hc&&a instanceof Hc?Jo(r.elements,a.elements,Br):r instanceof cd&&a instanceof cd?Br(r.Ae,a.Ae):r instanceof ld&&a instanceof ld}(s.transform,e.transform)}class Zk{constructor(e,t){this.version=e,this.transformResults=t}}class gr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new gr}static exists(e){return new gr(void 0,e)}static updateTime(e){return new gr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gh(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Nd{}function LT(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Cp(s.key,gr.none()):new eu(s.key,s.data,gr.none());{const t=s.data,r=In.empty();let a=new Ft(an.comparator);for(let l of e.fields)if(!a.has(l)){let u=t.field(l);u===null&&l.length>1&&(l=l.popLast(),u=t.field(l)),u===null?r.delete(l):r.set(l,u),a=a.add(l)}return new Ri(s.key,r,new Un(a.toArray()),gr.none())}}function eN(s,e,t){s instanceof eu?function(a,l,u){const f=a.value.clone(),g=$b(a.fieldTransforms,l,u.transformResults);f.setAll(g),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(s,e,t):s instanceof Ri?function(a,l,u){if(!Gh(a.precondition,l))return void l.convertToUnknownDocument(u.version);const f=$b(a.fieldTransforms,l,u.transformResults),g=l.data;g.setAll(zT(a)),g.setAll(f),l.convertToFoundDocument(u.version,g).setHasCommittedMutations()}(s,e,t):function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Dc(s,e,t,r){return s instanceof eu?function(l,u,f,g){if(!Gh(l.precondition,u))return f;const p=l.value.clone(),y=Hb(l.fieldTransforms,g,u);return p.setAll(y),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null}(s,e,t,r):s instanceof Ri?function(l,u,f,g){if(!Gh(l.precondition,u))return f;const p=Hb(l.fieldTransforms,g,u),y=u.data;return y.setAll(zT(l)),y.setAll(p),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(E=>E.field))}(s,e,t,r):function(l,u,f){return Gh(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f}(s,e,t)}function tN(s,e){let t=null;for(const r of s.fieldTransforms){const a=e.data.field(r.field),l=PT(r.transform,a||null);l!=null&&(t===null&&(t=In.empty()),t.set(r.field,l))}return t||null}function qb(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Jo(r,a,(l,u)=>Jk(l,u))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class eu extends Nd{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ri extends Nd{constructor(e,t,r,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function zT(s){const e=new Map;return s.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=s.data.field(t);e.set(t,r)}}),e}function $b(s,e,t){const r=new Map;We(s.length===t.length,32656,{Re:t.length,Ve:s.length});for(let a=0;a<t.length;a++){const l=s[a],u=l.transform,f=e.data.field(l.field);r.set(l.field,Xk(u,f,t[a]))}return r}function Hb(s,e,t){const r=new Map;for(const a of s){const l=a.transform,u=t.data.field(a.field);r.set(a.field,Wk(l,u,e))}return r}class Cp extends Nd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nN extends Nd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&eN(l,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Dc(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Dc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=DT();return this.mutations.forEach(a=>{const l=e.get(a.key),u=l.overlayedDocument;let f=this.applyToLocalView(u,l.mutatedFields);f=t.has(a.key)?null:f;const g=LT(u,f);g!==null&&r.set(a.key,g),u.isValidDocument()||u.convertToNoDocument(Re.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),$e())}isEqual(e){return this.batchId===e.batchId&&Jo(this.mutations,e.mutations,(t,r)=>qb(t,r))&&Jo(this.baseMutations,e.baseMutations,(t,r)=>qb(t,r))}}class kp{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){We(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=function(){return Fk}();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,r[u].version);return new kp(e,t,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot,Fe;function aN(s){switch(s){case ee.OK:return Se(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Se(15467,{code:s})}}function BT(s){if(s===void 0)return ps("GRPC error has no .code"),ee.UNKNOWN;switch(s){case Ot.OK:return ee.OK;case Ot.CANCELLED:return ee.CANCELLED;case Ot.UNKNOWN:return ee.UNKNOWN;case Ot.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Ot.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Ot.INTERNAL:return ee.INTERNAL;case Ot.UNAVAILABLE:return ee.UNAVAILABLE;case Ot.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Ot.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Ot.NOT_FOUND:return ee.NOT_FOUND;case Ot.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Ot.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Ot.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Ot.ABORTED:return ee.ABORTED;case Ot.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Ot.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Ot.DATA_LOSS:return ee.DATA_LOSS;default:return Se(39323,{code:s})}}(Fe=Ot||(Ot={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=new pi([4294967295,4294967295],0);function Fb(s){const e=oN().encode(s),t=new nT;return t.update(e),new Uint8Array(t.digest())}function Gb(s){const e=new DataView(s.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new pi([t,r],0),new pi([a,l],0)]}class Np{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ac(`Invalid padding: ${t}`);if(r<0)throw new Ac(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ac(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Ac(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=pi.fromNumber(this.ge)}ye(e,t,r){let a=e.add(t.multiply(pi.fromNumber(r)));return a.compare(lN)===1&&(a=new pi([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Fb(e),[r,a]=Gb(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(r,a,l);if(!this.we(u))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new Np(l,a,t);return r.forEach(f=>u.insert(f)),u}insert(e){if(this.ge===0)return;const t=Fb(e),[r,a]=Gb(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(r,a,l);this.Se(u)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Ac extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,t,r,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,tu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Od(Re.min(),a,new yt(qe),ys(),$e())}}class tu{constructor(e,t,r,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new tu(r,t,$e(),$e(),$e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,t,r,a){this.be=e,this.removedTargetIds=t,this.key=r,this.De=a}}class qT{constructor(e,t){this.targetId=e,this.Ce=t}}class $T{constructor(e,t,r=on.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class Kb{constructor(){this.ve=0,this.Fe=Qb(),this.Me=on.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=$e(),t=$e(),r=$e();return this.Fe.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:Se(38017,{changeType:l})}}),new tu(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=Qb()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,We(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class cN{constructor(e){this.Ge=e,this.ze=new Map,this.je=ys(),this.Je=Dh(),this.He=Dh(),this.Ye=new yt(qe)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((r,a)=>{this.rt(a)&&t(a)})}st(e){const t=e.targetId,r=e.Ce.count,a=this.ot(t);if(a){const l=a.target;if(Vg(l))if(r===0){const u=new ve(l.path);this.et(t,u,gn.newNoDocument(u,Re.min()))}else We(r===1,20013,{expectedCount:r});else{const u=this._t(t);if(u!==r){const f=this.ut(e),g=f?this.ct(f,e,u):1;if(g!==0){this.it(t);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=t;let u,f;try{u=Ei(r).toUint8Array()}catch(g){if(g instanceof mT)return Xo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{f=new Np(u,a,l)}catch(g){return Xo(g instanceof Ac?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return f.ge===0?null:f}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let a=0;return r.forEach(l=>{const u=this.Ge.ht(),f=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(t,l,null),a++)}),a}Tt(e){const t=new Map;this.ze.forEach((l,u)=>{const f=this.ot(u);if(f){if(l.current&&Vg(f.target)){const g=new ve(f.target.path);this.It(g).has(u)||this.Et(u,g)||this.et(u,g,gn.newNoDocument(g,e))}l.Be&&(t.set(u,l.ke()),l.qe())}});let r=$e();this.He.forEach((l,u)=>{let f=!0;u.forEachWhile(g=>{const p=this.ot(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(r=r.add(l))}),this.je.forEach((l,u)=>u.setReadTime(e));const a=new Od(e,t,this.Ye,this.je,r);return this.je=ys(),this.Je=Dh(),this.He=Dh(),this.Ye=new yt(qe),a}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.Qe(t,1):a.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Kb,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Ft(qe),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Ft(qe),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||me("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Kb),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Dh(){return new yt(ve.comparator)}function Qb(){return new yt(ve.comparator)}const uN={asc:"ASCENDING",desc:"DESCENDING"},hN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dN={and:"AND",or:"OR"};class fN{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function zg(s,e){return s.useProto3Json||xd(e)?e:{value:e}}function ud(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function HT(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function mN(s,e){return ud(s,e.toTimestamp())}function Ur(s){return We(!!s,49232),Re.fromTimestamp(function(t){const r=wi(t);return new dt(r.seconds,r.nanos)}(s))}function Op(s,e){return Bg(s,e).canonicalString()}function Bg(s,e){const t=function(a){return new ct(["projects",a.projectId,"databases",a.database])}(s).child("documents");return e===void 0?t:t.child(e)}function FT(s){const e=ct.fromString(s);return We(WT(e),10190,{key:e.toString()}),e}function qg(s,e){return Op(s.databaseId,e.path)}function lg(s,e){const t=FT(e);if(t.get(1)!==s.databaseId.projectId)throw new fe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+s.databaseId.projectId);if(t.get(3)!==s.databaseId.database)throw new fe(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+s.databaseId.database);return new ve(KT(t))}function GT(s,e){return Op(s.databaseId,e)}function gN(s){const e=FT(s);return e.length===4?ct.emptyPath():KT(e)}function $g(s){return new ct(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function KT(s){return We(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Yb(s,e,t){return{name:qg(s,e),fields:t.value.mapValue.fields}}function pN(s,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Se(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(p,y){return p.useProto3Json?(We(y===void 0||typeof y=="string",58123),on.fromBase64String(y||"")):(We(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),on.fromUint8Array(y||new Uint8Array))}(s,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(p){const y=p.code===void 0?ee.UNKNOWN:BT(p.code);return new fe(y,p.message||"")}(u);t=new $T(r,a,l,f||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=lg(s,r.document.name),l=Ur(r.document.updateTime),u=r.document.createTime?Ur(r.document.createTime):Re.min(),f=new In({mapValue:{fields:r.document.fields}}),g=gn.newFoundDocument(a,l,u,f),p=r.targetIds||[],y=r.removedTargetIds||[];t=new Kh(p,y,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=lg(s,r.document),l=r.readTime?Ur(r.readTime):Re.min(),u=gn.newNoDocument(a,l),f=r.removedTargetIds||[];t=new Kh([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=lg(s,r.document),l=r.removedTargetIds||[];t=new Kh([],l,a,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,u=new iN(a,l),f=r.targetId;t=new qT(f,u)}}return t}function yN(s,e){let t;if(e instanceof eu)t={update:Yb(s,e.key,e.value)};else if(e instanceof Cp)t={delete:qg(s,e.key)};else if(e instanceof Ri)t={update:Yb(s,e.key,e.data),updateMask:xN(e.fieldMask)};else{if(!(e instanceof nN))return Se(16599,{Vt:e.type});t={verify:qg(s,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(l,u){const f=u.transform;if(f instanceof ld)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof $c)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Hc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof cd)return{fieldPath:u.field.canonicalString(),increment:f.Ae};throw Se(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:mN(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Se(27497)}(s,e.precondition)),t}function _N(s,e){return s&&s.length>0?(We(e!==void 0,14353),s.map(t=>function(a,l){let u=a.updateTime?Ur(a.updateTime):Ur(l);return u.isEqual(Re.min())&&(u=Ur(l)),new Zk(u,a.transformResults||[])}(t,e))):[]}function vN(s,e){return{documents:[GT(s,e.path)]}}function bN(s,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=GT(s,a);const l=function(p){if(p.length!==0)return YT(pr.create(p,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const u=function(p){if(p.length!==0)return p.map(y=>function(S){return{field:Lo(S.field),direction:TN(S.dir)}}(y))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const f=zg(s,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ft:t,parent:a}}function wN(s){let e=gN(s.parent);const t=s.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){We(r===1,65062);const y=t.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];t.where&&(l=function(E){const S=QT(E);return S instanceof pr&&ST(S)?S.getFilters():[S]}(t.where));let u=[];t.orderBy&&(u=function(E){return E.map(S=>function(V){return new od(zo(V.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(V.direction))}(S))}(t.orderBy));let f=null;t.limit&&(f=function(E){let S;return S=typeof E=="object"?E.value:E,xd(S)?null:S}(t.limit));let g=null;t.startAt&&(g=function(E){const S=!!E.before,N=E.values||[];return new ad(N,S)}(t.startAt));let p=null;return t.endAt&&(p=function(E){const S=!E.before,N=E.values||[];return new ad(N,S)}(t.endAt)),zk(e,a,u,l,f,"F",g,p)}function EN(s,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function QT(s){return s.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=zo(t.unaryFilter.field);return Pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=zo(t.unaryFilter.field);return Pt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=zo(t.unaryFilter.field);return Pt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=zo(t.unaryFilter.field);return Pt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}}(s):s.fieldFilter!==void 0?function(t){return Pt.create(zo(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(t){return pr.create(t.compositeFilter.filters.map(r=>QT(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Se(1026)}}(t.compositeFilter.op))}(s):Se(30097,{filter:s})}function TN(s){return uN[s]}function SN(s){return hN[s]}function AN(s){return dN[s]}function Lo(s){return{fieldPath:s.canonicalString()}}function zo(s){return an.fromServerFormat(s.fieldPath)}function YT(s){return s instanceof Pt?function(t){if(t.op==="=="){if(Mb(t.value))return{unaryFilter:{field:Lo(t.field),op:"IS_NAN"}};if(Pb(t.value))return{unaryFilter:{field:Lo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Mb(t.value))return{unaryFilter:{field:Lo(t.field),op:"IS_NOT_NAN"}};if(Pb(t.value))return{unaryFilter:{field:Lo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lo(t.field),op:SN(t.op),value:t.value}}}(s):s instanceof pr?function(t){const r=t.getFilters().map(a=>YT(a));return r.length===1?r[0]:{compositeFilter:{op:AN(t.op),filters:r}}}(s):Se(54877,{filter:s})}function xN(s){const e=[];return s.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function WT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e,t,r,a,l=Re.min(),u=Re.min(),f=on.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=g}withSequenceNumber(e){return new hi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e){this.yt=e}}function IN(s){const e=wN({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Lg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(){this.Cn=new kN}addToCollectionParentIndex(e,t){return this.Cn.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(bi.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(bi.min())}updateCollectionGroup(e,t,r){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class kN{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new Ft(ct.comparator),l=!a.has(r);return this.index[t]=a.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Ft(ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},XT=41943040;class Rn{static withCacheSize(e){return new Rn(e,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rn.DEFAULT_COLLECTION_PERCENTILE=10,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rn.DEFAULT=new Rn(XT,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rn.DISABLED=new Rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new tl(0)}static cr(){return new tl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb="LruGarbageCollector",NN=1048576;function Jb([s,e],[t,r]){const a=qe(s,t);return a===0?qe(e,r):a}class ON{constructor(e){this.Ir=e,this.buffer=new Ft(Jb),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Jb(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class DN{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){me(Xb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){hl(t)?me(Xb,"Ignoring IndexedDB error during garbage collection: ",t):await ul(t)}await this.Vr(3e5)})}}class jN{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ne.resolve(Ad.ce);const r=new ON(t);return this.mr.forEachTarget(e,a=>r.Ar(a.sequenceNumber)).next(()=>this.mr.pr(e,a=>r.Ar(a))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(Wb)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Wb):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,a,l,u,f,g,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),a=this.params.maximumSequenceNumbersToCollect):a=E,u=Date.now(),this.nthSequenceNumber(e,a))).next(E=>(r=E,f=Date.now(),this.removeTargets(e,r,t))).next(E=>(l=E,g=Date.now(),this.removeOrphanedDocuments(e,r))).next(E=>(p=Date.now(),Vo()<=Be.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(f-u)+`ms
	Removed ${l} targets in `+(g-f)+`ms
	Removed ${E} documents in `+(p-g)+`ms
Total Duration: ${p-y}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:E})))}}function PN(s,e){return new jN(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(){this.changes=new Na(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,gn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ne.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(r!==null&&Dc(r.mutation,a,Un.empty(),dt.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,$e()).next(()=>r))}getLocalViewOfDocuments(e,t,r=$e()){const a=ba();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,r).next(l=>{let u=Sc();return l.forEach((f,g)=>{u=u.insert(f,g.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=ba();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,$e()))}populateOverlays(e,t,r){const a=[];return r.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,r,a){let l=ys();const u=Oc(),f=function(){return Oc()}();return t.forEach((g,p)=>{const y=r.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof Ri)?l=l.insert(p.key,p):y!==void 0?(u.set(p.key,y.mutation.getFieldMask()),Dc(y.mutation,p,y.mutation.getFieldMask(),dt.now())):u.set(p.key,Un.empty())}),this.recalculateAndSaveOverlays(e,l).next(g=>(g.forEach((p,y)=>u.set(p,y)),t.forEach((p,y)=>f.set(p,new VN(y,u.get(p)??null))),f))}recalculateAndSaveOverlays(e,t){const r=Oc();let a=new yt((u,f)=>u-f),l=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const f of u)f.keys().forEach(g=>{const p=t.get(g);if(p===null)return;let y=r.get(g)||Un.empty();y=f.applyToLocalView(p,y),r.set(g,y);const E=(a.get(f.batchId)||$e()).add(g);a=a.insert(f.batchId,E)})}).next(()=>{const u=[],f=a.getReverseIterator();for(;f.hasNext();){const g=f.getNext(),p=g.key,y=g.value,E=DT();y.forEach(S=>{if(!l.has(S)){const N=LT(t.get(S),r.get(S));N!==null&&E.set(S,N),l=l.add(S)}}),u.push(this.documentOverlayCache.saveOverlays(e,p,E))}return ne.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,a){return function(u){return ve.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):IT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next(l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-l.size):ne.resolve(ba());let f=Lc,g=l;return u.next(p=>ne.forEach(p,(y,E)=>(f<E.largestBatchId&&(f=E.largestBatchId),l.get(y)?ne.resolve():this.remoteDocumentCache.getEntry(e,y).next(S=>{g=g.insert(y,S)}))).next(()=>this.populateOverlays(e,p,l)).next(()=>this.computeViews(e,g,p,$e())).next(y=>({batchId:f,changes:OT(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next(r=>{let a=Sc();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const l=t.collectionGroup;let u=Sc();return this.indexManager.getCollectionParents(e,l).next(f=>ne.forEach(f,g=>{const p=function(E,S){return new Zc(S,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(t,g.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,r,a).next(y=>{y.forEach((E,S)=>{u=u.insert(E,S)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,l,a))).next(u=>{l.forEach((g,p)=>{const y=p.getKey();u.get(y)===null&&(u=u.insert(y,gn.newInvalidDocument(y)))});let f=Sc();return u.forEach((g,p)=>{const y=l.get(g);y!==void 0&&Dc(y.mutation,p,Un.empty(),dt.now()),Cd(t,p)&&(f=f.insert(g,p))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ne.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:Ur(a.createTime)}}(t)),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(a){return{name:a.name,query:IN(a.bundledQuery),readTime:Ur(a.readTime)}}(t)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(){this.overlays=new yt(ve.comparator),this.qr=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ba();return ne.forEach(t,a=>this.getOverlay(e,a).next(l=>{l!==null&&r.set(a,l)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((a,l)=>{this.St(e,t,l)}),ne.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.qr.delete(r)),ne.resolve()}getOverlaysForCollection(e,t,r){const a=ba(),l=t.length+1,u=new ve(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const g=f.getNext().value,p=g.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===l&&g.largestBatchId>r&&a.set(g.getKey(),g)}return ne.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let l=new yt((p,y)=>p-y);const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let y=l.get(p.largestBatchId);y===null&&(y=ba(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const f=ba(),g=l.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((p,y)=>f.set(p,y)),!(f.size()>=a)););return ne.resolve(f)}St(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new sN(t,r));let l=this.qr.get(t);l===void 0&&(l=$e(),this.qr.set(t,l)),this.qr.set(t,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(){this.sessionToken=on.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(){this.Qr=new Ft(Jt.$r),this.Ur=new Ft(Jt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new Jt(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Gr(new Jt(e,t))}zr(e,t){e.forEach(r=>this.removeReference(r,t))}jr(e){const t=new ve(new ct([])),r=new Jt(t,e),a=new Jt(t,e+1),l=[];return this.Ur.forEachInRange([r,a],u=>{this.Gr(u),l.push(u.key)}),l}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ve(new ct([])),r=new Jt(t,e),a=new Jt(t,e+1);let l=$e();return this.Ur.forEachInRange([r,a],u=>{l=l.add(u.key)}),l}containsKey(e){const t=new Jt(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Jt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ve.comparator(e.key,t.key)||qe(e.Yr,t.Yr)}static Kr(e,t){return qe(e.Yr,t.Yr)||ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Ft(Jt.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new rN(l,t,r,a);this.mutationQueue.push(u);for(const f of a)this.Zr=this.Zr.add(new Jt(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ne.resolve(u)}lookupMutationBatch(e,t){return ne.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.ei(r),l=a<0?0:a;return ne.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?Ep:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Jt(t,0),a=new Jt(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([r,a],u=>{const f=this.Xr(u.Yr);l.push(f)}),ne.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ft(qe);return t.forEach(a=>{const l=new Jt(a,0),u=new Jt(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],f=>{r=r.add(f.Yr)})}),ne.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let l=r;ve.isDocumentKey(l)||(l=l.child(""));const u=new Jt(new ve(l),0);let f=new Ft(qe);return this.Zr.forEachWhile(g=>{const p=g.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(f=f.add(g.Yr)),!0)},u),ne.resolve(this.ti(f))}ti(e){const t=[];return e.forEach(r=>{const a=this.Xr(r);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){We(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ne.forEach(t.mutations,a=>{const l=new Jt(a.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,t){const r=new Jt(t,0),a=this.Zr.firstAfterOrEqual(r);return ne.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e){this.ri=e,this.docs=function(){return new yt(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),l=a?a.size:0,u=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ne.resolve(r?r.document.mutableCopy():gn.newInvalidDocument(t))}getEntries(e,t){let r=ys();return t.forEach(a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():gn.newInvalidDocument(a))}),ne.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let l=ys();const u=t.path,f=new ve(u.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(f);for(;g.hasNext();){const{key:p,value:{document:y}}=g.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||_k(yk(y),r)<=0||(a.has(y.key)||Cd(t,y))&&(l=l.insert(y.key,y.mutableCopy()))}return ne.resolve(l)}getAllFromCollectionGroup(e,t,r,a){Se(9500)}ii(e,t){return ne.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new HN(this)}getSize(e){return ne.resolve(this.size)}}class HN extends MN{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?t.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)}),ne.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e){this.persistence=e,this.si=new Na(t=>Ap(t),xp),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new Dp,this.targetCount=0,this.ai=tl.ur()}forEachTarget(e,t){return this.si.forEach((r,a)=>t(a)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),ne.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new tl(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.Pr(t),ne.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,r){let a=0;const l=[];return this.si.forEach((u,f)=>{f.sequenceNumber<=t&&r.get(f.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)}),ne.waitFor(l).next(()=>a)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return ne.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),ne.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(u=>{l.push(a.markPotentiallyOrphaned(e,u))}),ne.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return ne.resolve(r)}containsKey(e,t){return ne.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e,t){this.ui={},this.overlays={},this.ci=new Ad(0),this.li=!1,this.li=!0,this.hi=new BN,this.referenceDelegate=e(this),this.Pi=new FN(this),this.indexManager=new CN,this.remoteDocumentCache=function(a){return new $N(a)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new RN(t),this.Ii=new LN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new zN,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new qN(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){me("MemoryPersistence","Starting transaction:",e);const a=new GN(this.ci.next());return this.referenceDelegate.Ei(),r(a).next(l=>this.referenceDelegate.di(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ai(e,t){return ne.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,t)))}}class GN extends bk{constructor(e){super(),this.currentSequenceNumber=e}}class jp{constructor(e){this.persistence=e,this.Ri=new Dp,this.Vi=null}static mi(e){return new jp(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),ne.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ne.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(a=>this.fi.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.fi.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,r=>{const a=ve.fromPath(r);return this.gi(e,a).next(l=>{l||t.removeEntry(a,Re.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return ne.or([()=>ne.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class hd{constructor(e,t){this.persistence=e,this.pi=new Na(r=>Tk(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=PN(this,t)}static mi(e,t){return new hd(e,t)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(a=>r+a))}wr(e){let t=0;return this.pr(e,r=>{t++}).next(()=>t)}pr(e,t){return ne.forEach(this.pi,(r,a)=>this.br(e,r,a).next(l=>l?ne.resolve():t(a)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,u=>this.br(e,u,t).next(f=>{f||(r++,l.removeEntry(u,Re.min()))})).next(()=>l.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ne.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),ne.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ne.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Hh(e.data.value)),t}br(e,t,r){return ne.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.pi.get(t);return ne.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=a}static As(e,t){let r=$e(),a=$e();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Pp(e,t.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return UR()?8:wk(pn())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,a){const l={result:null};return this.ys(e,t).next(u=>{l.result=u}).next(()=>{if(!l.result)return this.ws(e,t,a,r).next(u=>{l.result=u})}).next(()=>{if(l.result)return;const u=new KN;return this.Ss(e,t,u).next(f=>{if(l.result=f,this.Vs)return this.bs(e,t,u,f.size)})}).next(()=>l.result)}bs(e,t,r,a){return r.documentReadCount<this.fs?(Vo()<=Be.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",Uo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(Vo()<=Be.DEBUG&&me("QueryEngine","Query:",Uo(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(Vo()<=Be.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",Uo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vr(t))):ne.resolve())}ys(e,t){if(zb(t))return ne.resolve(null);let r=Vr(t);return this.indexManager.getIndexType(e,r).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=Lg(t,null,"F"),r=Vr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(l=>{const u=$e(...l);return this.ps.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,r).next(g=>{const p=this.Ds(t,f);return this.Cs(t,p,u,g.readTime)?this.ys(e,Lg(t,null,"F")):this.vs(e,p,t,g)}))})))}ws(e,t,r,a){return zb(t)||a.isEqual(Re.min())?ne.resolve(null):this.ps.getDocuments(e,r).next(l=>{const u=this.Ds(t,l);return this.Cs(t,u,r,a)?ne.resolve(null):(Vo()<=Be.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Uo(t)),this.vs(e,u,t,pk(a,Lc)).next(f=>f))})}Ds(e,t){let r=new Ft(kT(e));return t.forEach((a,l)=>{Cd(e,l)&&(r=r.add(l))}),r}Cs(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,t,r){return Vo()<=Be.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",Uo(t)),this.ps.getDocumentsMatchingQuery(e,t,bi.min(),r)}vs(e,t,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next(l=>(t.forEach(u=>{l=l.insert(u.key,u)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp="LocalStore",YN=3e8;class WN{constructor(e,t,r,a){this.persistence=e,this.Fs=t,this.serializer=a,this.Ms=new yt(qe),this.xs=new Na(l=>Ap(l),xp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function XN(s,e,t,r){return new WN(s,e,t,r)}async function ZT(s,e){const t=ke(s);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next(l=>(a=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(r))).next(l=>{const u=[],f=[];let g=$e();for(const p of a){u.push(p.batchId);for(const y of p.mutations)g=g.add(y.key)}for(const p of l){f.push(p.batchId);for(const y of p.mutations)g=g.add(y.key)}return t.localDocuments.getDocuments(r,g).next(p=>({Ls:p,removedBatchIds:u,addedBatchIds:f}))})})}function JN(s,e){const t=ke(s);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return function(f,g,p,y){const E=p.batch,S=E.keys();let N=ne.resolve();return S.forEach(V=>{N=N.next(()=>y.getEntry(g,V)).next(z=>{const U=p.docVersions.get(V);We(U!==null,48541),z.version.compareTo(U)<0&&(E.applyToRemoteDocument(z,p),z.isValidDocument()&&(z.setReadTime(p.commitVersion),y.addEntry(z)))})}),N.next(()=>f.mutationQueue.removeMutationBatch(g,E))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(f){let g=$e();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(g=g.add(f.batch.mutations[p].key));return g}(e))).next(()=>t.localDocuments.getDocuments(r,a))})}function eS(s){const e=ke(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function ZN(s,e){const t=ke(s),r=e.snapshotVersion;let a=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});a=t.Ms;const f=[];e.targetChanges.forEach((y,E)=>{const S=a.get(E);if(!S)return;f.push(t.Pi.removeMatchingKeys(l,y.removedDocuments,E).next(()=>t.Pi.addMatchingKeys(l,y.addedDocuments,E)));let N=S.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?N=N.withResumeToken(on.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):y.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(y.resumeToken,r)),a=a.insert(E,N),function(z,U,se){return z.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=YN?!0:se.addedDocuments.size+se.modifiedDocuments.size+se.removedDocuments.size>0}(S,N,y)&&f.push(t.Pi.updateTargetData(l,N))});let g=ys(),p=$e();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,y))}),f.push(eO(l,u,e.documentUpdates).next(y=>{g=y.ks,p=y.qs})),!r.isEqual(Re.min())){const y=t.Pi.getLastRemoteSnapshotVersion(l).next(E=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,r));f.push(y)}return ne.waitFor(f).next(()=>u.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,g,p)).next(()=>g)}).then(l=>(t.Ms=a,l))}function eO(s,e,t){let r=$e(),a=$e();return t.forEach(l=>r=r.add(l)),e.getEntries(s,r).next(l=>{let u=ys();return t.forEach((f,g)=>{const p=l.get(f);g.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(f)),g.isNoDocument()&&g.version.isEqual(Re.min())?(e.removeEntry(f,g.readTime),u=u.insert(f,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),u=u.insert(f,g)):me(Mp,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",g.version)}),{ks:u,qs:a}})}function tO(s,e){const t=ke(s);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Ep),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function nO(s,e){const t=ke(s);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return t.Pi.getTargetData(r,e).next(l=>l?(a=l,ne.resolve(a)):t.Pi.allocateTargetId(r).next(u=>(a=new hi(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=t.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r})}async function Hg(s,e,t){const r=ke(s),a=r.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",l,u=>r.persistence.referenceDelegate.removeTarget(u,a))}catch(u){if(!hl(u))throw u;me(Mp,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function Zb(s,e,t){const r=ke(s);let a=Re.min(),l=$e();return r.persistence.runTransaction("Execute query","readwrite",u=>function(g,p,y){const E=ke(g),S=E.xs.get(y);return S!==void 0?ne.resolve(E.Ms.get(S)):E.Pi.getTargetData(p,y)}(r,u,Vr(e)).next(f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,f.targetId).next(g=>{l=g})}).next(()=>r.Fs.getDocumentsMatchingQuery(u,e,t?a:Re.min(),t?l:$e())).next(f=>(rO(r,qk(e),f),{documents:f,Qs:l})))}function rO(s,e,t){let r=s.Os.get(e)||Re.min();t.forEach((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),s.Os.set(e,r)}class ew{constructor(){this.activeTargetIds=Qk()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sO{constructor(){this.Mo=new ew,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new ew,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw="ConnectivityMonitor";class nw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){me(tw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){me(tw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jh=null;function Fg(){return jh===null?jh=function(){return 268435456+Math.round(2147483648*Math.random())}():jh++,"0x"+jh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg="RestConnection",aO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class oO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===sd?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,t,r,a,l){const u=Fg(),f=this.zo(e,t.toUriEncodedString());me(cg,`Sending RPC '${e}' ${u}:`,f,r);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,a,l);const{host:p}=new URL(f),y=al(p);return this.Jo(e,f,g,r,y).then(E=>(me(cg,`Received RPC '${e}' ${u}: `,E),E),E=>{throw Xo(cg,`RPC '${e}' ${u} failed with error: `,E,"url: ",f,"request:",r),E})}Ho(e,t,r,a,l,u){return this.Go(e,t,r,a,l)}jo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+cl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),r&&r.headers.forEach((a,l)=>e[l]=a)}zo(e,t){const r=aO[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn="WebChannelConnection";class cO extends oO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,a,l){const u=Fg();return new Promise((f,g)=>{const p=new rT;p.setWithCredentials(!0),p.listenOnce(sT.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case $h.NO_ERROR:const E=p.getResponseJson();me(fn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case $h.TIMEOUT:me(fn,`RPC '${e}' ${u} timed out`),g(new fe(ee.DEADLINE_EXCEEDED,"Request time out"));break;case $h.HTTP_ERROR:const S=p.getStatus();if(me(fn,`RPC '${e}' ${u} failed with status:`,S,"response text:",p.getResponseText()),S>0){let N=p.getResponseJson();Array.isArray(N)&&(N=N[0]);const V=N==null?void 0:N.error;if(V&&V.status&&V.message){const z=function(se){const W=se.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(W)>=0?W:ee.UNKNOWN}(V.status);g(new fe(z,V.message))}else g(new fe(ee.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new fe(ee.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{me(fn,`RPC '${e}' ${u} completed.`)}});const y=JSON.stringify(a);me(fn,`RPC '${e}' ${u} sending request:`,a),p.send(t,"POST",y,r,15)})}T_(e,t,r){const a=Fg(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=oT(),f=aT(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(g.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,t,r),g.encodeInitMessageHeaders=!0;const y=l.join("");me(fn,`Creating RPC '${e}' stream ${a}: ${y}`,g);const E=u.createWebChannel(y,g);this.I_(E);let S=!1,N=!1;const V=new lO({Yo:U=>{N?me(fn,`Not sending because RPC '${e}' stream ${a} is closed:`,U):(S||(me(fn,`Opening RPC '${e}' stream ${a} transport.`),E.open(),S=!0),me(fn,`RPC '${e}' stream ${a} sending:`,U),E.send(U))},Zo:()=>E.close()}),z=(U,se,W)=>{U.listen(se,Y=>{try{W(Y)}catch(ce){setTimeout(()=>{throw ce},0)}})};return z(E,Tc.EventType.OPEN,()=>{N||(me(fn,`RPC '${e}' stream ${a} transport opened.`),V.o_())}),z(E,Tc.EventType.CLOSE,()=>{N||(N=!0,me(fn,`RPC '${e}' stream ${a} transport closed`),V.a_(),this.E_(E))}),z(E,Tc.EventType.ERROR,U=>{N||(N=!0,Xo(fn,`RPC '${e}' stream ${a} transport errored. Name:`,U.name,"Message:",U.message),V.a_(new fe(ee.UNAVAILABLE,"The operation could not be completed")))}),z(E,Tc.EventType.MESSAGE,U=>{var se;if(!N){const W=U.data[0];We(!!W,16349);const Y=W,ce=(Y==null?void 0:Y.error)||((se=Y[0])==null?void 0:se.error);if(ce){me(fn,`RPC '${e}' stream ${a} received error:`,ce);const he=ce.status;let ue=function(R){const M=Ot[R];if(M!==void 0)return BT(M)}(he),D=ce.message;ue===void 0&&(ue=ee.INTERNAL,D="Unknown error status: "+he+" with message "+ce.message),N=!0,V.a_(new fe(ue,D)),E.close()}else me(fn,`RPC '${e}' stream ${a} received:`,W),V.u_(W)}}),z(f,iT.STAT_EVENT,U=>{U.stat===Og.PROXY?me(fn,`RPC '${e}' stream ${a} detected buffering proxy`):U.stat===Og.NOPROXY&&me(fn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{V.__()},0),V}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function ug(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dd(s){return new fN(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e,t,r=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-r);a>0&&me("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw="PersistentStream";class nS{constructor(e,t,r,a,l,u,f,g){this.Mi=e,this.S_=r,this.b_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new tS(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ee.RESOURCE_EXHAUSTED?(ps(t.toString()),ps("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.D_===t&&this.G_(r,a)},r=>{e(()=>{const a=new fe(ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)})})}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(a=>{r(()=>this.z_(a))}),this.stream.onMessage(a=>{r(()=>++this.F_==1?this.J_(a):this.onNext(a))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return me(rw,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(me(rw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class uO extends nS{constructor(e,t,r,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,u),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=pN(this.serializer,e),r=function(l){if(!("targetChange"in l))return Re.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Re.min():u.readTime?Ur(u.readTime):Re.min()}(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=$g(this.serializer),t.addTarget=function(l,u){let f;const g=u.target;if(f=Vg(g)?{documents:vN(l,g)}:{query:bN(l,g).ft},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=HT(l,u.resumeToken);const p=zg(l,u.expectedCount);p!==null&&(f.expectedCount=p)}else if(u.snapshotVersion.compareTo(Re.min())>0){f.readTime=ud(l,u.snapshotVersion.toTimestamp());const p=zg(l,u.expectedCount);p!==null&&(f.expectedCount=p)}return f}(this.serializer,e);const r=EN(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=$g(this.serializer),t.removeTarget=e,this.q_(t)}}class hO extends nS{constructor(e,t,r,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return We(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){We(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=_N(e.writeResults,e.commitTime),r=Ur(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=$g(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>yN(this.serializer,r))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{}class fO extends dO{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new fe(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Go(e,Bg(t,r),a,l,u)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new fe(ee.UNKNOWN,l.toString())})}Ho(e,t,r,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Ho(e,Bg(t,r),a,u,f,l)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(ee.UNKNOWN,u.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class mO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ps(t),this.aa=!1):me("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia="RemoteStore";class gO{constructor(e,t,r,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo(u=>{r.enqueueAndForget(async()=>{Oa(this)&&(me(Ia,"Restarting streams for network reachability change."),await async function(g){const p=ke(g);p.Ea.add(4),await nu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await jd(p)}(this))})}),this.Ra=new mO(r,a)}}async function jd(s){if(Oa(s))for(const e of s.da)await e(!0)}async function nu(s){for(const e of s.da)await e(!1)}function rS(s,e){const t=ke(s);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),zp(t)?Lp(t):dl(t).O_()&&Up(t,e))}function Vp(s,e){const t=ke(s),r=dl(t);t.Ia.delete(e),r.O_()&&sS(t,e),t.Ia.size===0&&(r.O_()?r.L_():Oa(t)&&t.Ra.set("Unknown"))}function Up(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const t=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}dl(s).Y_(e)}function sS(s,e){s.Va.Ue(e),dl(s).Z_(e)}function Lp(s){s.Va=new cN({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),dl(s).start(),s.Ra.ua()}function zp(s){return Oa(s)&&!dl(s).x_()&&s.Ia.size>0}function Oa(s){return ke(s).Ea.size===0}function iS(s){s.Va=void 0}async function pO(s){s.Ra.set("Online")}async function yO(s){s.Ia.forEach((e,t)=>{Up(s,e)})}async function _O(s,e){iS(s),zp(s)?(s.Ra.ha(e),Lp(s)):s.Ra.set("Unknown")}async function vO(s,e,t){if(s.Ra.set("Online"),e instanceof $T&&e.state===2&&e.cause)try{await async function(a,l){const u=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,u),a.Ia.delete(f),a.Va.removeTarget(f))}(s,e)}catch(r){me(Ia,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await dd(s,r)}else if(e instanceof Kh?s.Va.Ze(e):e instanceof qT?s.Va.st(e):s.Va.tt(e),!t.isEqual(Re.min()))try{const r=await eS(s.localStore);t.compareTo(r)>=0&&await function(l,u){const f=l.Va.Tt(u);return f.targetChanges.forEach((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(g.resumeToken,u))}}),f.targetMismatches.forEach((g,p)=>{const y=l.Ia.get(g);if(!y)return;l.Ia.set(g,y.withResumeToken(on.EMPTY_BYTE_STRING,y.snapshotVersion)),sS(l,g);const E=new hi(y.target,g,p,y.sequenceNumber);Up(l,E)}),l.remoteSyncer.applyRemoteEvent(f)}(s,t)}catch(r){me(Ia,"Failed to raise snapshot:",r),await dd(s,r)}}async function dd(s,e,t){if(!hl(e))throw e;s.Ea.add(1),await nu(s),s.Ra.set("Offline"),t||(t=()=>eS(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{me(Ia,"Retrying IndexedDB access"),await t(),s.Ea.delete(1),await jd(s)})}function aS(s,e){return e().catch(t=>dd(s,t,e))}async function Pd(s){const e=ke(s),t=Si(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ep;for(;bO(e);)try{const a=await tO(e.localStore,r);if(a===null){e.Ta.length===0&&t.L_();break}r=a.batchId,wO(e,a)}catch(a){await dd(e,a)}oS(e)&&lS(e)}function bO(s){return Oa(s)&&s.Ta.length<10}function wO(s,e){s.Ta.push(e);const t=Si(s);t.O_()&&t.X_&&t.ea(e.mutations)}function oS(s){return Oa(s)&&!Si(s).x_()&&s.Ta.length>0}function lS(s){Si(s).start()}async function EO(s){Si(s).ra()}async function TO(s){const e=Si(s);for(const t of s.Ta)e.ea(t.mutations)}async function SO(s,e,t){const r=s.Ta.shift(),a=kp.from(r,e,t);await aS(s,()=>s.remoteSyncer.applySuccessfulWrite(a)),await Pd(s)}async function AO(s,e){e&&Si(s).X_&&await async function(r,a){if(function(u){return aN(u)&&u!==ee.ABORTED}(a.code)){const l=r.Ta.shift();Si(r).B_(),await aS(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a)),await Pd(r)}}(s,e),oS(s)&&lS(s)}async function sw(s,e){const t=ke(s);t.asyncQueue.verifyOperationInProgress(),me(Ia,"RemoteStore received new credentials");const r=Oa(t);t.Ea.add(3),await nu(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await jd(t)}async function xO(s,e){const t=ke(s);e?(t.Ea.delete(2),await jd(t)):e||(t.Ea.add(2),await nu(t),t.Ra.set("Unknown"))}function dl(s){return s.ma||(s.ma=function(t,r,a){const l=ke(t);return l.sa(),new uO(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(s.datastore,s.asyncQueue,{Xo:pO.bind(null,s),t_:yO.bind(null,s),r_:_O.bind(null,s),H_:vO.bind(null,s)}),s.da.push(async e=>{e?(s.ma.B_(),zp(s)?Lp(s):s.Ra.set("Unknown")):(await s.ma.stop(),iS(s))})),s.ma}function Si(s){return s.fa||(s.fa=function(t,r,a){const l=ke(t);return l.sa(),new hO(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:EO.bind(null,s),r_:AO.bind(null,s),ta:TO.bind(null,s),na:SO.bind(null,s)}),s.da.push(async e=>{e?(s.fa.B_(),await Pd(s)):(await s.fa.stop(),s.Ta.length>0&&(me(Ia,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))})),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e,t,r,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,l){const u=Date.now()+r,f=new Bp(e,t,u,a,l);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qp(s,e){if(ps("AsyncQueue",`${e}: ${s}`),hl(s))return new fe(ee.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{static emptySet(e){return new Qo(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ve.comparator(t.key,r.key):(t,r)=>ve.comparator(t.key,r.key),this.keyedMap=Sc(),this.sortedSet=new yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Qo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Qo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(){this.ga=new yt(ve.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,r)=>{e.push(r)}),e}}class nl{constructor(e,t,r,a,l,u,f,g,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,a,l){const u=[];return t.forEach(f=>{u.push({type:0,doc:f})}),new nl(e,t,Qo.emptySet(t),u,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Id(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class IO{constructor(){this.queries=aw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const a=ke(t),l=a.queries;a.queries=aw(),l.forEach((u,f)=>{for(const g of f.Sa)g.onError(r)})})(this,new fe(ee.ABORTED,"Firestore shutting down"))}}function aw(){return new Na(s=>CT(s),Id)}async function cS(s,e){const t=ke(s);let r=3;const a=e.query;let l=t.queries.get(a);l?!l.ba()&&e.Da()&&(r=2):(l=new RO,r=e.Da()?0:1);try{switch(r){case 0:l.wa=await t.onListen(a,!0);break;case 1:l.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(u){const f=qp(u,`Initialization of query '${Uo(e.query)}' failed`);return void e.onError(f)}t.queries.set(a,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&$p(t)}async function uS(s,e){const t=ke(s),r=e.query;let a=3;const l=t.queries.get(r);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function CO(s,e){const t=ke(s);let r=!1;for(const a of e){const l=a.query,u=t.queries.get(l);if(u){for(const f of u.Sa)f.Fa(a)&&(r=!0);u.wa=a}}r&&$p(t)}function kO(s,e,t){const r=ke(s),a=r.queries.get(e);if(a)for(const l of a.Sa)l.onError(t);r.queries.delete(e)}function $p(s){s.Ca.forEach(e=>{e.next()})}var Gg,ow;(ow=Gg||(Gg={})).Ma="default",ow.Cache="cache";class hS{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new nl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=nl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Gg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e){this.key=e}}class fS{constructor(e){this.key=e}}class NO{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=$e(),this.mutatedKeys=$e(),this.eu=kT(e),this.tu=new Qo(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new iw,a=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,u=a,f=!1;const g=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((y,E)=>{const S=a.get(y),N=Cd(this.query,E)?E:null,V=!!S&&this.mutatedKeys.has(S.key),z=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let U=!1;S&&N?S.data.isEqual(N.data)?V!==z&&(r.track({type:3,doc:N}),U=!0):this.su(S,N)||(r.track({type:2,doc:N}),U=!0,(g&&this.eu(N,g)>0||p&&this.eu(N,p)<0)&&(f=!0)):!S&&N?(r.track({type:0,doc:N}),U=!0):S&&!N&&(r.track({type:1,doc:S}),U=!0,(g||p)&&(f=!0)),U&&(N?(u=u.add(N),l=z?l.add(y):l.delete(y)):(u=u.delete(y),l=l.delete(y)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),l=l.delete(y.key),r.track({type:1,doc:y})}return{tu:u,iu:r,Cs:f,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort((y,E)=>function(N,V){const z=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:U})}};return z(N)-z(V)}(y.type,E.type)||this.eu(y.doc,E.doc)),this.ou(r),a=a??!1;const f=t&&!a?this._u():[],g=this.Xa.size===0&&this.current&&!a?1:0,p=g!==this.Za;return this.Za=g,u.length!==0||p?{snapshot:new nl(this.query,e.tu,l,u,e.mutatedKeys,g===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new iw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=$e(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const t=[];return e.forEach(r=>{this.Xa.has(r)||t.push(new fS(r))}),this.Xa.forEach(r=>{e.has(r)||t.push(new dS(r))}),t}cu(e){this.Ya=e.Qs,this.Xa=$e();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return nl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Hp="SyncEngine";class OO{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class DO{constructor(e){this.key=e,this.hu=!1}}class jO{constructor(e,t,r,a,l,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Na(f=>CT(f),Id),this.Iu=new Map,this.Eu=new Set,this.du=new yt(ve.comparator),this.Au=new Map,this.Ru=new Dp,this.Vu={},this.mu=new Map,this.fu=tl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function PO(s,e,t=!0){const r=vS(s);let a;const l=r.Tu.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await mS(r,e,t,!0),a}async function MO(s,e){const t=vS(s);await mS(t,e,!0,!1)}async function mS(s,e,t,r){const a=await nO(s.localStore,Vr(e)),l=a.targetId,u=s.sharedClientState.addLocalQueryTarget(l,t);let f;return r&&(f=await VO(s,e,l,u==="current",a.resumeToken)),s.isPrimaryClient&&t&&rS(s.remoteStore,a),f}async function VO(s,e,t,r,a){s.pu=(E,S,N)=>async function(z,U,se,W){let Y=U.view.ru(se);Y.Cs&&(Y=await Zb(z.localStore,U.query,!1).then(({documents:D})=>U.view.ru(D,Y)));const ce=W&&W.targetChanges.get(U.targetId),he=W&&W.targetMismatches.get(U.targetId)!=null,ue=U.view.applyChanges(Y,z.isPrimaryClient,ce,he);return cw(z,U.targetId,ue.au),ue.snapshot}(s,E,S,N);const l=await Zb(s.localStore,e,!0),u=new NO(e,l.Qs),f=u.ru(l.documents),g=tu.createSynthesizedTargetChangeForCurrentChange(t,r&&s.onlineState!=="Offline",a),p=u.applyChanges(f,s.isPrimaryClient,g);cw(s,t,p.au);const y=new OO(e,t,u);return s.Tu.set(e,y),s.Iu.has(t)?s.Iu.get(t).push(e):s.Iu.set(t,[e]),p.snapshot}async function UO(s,e,t){const r=ke(s),a=r.Tu.get(e),l=r.Iu.get(a.targetId);if(l.length>1)return r.Iu.set(a.targetId,l.filter(u=>!Id(u,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await Hg(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),t&&Vp(r.remoteStore,a.targetId),Kg(r,a.targetId)}).catch(ul)):(Kg(r,a.targetId),await Hg(r.localStore,a.targetId,!0))}async function LO(s,e){const t=ke(s),r=t.Tu.get(e),a=t.Iu.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Vp(t.remoteStore,r.targetId))}async function zO(s,e,t){const r=KO(s);try{const a=await function(u,f){const g=ke(u),p=dt.now(),y=f.reduce((N,V)=>N.add(V.key),$e());let E,S;return g.persistence.runTransaction("Locally write mutations","readwrite",N=>{let V=ys(),z=$e();return g.Ns.getEntries(N,y).next(U=>{V=U,V.forEach((se,W)=>{W.isValidDocument()||(z=z.add(se))})}).next(()=>g.localDocuments.getOverlayedDocuments(N,V)).next(U=>{E=U;const se=[];for(const W of f){const Y=tN(W,E.get(W.key).overlayedDocument);Y!=null&&se.push(new Ri(W.key,Y,wT(Y.value.mapValue),gr.exists(!0)))}return g.mutationQueue.addMutationBatch(N,p,se,f)}).next(U=>{S=U;const se=U.applyToLocalDocumentSet(E,z);return g.documentOverlayCache.saveOverlays(N,U.batchId,se)})}).then(()=>({batchId:S.batchId,changes:OT(E)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(u,f,g){let p=u.Vu[u.currentUser.toKey()];p||(p=new yt(qe)),p=p.insert(f,g),u.Vu[u.currentUser.toKey()]=p}(r,a.batchId,t),await ru(r,a.changes),await Pd(r.remoteStore)}catch(a){const l=qp(a,"Failed to persist write");t.reject(l)}}async function gS(s,e){const t=ke(s);try{const r=await ZN(t.localStore,e);e.targetChanges.forEach((a,l)=>{const u=t.Au.get(l);u&&(We(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?We(u.hu,14607):a.removedDocuments.size>0&&(We(u.hu,42227),u.hu=!1))}),await ru(t,r,e)}catch(r){await ul(r)}}function lw(s,e,t){const r=ke(s);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.Tu.forEach((l,u)=>{const f=u.view.va(e);f.snapshot&&a.push(f.snapshot)}),function(u,f){const g=ke(u);g.onlineState=f;let p=!1;g.queries.forEach((y,E)=>{for(const S of E.Sa)S.va(f)&&(p=!0)}),p&&$p(g)}(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function BO(s,e,t){const r=ke(s);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Au.get(e),l=a&&a.key;if(l){let u=new yt(ve.comparator);u=u.insert(l,gn.newNoDocument(l,Re.min()));const f=$e().add(l),g=new Od(Re.min(),new Map,new yt(qe),u,f);await gS(r,g),r.du=r.du.remove(l),r.Au.delete(e),Fp(r)}else await Hg(r.localStore,e,!1).then(()=>Kg(r,e,t)).catch(ul)}async function qO(s,e){const t=ke(s),r=e.batch.batchId;try{const a=await JN(t.localStore,e);yS(t,r,null),pS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await ru(t,a)}catch(a){await ul(a)}}async function $O(s,e,t){const r=ke(s);try{const a=await function(u,f){const g=ke(u);return g.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return g.mutationQueue.lookupMutationBatch(p,f).next(E=>(We(E!==null,37113),y=E.keys(),g.mutationQueue.removeMutationBatch(p,E))).next(()=>g.mutationQueue.performConsistencyCheck(p)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(p,y,f)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>g.localDocuments.getDocuments(p,y))})}(r.localStore,e);yS(r,e,t),pS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await ru(r,a)}catch(a){await ul(a)}}function pS(s,e){(s.mu.get(e)||[]).forEach(t=>{t.resolve()}),s.mu.delete(e)}function yS(s,e,t){const r=ke(s);let a=r.Vu[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function Kg(s,e,t=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),t&&s.Pu.yu(r,t);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach(r=>{s.Ru.containsKey(r)||_S(s,r)})}function _S(s,e){s.Eu.delete(e.path.canonicalString());const t=s.du.get(e);t!==null&&(Vp(s.remoteStore,t),s.du=s.du.remove(e),s.Au.delete(t),Fp(s))}function cw(s,e,t){for(const r of t)r instanceof dS?(s.Ru.addReference(r.key,e),HO(s,r)):r instanceof fS?(me(Hp,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||_S(s,r.key)):Se(19791,{wu:r})}function HO(s,e){const t=e.key,r=t.path.canonicalString();s.du.get(t)||s.Eu.has(r)||(me(Hp,"New document in limbo: "+t),s.Eu.add(r),Fp(s))}function Fp(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const t=new ve(ct.fromString(e)),r=s.fu.next();s.Au.set(r,new DO(t)),s.du=s.du.insert(t,r),rS(s.remoteStore,new hi(Vr(Rp(t.path)),r,"TargetPurposeLimboResolution",Ad.ce))}}async function ru(s,e,t){const r=ke(s),a=[],l=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach((f,g)=>{u.push(r.pu(g,e,t).then(p=>{var y;if((p||t)&&r.isPrimaryClient){const E=p?!p.fromCache:(y=t==null?void 0:t.targetChanges.get(g.targetId))==null?void 0:y.current;r.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(p){a.push(p);const E=Pp.As(g.targetId,p);l.push(E)}}))}),await Promise.all(u),r.Pu.H_(a),await async function(g,p){const y=ke(g);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>ne.forEach(p,S=>ne.forEach(S.Es,N=>y.persistence.referenceDelegate.addReference(E,S.targetId,N)).next(()=>ne.forEach(S.ds,N=>y.persistence.referenceDelegate.removeReference(E,S.targetId,N)))))}catch(E){if(!hl(E))throw E;me(Mp,"Failed to update sequence numbers: "+E)}for(const E of p){const S=E.targetId;if(!E.fromCache){const N=y.Ms.get(S),V=N.snapshotVersion,z=N.withLastLimboFreeSnapshotVersion(V);y.Ms=y.Ms.insert(S,z)}}}(r.localStore,l))}async function FO(s,e){const t=ke(s);if(!t.currentUser.isEqual(e)){me(Hp,"User change. New user:",e.toKey());const r=await ZT(t.localStore,e);t.currentUser=e,function(l,u){l.mu.forEach(f=>{f.forEach(g=>{g.reject(new fe(ee.CANCELLED,u))})}),l.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ru(t,r.Ls)}}function GO(s,e){const t=ke(s),r=t.Au.get(e);if(r&&r.hu)return $e().add(r.key);{let a=$e();const l=t.Iu.get(e);if(!l)return a;for(const u of l){const f=t.Tu.get(u);a=a.unionWith(f.view.nu)}return a}}function vS(s){const e=ke(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=gS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=GO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=BO.bind(null,e),e.Pu.H_=CO.bind(null,e.eventManager),e.Pu.yu=kO.bind(null,e.eventManager),e}function KO(s){const e=ke(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$O.bind(null,e),e}class fd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Dd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return XN(this.persistence,new QN,e.initialUser,this.serializer)}Cu(e){return new JT(jp.mi,this.serializer)}Du(e){return new sO}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fd.provider={build:()=>new fd};class QO extends fd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){We(this.persistence.referenceDelegate instanceof hd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new DN(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Rn.withCacheSize(this.cacheSizeBytes):Rn.DEFAULT;return new JT(r=>hd.mi(r,t),this.serializer)}}class Qg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>lw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=FO.bind(null,this.syncEngine),await xO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new IO}()}createDatastore(e){const t=Dd(e.databaseInfo.databaseId),r=function(l){return new cO(l)}(e.databaseInfo);return function(l,u,f,g){return new fO(l,u,f,g)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,a,l,u,f){return new gO(r,a,l,u,f)}(this.localStore,this.datastore,e.asyncQueue,t=>lw(this.syncEngine,t,0),function(){return nw.v()?new nw:new iO}())}createSyncEngine(e,t){return function(a,l,u,f,g,p,y){const E=new jO(a,l,u,f,g,p);return y&&(E.gu=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const l=ke(a);me(Ia,"RemoteStore shutting down."),l.Ea.add(5),await nu(l),l.Aa.shutdown(),l.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}Qg.provider={build:()=>new Qg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ps("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai="FirestoreClient";class YO{constructor(e,t,r,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=mn.UNAUTHENTICATED,this.clientId=wp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,async u=>{me(Ai,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(me(Ai,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=qp(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function hg(s,e){s.asyncQueue.verifyOperationInProgress(),me(Ai,"Initializing OfflineComponentProvider");const t=s.configuration;await e.initialize(t);let r=t.initialUser;s.setCredentialChangeListener(async a=>{r.isEqual(a)||(await ZT(e.localStore,a),r=a)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function uw(s,e){s.asyncQueue.verifyOperationInProgress();const t=await WO(s);me(Ai,"Initializing OnlineComponentProvider"),await e.initialize(t,s.configuration),s.setCredentialChangeListener(r=>sw(e.remoteStore,r)),s.setAppCheckTokenChangeListener((r,a)=>sw(e.remoteStore,a)),s._onlineComponents=e}async function WO(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){me(Ai,"Using user provided OfflineComponentProvider");try{await hg(s,s._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===ee.FAILED_PRECONDITION||a.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;Xo("Error using user provided cache. Falling back to memory cache: "+t),await hg(s,new fd)}}else me(Ai,"Using default OfflineComponentProvider"),await hg(s,new QO(void 0));return s._offlineComponents}async function wS(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(me(Ai,"Using user provided OnlineComponentProvider"),await uw(s,s._uninitializedComponentsProvider._online)):(me(Ai,"Using default OnlineComponentProvider"),await uw(s,new Qg))),s._onlineComponents}function XO(s){return wS(s).then(e=>e.syncEngine)}async function Yg(s){const e=await wS(s),t=e.eventManager;return t.onListen=PO.bind(null,e.syncEngine),t.onUnlisten=UO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=MO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=LO.bind(null,e.syncEngine),t}function JO(s,e,t={}){const r=new yi;return s.asyncQueue.enqueueAndForget(async()=>function(l,u,f,g,p){const y=new bS({next:S=>{y.Nu(),u.enqueueAndForget(()=>uS(l,E)),S.fromCache&&g.source==="server"?p.reject(new fe(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(S)},error:S=>p.reject(S)}),E=new hS(f,y,{includeMetadataChanges:!0,qa:!0});return cS(l,E)}(await Yg(s),s.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS="firestore.googleapis.com",dw=!0;class fw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=TS,this.ssl=dw}else this.host=e.host,this.ssl=e.ssl??dw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=XT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<NN)throw new fe(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}gk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ES(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new fe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new fe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new fe(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Md{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new ik;switch(r.type){case"firstParty":return new ck(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=hw.get(t);r&&(me("ComponentProvider","Removing Datastore"),hw.delete(t),r.terminate())}(this),Promise.resolve()}}function ZO(s,e,t,r={}){var p;s=mr(s,Md);const a=al(e),l=s._getSettings(),u={...l,emulatorOptions:s._getEmulatorOptions()},f=`${e}:${t}`;a&&(pE(`https://${f}`),yE("Firestore",!0)),l.host!==TS&&l.host!==f&&Xo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...l,host:f,ssl:a,emulatorOptions:r};if(!Sa(g,u)&&(s._setSettings(g),r.mockUserToken)){let y,E;if(typeof r.mockUserToken=="string")y=r.mockUserToken,E=mn.MOCK_USER;else{y=CR(r.mockUserToken,(p=s._app)==null?void 0:p.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new fe(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new mn(S)}s._authCredentials=new ak(new cT(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Da(this.firestore,e,this._query)}}class Ct{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _i(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ct(this.firestore,e,this._key)}toJSON(){return{type:Ct._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Jc(t,Ct._jsonSchema))return new Ct(e,r||null,new ve(ct.fromString(t.referencePath)))}}Ct._jsonSchemaVersion="firestore/documentReference/1.0",Ct._jsonSchema={type:Mt("string",Ct._jsonSchemaVersion),referencePath:Mt("string")};class _i extends Da{constructor(e,t,r){super(e,t,Rp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ct(this.firestore,null,new ve(e))}withConverter(e){return new _i(this.firestore,e,this._path)}}function mw(s,e,...t){if(s=Zt(s),uT("collection","path",e),s instanceof Md){const r=ct.fromString(e,...t);return xb(r),new _i(s,null,r)}{if(!(s instanceof Ct||s instanceof _i))throw new fe(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ct.fromString(e,...t));return xb(r),new _i(s.firestore,null,r)}}function dg(s,e,...t){if(s=Zt(s),arguments.length===1&&(e=wp.newId()),uT("doc","path",e),s instanceof Md){const r=ct.fromString(e,...t);return Ab(r),new Ct(s,null,new ve(r))}{if(!(s instanceof Ct||s instanceof _i))throw new fe(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ct.fromString(e,...t));return Ab(r),new Ct(s.firestore,s instanceof _i?s.converter:null,new ve(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw="AsyncQueue";class pw{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new tS(this,"async_queue_retry"),this._c=()=>{const r=ug();r&&me(gw,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=ug();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=ug();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new yi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!hl(e))throw e;me(gw,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,ps("INTERNAL UNHANDLED ERROR: ",yw(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=Bp.createAndSchedule(this,e,t,r,l=>this.hc(l));return this.tc.push(a),a}uc(){this.nc&&Se(47125,{Pc:yw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function yw(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(s){return function(t,r){if(typeof t!="object"||t===null)return!1;const a=t;for(const l of r)if(l in a&&typeof a[l]=="function")return!0;return!1}(s,["next","error","complete"])}class Ca extends Md{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new pw,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new pw(e),this._firestoreClient=void 0,await e}}}function eD(s,e){const t=typeof s=="object"?s:wE(),r=typeof s=="string"?s:sd,a=dp(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=RR("firestore");l&&ZO(a,...l)}return a}function Gp(s){if(s._terminated)throw new fe(ee.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||tD(s),s._firestoreClient}function tD(s){var r,a,l;const e=s._freezeSettings(),t=function(f,g,p,y){return new xk(f,g,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,ES(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)}(s._databaseId,((r=s._app)==null?void 0:r.options.appId)||"",s._persistenceKey,e);s._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((l=e.localCache)!=null&&l._onlineComponentProvider)&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new YO(s._authCredentials,s._appCheckCredentials,s._queue,t,s._componentsProvider&&function(f){const g=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(g),_online:g}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jn(on.fromBase64String(e))}catch(t){throw new fe(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Jn(on.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Jc(e,Jn._jsonSchema))return Jn.fromBase64String(e.bytes)}}Jn._jsonSchemaVersion="firestore/bytes/1.0",Jn._jsonSchema={type:Mt("string",Jn._jsonSchemaVersion),bytes:Mt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new fe(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new fe(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new fe(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Lr._jsonSchemaVersion}}static fromJSON(e){if(Jc(e,Lr._jsonSchema))return new Lr(e.latitude,e.longitude)}}Lr._jsonSchemaVersion="firestore/geoPoint/1.0",Lr._jsonSchema={type:Mt("string",Lr._jsonSchemaVersion),latitude:Mt("number"),longitude:Mt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0}(this._values,e._values)}toJSON(){return{type:zr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Jc(e,zr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new zr(e.vectorValues);throw new fe(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}zr._jsonSchemaVersion="firestore/vectorValue/1.0",zr._jsonSchema={type:Mt("string",zr._jsonSchemaVersion),vectorValues:Mt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD=/^__.*__$/;class rD{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ri(e,this.data,this.fieldMask,t,this.fieldTransforms):new eu(e,this.data,t,this.fieldTransforms)}}class SS{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ri(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function AS(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:s})}}class Qp{constructor(e,t,r,a,l,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Qp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var a;const t=(a=this.path)==null?void 0:a.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){var a;const t=(a=this.path)==null?void 0:a.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return md(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(AS(this.Ac)&&nD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class sD{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Dd(e)}Cc(e,t,r,a=!1){return new Qp({Ac:e,methodName:t,Dc:r,path:an.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Yp(s){const e=s._freezeSettings(),t=Dd(s._databaseId);return new sD(s._databaseId,!!e.ignoreUndefinedProperties,t)}function iD(s,e,t,r,a,l={}){const u=s.Cc(l.merge||l.mergeFields?2:0,e,t,a);Wp("Data must be an object, but it was:",u,r);const f=xS(r,u);let g,p;if(l.merge)g=new Un(u.fieldMask),p=u.fieldTransforms;else if(l.mergeFields){const y=[];for(const E of l.mergeFields){const S=Wg(e,E,t);if(!u.contains(S))throw new fe(ee.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);IS(y,S)||y.push(S)}g=new Un(y),p=u.fieldTransforms.filter(E=>g.covers(E.field))}else g=null,p=u.fieldTransforms;return new rD(new In(f),g,p)}class Ud extends Kp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ud}}function aD(s,e,t,r){const a=s.Cc(1,e,t);Wp("Data must be an object, but it was:",a,r);const l=[],u=In.empty();xi(r,(g,p)=>{const y=Xp(e,g,t);p=Zt(p);const E=a.yc(y);if(p instanceof Ud)l.push(y);else{const S=su(p,E);S!=null&&(l.push(y),u.set(y,S))}});const f=new Un(l);return new SS(u,f,a.fieldTransforms)}function oD(s,e,t,r,a,l){const u=s.Cc(1,e,t),f=[Wg(e,r,t)],g=[a];if(l.length%2!=0)throw new fe(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<l.length;S+=2)f.push(Wg(e,l[S])),g.push(l[S+1]);const p=[],y=In.empty();for(let S=f.length-1;S>=0;--S)if(!IS(p,f[S])){const N=f[S];let V=g[S];V=Zt(V);const z=u.yc(N);if(V instanceof Ud)p.push(N);else{const U=su(V,z);U!=null&&(p.push(N),y.set(N,U))}}const E=new Un(p);return new SS(y,E,u.fieldTransforms)}function lD(s,e,t,r=!1){return su(t,s.Cc(r?4:3,e))}function su(s,e){if(RS(s=Zt(s)))return Wp("Unsupported field value:",e,s),xS(s,e);if(s instanceof Kp)return function(r,a){if(!AS(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,a){const l=[];let u=0;for(const f of r){let g=su(f,a.wc(u));g==null&&(g={nullValue:"NULL_VALUE"}),l.push(g),u++}return{arrayValue:{values:l}}}(s,e)}return function(r,a){if((r=Zt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Yk(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=dt.fromDate(r);return{timestampValue:ud(a.serializer,l)}}if(r instanceof dt){const l=new dt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ud(a.serializer,l)}}if(r instanceof Lr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Jn)return{bytesValue:HT(a.serializer,r._byteString)};if(r instanceof Ct){const l=a.databaseId,u=r.firestore._databaseId;if(!u.isEqual(l))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Op(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof zr)return function(u,f){return{mapValue:{fields:{[vT]:{stringValue:bT},[id]:{arrayValue:{values:u.toArray().map(p=>{if(typeof p!="number")throw f.Sc("VectorValues must only contain numeric values.");return Ip(f.serializer,p)})}}}}}}(r,a);throw a.Sc(`Unsupported field value: ${Sd(r)}`)}(s,e)}function xS(s,e){const t={};return fT(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xi(s,(r,a)=>{const l=su(a,e.mc(r));l!=null&&(t[r]=l)}),{mapValue:{fields:t}}}function RS(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof dt||s instanceof Lr||s instanceof Jn||s instanceof Ct||s instanceof Kp||s instanceof zr)}function Wp(s,e,t){if(!RS(t)||!hT(t)){const r=Sd(t);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function Wg(s,e,t){if((e=Zt(e))instanceof Vd)return e._internalPath;if(typeof e=="string")return Xp(s,e);throw md("Field path arguments must be of type string or ",s,!1,void 0,t)}const cD=new RegExp("[~\\*/\\[\\]]");function Xp(s,e,t){if(e.search(cD)>=0)throw md(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,t);try{return new Vd(...e.split("."))._internalPath}catch{throw md(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,t)}}function md(s,e,t,r,a){const l=r&&!r.isEmpty(),u=a!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let g="";return(l||u)&&(g+=" (found",l&&(g+=` in field ${r}`),u&&(g+=` in document ${a}`),g+=")"),new fe(ee.INVALID_ARGUMENT,f+s+g)}function IS(s,e){return s.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e,t,r,a,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ct(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new uD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Jp("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class uD extends CS{data(){return super.data()}}function Jp(s,e){return typeof e=="string"?Xp(s,e):e instanceof Vd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new fe(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zp{}class hD extends Zp{}function dD(s,e,...t){let r=[];e instanceof Zp&&r.push(e),r=r.concat(t),function(l){const u=l.filter(g=>g instanceof ey).length,f=l.filter(g=>g instanceof Ld).length;if(u>1||u>0&&f>0)throw new fe(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)s=a._apply(s);return s}class Ld extends hD{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Ld(e,t,r)}_apply(e){const t=this._parse(e);return NS(e._query,t),new Da(e.firestore,e.converter,Ug(e._query,t))}_parse(e){const t=Yp(e.firestore);return function(l,u,f,g,p,y,E){let S;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new fe(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){bw(E,y);const V=[];for(const z of E)V.push(vw(g,l,z));S={arrayValue:{values:V}}}else S=vw(g,l,E)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||bw(E,y),S=lD(f,u,E,y==="in"||y==="not-in");return Pt.create(p,y,S)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function fD(s,e,t){const r=e,a=Jp("where",s);return Ld._create(a,r,t)}class ey extends Zp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ey(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:pr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,l){let u=a;const f=l.getFlattenedFilters();for(const g of f)NS(u,g),u=Ug(u,g)}(e._query,t),new Da(e.firestore,e.converter,Ug(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function vw(s,e,t){if(typeof(t=Zt(t))=="string"){if(t==="")throw new fe(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!IT(e)&&t.indexOf("/")!==-1)throw new fe(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(ct.fromString(t));if(!ve.isDocumentKey(r))throw new fe(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return jb(s,new ve(r))}if(t instanceof Ct)return jb(s,t._key);throw new fe(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sd(t)}.`)}function bw(s,e){if(!Array.isArray(s)||s.length===0)throw new fe(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function NS(s,e){const t=function(a,l){for(const u of a)for(const f of u.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null}(s.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new fe(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class mD{convertValue(e,t="none"){switch(Ti(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ei(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return xi(e,(a,l)=>{r[a]=this.convertValue(l,t)}),r}convertVectorValue(e){var r,a,l;const t=(l=(a=(r=e.fields)==null?void 0:r[id].arrayValue)==null?void 0:a.values)==null?void 0:l.map(u=>It(u.doubleValue));return new zr(t)}convertGeoPoint(e){return new Lr(It(e.latitude),It(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Rd(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(zc(e));default:return null}}convertTimestamp(e){const t=wi(e);return new dt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ct.fromString(e);We(WT(r),9688,{name:e});const a=new Bc(r.get(1),r.get(3)),l=new ve(r.popFirst(5));return a.isEqual(t)||ps(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(s,e,t){let r;return r=s?t&&(t.merge||t.mergeFields)?s.toFirestore(e,t):s.toFirestore(e):e,r}class xc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ea extends CS{constructor(e,t,r,a,l,u){super(e,t,r,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Qh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Jp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ea._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ea._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ea._jsonSchema={type:Mt("string",Ea._jsonSchemaVersion),bundleSource:Mt("string","DocumentSnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class Qh extends Ea{data(e={}){return super.data(e)}}class Ta{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new xc(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Qh(this._firestore,this._userDataWriter,r.key,r,new xc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new fe(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map(f=>{const g=new Qh(a._firestore,a._userDataWriter,f.doc.key,f.doc,new xc(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:g,oldIndex:-1,newIndex:u++}})}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const g=new Qh(a._firestore,a._userDataWriter,f.doc.key,f.doc,new xc(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return f.type!==0&&(p=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),y=u.indexOf(f.doc.key)),{type:pD(f.type),doc:g,oldIndex:p,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ta._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=wp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],a=[];return this.docs.forEach(l=>{l._document!==null&&(t.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function pD(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:s})}}Ta._jsonSchemaVersion="firestore/querySnapshot/1.0",Ta._jsonSchema={type:Mt("string",Ta._jsonSchemaVersion),bundleSource:Mt("string","QuerySnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class ty extends mD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ct(this.firestore,null,t)}}function yD(s){s=mr(s,Da);const e=mr(s.firestore,Ca),t=Gp(e),r=new ty(e);return kS(s._query),JO(t,s._query).then(a=>new Ta(e,r,s,a))}function _D(s,e,t){s=mr(s,Ct);const r=mr(s.firestore,Ca),a=gD(s.converter,e,t);return ny(r,[iD(Yp(r),"setDoc",s._key,a,s.converter!==null,t).toMutation(s._key,gr.none())])}function vD(s,e,t,...r){s=mr(s,Ct);const a=mr(s.firestore,Ca),l=Yp(a);let u;return u=typeof(e=Zt(e))=="string"||e instanceof Vd?oD(l,"updateDoc",s._key,e,t,r):aD(l,"updateDoc",s._key,e),ny(a,[u.toMutation(s._key,gr.exists(!0))])}function bD(s){return ny(mr(s.firestore,Ca),[new Cp(s._key,gr.none())])}function wD(s,...e){var g,p,y;s=Zt(s);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||_w(e[r])||(t=e[r++]);const a={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(_w(e[r])){const E=e[r];e[r]=(g=E.next)==null?void 0:g.bind(E),e[r+1]=(p=E.error)==null?void 0:p.bind(E),e[r+2]=(y=E.complete)==null?void 0:y.bind(E)}let l,u,f;if(s instanceof Ct)u=mr(s.firestore,Ca),f=Rp(s._key.path),l={next:E=>{e[r]&&e[r](ED(u,s,E))},error:e[r+1],complete:e[r+2]};else{const E=mr(s,Da);u=mr(E.firestore,Ca),f=E._query;const S=new ty(u);l={next:N=>{e[r]&&e[r](new Ta(u,S,E,N))},error:e[r+1],complete:e[r+2]},kS(s._query)}return function(S,N,V,z){const U=new bS(z),se=new hS(N,U,V);return S.asyncQueue.enqueueAndForget(async()=>cS(await Yg(S),se)),()=>{U.Nu(),S.asyncQueue.enqueueAndForget(async()=>uS(await Yg(S),se))}}(Gp(u),f,a,l)}function ny(s,e){return function(r,a){const l=new yi;return r.asyncQueue.enqueueAndForget(async()=>zO(await XO(r),a,l)),l.promise}(Gp(s),e)}function ED(s,e,t){const r=t.docs.get(e._key),a=new ty(s);return new Ea(s,a,e._key,r,new xc(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(a){cl=a})(ol),Wo(new Aa("firestore",(r,{instanceIdentifier:a,options:l})=>{const u=r.getProvider("app").getImmediate(),f=new Ca(new ok(r.getProvider("auth-internal")),new uk(u,r.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new fe(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bc(p.options.projectId,y)}(u,a),u);return l={useFetchStreams:t,...l},f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),mi(wb,Eb,e),mi(wb,Eb,"esm2020")})();const TD="modulepreload",SD=function(s){return"/"+s},ww={},iu=function(e,t,r){let a=Promise.resolve();if(t&&t.length>0){let u=function(p){return Promise.all(p.map(y=>Promise.resolve(y).then(E=>({status:"fulfilled",value:E}),E=>({status:"rejected",reason:E}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),g=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));a=u(t.map(p=>{if(p=SD(p),p in ww)return;ww[p]=!0;const y=p.endsWith(".css"),E=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${E}`))return;const S=document.createElement("link");if(S.rel=y?"stylesheet":TD,y||(S.as="script"),S.crossOrigin="",S.href=p,g&&S.setAttribute("nonce",g),document.head.appendChild(S),y)return new Promise((N,V)=>{S.addEventListener("load",N),S.addEventListener("error",()=>V(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(u){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=u,window.dispatchEvent(f),!f.defaultPrevented)throw u}return a.then(u=>{for(const f of u||[])f.status==="rejected"&&l(f.reason);return e().catch(l)})},AD=s=>{let e;return s?e=s:typeof fetch>"u"?e=(...t)=>iu(async()=>{const{default:r}=await Promise.resolve().then(()=>fl);return{default:r}},void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)};class ry extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class Ew extends ry{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Tw extends ry{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Sw extends ry{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Xg;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(Xg||(Xg={}));var xD=function(s,e,t,r){function a(l){return l instanceof t?l:new t(function(u){u(l)})}return new(t||(t=Promise))(function(l,u){function f(y){try{p(r.next(y))}catch(E){u(E)}}function g(y){try{p(r.throw(y))}catch(E){u(E)}}function p(y){y.done?l(y.value):a(y.value).then(f,g)}p((r=r.apply(s,e||[])).next())})};class RD{constructor(e,{headers:t={},customFetch:r,region:a=Xg.Any}={}){this.url=e,this.headers=t,this.region=a,this.fetch=AD(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return xD(this,arguments,void 0,function*(t,r={}){var a;try{const{headers:l,method:u,body:f,signal:g}=r;let p={},{region:y}=r;y||(y=this.region);const E=new URL(`${this.url}/${t}`);y&&y!=="any"&&(p["x-region"]=y,E.searchParams.set("forceFunctionRegion",y));let S;f&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)&&(typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",S=f):typeof f=="string"?(p["Content-Type"]="text/plain",S=f):typeof FormData<"u"&&f instanceof FormData?S=f:(p["Content-Type"]="application/json",S=JSON.stringify(f)));const N=yield this.fetch(E.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),l),body:S,signal:g}).catch(se=>{throw se.name==="AbortError"?se:new Ew(se)}),V=N.headers.get("x-relay-error");if(V&&V==="true")throw new Tw(N);if(!N.ok)throw new Sw(N);let z=((a=N.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),U;return z==="application/json"?U=yield N.json():z==="application/octet-stream"?U=yield N.blob():z==="text/event-stream"?U=N:z==="multipart/form-data"?U=yield N.formData():U=yield N.text(),{data:U,error:null,response:N}}catch(l){return l instanceof Error&&l.name==="AbortError"?{data:null,error:new Ew(l)}:{data:null,error:l,response:l instanceof Sw||l instanceof Tw?l.context:void 0}}})}}var Xt={},xo={},Ro={},Io={},Co={},ko={},ID=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},rl=ID();const CD=rl.fetch,OS=rl.fetch.bind(rl),DS=rl.Headers,kD=rl.Request,ND=rl.Response,fl=Object.freeze(Object.defineProperty({__proto__:null,Headers:DS,Request:kD,Response:ND,default:OS,fetch:CD},Symbol.toStringTag,{value:"Module"})),OD=x1(fl);var Ph={},Aw;function jS(){if(Aw)return Ph;Aw=1,Object.defineProperty(Ph,"__esModule",{value:!0});class s extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return Ph.default=s,Ph}var xw;function PS(){if(xw)return ko;xw=1;var s=ko&&ko.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(ko,"__esModule",{value:!0});const e=s(OD),t=s(jS());class r{constructor(l){var u,f;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(u=l.shouldThrowOnError)!==null&&u!==void 0?u:!1,this.signal=l.signal,this.isMaybeSingle=(f=l.isMaybeSingle)!==null&&f!==void 0?f:!1,l.fetch?this.fetch=l.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,u){return this.headers=new Headers(this.headers),this.headers.set(l,u),this}then(l,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const f=this.fetch;let g=f(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var y,E,S,N;let V=null,z=null,U=null,se=p.status,W=p.statusText;if(p.ok){if(this.method!=="HEAD"){const ue=await p.text();ue===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((y=this.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?z=ue:z=JSON.parse(ue))}const ce=(E=this.headers.get("Prefer"))===null||E===void 0?void 0:E.match(/count=(exact|planned|estimated)/),he=(S=p.headers.get("content-range"))===null||S===void 0?void 0:S.split("/");ce&&he&&he.length>1&&(U=parseInt(he[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(z)&&(z.length>1?(V={code:"PGRST116",details:`Results contain ${z.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},z=null,U=null,se=406,W="Not Acceptable"):z.length===1?z=z[0]:z=null)}else{const ce=await p.text();try{V=JSON.parse(ce),Array.isArray(V)&&p.status===404&&(z=[],V=null,se=200,W="OK")}catch{p.status===404&&ce===""?(se=204,W="No Content"):V={message:ce}}if(V&&this.isMaybeSingle&&(!((N=V==null?void 0:V.details)===null||N===void 0)&&N.includes("0 rows"))&&(V=null,se=200,W="OK"),V&&this.shouldThrowOnError)throw new t.default(V)}return{error:V,data:z,count:U,status:se,statusText:W}});return this.shouldThrowOnError||(g=g.catch(p=>{var y,E,S;return{error:{message:`${(y=p==null?void 0:p.name)!==null&&y!==void 0?y:"FetchError"}: ${p==null?void 0:p.message}`,details:`${(E=p==null?void 0:p.stack)!==null&&E!==void 0?E:""}`,hint:"",code:`${(S=p==null?void 0:p.code)!==null&&S!==void 0?S:""}`},data:null,count:null,status:0,statusText:""}})),g.then(l,u)}returns(){return this}overrideTypes(){return this}}return ko.default=r,ko}var Rw;function MS(){if(Rw)return Co;Rw=1;var s=Co&&Co.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Co,"__esModule",{value:!0});const e=s(PS());class t extends e.default{select(a){let l=!1;const u=(a??"*").split("").map(f=>/\s/.test(f)&&!l?"":(f==='"'&&(l=!l),f)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:l=!0,nullsFirst:u,foreignTable:f,referencedTable:g=f}={}){const p=g?`${g}.order`:"order",y=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${y?`${y},`:""}${a}.${l?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:l,referencedTable:u=l}={}){const f=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(f,`${a}`),this}range(a,l,{foreignTable:u,referencedTable:f=u}={}){const g=typeof f>"u"?"offset":`${f}.offset`,p=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(g,`${a}`),this.url.searchParams.set(p,`${l-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:l=!1,settings:u=!1,buffers:f=!1,wal:g=!1,format:p="text"}={}){var y;const E=[a?"analyze":null,l?"verbose":null,u?"settings":null,f?"buffers":null,g?"wal":null].filter(Boolean).join("|"),S=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${S}"; options=${E};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return Co.default=t,Co}var Iw;function sy(){if(Iw)return Io;Iw=1;var s=Io&&Io.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Io,"__esModule",{value:!0});const e=s(MS());class t extends e.default{eq(a,l){return this.url.searchParams.append(a,`eq.${l}`),this}neq(a,l){return this.url.searchParams.append(a,`neq.${l}`),this}gt(a,l){return this.url.searchParams.append(a,`gt.${l}`),this}gte(a,l){return this.url.searchParams.append(a,`gte.${l}`),this}lt(a,l){return this.url.searchParams.append(a,`lt.${l}`),this}lte(a,l){return this.url.searchParams.append(a,`lte.${l}`),this}like(a,l){return this.url.searchParams.append(a,`like.${l}`),this}likeAllOf(a,l){return this.url.searchParams.append(a,`like(all).{${l.join(",")}}`),this}likeAnyOf(a,l){return this.url.searchParams.append(a,`like(any).{${l.join(",")}}`),this}ilike(a,l){return this.url.searchParams.append(a,`ilike.${l}`),this}ilikeAllOf(a,l){return this.url.searchParams.append(a,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(a,l){return this.url.searchParams.append(a,`ilike(any).{${l.join(",")}}`),this}is(a,l){return this.url.searchParams.append(a,`is.${l}`),this}in(a,l){const u=Array.from(new Set(l)).map(f=>typeof f=="string"&&new RegExp("[,()]").test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(a,`in.(${u})`),this}contains(a,l){return typeof l=="string"?this.url.searchParams.append(a,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(a,`cs.{${l.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(l)}`),this}containedBy(a,l){return typeof l=="string"?this.url.searchParams.append(a,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(a,`cd.{${l.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(l)}`),this}rangeGt(a,l){return this.url.searchParams.append(a,`sr.${l}`),this}rangeGte(a,l){return this.url.searchParams.append(a,`nxl.${l}`),this}rangeLt(a,l){return this.url.searchParams.append(a,`sl.${l}`),this}rangeLte(a,l){return this.url.searchParams.append(a,`nxr.${l}`),this}rangeAdjacent(a,l){return this.url.searchParams.append(a,`adj.${l}`),this}overlaps(a,l){return typeof l=="string"?this.url.searchParams.append(a,`ov.${l}`):this.url.searchParams.append(a,`ov.{${l.join(",")}}`),this}textSearch(a,l,{config:u,type:f}={}){let g="";f==="plain"?g="pl":f==="phrase"?g="ph":f==="websearch"&&(g="w");const p=u===void 0?"":`(${u})`;return this.url.searchParams.append(a,`${g}fts${p}.${l}`),this}match(a){return Object.entries(a).forEach(([l,u])=>{this.url.searchParams.append(l,`eq.${u}`)}),this}not(a,l,u){return this.url.searchParams.append(a,`not.${l}.${u}`),this}or(a,{foreignTable:l,referencedTable:u=l}={}){const f=u?`${u}.or`:"or";return this.url.searchParams.append(f,`(${a})`),this}filter(a,l,u){return this.url.searchParams.append(a,`${l}.${u}`),this}}return Io.default=t,Io}var Cw;function VS(){if(Cw)return Ro;Cw=1;var s=Ro&&Ro.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ro,"__esModule",{value:!0});const e=s(sy());class t{constructor(a,{headers:l={},schema:u,fetch:f}){this.url=a,this.headers=new Headers(l),this.schema=u,this.fetch=f}select(a,l){const{head:u=!1,count:f}=l??{},g=u?"HEAD":"GET";let p=!1;const y=(a??"*").split("").map(E=>/\s/.test(E)&&!p?"":(E==='"'&&(p=!p),E)).join("");return this.url.searchParams.set("select",y),f&&this.headers.append("Prefer",`count=${f}`),new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:l,defaultToNull:u=!0}={}){var f;const g="POST";if(l&&this.headers.append("Prefer",`count=${l}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const p=a.reduce((y,E)=>y.concat(Object.keys(E)),[]);if(p.length>0){const y=[...new Set(p)].map(E=>`"${E}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}upsert(a,{onConflict:l,ignoreDuplicates:u=!1,count:f,defaultToNull:g=!0}={}){var p;const y="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),f&&this.headers.append("Prefer",`count=${f}`),g||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const E=a.reduce((S,N)=>S.concat(Object.keys(N)),[]);if(E.length>0){const S=[...new Set(E)].map(N=>`"${N}"`);this.url.searchParams.set("columns",S.join(","))}}return new e.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(a,{count:l}={}){var u;const f="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:a}={}){var l;const u="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}}return Ro.default=t,Ro}var kw;function DD(){if(kw)return xo;kw=1;var s=xo&&xo.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(xo,"__esModule",{value:!0});const e=s(VS()),t=s(sy());class r{constructor(l,{headers:u={},schema:f,fetch:g}={}){this.url=l,this.headers=new Headers(u),this.schemaName=f,this.fetch=g}from(l){const u=new URL(`${this.url}/${l}`);return new e.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new r(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,u={},{head:f=!1,get:g=!1,count:p}={}){var y;let E;const S=new URL(`${this.url}/rpc/${l}`);let N;f||g?(E=f?"HEAD":"GET",Object.entries(u).filter(([z,U])=>U!==void 0).map(([z,U])=>[z,Array.isArray(U)?`{${U.join(",")}}`:`${U}`]).forEach(([z,U])=>{S.searchParams.append(z,U)})):(E="POST",N=u);const V=new Headers(this.headers);return p&&V.set("Prefer",`count=${p}`),new t.default({method:E,url:S,headers:V,schema:this.schemaName,body:N,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}}return xo.default=r,xo}var Nw;function jD(){if(Nw)return Xt;Nw=1;var s=Xt&&Xt.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(Xt,"__esModule",{value:!0}),Xt.PostgrestError=Xt.PostgrestBuilder=Xt.PostgrestTransformBuilder=Xt.PostgrestFilterBuilder=Xt.PostgrestQueryBuilder=Xt.PostgrestClient=void 0;const e=s(DD());Xt.PostgrestClient=e.default;const t=s(VS());Xt.PostgrestQueryBuilder=t.default;const r=s(sy());Xt.PostgrestFilterBuilder=r.default;const a=s(MS());Xt.PostgrestTransformBuilder=a.default;const l=s(PS());Xt.PostgrestBuilder=l.default;const u=s(jS());return Xt.PostgrestError=u.default,Xt.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:l.default,PostgrestError:u.default},Xt}var PD=jD();const MD=A1(PD),{PostgrestClient:VD,PostgrestQueryBuilder:Zj,PostgrestFilterBuilder:eP,PostgrestTransformBuilder:tP,PostgrestBuilder:nP,PostgrestError:rP}=MD;class UD{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const t=process.versions;if(t&&t.node){const r=t.node,a=parseInt(r.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const r=this.getWebSocketConstructor();return new r(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const LD="2.75.0",zD=`realtime-js/${LD}`,BD="1.0.0",Jg=1e4,qD=1e3,$D=100;var jc;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(jc||(jc={}));var qt;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(qt||(qt={}));var hr;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(hr||(hr={}));var Zg;(function(s){s.websocket="websocket"})(Zg||(Zg={}));var ya;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(ya||(ya={}));class HD{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const a=t.getUint8(1),l=t.getUint8(2);let u=this.HEADER_LENGTH+2;const f=r.decode(e.slice(u,u+a));u=u+a;const g=r.decode(e.slice(u,u+l));u=u+l;const p=JSON.parse(r.decode(e.slice(u,e.byteLength)));return{ref:null,topic:f,event:g,payload:p}}}class US{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var lt;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(lt||(lt={}));const Ow=(s,e,t={})=>{var r;const a=(r=t.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((l,u)=>(l[u]=FD(u,s,e,a),l),{}):{}},FD=(s,e,t,r)=>{const a=e.find(f=>f.name===s),l=a==null?void 0:a.type,u=t[s];return l&&!r.includes(l)?LS(l,u):ep(u)},LS=(s,e)=>{if(s.charAt(0)==="_"){const t=s.slice(1,s.length);return YD(e,t)}switch(s){case lt.bool:return GD(e);case lt.float4:case lt.float8:case lt.int2:case lt.int4:case lt.int8:case lt.numeric:case lt.oid:return KD(e);case lt.json:case lt.jsonb:return QD(e);case lt.timestamp:return WD(e);case lt.abstime:case lt.date:case lt.daterange:case lt.int4range:case lt.int8range:case lt.money:case lt.reltime:case lt.text:case lt.time:case lt.timestamptz:case lt.timetz:case lt.tsrange:case lt.tstzrange:return ep(e);default:return ep(e)}},ep=s=>s,GD=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},KD=s=>{if(typeof s=="string"){const e=parseFloat(s);if(!Number.isNaN(e))return e}return s},QD=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch(e){return console.log(`JSON parse error: ${e}`),s}return s},YD=(s,e)=>{if(typeof s!="string")return s;const t=s.length-1,r=s[t];if(s[0]==="{"&&r==="}"){let l;const u=s.slice(1,t);try{l=JSON.parse("["+u+"]")}catch{l=u?u.split(","):[]}return l.map(f=>LS(e,f))}return s},WD=s=>typeof s=="string"?s.replace(" ","T"):s,zS=s=>{let e=s;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class fg{constructor(e,t,r={},a=Jg){this.channel=e,this.event=t,this.payload=r,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Dw;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(Dw||(Dw={}));class Pc{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},a=>{const{onJoin:l,onLeave:u,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Pc.syncState(this.state,a,l,u),this.pendingDiffs.forEach(g=>{this.state=Pc.syncDiff(this.state,g,l,u)}),this.pendingDiffs=[],f()}),this.channel._on(r.diff,{},a=>{const{onJoin:l,onLeave:u,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Pc.syncDiff(this.state,a,l,u),f())}),this.onJoin((a,l,u)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:l,newPresences:u})}),this.onLeave((a,l,u)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,a){const l=this.cloneDeep(e),u=this.transformState(t),f={},g={};return this.map(l,(p,y)=>{u[p]||(g[p]=y)}),this.map(u,(p,y)=>{const E=l[p];if(E){const S=y.map(U=>U.presence_ref),N=E.map(U=>U.presence_ref),V=y.filter(U=>N.indexOf(U.presence_ref)<0),z=E.filter(U=>S.indexOf(U.presence_ref)<0);V.length>0&&(f[p]=V),z.length>0&&(g[p]=z)}else f[p]=y}),this.syncDiff(l,{joins:f,leaves:g},r,a)}static syncDiff(e,t,r,a){const{joins:l,leaves:u}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),a||(a=()=>{}),this.map(l,(f,g)=>{var p;const y=(p=e[f])!==null&&p!==void 0?p:[];if(e[f]=this.cloneDeep(g),y.length>0){const E=e[f].map(N=>N.presence_ref),S=y.filter(N=>E.indexOf(N.presence_ref)<0);e[f].unshift(...S)}r(f,y,g)}),this.map(u,(f,g)=>{let p=e[f];if(!p)return;const y=g.map(E=>E.presence_ref);p=p.filter(E=>y.indexOf(E.presence_ref)<0),e[f]=p,a(f,p,g),p.length===0&&delete e[f]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const a=e[r];return"metas"in a?t[r]=a.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):t[r]=a,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var jw;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(jw||(jw={}));var Mc;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(Mc||(Mc={}));var us;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(us||(us={}));class iy{constructor(e,t={config:{}},r){var a,l;if(this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=qt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new fg(this,hr.join,this.params,this.timeout),this.rejoinTimer=new US(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=qt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=qt.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=qt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=qt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=qt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(hr.reply,{},(u,f)=>{this._trigger(this._replyEventName(f),u)}),this.presence=new Pc(this),this.broadcastEndpointURL=zS(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var r,a,l;if(this.socket.isConnected()||this.socket.connect(),this.state==qt.closed){const{config:{broadcast:u,presence:f,private:g}}=this.params,p=(a=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(N=>N.filter))!==null&&a!==void 0?a:[],y=!!this.bindings[Mc.PRESENCE]&&this.bindings[Mc.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,E={},S={broadcast:u,presence:Object.assign(Object.assign({},f),{enabled:y}),postgres_changes:p,private:g};this.socket.accessTokenValue&&(E.access_token=this.socket.accessTokenValue),this._onError(N=>e==null?void 0:e(us.CHANNEL_ERROR,N)),this._onClose(()=>e==null?void 0:e(us.CLOSED)),this.updateJoinPayload(Object.assign({config:S},E)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:N})=>{var V;if(this.socket.setAuth(),N===void 0){e==null||e(us.SUBSCRIBED);return}else{const z=this.bindings.postgres_changes,U=(V=z==null?void 0:z.length)!==null&&V!==void 0?V:0,se=[];for(let W=0;W<U;W++){const Y=z[W],{filter:{event:ce,schema:he,table:ue,filter:D}}=Y,x=N&&N[W];if(x&&x.event===ce&&x.schema===he&&x.table===ue&&x.filter===D)se.push(Object.assign(Object.assign({},Y),{id:x.id}));else{this.unsubscribe(),this.state=qt.errored,e==null||e(us.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=se,e&&e(us.SUBSCRIBED);return}}).receive("error",N=>{this.state=qt.errored,e==null||e(us.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(N).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(us.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this.state===qt.joined&&e===Mc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,r)}async send(e,t={}){var r,a;if(!this._canPush()&&e.type==="broadcast"){const{event:l,payload:u}=e,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(r=t.timeout)!==null&&r!==void 0?r:this.timeout);return await((a=p.body)===null||a===void 0?void 0:a.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,f,g;const p=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((g=(f=(u=this.params)===null||u===void 0?void 0:u.config)===null||f===void 0?void 0:f.broadcast)===null||g===void 0)&&g.ack)&&l("ok"),p.receive("ok",()=>l("ok")),p.receive("error",()=>l("error")),p.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=qt.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(hr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(a=>{r=new fg(this,hr.leave,{},e),r.receive("ok",()=>{t(),a("ok")}).receive("timeout",()=>{t(),a("timed out")}).receive("error",()=>{a("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=qt.closed,this.bindings={}}async _fetchWithTimeout(e,t,r){const a=new AbortController,l=setTimeout(()=>a.abort(),r),u=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:a.signal}));return clearTimeout(l),u}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new fg(this,e,t,r);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>$D){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var a,l;const u=e.toLocaleLowerCase(),{close:f,error:g,leave:p,join:y}=hr;if(r&&[f,g,p,y].indexOf(u)>=0&&r!==this._joinRef())return;let S=this._onMessage(u,t,r);if(t&&!S)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(N=>{var V,z,U;return((V=N.filter)===null||V===void 0?void 0:V.event)==="*"||((U=(z=N.filter)===null||z===void 0?void 0:z.event)===null||U===void 0?void 0:U.toLocaleLowerCase())===u}).map(N=>N.callback(S,r)):(l=this.bindings[u])===null||l===void 0||l.filter(N=>{var V,z,U,se,W,Y;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in N){const ce=N.id,he=(V=N.filter)===null||V===void 0?void 0:V.event;return ce&&((z=t.ids)===null||z===void 0?void 0:z.includes(ce))&&(he==="*"||(he==null?void 0:he.toLocaleLowerCase())===((U=t.data)===null||U===void 0?void 0:U.type.toLocaleLowerCase()))}else{const ce=(W=(se=N==null?void 0:N.filter)===null||se===void 0?void 0:se.event)===null||W===void 0?void 0:W.toLocaleLowerCase();return ce==="*"||ce===((Y=t==null?void 0:t.event)===null||Y===void 0?void 0:Y.toLocaleLowerCase())}else return N.type.toLocaleLowerCase()===u}).map(N=>{if(typeof S=="object"&&"ids"in S){const V=S.data,{schema:z,table:U,commit_timestamp:se,type:W,errors:Y}=V;S=Object.assign(Object.assign({},{schema:z,table:U,commit_timestamp:se,eventType:W,new:{},old:{},errors:Y}),this._getPayloadRecords(V))}N.callback(S,r)})}_isClosed(){return this.state===qt.closed}_isJoined(){return this.state===qt.joined}_isJoining(){return this.state===qt.joining}_isLeaving(){return this.state===qt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const a=e.toLocaleLowerCase(),l={type:a,filter:t,callback:r};return this.bindings[a]?this.bindings[a].push(l):this.bindings[a]=[l],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(a=>{var l;return!(((l=a.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===r&&iy.isEqual(a.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(hr.close,{},e)}_onError(e){this._on(hr.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=qt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=Ow(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=Ow(e.columns,e.old_record)),t}}const mg=()=>{},Mh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},XD=[1e3,2e3,5e3,1e4],JD=1e4,ZD=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class e4{constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Jg,this.transport=null,this.heartbeatIntervalMs=Mh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=mg,this.ref=0,this.reconnectTimer=null,this.logger=mg,this.conn=null,this.sendBuffer=[],this.serializer=new HD,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let l;return a?l=a:typeof fetch>"u"?l=(...u)=>iu(async()=>{const{default:f}=await Promise.resolve().then(()=>fl);return{default:f}},void 0).then(({default:f})=>f(...u)).catch(f=>{throw new Error(`Failed to load @supabase/node-fetch: ${f.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):l=fetch,(...u)=>l(...u)},!(!((r=t==null?void 0:t.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${Zg.websocket}`,this.httpEndpoint=zS(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t==null?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=UD.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:BD}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,t??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case jc.connecting:return ya.Connecting;case jc.open:return ya.Open;case jc.closing:return ya.Closing;default:return ya.Closed}}isConnected(){return this.connectionState()===ya.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const r=`realtime:${e}`,a=this.getChannels().find(l=>l.topic===r);if(a)return a;{const l=new iy(`realtime:${e}`,t,this);return this.channels.push(l),l}}push(e){const{topic:t,event:r,payload:a,ref:l}=e,u=()=>{this.encode(e,f=>{var g;(g=this.conn)===null||g===void 0||g.send(f)})};this.log("push",`${t} ${r} (${l})`,a),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(qD,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},Mh.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:a,payload:l,ref:u}=t,f=u?`(${u})`:"",g=l.status||"";this.log("receive",`${g} ${r} ${a} ${f}`.trim(),l),this.channels.filter(p=>p._isMember(r)).forEach(p=>p._trigger(a,l,u)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(hr.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const r=e.match(/\?/)?"&":"?",a=new URLSearchParams(t);return`${e}${r}${a}`}_workerObjectUrl(e){let t;if(e)t=e;else{const r=new Blob([ZD],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t;e?t=e:this.accessToken?t=await this.accessToken():t=this.accessTokenValue,this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(r=>{const a={access_token:t,version:zD};t&&r.updateJoinPayload(a),r.joinedOnce&&r._isJoined()&&r._push(hr.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(t)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new US(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Mh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,r,a,l,u,f,g,p,y;if(this.transport=(t=e==null?void 0:e.transport)!==null&&t!==void 0?t:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Jg,this.heartbeatIntervalMs=(a=e==null?void 0:e.heartbeatIntervalMs)!==null&&a!==void 0?a:Mh.HEARTBEAT_INTERVAL,this.worker=(l=e==null?void 0:e.worker)!==null&&l!==void 0?l:!1,this.accessToken=(u=e==null?void 0:e.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(f=e==null?void 0:e.heartbeatCallback)!==null&&f!==void 0?f:mg,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=e==null?void 0:e.reconnectAfterMs)!==null&&g!==void 0?g:E=>XD[E-1]||JD,this.encode=(p=e==null?void 0:e.encode)!==null&&p!==void 0?p:(E,S)=>S(JSON.stringify(E)),this.decode=(y=e==null?void 0:e.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class ay extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function jt(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}class t4 extends ay{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class tp extends ay{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var n4=function(s,e,t,r){function a(l){return l instanceof t?l:new t(function(u){u(l)})}return new(t||(t=Promise))(function(l,u){function f(y){try{p(r.next(y))}catch(E){u(E)}}function g(y){try{p(r.throw(y))}catch(E){u(E)}}function p(y){y.done?l(y.value):a(y.value).then(f,g)}p((r=r.apply(s,e||[])).next())})};const BS=s=>{let e;return s?e=s:typeof fetch>"u"?e=(...t)=>iu(async()=>{const{default:r}=await Promise.resolve().then(()=>fl);return{default:r}},void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},r4=()=>n4(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield iu(()=>Promise.resolve().then(()=>fl),void 0)).Response:Response}),np=s=>{if(Array.isArray(s))return s.map(t=>np(t));if(typeof s=="function"||s!==Object(s))return s;const e={};return Object.entries(s).forEach(([t,r])=>{const a=t.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[a]=np(r)}),e},s4=s=>{if(typeof s!="object"||s===null)return!1;const e=Object.getPrototypeOf(s);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)};var ja=function(s,e,t,r){function a(l){return l instanceof t?l:new t(function(u){u(l)})}return new(t||(t=Promise))(function(l,u){function f(y){try{p(r.next(y))}catch(E){u(E)}}function g(y){try{p(r.throw(y))}catch(E){u(E)}}function p(y){y.done?l(y.value):a(y.value).then(f,g)}p((r=r.apply(s,e||[])).next())})};const gg=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),i4=(s,e,t)=>ja(void 0,void 0,void 0,function*(){const r=yield r4();s instanceof r&&!(t!=null&&t.noResolveJson)?s.json().then(a=>{const l=s.status||500,u=(a==null?void 0:a.statusCode)||l+"";e(new t4(gg(a),l,u))}).catch(a=>{e(new tp(gg(a),a))}):e(new tp(gg(s),s))}),a4=(s,e,t,r)=>{const a={method:s,headers:(e==null?void 0:e.headers)||{}};return s==="GET"||!r?a:(s4(r)?(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(r)):a.body=r,e!=null&&e.duplex&&(a.duplex=e.duplex),Object.assign(Object.assign({},a),t))};function au(s,e,t,r,a,l){return ja(this,void 0,void 0,function*(){return new Promise((u,f)=>{s(t,a4(e,r,a,l)).then(g=>{if(!g.ok)throw g;return r!=null&&r.noResolveJson?g:g.json()}).then(g=>u(g)).catch(g=>i4(g,f,r))})})}function gd(s,e,t,r){return ja(this,void 0,void 0,function*(){return au(s,"GET",e,t,r)})}function Dr(s,e,t,r,a){return ja(this,void 0,void 0,function*(){return au(s,"POST",e,r,a,t)})}function rp(s,e,t,r,a){return ja(this,void 0,void 0,function*(){return au(s,"PUT",e,r,a,t)})}function o4(s,e,t,r){return ja(this,void 0,void 0,function*(){return au(s,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function qS(s,e,t,r,a){return ja(this,void 0,void 0,function*(){return au(s,"DELETE",e,r,a,t)})}var l4=function(s,e,t,r){function a(l){return l instanceof t?l:new t(function(u){u(l)})}return new(t||(t=Promise))(function(l,u){function f(y){try{p(r.next(y))}catch(E){u(E)}}function g(y){try{p(r.throw(y))}catch(E){u(E)}}function p(y){y.done?l(y.value):a(y.value).then(f,g)}p((r=r.apply(s,e||[])).next())})};class c4{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}execute(){return l4(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(jt(e))return{data:null,error:e};throw e}})}}var u4=function(s,e,t,r){function a(l){return l instanceof t?l:new t(function(u){u(l)})}return new(t||(t=Promise))(function(l,u){function f(y){try{p(r.next(y))}catch(E){u(E)}}function g(y){try{p(r.throw(y))}catch(E){u(E)}}function p(y){y.done?l(y.value):a(y.value).then(f,g)}p((r=r.apply(s,e||[])).next())})};class h4{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}asStream(){return new c4(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.execute().then(e,t)}execute(){return u4(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(jt(e))return{data:null,error:e};throw e}})}}var xn=function(s,e,t,r){function a(l){return l instanceof t?l:new t(function(u){u(l)})}return new(t||(t=Promise))(function(l,u){function f(y){try{p(r.next(y))}catch(E){u(E)}}function g(y){try{p(r.throw(y))}catch(E){u(E)}}function p(y){y.done?l(y.value):a(y.value).then(f,g)}p((r=r.apply(s,e||[])).next())})};const d4={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Pw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class f4{constructor(e,t={},r,a){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=BS(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,r,a){return xn(this,void 0,void 0,function*(){try{let l;const u=Object.assign(Object.assign({},Pw),a);let f=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const g=u.metadata;typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),g&&l.append("metadata",this.encodeMetadata(g)),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl),g&&l.append("metadata",this.encodeMetadata(g))):(l=r,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType,g&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(g)))),a!=null&&a.headers&&(f=Object.assign(Object.assign({},f),a.headers));const p=this._removeEmptyFolders(t),y=this._getFinalPath(p),E=yield(e=="PUT"?rp:Dr)(this.fetch,`${this.url}/object/${y}`,l,Object.assign({headers:f},u!=null&&u.duplex?{duplex:u.duplex}:{}));return{data:{path:p,id:E.Id,fullPath:E.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(jt(l))return{data:null,error:l};throw l}})}upload(e,t,r){return xn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,a){return xn(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),u=this._getFinalPath(l),f=new URL(this.url+`/object/upload/sign/${u}`);f.searchParams.set("token",t);try{let g;const p=Object.assign({upsert:Pw.upsert},a),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&r instanceof Blob?(g=new FormData,g.append("cacheControl",p.cacheControl),g.append("",r)):typeof FormData<"u"&&r instanceof FormData?(g=r,g.append("cacheControl",p.cacheControl)):(g=r,y["cache-control"]=`max-age=${p.cacheControl}`,y["content-type"]=p.contentType);const E=yield rp(this.fetch,f.toString(),g,{headers:y});return{data:{path:l,fullPath:E.Key},error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(jt(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(e,t){return xn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const a=Object.assign({},this.headers);t!=null&&t.upsert&&(a["x-upsert"]="true");const l=yield Dr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:a}),u=new URL(this.url+l.url),f=u.searchParams.get("token");if(!f)throw new ay("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:f},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}})}update(e,t,r){return xn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return xn(this,void 0,void 0,function*(){try{return{data:yield Dr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(jt(a))return{data:null,error:a};throw a}})}copy(e,t,r){return xn(this,void 0,void 0,function*(){try{return{data:{path:(yield Dr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(jt(a))return{data:null,error:a};throw a}})}createSignedUrl(e,t,r){return xn(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),l=yield Dr(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const u=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${u}`)},{data:l,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(jt(a))return{data:null,error:a};throw a}})}createSignedUrls(e,t,r){return xn(this,void 0,void 0,function*(){try{const a=yield Dr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${l}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(jt(a))return{data:null,error:a};throw a}})}download(e,t){const a=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),u=l?`?${l}`:"",f=this._getFinalPath(e),g=()=>gd(this.fetch,`${this.url}/${a}/${f}${u}`,{headers:this.headers,noResolveJson:!0});return new h4(g,this.shouldThrowOnError)}info(e){return xn(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const r=yield gd(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:np(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}})}exists(e){return xn(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield o4(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jt(r)&&r instanceof tp){const a=r.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){const r=this._getFinalPath(e),a=[],l=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";l!==""&&a.push(l);const f=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",g=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});g!==""&&a.push(g);let p=a.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${r}${p}`)}}}remove(e){return xn(this,void 0,void 0,function*(){try{return{data:yield qS(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(jt(t))return{data:null,error:t};throw t}})}list(e,t,r){return xn(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},d4),t),{prefix:e||""});return{data:yield Dr(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},r),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(jt(a))return{data:null,error:a};throw a}})}listV2(e,t){return xn(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Dr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},t),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const m4="2.75.0",g4={"X-Client-Info":`storage-js/${m4}`};var No=function(s,e,t,r){function a(l){return l instanceof t?l:new t(function(u){u(l)})}return new(t||(t=Promise))(function(l,u){function f(y){try{p(r.next(y))}catch(E){u(E)}}function g(y){try{p(r.throw(y))}catch(E){u(E)}}function p(y){y.done?l(y.value):a(y.value).then(f,g)}p((r=r.apply(s,e||[])).next())})};class p4{constructor(e,t={},r,a){this.shouldThrowOnError=!1;const l=new URL(e);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},g4),t),this.fetch=BS(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return No(this,void 0,void 0,function*(){try{return{data:yield gd(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(jt(e))return{data:null,error:e};throw e}})}getBucket(e){return No(this,void 0,void 0,function*(){try{return{data:yield gd(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(jt(t))return{data:null,error:t};throw t}})}createBucket(e){return No(this,arguments,void 0,function*(t,r={public:!1}){try{return{data:yield Dr(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(jt(a))return{data:null,error:a};throw a}})}updateBucket(e,t){return No(this,void 0,void 0,function*(){try{return{data:yield rp(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}})}emptyBucket(e){return No(this,void 0,void 0,function*(){try{return{data:yield Dr(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(jt(t))return{data:null,error:t};throw t}})}deleteBucket(e){return No(this,void 0,void 0,function*(){try{return{data:yield qS(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(jt(t))return{data:null,error:t};throw t}})}}class y4 extends p4{constructor(e,t={},r,a){super(e,t,r,a)}from(e){return new f4(this.url,this.headers,e,this.fetch)}}const _4="2.75.0";let Rc="";typeof Deno<"u"?Rc="deno":typeof document<"u"?Rc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Rc="react-native":Rc="node";const v4={"X-Client-Info":`supabase-js-${Rc}/${_4}`},b4={headers:v4},w4={schema:"public"},E4={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},T4={};var S4=function(s,e,t,r){function a(l){return l instanceof t?l:new t(function(u){u(l)})}return new(t||(t=Promise))(function(l,u){function f(y){try{p(r.next(y))}catch(E){u(E)}}function g(y){try{p(r.throw(y))}catch(E){u(E)}}function p(y){y.done?l(y.value):a(y.value).then(f,g)}p((r=r.apply(s,e||[])).next())})};const A4=s=>{let e;return s?e=s:typeof fetch>"u"?e=OS:e=fetch,(...t)=>e(...t)},x4=()=>typeof Headers>"u"?DS:Headers,R4=(s,e,t)=>{const r=A4(t),a=x4();return(l,u)=>S4(void 0,void 0,void 0,function*(){var f;const g=(f=yield e())!==null&&f!==void 0?f:s;let p=new a(u==null?void 0:u.headers);return p.has("apikey")||p.set("apikey",s),p.has("Authorization")||p.set("Authorization",`Bearer ${g}`),r(l,Object.assign(Object.assign({},u),{headers:p}))})};var I4=function(s,e,t,r){function a(l){return l instanceof t?l:new t(function(u){u(l)})}return new(t||(t=Promise))(function(l,u){function f(y){try{p(r.next(y))}catch(E){u(E)}}function g(y){try{p(r.throw(y))}catch(E){u(E)}}function p(y){y.done?l(y.value):a(y.value).then(f,g)}p((r=r.apply(s,e||[])).next())})};function C4(s){return s.endsWith("/")?s:s+"/"}function k4(s,e){var t,r;const{db:a,auth:l,realtime:u,global:f}=s,{db:g,auth:p,realtime:y,global:E}=e,S={db:Object.assign(Object.assign({},g),a),auth:Object.assign(Object.assign({},p),l),realtime:Object.assign(Object.assign({},y),u),storage:{},global:Object.assign(Object.assign(Object.assign({},E),f),{headers:Object.assign(Object.assign({},(t=E==null?void 0:E.headers)!==null&&t!==void 0?t:{}),(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>I4(this,void 0,void 0,function*(){return""})};return s.accessToken?S.accessToken=s.accessToken:delete S.accessToken,S}function N4(s){const e=s==null?void 0:s.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(C4(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const $S="2.75.0",Bo=30*1e3,sp=3,pg=sp*Bo,O4="http://localhost:9999",D4="supabase.auth.token",j4={"X-Client-Info":`gotrue-js/${$S}`},ip="X-Supabase-Api-Version",HS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},P4=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,M4=10*60*1e3;class Fc extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function be(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class V4 extends Fc{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}function U4(s){return be(s)&&s.name==="AuthApiError"}class _a extends Fc{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Ii extends Fc{constructor(e,t,r,a){super(e,r,a),this.name=t,this.status=r}}class ii extends Ii{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function L4(s){return be(s)&&s.name==="AuthSessionMissingError"}class Oo extends Ii{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Vh extends Ii{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Uh extends Ii{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function z4(s){return be(s)&&s.name==="AuthImplicitGrantRedirectError"}class Mw extends Ii{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ap extends Ii{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function yg(s){return be(s)&&s.name==="AuthRetryableFetchError"}class Vw extends Ii{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class op extends Ii{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const pd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Uw=` 	
\r=`.split(""),B4=(()=>{const s=new Array(128);for(let e=0;e<s.length;e+=1)s[e]=-1;for(let e=0;e<Uw.length;e+=1)s[Uw[e].charCodeAt(0)]=-2;for(let e=0;e<pd.length;e+=1)s[pd[e].charCodeAt(0)]=e;return s})();function Lw(s,e,t){if(s!==null)for(e.queue=e.queue<<8|s,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;t(pd[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;t(pd[r]),e.queuedBits-=6}}function FS(s,e,t){const r=B4[s];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function zw(s){const e=[],t=u=>{e.push(String.fromCodePoint(u))},r={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},l=u=>{H4(u,r,t)};for(let u=0;u<s.length;u+=1)FS(s.charCodeAt(u),a,l);return e.join("")}function q4(s,e){if(s<=127){e(s);return}else if(s<=2047){e(192|s>>6),e(128|s&63);return}else if(s<=65535){e(224|s>>12),e(128|s>>6&63),e(128|s&63);return}else if(s<=1114111){e(240|s>>18),e(128|s>>12&63),e(128|s>>6&63),e(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function $4(s,e){for(let t=0;t<s.length;t+=1){let r=s.charCodeAt(t);if(r>55295&&r<=56319){const a=(r-55296)*1024&65535;r=(s.charCodeAt(t+1)-56320&65535|a)+65536,t+=1}q4(r,e)}}function H4(s,e,t){if(e.utf8seq===0){if(s<=127){t(s);return}for(let r=1;r<6;r+=1)if((s>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=s&31;else if(e.utf8seq===3)e.codepoint=s&15;else if(e.utf8seq===4)e.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|s&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function Yo(s){const e=[],t={queue:0,queuedBits:0},r=a=>{e.push(a)};for(let a=0;a<s.length;a+=1)FS(s.charCodeAt(a),t,r);return new Uint8Array(e)}function F4(s){const e=[];return $4(s,t=>e.push(t)),new Uint8Array(e)}function wa(s){const e=[],t={queue:0,queuedBits:0},r=a=>{e.push(a)};return s.forEach(a=>Lw(a,t,r)),Lw(null,t,r),e.join("")}function G4(s){return Math.round(Date.now()/1e3)+s}function K4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){const e=Math.random()*16|0;return(s=="x"?e:e&3|8).toString(16)})}const Vn=()=>typeof window<"u"&&typeof document<"u",fa={tested:!1,writable:!1},GS=()=>{if(!Vn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(fa.tested)return fa.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),fa.tested=!0,fa.writable=!0}catch{fa.tested=!0,fa.writable=!1}return fa.writable};function Q4(s){const e={},t=new URL(s);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((a,l)=>{e[l]=a})}catch{}return t.searchParams.forEach((r,a)=>{e[a]=r}),e}const KS=s=>{let e;return s?e=s:typeof fetch>"u"?e=(...t)=>iu(async()=>{const{default:r}=await Promise.resolve().then(()=>fl);return{default:r}},void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},Y4=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",qo=async(s,e,t)=>{await s.setItem(e,JSON.stringify(t))},ma=async(s,e)=>{const t=await s.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},si=async(s,e)=>{await s.removeItem(e)};class zd{constructor(){this.promise=new zd.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}zd.promiseConstructor=Promise;function _g(s){const e=s.split(".");if(e.length!==3)throw new op("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!P4.test(e[r]))throw new op("JWT not in base64url format");return{header:JSON.parse(zw(e[0])),payload:JSON.parse(zw(e[1])),signature:Yo(e[2]),raw:{header:e[0],payload:e[1]}}}async function W4(s){return await new Promise(e=>{setTimeout(()=>e(null),s)})}function X4(s,e){return new Promise((r,a)=>{(async()=>{for(let l=0;l<1/0;l++)try{const u=await s(l);if(!e(l,null,u)){r(u);return}}catch(u){if(!e(l,u)){a(u);return}}})()})}function J4(s){return("0"+s.toString(16)).substr(-2)}function Z4(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length;let a="";for(let l=0;l<56;l++)a+=t.charAt(Math.floor(Math.random()*r));return a}return crypto.getRandomValues(e),Array.from(e,J4).join("")}async function ej(s){const t=new TextEncoder().encode(s),r=await crypto.subtle.digest("SHA-256",t),a=new Uint8Array(r);return Array.from(a).map(l=>String.fromCharCode(l)).join("")}async function tj(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const t=await ej(s);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Do(s,e,t=!1){const r=Z4();let a=r;t&&(a+="/PASSWORD_RECOVERY"),await qo(s,`${e}-code-verifier`,a);const l=await tj(r);return[l,r===l?"plain":"s256"]}const nj=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function rj(s){const e=s.headers.get(ip);if(!e||!e.match(nj))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function sj(s){if(!s)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(s<=e)throw new Error("JWT has expired")}function ij(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const aj=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function jo(s){if(!aj.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function vg(){const s={};return new Proxy(s,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const r=t.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Bw(s){return JSON.parse(JSON.stringify(s))}var oj=function(s,e){var t={};for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&e.indexOf(r)<0&&(t[r]=s[r]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(s);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(s,r[a])&&(t[r[a]]=s[r[a]]);return t};const pa=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),lj=[502,503,504];async function qw(s){var e;if(!Y4(s))throw new ap(pa(s),0);if(lj.includes(s.status))throw new ap(pa(s),s.status);let t;try{t=await s.json()}catch(l){throw new _a(pa(l),l)}let r;const a=rj(s);if(a&&a.getTime()>=HS["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new Vw(pa(t),s.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new ii}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0))throw new Vw(pa(t),s.status,t.weak_password.reasons);throw new V4(pa(t),s.status||500,r)}const cj=(s,e,t,r)=>{const a={method:s,headers:(e==null?void 0:e.headers)||{}};return s==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),t))};async function Ce(s,e,t,r){var a;const l=Object.assign({},r==null?void 0:r.headers);l[ip]||(l[ip]=HS["2024-01-01"].name),r!=null&&r.jwt&&(l.Authorization=`Bearer ${r.jwt}`);const u=(a=r==null?void 0:r.query)!==null&&a!==void 0?a:{};r!=null&&r.redirectTo&&(u.redirect_to=r.redirectTo);const f=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",g=await uj(s,e,t+f,{headers:l,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(g):{data:Object.assign({},g),error:null}}async function uj(s,e,t,r,a,l){const u=cj(e,r,a,l);let f;try{f=await s(t,Object.assign({},u))}catch(g){throw console.error(g),new ap(pa(g),0)}if(f.ok||await qw(f),r!=null&&r.noResolveJson)return f;try{return await f.json()}catch(g){await qw(g)}}function ur(s){var e;let t=null;fj(s)&&(t=Object.assign({},s),s.expires_at||(t.expires_at=G4(s.expires_in)));const r=(e=s.user)!==null&&e!==void 0?e:s;return{data:{session:t,user:r},error:null}}function $w(s){const e=ur(s);return!e.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(e.data.weak_password=s.weak_password),e}function ui(s){var e;return{data:{user:(e=s.user)!==null&&e!==void 0?e:s},error:null}}function hj(s){return{data:s,error:null}}function dj(s){const{action_link:e,email_otp:t,hashed_token:r,redirect_to:a,verification_type:l}=s,u=oj(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:e,email_otp:t,hashed_token:r,redirect_to:a,verification_type:l},g=Object.assign({},u);return{data:{properties:f,user:g},error:null}}function Hw(s){return s}function fj(s){return s.access_token&&s.refresh_token&&s.expires_in}const bg=["global","local","others"];var mj=function(s,e){var t={};for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&e.indexOf(r)<0&&(t[r]=s[r]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(s);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(s,r[a])&&(t[r[a]]=s[r[a]]);return t};class gj{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=KS(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=bg[0]){if(bg.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${bg.join(", ")}`);try{return await Ce(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,t={}){try{return await Ce(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:ui})}catch(r){if(be(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=mj(e,["options"]),a=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(a.new_email=r==null?void 0:r.newEmail,delete a.newEmail),await Ce(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:dj,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(be(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Ce(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ui})}catch(t){if(be(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,a,l,u,f,g;try{const p={nextPage:null,lastPage:0,total:0},y=await Ce(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(l=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:Hw});if(y.error)throw y.error;const E=await y.json(),S=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,N=(g=(f=y.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&g!==void 0?g:[];return N.length>0&&(N.forEach(V=>{const z=parseInt(V.split(";")[0].split("=")[1].substring(0,1)),U=JSON.parse(V.split(";")[1].split("=")[1]);p[`${U}Page`]=z}),p.total=parseInt(S)),{data:Object.assign(Object.assign({},E),p),error:null}}catch(p){if(be(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){jo(e);try{return await Ce(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ui})}catch(t){if(be(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){jo(e);try{return await Ce(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:ui})}catch(r){if(be(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,t=!1){jo(e);try{return await Ce(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:ui})}catch(r){if(be(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){jo(e.userId);try{const{data:t,error:r}=await Ce(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:t,error:r}}catch(t){if(be(t))return{data:null,error:t};throw t}}async _deleteFactor(e){jo(e.userId),jo(e.id);try{return{data:await Ce(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(be(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,r,a,l,u,f,g;try{const p={nextPage:null,lastPage:0,total:0},y=await Ce(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(l=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:Hw});if(y.error)throw y.error;const E=await y.json(),S=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,N=(g=(f=y.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&g!==void 0?g:[];return N.length>0&&(N.forEach(V=>{const z=parseInt(V.split(";")[0].split("=")[1].substring(0,1)),U=JSON.parse(V.split(";")[1].split("=")[1]);p[`${U}Page`]=z}),p.total=parseInt(S)),{data:Object.assign(Object.assign({},E),p),error:null}}catch(p){if(be(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(e){try{return await Ce(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(be(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await Ce(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(be(t))return{data:null,error:t};throw t}}async _deleteOAuthClient(e){try{return await Ce(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(be(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await Ce(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(be(t))return{data:null,error:t};throw t}}}function Fw(s={}){return{getItem:e=>s[e]||null,setItem:(e,t)=>{s[e]=t},removeItem:e=>{delete s[e]}}}const Po={debug:!!(globalThis&&GS()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class QS extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class pj extends QS{}async function yj(s,e,t){Po.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Po.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async a=>{if(a){Po.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,a.name);try{return await t()}finally{Po.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,a.name)}}else{if(e===0)throw Po.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new pj(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(Po.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}function _j(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function YS(s){if(!/^0x[a-fA-F0-9]{40}$/.test(s))throw new Error(`@supabase/auth-js: Address "${s}" is invalid.`);return s.toLowerCase()}function vj(s){return parseInt(s,16)}function bj(s){const e=new TextEncoder().encode(s);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function wj(s){var e;const{chainId:t,domain:r,expirationTime:a,issuedAt:l=new Date,nonce:u,notBefore:f,requestId:g,resources:p,scheme:y,uri:E,version:S}=s;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!E)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(S!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${S}`);if(!((e=s.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${s.statement}`)}const N=YS(s.address),V=y?`${y}://${r}`:r,z=s.statement?`${s.statement}
`:"",U=`${V} wants you to sign in with your Ethereum account:
${N}

${z}`;let se=`URI: ${E}
Version: ${S}
Chain ID: ${t}${u?`
Nonce: ${u}`:""}
Issued At: ${l.toISOString()}`;if(a&&(se+=`
Expiration Time: ${a.toISOString()}`),f&&(se+=`
Not Before: ${f.toISOString()}`),g&&(se+=`
Request ID: ${g}`),p){let W=`
Resources:`;for(const Y of p){if(!Y||typeof Y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${Y}`);W+=`
- ${Y}`}se+=W}return`${U}
${se}`}class Dt extends Error{constructor({message:e,code:t,cause:r,name:a}){var l;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(l=a??(r instanceof Error?r.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=t}}class yd extends Dt{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function Ej({error:s,options:e}){var t,r,a;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Dt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else if(s.name==="ConstraintError"){if(((t=l.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new Dt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:s});if(e.mediation==="conditional"&&((r=l.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Dt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:s});if(((a=l.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Dt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:s})}else{if(s.name==="InvalidStateError")return new Dt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:s});if(s.name==="NotAllowedError")return new Dt({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="NotSupportedError")return l.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new Dt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:s}):new Dt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:s});if(s.name==="SecurityError"){const u=window.location.hostname;if(XS(u)){if(l.rp.id!==u)return new Dt({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new Dt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new Dt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:s})}else if(s.name==="UnknownError")return new Dt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new Dt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}function Tj({error:s,options:e}){const{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Dt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else{if(s.name==="NotAllowedError")return new Dt({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="SecurityError"){const r=window.location.hostname;if(XS(r)){if(t.rpId!==r)return new Dt({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new Dt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="UnknownError")return new Dt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new Dt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}var WS=function(s,e){var t={};for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&e.indexOf(r)<0&&(t[r]=s[r]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(s);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(s,r[a])&&(t[r[a]]=s[r[a]]);return t};class Sj{createNewAbortSignal(){if(this.controller){const t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Aj=new Sj;function xj(s){if(!s)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(s);const{challenge:e,user:t,excludeCredentials:r}=s,a=WS(s,["challenge","user","excludeCredentials"]),l=Yo(e).buffer,u=Object.assign(Object.assign({},t),{id:Yo(t.id).buffer}),f=Object.assign(Object.assign({},a),{challenge:l,user:u});if(r&&r.length>0){f.excludeCredentials=new Array(r.length);for(let g=0;g<r.length;g++){const p=r[g];f.excludeCredentials[g]=Object.assign(Object.assign({},p),{id:Yo(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return f}function Rj(s){if(!s)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(s);const{challenge:e,allowCredentials:t}=s,r=WS(s,["challenge","allowCredentials"]),a=Yo(e).buffer,l=Object.assign(Object.assign({},r),{challenge:a});if(t&&t.length>0){l.allowCredentials=new Array(t.length);for(let u=0;u<t.length;u++){const f=t[u];l.allowCredentials[u]=Object.assign(Object.assign({},f),{id:Yo(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return l}function Ij(s){var e;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const t=s;return{id:s.id,rawId:s.id,response:{attestationObject:wa(new Uint8Array(s.response.attestationObject)),clientDataJSON:wa(new Uint8Array(s.response.clientDataJSON))},type:"public-key",clientExtensionResults:s.getClientExtensionResults(),authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Cj(s){var e;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const t=s,r=s.getClientExtensionResults(),a=s.response;return{id:s.id,rawId:s.id,response:{authenticatorData:wa(new Uint8Array(a.authenticatorData)),clientDataJSON:wa(new Uint8Array(a.clientDataJSON)),signature:wa(new Uint8Array(a.signature)),userHandle:a.userHandle?wa(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function XS(s){return s==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(s)}function Gw(){var s,e;return!!(Vn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((s=navigator==null?void 0:navigator.credentials)===null||s===void 0?void 0:s.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function kj(s){try{const e=await navigator.credentials.create(s);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new yd("Browser returned unexpected credential type",e)}:{data:null,error:new yd("Empty credential response",e)}}catch(e){return{data:null,error:Ej({error:e,options:s})}}}async function Nj(s){try{const e=await navigator.credentials.get(s);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new yd("Browser returned unexpected credential type",e)}:{data:null,error:new yd("Empty credential response",e)}}catch(e){return{data:null,error:Tj({error:e,options:s})}}}const Oj={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},Dj={userVerification:"preferred",hints:["security-key"]};function _d(...s){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),t=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),r={};for(const a of s)if(a)for(const l in a){const u=a[l];if(u!==void 0)if(Array.isArray(u))r[l]=u;else if(t(u))r[l]=u;else if(e(u)){const f=r[l];e(f)?r[l]=_d(f,u):r[l]=_d(u)}else r[l]=u}return r}function jj(s,e){return _d(Oj,s,e||{})}function Pj(s,e){return _d(Dj,s,e||{})}class Mj{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:r,signal:a},l){try{const{data:u,error:f}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!u)return{data:null,error:f};const g=a??Aj.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:p}=u.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${r}`),p.displayName||(p.displayName=p.name)}switch(u.webauthn.type){case"create":{const p=jj(u.webauthn.credential_options.publicKey,l==null?void 0:l.create),{data:y,error:E}=await kj({publicKey:p,signal:g});return y?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:E}}case"request":{const p=Pj(u.webauthn.credential_options.publicKey,l==null?void 0:l.request),{data:y,error:E}=await Nj(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:p,signal:g}));return y?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:E}}}}catch(u){return be(u)?{data:null,error:u}:{data:null,error:new _a("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:t,webauthn:r}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:a}},l){if(!t)return{data:null,error:new Fc("rpId is required for WebAuthn authentication")};try{if(!Gw())return{data:null,error:new _a("Browser does not support WebAuthn",null)};const{data:u,error:f}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:r},signal:a},{request:l});if(!u)return{data:null,error:f};const{webauthn:g}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:g.type,rpId:t,rpOrigins:r,credential_response:g.credential_response}})}catch(u){return be(u)?{data:null,error:u}:{data:null,error:new _a("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:a},l){if(!t)return{data:null,error:new Fc("rpId is required for WebAuthn registration")};try{if(!Gw())return{data:null,error:new _a("Browser does not support WebAuthn",null)};const{data:u,error:f}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(y=>{var E;return(E=y.data)===null||E===void 0?void 0:E.all.find(S=>S.factor_type==="webauthn"&&S.friendly_name===e&&S.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y==null?void 0:y.id}):void 0),{data:null,error:f};const{data:g,error:p}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:t,rpOrigins:r},signal:a},{create:l});return g?this._verify({factorId:u.id,challengeId:g.challengeId,webauthn:{rpId:t,rpOrigins:r,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:p}}catch(u){return be(u)?{data:null,error:u}:{data:null,error:new _a("Unexpected error in register",u)}}}}_j();const Vj={url:O4,storageKey:D4,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:j4,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Kw(s,e,t){return await t()}const Mo={};class Gc{get jwks(){var e,t;return(t=(e=Mo[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){Mo[this.storageKey]=Object.assign(Object.assign({},Mo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=Mo[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Mo[this.storageKey]=Object.assign(Object.assign({},Mo[this.storageKey]),{cachedAt:e})}constructor(e){var t,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Gc.nextInstanceID,Gc.nextInstanceID+=1,this.instanceID>0&&Vn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},Vj),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new gj({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=KS(a.fetch),this.lock=a.lock||Kw,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Vn()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=yj:this.lock=Kw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Mj(this)},this.persistSession?(a.storage?this.storage=a.storage:GS()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Fw(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Fw(this.memoryStorage)),Vn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${$S}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=Q4(window.location.href);let r="none";if(this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce"),Vn()&&this.detectSessionInUrl&&r!=="none"){const{data:a,error:l}=await this._getSessionFromURL(t,r);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),z4(l)){const g=(e=l.details)===null||e===void 0?void 0:e.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:u,redirectType:f}=a;return this._debug("#_initialize()","detected session in URL",u,"redirect type",f),await this._saveSession(u),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return be(t)?{error:t}:{error:new _a("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,a;try{const l=await Ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:ur}),{data:u,error:f}=l;if(f||!u)return{data:{user:null,session:null},error:f};const g=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:p,session:g},error:null}}catch(l){if(be(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(e){var t,r,a;try{let l;if("email"in e){const{email:y,password:E,options:S}=e;let N=null,V=null;this.flowType==="pkce"&&([N,V]=await Do(this.storage,this.storageKey)),l=await Ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:S==null?void 0:S.emailRedirectTo,body:{email:y,password:E,data:(t=S==null?void 0:S.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:S==null?void 0:S.captchaToken},code_challenge:N,code_challenge_method:V},xform:ur})}else if("phone"in e){const{phone:y,password:E,options:S}=e;l=await Ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:E,data:(r=S==null?void 0:S.data)!==null&&r!==void 0?r:{},channel:(a=S==null?void 0:S.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:S==null?void 0:S.captchaToken}},xform:ur})}else throw new Vh("You must provide either an email or phone number and a password");const{data:u,error:f}=l;if(f||!u)return{data:{user:null,session:null},error:f};const g=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:p,session:g},error:null}}catch(l){if(be(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(e){try{let t;if("email"in e){const{email:l,password:u,options:f}=e;t=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:$w})}else if("phone"in e){const{phone:l,password:u,options:f}=e;t=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:$w})}else throw new Vh("You must provide either an email or phone number and a password");const{data:r,error:a}=t;return a?{data:{user:null,session:null},error:a}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Oo}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:a})}catch(t){if(be(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,r,a,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,r,a,l,u,f,g,p,y,E,S;let N,V;if("message"in e)N=e.message,V=e.signature;else{const{chain:z,wallet:U,statement:se,options:W}=e;let Y;if(Vn())if(typeof U=="object")Y=U;else{const R=window;if("ethereum"in R&&typeof R.ethereum=="object"&&"request"in R.ethereum&&typeof R.ethereum.request=="function")Y=R.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof U!="object"||!(W!=null&&W.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Y=U}const ce=new URL((t=W==null?void 0:W.url)!==null&&t!==void 0?t:window.location.href),he=await Y.request({method:"eth_requestAccounts"}).then(R=>R).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!he||he.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const ue=YS(he[0]);let D=(r=W==null?void 0:W.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!D){const R=await Y.request({method:"eth_chainId"});D=vj(R)}const x={domain:ce.host,address:ue,statement:se,uri:ce.href,version:"1",chainId:D,nonce:(a=W==null?void 0:W.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(u=(l=W==null?void 0:W.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(f=W==null?void 0:W.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(g=W==null?void 0:W.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(p=W==null?void 0:W.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(y=W==null?void 0:W.signInWithEthereum)===null||y===void 0?void 0:y.resources};N=wj(x),V=await Y.request({method:"personal_sign",params:[bj(N),ue]})}try{const{data:z,error:U}=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:N,signature:V},!((E=e.options)===null||E===void 0)&&E.captchaToken?{gotrue_meta_security:{captcha_token:(S=e.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:ur});if(U)throw U;return!z||!z.session||!z.user?{data:{user:null,session:null},error:new Oo}:(z.session&&(await this._saveSession(z.session),await this._notifyAllSubscribers("SIGNED_IN",z.session)),{data:Object.assign({},z),error:U})}catch(z){if(be(z))return{data:{user:null,session:null},error:z};throw z}}async signInWithSolana(e){var t,r,a,l,u,f,g,p,y,E,S,N;let V,z;if("message"in e)V=e.message,z=e.signature;else{const{chain:U,wallet:se,statement:W,options:Y}=e;let ce;if(Vn())if(typeof se=="object")ce=se;else{const ue=window;if("solana"in ue&&typeof ue.solana=="object"&&("signIn"in ue.solana&&typeof ue.solana.signIn=="function"||"signMessage"in ue.solana&&typeof ue.solana.signMessage=="function"))ce=ue.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof se!="object"||!(Y!=null&&Y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");ce=se}const he=new URL((t=Y==null?void 0:Y.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in ce&&ce.signIn){const ue=await ce.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},Y==null?void 0:Y.signInWithSolana),{version:"1",domain:he.host,uri:he.href}),W?{statement:W}:null));let D;if(Array.isArray(ue)&&ue[0]&&typeof ue[0]=="object")D=ue[0];else if(ue&&typeof ue=="object"&&"signedMessage"in ue&&"signature"in ue)D=ue;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in D&&"signature"in D&&(typeof D.signedMessage=="string"||D.signedMessage instanceof Uint8Array)&&D.signature instanceof Uint8Array)V=typeof D.signedMessage=="string"?D.signedMessage:new TextDecoder().decode(D.signedMessage),z=D.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in ce)||typeof ce.signMessage!="function"||!("publicKey"in ce)||typeof ce!="object"||!ce.publicKey||!("toBase58"in ce.publicKey)||typeof ce.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");V=[`${he.host} wants you to sign in with your Solana account:`,ce.publicKey.toBase58(),...W?["",W,""]:[""],"Version: 1",`URI: ${he.href}`,`Issued At: ${(a=(r=Y==null?void 0:Y.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((l=Y==null?void 0:Y.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${Y.signInWithSolana.notBefore}`]:[],...!((u=Y==null?void 0:Y.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${Y.signInWithSolana.expirationTime}`]:[],...!((f=Y==null?void 0:Y.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${Y.signInWithSolana.chainId}`]:[],...!((g=Y==null?void 0:Y.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${Y.signInWithSolana.nonce}`]:[],...!((p=Y==null?void 0:Y.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${Y.signInWithSolana.requestId}`]:[],...!((E=(y=Y==null?void 0:Y.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||E===void 0)&&E.length?["Resources",...Y.signInWithSolana.resources.map(D=>`- ${D}`)]:[]].join(`
`);const ue=await ce.signMessage(new TextEncoder().encode(V),"utf8");if(!ue||!(ue instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");z=ue}}try{const{data:U,error:se}=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:V,signature:wa(z)},!((S=e.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(N=e.options)===null||N===void 0?void 0:N.captchaToken}}:null),xform:ur});if(se)throw se;return!U||!U.session||!U.user?{data:{user:null,session:null},error:new Oo}:(U.session&&(await this._saveSession(U.session),await this._notifyAllSubscribers("SIGNED_IN",U.session)),{data:Object.assign({},U),error:se})}catch(U){if(be(U))return{data:{user:null,session:null},error:U};throw U}}async _exchangeCodeForSession(e){const t=await ma(this.storage,`${this.storageKey}-code-verifier`),[r,a]=(t??"").split("/");try{const{data:l,error:u}=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:ur});if(await si(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new Oo}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:a??null}),error:u})}catch(l){if(be(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(e){try{const{options:t,provider:r,token:a,access_token:l,nonce:u}=e,f=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:a,access_token:l,nonce:u,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:ur}),{data:g,error:p}=f;return p?{data:{user:null,session:null},error:p}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new Oo}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:g,error:p})}catch(t){if(be(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,r,a,l,u;try{if("email"in e){const{email:f,options:g}=e;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await Do(this.storage,this.storageKey));const{error:E}=await Ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(t=g==null?void 0:g.data)!==null&&t!==void 0?t:{},create_user:(r=g==null?void 0:g.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:p,code_challenge_method:y},redirectTo:g==null?void 0:g.emailRedirectTo});return{data:{user:null,session:null},error:E}}if("phone"in e){const{phone:f,options:g}=e,{data:p,error:y}=await Ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(a=g==null?void 0:g.data)!==null&&a!==void 0?a:{},create_user:(l=g==null?void 0:g.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},channel:(u=g==null?void 0:g.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:y}}throw new Vh("You must provide either an email or phone number.")}catch(f){if(be(f))return{data:{user:null,session:null},error:f};throw f}}async verifyOtp(e){var t,r;try{let a,l;"options"in e&&(a=(t=e.options)===null||t===void 0?void 0:t.redirectTo,l=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:u,error:f}=await Ce(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:a,xform:ur});if(f)throw f;if(!u)throw new Error("An error occurred on token verification.");const g=u.session,p=u.user;return g!=null&&g.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),{data:{user:p,session:g},error:null}}catch(a){if(be(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var t,r,a;try{let l=null,u=null;return this.flowType==="pkce"&&([l,u]=await Do(this.storage,this.storageKey)),await Ce(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&r!==void 0?r:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:u}),headers:this.headers,xform:hj})}catch(l){if(be(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new ii;const{error:a}=await Ce(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if(be(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:r,type:a,options:l}=e,{error:u}=await Ce(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in e){const{phone:r,type:a,options:l}=e,{data:u,error:f}=await Ce(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:f}}throw new Vh("You must provide either an email or phone number and a type")}catch(t){if(be(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await r,await t()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=t();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await ma(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<pg:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const u=await ma(this.userStorage,this.storageKey+"-user");u!=null&&u.user?e.user=u.user:e.user=vg()}if(this.storage.isServer&&e.user){let u=this.suppressGetSessionWarning;e=new Proxy(e,{get:(g,p,y)=>(!u&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(g,p,y))})}return{data:{session:e},error:null}}const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{session:null},error:l}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ui}):await this._useSession(async t=>{var r,a,l;const{data:u,error:f}=t;if(f)throw f;return!(!((r=u.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ii}:await Ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(a=u.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0,xform:ui})})}catch(t){if(be(t))return L4(t)&&(await this._removeSession(),await si(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async r=>{const{data:a,error:l}=r;if(l)throw l;if(!a.session)throw new ii;const u=a.session;let f=null,g=null;this.flowType==="pkce"&&e.email!=null&&([f,g]=await Do(this.storage,this.storageKey));const{data:p,error:y}=await Ce(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:f,code_challenge_method:g}),jwt:u.access_token,xform:ui});if(y)throw y;return u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(r){if(be(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ii;const t=Date.now()/1e3;let r=t,a=!0,l=null;const{payload:u}=_g(e.access_token);if(u.exp&&(r=u.exp,a=r<=t),a){const{data:f,error:g}=await this._callRefreshToken(e.refresh_token);if(g)return{data:{user:null,session:null},error:g};if(!f)return{data:{user:null,session:null},error:null};l=f}else{const{data:f,error:g}=await this._getUser(e.access_token);if(g)throw g;l={access_token:e.access_token,refresh_token:e.refresh_token,user:f.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(t){if(be(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:u,error:f}=t;if(f)throw f;e=(r=u.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new ii;const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{user:null,session:null},error:l}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(be(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!Vn())throw new Uh("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Uh(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new Mw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Uh("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Mw("No code detected.");const{data:W,error:Y}=await this._exchangeCodeForSession(e.code);if(Y)throw Y;const ce=new URL(window.location.href);return ce.searchParams.delete("code"),window.history.replaceState(window.history.state,"",ce.toString()),{data:{session:W.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:a,access_token:l,refresh_token:u,expires_in:f,expires_at:g,token_type:p}=e;if(!l||!f||!u||!p)throw new Uh("No session defined in URL");const y=Math.round(Date.now()/1e3),E=parseInt(f);let S=y+E;g&&(S=parseInt(g));const N=S-y;N*1e3<=Bo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${N}s, should have been closer to ${E}s`);const V=S-E;y-V>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",V,S,y):y-V<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",V,S,y);const{data:z,error:U}=await this._getUser(l);if(U)throw U;const se={provider_token:r,provider_refresh_token:a,access_token:l,expires_in:E,expires_at:S,refresh_token:u,token_type:p,user:z.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:se,redirectType:e.type},error:null}}catch(r){if(be(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await ma(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;const{data:a,error:l}=t;if(l)return{error:l};const u=(r=a.session)===null||r===void 0?void 0:r.access_token;if(u){const{error:f}=await this.admin.signOut(u,e);if(f&&!(U4(f)&&(f.status===404||f.status===401||f.status===403)))return{error:f}}return e!=="others"&&(await this._removeSession(),await si(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=K4(),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,a;try{const{data:{session:l},error:u}=t;if(u)throw u;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,t={}){let r=null,a=null;this.flowType==="pkce"&&([r,a]=await Do(this.storage,this.storageKey,!0));try{return await Ce(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:a,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(l){if(be(l))return{data:null,error:l};throw l}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(be(t))return{data:null,error:t};throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:r,error:a}=await this._useSession(async l=>{var u,f,g,p,y;const{data:E,error:S}=l;if(S)throw S;const N=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(f=e.options)===null||f===void 0?void 0:f.scopes,queryParams:(g=e.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await Ce(this.fetch,"GET",N,{headers:this.headers,jwt:(y=(p=E.session)===null||p===void 0?void 0:p.access_token)!==null&&y!==void 0?y:void 0})});if(a)throw a;return Vn()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(be(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var r;try{const{error:a,data:{session:l}}=t;if(a)throw a;const{options:u,provider:f,token:g,access_token:p,nonce:y}=e,E=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=l==null?void 0:l.access_token)!==null&&r!==void 0?r:void 0,body:{provider:f,id_token:g,access_token:p,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:ur}),{data:S,error:N}=E;return N?{data:{user:null,session:null},error:N}:!S||!S.session||!S.user?{data:{user:null,session:null},error:new Oo}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("USER_UPDATED",S.session)),{data:S,error:N})}catch(a){if(be(a))return{data:{user:null,session:null},error:a};throw a}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,a;const{data:l,error:u}=t;if(u)throw u;return await Ce(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(r=l.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:void 0})})}catch(t){if(be(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const r=Date.now();return await X4(async a=>(a>0&&await W4(200*Math.pow(2,a-1)),this._debug(t,"refreshing attempt",a),await Ce(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ur})),(a,l)=>{const u=200*Math.pow(2,a);return l&&yg(l)&&Date.now()+u-r<Bo})}catch(r){if(this._debug(t,"error",r),be(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),Vn()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const a=await ma(this.storage,this.storageKey);if(a&&this.userStorage){let u=await ma(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:a.user},await qo(this.userStorage,this.storageKey+"-user",u)),a.user=(e=u==null?void 0:u.user)!==null&&e!==void 0?e:vg()}else if(a&&!a.user&&!a.user){const u=await ma(this.storage,this.storageKey+"-user");u&&(u!=null&&u.user)?(a.user=u.user,await si(this.storage,this.storageKey+"-user"),await qo(this.storage,this.storageKey,a)):a.user=vg()}if(this._debug(r,"session from storage",a),!this._isValidSession(a)){this._debug(r,"session is not valid"),a!==null&&await this._removeSession();return}const l=((t=a.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<pg;if(this._debug(r,`session has${l?"":" not"} expired with margin of ${pg}s`),l){if(this.autoRefreshToken&&a.refresh_token){const{error:u}=await this._callRefreshToken(a.refresh_token);u&&(console.error(u),yg(u)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:f}=await this._getUser(a.access_token);!f&&(u!=null&&u.user)?(a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(r,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(r,"error",a),console.error(a);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new ii;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new zd;const{data:l,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!l.session)throw new ii;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const f={data:l.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(l){if(this._debug(a,"error",l),be(l)){const u={data:null,error:l};return yg(l)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(u),u}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(l),l}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,t,r=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const l=[],u=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(e,t)}catch(g){l.push(g)}});if(await Promise.all(u),l.length>0){for(let f=0;f<l.length;f+=1)console.error(l[f]);throw l[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),r=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&t.user&&await qo(this.userStorage,this.storageKey+"-user",{user:t.user});const a=Object.assign({},t);delete a.user;const l=Bw(a);await qo(this.storage,this.storageKey,l)}else{const a=Bw(t);await qo(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await si(this.storage,this.storageKey),await si(this.storage,this.storageKey+"-code-verifier"),await si(this.storage,this.storageKey+"-user"),this.userStorage&&await si(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Vn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Bo);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((r.expires_at*1e3-e)/Bo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Bo}ms, refresh threshold is ${sp} ticks`),a<=sp&&await this._callRefreshToken(r.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof QS)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Vn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const a=[`provider=${encodeURIComponent(t)}`];if(r!=null&&r.redirectTo&&a.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&a.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[l,u]=await Do(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});a.push(f.toString())}if(r!=null&&r.queryParams){const l=new URLSearchParams(r.queryParams);a.push(l.toString())}return r!=null&&r.skipBrowserRedirect&&a.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:a,error:l}=t;return l?{data:null,error:l}:await Ce(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(be(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,a;const{data:l,error:u}=t;if(u)return{data:null,error:u};const f=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:g,error:p}=await Ce(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(r=l==null?void 0:l.session)===null||r===void 0?void 0:r.access_token});return p?{data:null,error:p}:(e.factorType==="totp"&&g.type==="totp"&&(!((a=g==null?void 0:g.totp)===null||a===void 0)&&a.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),{data:g,error:null})})}catch(t){if(be(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:a,error:l}=t;if(l)return{data:null,error:l};const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Ij(e.webauthn.credential_response):Cj(e.webauthn.credential_response)})}:{code:e.code}),{data:f,error:g}=await Ce(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return g?{data:null,error:g}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),{data:f,error:g})})}catch(t){if(be(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:a,error:l}=t;if(l)return{data:null,error:l};const u=await Ce(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});if(u.error)return u;const{data:f}=u;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:xj(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:Rj(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(be(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const a={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=t==null?void 0:t.factors)!==null&&e!==void 0?e:[])a.all.push(l),l.status==="verified"&&a[l.factor_type].push(l);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,r;const{data:{session:a},error:l}=e;if(l)return{data:null,error:l};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=_g(a.access_token);let f=null;u.aal&&(f=u.aal);let g=f;((r=(t=a.user.factors)===null||t===void 0?void 0:t.filter(E=>E.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(g="aal2");const y=u.amr||[];return{data:{currentLevel:f,nextLevel:g,currentAuthenticationMethods:y},error:null}}))}async fetchJwk(e,t={keys:[]}){let r=t.keys.find(f=>f.kid===e);if(r)return r;const a=Date.now();if(r=this.jwks.keys.find(f=>f.kid===e),r&&this.jwks_cached_at+M4>a)return r;const{data:l,error:u}=await Ce(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=a,r=l.keys.find(f=>f.kid===e),!r)?null:r}async getClaims(e,t={}){try{let r=e;if(!r){const{data:N,error:V}=await this.getSession();if(V||!N.session)return{data:null,error:V};r=N.session.access_token}const{header:a,payload:l,signature:u,raw:{header:f,payload:g}}=_g(r);t!=null&&t.allowExpired||sj(l.exp);const p=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,t!=null&&t.keys?{keys:t.keys}:t==null?void 0:t.jwks);if(!p){const{error:N}=await this.getUser(r);if(N)throw N;return{data:{claims:l,header:a,signature:u},error:null}}const y=ij(a.alg),E=await crypto.subtle.importKey("jwk",p,y,!0,["verify"]);if(!await crypto.subtle.verify(y,E,u,F4(`${f}.${g}`)))throw new op("Invalid JWT signature");return{data:{claims:l,header:a,signature:u},error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}}}Gc.nextInstanceID=0;const Uj=Gc;class Lj extends Uj{constructor(e){super(e)}}var zj=function(s,e,t,r){function a(l){return l instanceof t?l:new t(function(u){u(l)})}return new(t||(t=Promise))(function(l,u){function f(y){try{p(r.next(y))}catch(E){u(E)}}function g(y){try{p(r.throw(y))}catch(E){u(E)}}function p(y){y.done?l(y.value):a(y.value).then(f,g)}p((r=r.apply(s,e||[])).next())})};class Bj{constructor(e,t,r){var a,l,u;this.supabaseUrl=e,this.supabaseKey=t;const f=N4(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",f),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",f),this.storageUrl=new URL("storage/v1",f),this.functionsUrl=new URL("functions/v1",f);const g=`sb-${f.hostname.split(".")[0]}-auth-token`,p={db:w4,realtime:T4,auth:Object.assign(Object.assign({},E4),{storageKey:g}),global:b4},y=k4(r??{},p);this.storageKey=(a=y.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(l=y.global.headers)!==null&&l!==void 0?l:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(E,S)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(S)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=y.auth)!==null&&u!==void 0?u:{},this.headers,y.global.fetch),this.fetch=R4(t,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new VD(new URL("rest/v1",f).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new y4(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new RD(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return zj(this,void 0,void 0,function*(){var e,t;if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(t=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:a,userStorage:l,storageKey:u,flowType:f,lock:g,debug:p},y,E){const S={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Lj({url:this.authUrl.href,headers:Object.assign(Object.assign({},S),y),storageKey:u,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:a,userStorage:l,flowType:f,lock:g,debug:p,fetch:E,hasCustomAuthorizationHeader:Object.keys(this.headers).some(N=>N.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new e4(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const qj=(s,e,t)=>new Bj(s,e,t);function $j(){if(typeof window<"u"||typeof process>"u")return!1;const s=process.version;if(s==null)return!1;const e=s.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}$j()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const st=(s,e,t,r={})=>({code:s,message:e,provider:t,context:r,timestamp:new Date().toISOString()});class Hj{constructor(e){this.config=e,this.app=null,this.auth=null,this.db=null}async connect(){try{this.app=bE(this.config),this.auth=rk(this.app),this.db=eD(this.app),await new Promise(e=>{const t=FC(this.auth,r=>{t(),e(r)})}),console.log(" Firebase connected successfully")}catch(e){throw st("FIREBASE_CONNECT_ERROR",`Failed to connect to Firebase: ${e.message}`,"firebase",{originalError:e})}}async signIn(){try{const e=await LC(this.auth);return sessionStorage.setItem("firebase_token",await e.user.getIdToken()),{user:e.user,token:await e.user.getIdToken()}}catch(e){throw st("FIREBASE_AUTH_ERROR",`Firebase authentication failed: ${e.message}`,"firebase",{originalError:e})}}async signOut(){try{await GC(this.auth),sessionStorage.removeItem("firebase_token")}catch(e){throw st("FIREBASE_SIGNOUT_ERROR",`Firebase sign out failed: ${e.message}`,"firebase",{originalError:e})}}currentUser(){return this.auth.currentUser}async read(e,t={}){try{let a=mw(this.db,e);if(t.where){const[u,f,g]=t.where;a=dD(a,fD(u,f,g))}return(await yD(a)).docs.map(u=>({id:u.id,...u.data()}))}catch(r){throw st("FIREBASE_READ_ERROR",`Failed to read from ${e}: ${r.message}`,"firebase",{collectionPath:e,queryOptions:t,originalError:r})}}async write(e,t,r){try{const a=dg(this.db,e,t);return await _D(a,{...r,updatedAt:new Date().toISOString()},{merge:!0}),{id:t,...r}}catch(a){throw st("FIREBASE_WRITE_ERROR",`Failed to write to ${e}/${t}: ${a.message}`,"firebase",{collectionPath:e,docId:t,originalError:a})}}async update(e,t,r){try{const a=dg(this.db,e,t);return await vD(a,{...r,updatedAt:new Date().toISOString()}),{id:t,...r}}catch(a){throw st("FIREBASE_UPDATE_ERROR",`Failed to update ${e}/${t}: ${a.message}`,"firebase",{collectionPath:e,docId:t,originalError:a})}}async delete(e,t){try{const r=dg(this.db,e,t);return await bD(r),{id:t,deleted:!0}}catch(r){throw st("FIREBASE_DELETE_ERROR",`Failed to delete ${e}/${t}: ${r.message}`,"firebase",{collectionPath:e,docId:t,originalError:r})}}onSnapshot(e,t){try{const r=mw(this.db,e);return wD(r,a=>{const l=a.docs.map(u=>({id:u.id,...u.data()}));t(l,null)},a=>{t(null,st("FIREBASE_SNAPSHOT_ERROR",`Snapshot error on ${e}: ${a.message}`,"firebase",{collectionPath:e,originalError:a}))})}catch(r){throw st("FIREBASE_SNAPSHOT_SETUP_ERROR",`Failed to setup snapshot for ${e}: ${r.message}`,"firebase",{collectionPath:e,originalError:r})}}}class Fj{constructor(e){this.config=e,this.client=null}async connect(){try{this.client=qj(this.config.url,this.config.anonKey),console.log(" Supabase connected successfully")}catch(e){throw st("SUPABASE_CONNECT_ERROR",`Failed to connect to Supabase: ${e.message}`,"supabase",{originalError:e})}}async signIn(){try{const{data:e,error:t}=await this.client.auth.signInAnonymously();if(t)throw t;return sessionStorage.setItem("supabase_token",e.session.access_token),{user:e.user,token:e.session.access_token}}catch(e){throw st("SUPABASE_AUTH_ERROR",`Supabase authentication failed: ${e.message}`,"supabase",{originalError:e})}}async signOut(){try{await this.client.auth.signOut(),sessionStorage.removeItem("supabase_token")}catch(e){throw st("SUPABASE_SIGNOUT_ERROR",`Supabase sign out failed: ${e.message}`,"supabase",{originalError:e})}}async currentUser(){const{data:{user:e}}=await this.client.auth.getUser();return e}async read(e,t={}){try{let r=this.client.from(e).select("*");if(t.where){const[u,f,g]=t.where;switch(f){case"==":r=r.eq(u,g);break;case">":r=r.gt(u,g);break;case"<":r=r.lt(u,g);break;case">=":r=r.gte(u,g);break;case"<=":r=r.lte(u,g);break}}const{data:a,error:l}=await r;if(l)throw l;return a}catch(r){throw st("SUPABASE_READ_ERROR",`Failed to read from ${e}: ${r.message}`,"supabase",{tableName:e,queryOptions:t,originalError:r})}}async write(e,t,r){try{const{data:a,error:l}=await this.client.from(e).upsert({id:t,...r,updated_at:new Date().toISOString()});if(l)throw l;return a}catch(a){throw st("SUPABASE_WRITE_ERROR",`Failed to write to ${e}: ${a.message}`,"supabase",{tableName:e,docId:t,originalError:a})}}async update(e,t,r){try{const{data:a,error:l}=await this.client.from(e).update({...r,updated_at:new Date().toISOString()}).eq("id",t);if(l)throw l;return a}catch(a){throw st("SUPABASE_UPDATE_ERROR",`Failed to update ${e}: ${a.message}`,"supabase",{tableName:e,docId:t,originalError:a})}}async delete(e,t){try{const{error:r}=await this.client.from(e).delete().eq("id",t);if(r)throw r;return{id:t,deleted:!0}}catch(r){throw st("SUPABASE_DELETE_ERROR",`Failed to delete from ${e}: ${r.message}`,"supabase",{tableName:e,docId:t,originalError:r})}}onSnapshot(e,t){try{const r=this.client.channel(`${e}_changes`).on("postgres_changes",{event:"*",schema:"public",table:e},a=>{this.read(e).then(l=>t(l,null)).catch(l=>t(null,l))}).subscribe();return()=>{this.client.removeChannel(r)}}catch(r){throw st("SUPABASE_SNAPSHOT_ERROR",`Failed to setup snapshot for ${e}: ${r.message}`,"supabase",{tableName:e,originalError:r})}}}class Gj{constructor(e){this.config=e,this.endpoint=e.endpoint,this.key=e.key,this.databaseId=e.databaseId||"FineGuardDB",this.authenticated=!1}async connect(){try{const e=await fetch(`${this.endpoint}/dbs/${this.databaseId}/colls`,{method:"GET",headers:{Authorization:this.key,"x-ms-version":"2018-12-31","Content-Type":"application/json"}});if(!e.ok)throw new Error(`Azure connection failed: ${e.statusText}`);this.authenticated=!0,console.log(" Azure Cosmos DB connected successfully")}catch(e){throw st("AZURE_CONNECT_ERROR",`Failed to connect to Azure Cosmos DB: ${e.message}`,"azure",{originalError:e})}}async signIn(){try{return sessionStorage.setItem("azure_token",this.key),{user:{id:"azure-user"},token:this.key}}catch(e){throw st("AZURE_AUTH_ERROR",`Azure authentication failed: ${e.message}`,"azure",{originalError:e})}}async signOut(){sessionStorage.removeItem("azure_token"),this.authenticated=!1}currentUser(){return this.authenticated?{id:"azure-user"}:null}async read(e,t={}){try{let r="SELECT * FROM c";if(t.where){const[u,f,g]=t.where,p=f==="=="?"=":f,y=typeof g=="string"?`"${g}"`:g;r+=` WHERE c.${u} ${p} ${y}`}const a=await fetch(`${this.endpoint}/dbs/${this.databaseId}/colls/${e}/docs`,{method:"POST",headers:{Authorization:this.key,"x-ms-version":"2018-12-31","Content-Type":"application/query+json","x-ms-documentdb-isquery":"true"},body:JSON.stringify({query:r})});if(!a.ok)throw new Error(`Read failed: ${a.statusText}`);return(await a.json()).Documents||[]}catch(r){throw st("AZURE_READ_ERROR",`Failed to read from ${e}: ${r.message}`,"azure",{containerName:e,queryOptions:t,originalError:r})}}async write(e,t,r){try{const a=await fetch(`${this.endpoint}/dbs/${this.databaseId}/colls/${e}/docs`,{method:"POST",headers:{Authorization:this.key,"x-ms-version":"2018-12-31","Content-Type":"application/json"},body:JSON.stringify({id:t,...r,_updatedAt:new Date().toISOString()})});if(!a.ok)throw new Error(`Write failed: ${a.statusText}`);return await a.json()}catch(a){throw st("AZURE_WRITE_ERROR",`Failed to write to ${e}: ${a.message}`,"azure",{containerName:e,docId:t,originalError:a})}}async update(e,t,r){try{const a=await this.read(e,{where:["id","==",t]});if(!a||a.length===0)throw new Error("Document not found");const l=await fetch(`${this.endpoint}/dbs/${this.databaseId}/colls/${e}/docs/${t}`,{method:"PUT",headers:{Authorization:this.key,"x-ms-version":"2018-12-31","Content-Type":"application/json"},body:JSON.stringify({...a[0],...r,_updatedAt:new Date().toISOString()})});if(!l.ok)throw new Error(`Update failed: ${l.statusText}`);return await l.json()}catch(a){throw st("AZURE_UPDATE_ERROR",`Failed to update ${e}: ${a.message}`,"azure",{containerName:e,docId:t,originalError:a})}}async delete(e,t){try{const r=await fetch(`${this.endpoint}/dbs/${this.databaseId}/colls/${e}/docs/${t}`,{method:"DELETE",headers:{Authorization:this.key,"x-ms-version":"2018-12-31"}});if(!r.ok)throw new Error(`Delete failed: ${r.statusText}`);return{id:t,deleted:!0}}catch(r){throw st("AZURE_DELETE_ERROR",`Failed to delete from ${e}: ${r.message}`,"azure",{containerName:e,docId:t,originalError:r})}}onSnapshot(e,t){const r=setInterval(async()=>{try{const a=await this.read(e);t(a,null)}catch(a){t(null,a)}},5e3);return()=>clearInterval(r)}}const Kj=s=>{let e;if(!s||!s.provider)throw st("INVALID_CONFIG","Configuration must include a provider field","connector",{config:s});switch(s.provider){case"firebase":if(!s.firebaseConfig)throw st("INVALID_CONFIG","Firebase provider requires firebaseConfig","connector",{config:s});e=new Hj(s.firebaseConfig);break;case"supabase":if(!s.supabaseConfig)throw st("INVALID_CONFIG","Supabase provider requires supabaseConfig","connector",{config:s});e=new Fj(s.supabaseConfig);break;case"azure":if(!s.azureConfig)throw st("INVALID_CONFIG","Azure provider requires azureConfig","connector",{config:s});e=new Gj(s.azureConfig);break;default:throw st("UNSUPPORTED_PROVIDER",`Provider "${s.provider}" is not supported`,"connector",{config:s})}return{async connect(){return await e.connect(),{auth:{signIn:()=>e.signIn(),signOut:()=>e.signOut(),currentUser:()=>e.currentUser()},db:{read:(t,r)=>e.read(t,r),write:(t,r,a)=>e.write(t,r,a),update:(t,r,a)=>e.update(t,r,a),delete:(t,r)=>e.delete(t,r),onSnapshot:(t,r)=>e.onSnapshot(t,r)}}},getProvider(){return s.provider}}},Qj=()=>{const[s,e]=De.useState("firebase"),[t,r]=De.useState(null),[a,l]=De.useState(!1),[u,f]=De.useState(!1),[g,p]=De.useState(null),[y,E]=De.useState([]),[S,N]=De.useState([]),[V,z]=De.useState("companies"),[U,se]=De.useState(null),[W,Y]=De.useState({}),ce={firebase:{provider:"firebase",firebaseConfig:{apiKey:"demo-api-key",authDomain:"fineguard-demo.firebaseapp.com",projectId:"fineguard-demo",storageBucket:"fineguard-demo.appspot.com",messagingSenderId:"123456789",appId:"1:123456789:web:abcdef"}},supabase:{provider:"supabase",supabaseConfig:{url:"https://your-project.supabase.co",anonKey:"your-anon-key-here"}},azure:{provider:"azure",azureConfig:{endpoint:"https://your-account.documents.azure.com:443/",key:"your-azure-key-here",databaseId:"FineGuardDB"}}},he=async()=>{f(!0),p(null);try{const C=ce[s],I=Kj(C),{auth:Ge,db:Le}=await I.connect();await Ge.signIn(),r({auth:Ge,db:Le}),l(!0),await ue(Le)}catch(C){p(C.message||"Failed to connect to database"),console.error("Connection error:",C)}finally{f(!1)}},ue=async C=>{try{const I=await C.read("companies"),Ge=await C.read("obligations");E(I||[]),N(Ge||[])}catch(I){console.error("Error loading data:",I),p("Failed to load data from database")}},D=async()=>{if(t)try{await t.auth.signOut(),r(null),l(!1),E([]),N([])}catch(C){console.error("Disconnect error:",C)}},x=()=>{Y(V==="companies"?{name:"",companyNumber:"",address:"",riskLevel:"low",complianceScore:100}:{companyId:"",title:"",description:"",dueDate:"",status:"pending",penalty:0}),se("new")},R=async()=>{if(t){f(!0);try{const C=V==="companies"?"companies":"obligations",I=U==="new"?`${Date.now()}`:U;await t.db.write(C,I,W),await ue(t.db),se(null),Y({})}catch(C){p(`Failed to save: ${C.message}`)}finally{f(!1)}}},M=async C=>{if(!(!t||!confirm("Are you sure you want to delete this item?"))){f(!0);try{const I=V==="companies"?"companies":"obligations";await t.db.delete(I,C),await ue(t.db)}catch(I){p(`Failed to delete: ${I.message}`)}finally{f(!1)}}},j=C=>{se(C.id),Y(C)};return v.jsxs("div",{className:"space-y-8",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Admin Panel"}),v.jsx("p",{className:"text-muted-foreground",children:"Manage database connections and data"})]}),v.jsx(Xn,{variant:a?"default":"secondary",className:"text-lg px-4 py-2",children:a?v.jsxs(v.Fragment,{children:[v.jsx(va,{className:"h-4 w-4 mr-2"})," Connected"]}):v.jsxs(v.Fragment,{children:[v.jsx(Ux,{className:"h-4 w-4 mr-2"})," Disconnected"]})})]}),v.jsxs(bt,{children:[v.jsxs($t,{children:[v.jsxs(Ht,{className:"flex items-center gap-2",children:[v.jsx(L0,{className:"h-6 w-6"}),"Database Connection"]}),v.jsx($o,{children:"Choose your database provider and connect"})]}),v.jsxs(wt,{className:"space-y-4",children:[v.jsxs("div",{className:"flex gap-4 items-center",children:[v.jsx("label",{className:"font-medium",children:"Provider:"}),v.jsxs("select",{value:s,onChange:C=>e(C.target.value),disabled:a,className:"px-4 py-2 border rounded-lg bg-background",children:[v.jsx("option",{value:"firebase",children:"Firebase"}),v.jsx("option",{value:"supabase",children:"Supabase"}),v.jsx("option",{value:"azure",children:"Azure Cosmos DB"})]}),a?v.jsx(mt,{onClick:D,variant:"destructive",children:"Disconnect"}):v.jsxs(mt,{onClick:he,disabled:u,className:"bg-gradient-to-r from-cyan-400 to-blue-500",children:[u?v.jsx(B0,{className:"h-4 w-4 mr-2 animate-spin"}):v.jsx(L0,{className:"h-4 w-4 mr-2"}),"Connect"]})]}),g&&v.jsxs("div",{className:"flex items-center gap-2 p-4 bg-red-50 dark:bg-red-950 border border-red-200 dark:border-red-800 rounded-lg",children:[v.jsx(cE,{className:"h-5 w-5 text-red-600"}),v.jsx("p",{className:"text-red-600 dark:text-red-400",children:g})]}),a&&v.jsxs("div",{className:"flex items-center gap-2 p-4 bg-green-50 dark:bg-green-950 border border-green-200 dark:border-green-800 rounded-lg",children:[v.jsx(va,{className:"h-5 w-5 text-green-600"}),v.jsxs("p",{className:"text-green-600 dark:text-green-400",children:["Connected to ",s.charAt(0).toUpperCase()+s.slice(1)]})]})]})]}),a&&v.jsxs(bt,{children:[v.jsx($t,{children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsxs(Ht,{className:"flex items-center gap-2",children:[v.jsx(Hx,{className:"h-6 w-6"}),"Data Management"]}),v.jsx($o,{children:"View and manage your compliance data"})]}),v.jsxs(mt,{onClick:x,className:"bg-gradient-to-r from-cyan-400 to-blue-500",children:[v.jsx(tR,{className:"h-4 w-4 mr-2"}),"Add New"]})]})}),v.jsxs(wt,{children:[v.jsxs("div",{className:"flex gap-2 mb-6 border-b",children:[v.jsxs("button",{onClick:()=>z("companies"),className:`px-6 py-3 font-medium transition-colors ${V==="companies"?"border-b-2 border-cyan-400 text-cyan-400":"text-muted-foreground hover:text-foreground"}`,children:["Companies (",y.length,")"]}),v.jsxs("button",{onClick:()=>z("obligations"),className:`px-6 py-3 font-medium transition-colors ${V==="obligations"?"border-b-2 border-cyan-400 text-cyan-400":"text-muted-foreground hover:text-foreground"}`,children:["Obligations (",S.length,")"]})]}),v.jsx("div",{className:"space-y-4",children:V==="companies"?y.length>0?y.map(C=>v.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[v.jsxs("div",{className:"flex-1",children:[v.jsx("h3",{className:"font-semibold text-lg",children:C.name}),v.jsxs("p",{className:"text-sm text-muted-foreground",children:["#",C.companyNumber]}),v.jsxs("div",{className:"flex gap-2 mt-2",children:[v.jsx(Xn,{variant:C.riskLevel==="critical"?"destructive":"default",children:C.riskLevel}),v.jsxs(Xn,{variant:"outline",children:[C.complianceScore,"% Compliance"]})]})]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx(mt,{size:"sm",variant:"outline",onClick:()=>j(C),children:v.jsx(q0,{className:"h-4 w-4"})}),v.jsx(mt,{size:"sm",variant:"destructive",onClick:()=>M(C.id),children:v.jsx(H0,{className:"h-4 w-4"})})]})]},C.id)):v.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No companies found"}):S.length>0?S.map(C=>v.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[v.jsxs("div",{className:"flex-1",children:[v.jsx("h3",{className:"font-semibold text-lg",children:C.title}),v.jsx("p",{className:"text-sm text-muted-foreground",children:C.companyName}),v.jsxs("div",{className:"flex gap-2 mt-2",children:[v.jsx(Xn,{variant:C.status==="overdue"?"destructive":"default",children:C.status}),v.jsxs(Xn,{variant:"outline",children:["Due: ",C.dueDate]}),C.penalty>0&&v.jsxs(Xn,{variant:"destructive",children:["",C.penalty," penalty"]})]})]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx(mt,{size:"sm",variant:"outline",onClick:()=>j(C),children:v.jsx(q0,{className:"h-4 w-4"})}),v.jsx(mt,{size:"sm",variant:"destructive",onClick:()=>M(C.id),children:v.jsx(H0,{className:"h-4 w-4"})})]})]},C.id)):v.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No obligations found"})})]})]}),U&&v.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:()=>se(null),children:v.jsxs(bt,{className:"max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:C=>C.stopPropagation(),children:[v.jsx($t,{children:v.jsxs(Ht,{children:[U==="new"?"Add New":"Edit"," ",V==="companies"?"Company":"Obligation"]})}),v.jsxs(wt,{className:"space-y-4",children:[V==="companies"?v.jsxs(v.Fragment,{children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-2",children:"Company Name"}),v.jsx("input",{type:"text",value:W.name||"",onChange:C=>Y({...W,name:C.target.value}),className:"w-full p-2 border rounded-lg bg-background"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-2",children:"Company Number"}),v.jsx("input",{type:"text",value:W.companyNumber||"",onChange:C=>Y({...W,companyNumber:C.target.value}),className:"w-full p-2 border rounded-lg bg-background"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-2",children:"Address"}),v.jsx("input",{type:"text",value:W.address||"",onChange:C=>Y({...W,address:C.target.value}),className:"w-full p-2 border rounded-lg bg-background"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-2",children:"Risk Level"}),v.jsxs("select",{value:W.riskLevel||"low",onChange:C=>Y({...W,riskLevel:C.target.value}),className:"w-full p-2 border rounded-lg bg-background",children:[v.jsx("option",{value:"low",children:"Low"}),v.jsx("option",{value:"medium",children:"Medium"}),v.jsx("option",{value:"high",children:"High"}),v.jsx("option",{value:"critical",children:"Critical"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-2",children:"Compliance Score"}),v.jsx("input",{type:"number",value:W.complianceScore||100,onChange:C=>Y({...W,complianceScore:parseInt(C.target.value)}),className:"w-full p-2 border rounded-lg bg-background",min:"0",max:"100"})]})]}):v.jsxs(v.Fragment,{children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-2",children:"Title"}),v.jsx("input",{type:"text",value:W.title||"",onChange:C=>Y({...W,title:C.target.value}),className:"w-full p-2 border rounded-lg bg-background"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-2",children:"Description"}),v.jsx("textarea",{value:W.description||"",onChange:C=>Y({...W,description:C.target.value}),className:"w-full p-2 border rounded-lg bg-background",rows:3})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-2",children:"Due Date"}),v.jsx("input",{type:"date",value:W.dueDate||"",onChange:C=>Y({...W,dueDate:C.target.value}),className:"w-full p-2 border rounded-lg bg-background"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-2",children:"Status"}),v.jsxs("select",{value:W.status||"pending",onChange:C=>Y({...W,status:C.target.value}),className:"w-full p-2 border rounded-lg bg-background",children:[v.jsx("option",{value:"pending",children:"Pending"}),v.jsx("option",{value:"overdue",children:"Overdue"}),v.jsx("option",{value:"completed",children:"Completed"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-2",children:"Penalty ()"}),v.jsx("input",{type:"number",value:W.penalty||0,onChange:C=>Y({...W,penalty:parseInt(C.target.value)}),className:"w-full p-2 border rounded-lg bg-background",min:"0"})]})]}),v.jsxs("div",{className:"flex gap-2 pt-4",children:[v.jsxs(mt,{onClick:R,className:"flex-1 bg-gradient-to-r from-cyan-400 to-blue-500",children:[u?v.jsx(B0,{className:"h-4 w-4 mr-2 animate-spin"}):v.jsx(va,{className:"h-4 w-4 mr-2"}),"Save"]}),v.jsx(mt,{onClick:()=>se(null),variant:"outline",className:"flex-1",children:"Cancel"})]})]})]})})]})},Yj={companies:[{id:1,name:"Tech Innovations Ltd",companyNumber:"12345678",address:"123 Business Park, London, SW1A 1AA",riskLevel:"high",complianceScore:65,overdueCount:2,obligationCount:8},{id:2,name:"Global Solutions Ltd",companyNumber:"87654321",address:"456 Enterprise Road, Manchester, M1 1AB",riskLevel:"medium",complianceScore:78,overdueCount:0,obligationCount:6},{id:3,name:"Startup Ventures Ltd",companyNumber:"11223344",address:"789 Innovation Street, Bristol, BS1 1CD",riskLevel:"critical",complianceScore:45,overdueCount:3,obligationCount:5}],obligations:[{id:1,companyId:1,companyName:"Tech Innovations Ltd",title:"Annual Accounts Filing",description:"Submit annual financial statements to Companies House",dueDate:"2024-03-15",status:"overdue",penalty:1500,daysOverdue:45,phoneNumber:"+447912345678"},{id:2,companyId:1,companyName:"Tech Innovations Ltd",title:"Confirmation Statement",description:"Annual confirmation of company details",dueDate:"2024-04-20",status:"pending",penalty:0,daysOverdue:0,phoneNumber:"+447912345678"},{id:3,companyId:2,companyName:"Global Solutions Ltd",title:"VAT Return",description:"Quarterly VAT submission to HMRC",dueDate:"2024-05-10",status:"pending",penalty:0,daysOverdue:0,phoneNumber:"+447987654321"},{id:4,companyId:3,companyName:"Startup Ventures Ltd",title:"Corporation Tax",description:"Corporation tax payment and filing",dueDate:"2024-02-28",status:"overdue",penalty:2500,daysOverdue:62,phoneNumber:"+447445566778"},{id:5,companyId:3,companyName:"Startup Ventures Ltd",title:"Annual Accounts Filing",description:"Submit annual financial statements",dueDate:"2024-01-31",status:"overdue",penalty:1800,daysOverdue:90,phoneNumber:"+447445566778"}]};function Wj(){const[s,e]=De.useState(!1),[t,r]=De.useState("home"),[a,l]=De.useState(!1),[u,f]=De.useState(Yj),[g,p]=De.useState(null),[y,E]=De.useState(null),[S,N]=De.useState(!1),[V,z]=De.useState({title:"",content:"",loading:!1});De.useEffect(()=>{s?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[s]);const U=F=>{const k={day:"numeric",month:"short",year:"numeric"};return new Date(F).toLocaleDateString("en-GB",k)},se=F=>{const k=new Date,le=new Date(F)-k;return Math.ceil(le/(1e3*60*60*24))},W=F=>{switch(F){case"low":return"bg-green-500";case"medium":return"bg-blue-500";case"high":return"bg-orange-500";case"critical":return"bg-red-600";default:return"bg-gray-500"}},Y=F=>{switch(F){case"completed":return"bg-green-500";case"overdue":return"bg-red-600";case"pending":return"bg-blue-500";default:return"bg-gray-500"}},ce={overdueCount:u.obligations.filter(F=>F.status==="overdue").length,totalCompanies:u.companies.length,avgScore:(u.companies.reduce((F,k)=>F+k.complianceScore,0)/u.companies.length).toFixed(1),penaltyRisk:u.obligations.filter(F=>F.status==="overdue").reduce((F,k)=>F+k.penalty,0)},he=F=>{f(k=>({...k,obligations:k.obligations.map(J=>J.id===F?{...J,status:"completed",penalty:0}:J),companies:k.companies.map(J=>{const le=k.obligations.find(ie=>ie.id===F);return J.id===(le==null?void 0:le.companyId)?{...J,complianceScore:Math.min(100,J.complianceScore+5)}:J})})),E(null)},ue=F=>{N(!0),z({title:`AI Mitigation Plan for ${F.name}`,content:"",loading:!0}),setTimeout(()=>{z({title:`AI Mitigation Plan for ${F.name}`,loading:!1,content:`
**Current Risk Level:** ${F.riskLevel.toUpperCase()}
**Generated:** ${new Date().toLocaleDateString()}

### Immediate Actions Required:
1. **Review Overdue Filings** - Address all overdue obligations within 7 days
2. **Engage Compliance Officer** - Assign dedicated resource for monitoring
3. **Implement Early Warning System** - Set up 30-day advance reminders

### Strategic Recommendations:
- Conduct comprehensive compliance audit
- Implement automated tracking system
- Schedule quarterly compliance reviews
- Establish escalation procedures for high-risk items

### Priority Timeline:
- **Week 1:** Clear all critical overdue items
- **Month 1:** Implement monitoring system
- **Quarter 1:** Achieve 85%+ compliance score
        `})},2e3)},D=F=>{N(!0),z({title:`AI Compliance Checklist: ${F.title}`,content:"",loading:!0}),setTimeout(()=>{z({title:`AI Compliance Checklist: ${F.title}`,loading:!1,content:`
### Pre-Submission Requirements:
- Verify company details are up to date
- Gather all required financial documents
- Review previous year's filing for consistency
- Confirm director approvals obtained

### Submission Steps:
1. **Document Preparation** - Ensure all statements are signed
2. **Online Portal Login** - Use Companies House WebFiling service
3. **Data Entry** - Input financial figures accurately
4. **Document Upload** - Attach signed PDF copies
5. **Final Review** - Verify all information before submission
6. **Confirmation** - Save submission reference number

### Post-Submission Actions:
- File confirmation email in company records
- Update internal compliance tracking system
- Schedule reminder for next filing period
- Notify relevant stakeholders of completion
        `})},1500)},x=[...u.obligations].sort((F,k)=>F.status==="overdue"&&k.status!=="overdue"?-1:k.status==="overdue"&&F.status!=="overdue"?1:new Date(F.dueDate)-new Date(k.dueDate)),R=[{id:"home",label:"Home",icon:Gx},{id:"about",label:"About",icon:z0},{id:"how-it-works",label:"How It Works",icon:U0},{id:"features",label:"Features",icon:$0},{id:"pricing",label:"Pricing",icon:qx},{id:"testimonials",label:"Testimonials",icon:Xm},{id:"contact",label:"Contact",icon:Jm},{id:"dashboard",label:"Dashboard",icon:Ec},{id:"admin",label:"Admin",icon:U0}],M=()=>{switch(t){case"home":return v.jsx(j,{});case"about":return v.jsx(C,{});case"how-it-works":return v.jsx(I,{});case"features":return v.jsx(Ge,{});case"pricing":return v.jsx(Le,{});case"testimonials":return v.jsx(Q,{});case"contact":return v.jsx(ae,{});case"dashboard":return v.jsx(re,{});case"admin":return v.jsx(Qj,{});default:return v.jsx(j,{})}},j=()=>v.jsxs("div",{className:"space-y-16",children:[v.jsxs("section",{className:"relative min-h-[600px] flex items-center justify-center overflow-hidden rounded-2xl",children:[v.jsx("img",{src:F0,alt:"FineGuard Workshop",className:"absolute inset-0 w-full h-full object-cover"}),v.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-900/40 to-purple-900/30"}),v.jsxs("div",{className:"relative z-10 text-center text-white px-4 max-w-4xl",children:[v.jsx("h1",{className:"text-5xl md:text-7xl font-bold mb-6 animate-fade-in",children:"Welcome to FineGuard"}),v.jsx("p",{className:"text-xl md:text-2xl mb-8 opacity-90",children:"Where paperwork has personality and compliance is effortless"}),v.jsxs("div",{className:"flex gap-4 justify-center flex-wrap",children:[v.jsx(mt,{size:"lg",className:"bg-gradient-to-r from-cyan-400 to-blue-500 text-white border-0 rounded-full px-10 py-6 text-lg font-semibold hover:shadow-2xl hover:shadow-cyan-400/40 transition-all hover:scale-105",onClick:()=>r("dashboard"),children:"Get Started"}),v.jsx(mt,{size:"lg",className:"border-2 border-cyan-400/50 bg-white/10 backdrop-blur-md text-white hover:bg-white/20 rounded-full px-10 py-6 text-lg font-semibold transition-all hover:scale-105",onClick:()=>r("how-it-works"),children:"Learn More"})]})]})]}),v.jsxs("section",{className:"container mx-auto px-4",children:[v.jsx("h2",{className:"text-4xl font-bold text-center mb-12",children:"Why Choose FineGuard?"}),v.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[v.jsxs(bt,{className:"hover:shadow-xl transition-shadow",children:[v.jsxs($t,{children:[v.jsx(Ec,{className:"h-12 w-12 text-blue-600 mb-4"}),v.jsx(Ht,{children:"AI-Powered Protection"})]}),v.jsx(wt,{children:v.jsx("p",{className:"text-muted-foreground",children:"Ultra, your AI guardian, monitors deadlines 24/7 so you never miss a filing."})})]}),v.jsxs(bt,{className:"hover:shadow-xl transition-shadow",children:[v.jsxs($t,{children:[v.jsx(Ym,{className:"h-12 w-12 text-orange-600 mb-4"}),v.jsx(Ht,{children:"Smart Reminders"})]}),v.jsx(wt,{children:v.jsx("p",{className:"text-muted-foreground",children:"Get timely notifications before deadlines with actionable compliance checklists."})})]}),v.jsxs(bt,{className:"hover:shadow-xl transition-shadow",children:[v.jsxs($t,{children:[v.jsx(Zm,{className:"h-12 w-12 text-green-600 mb-4"}),v.jsx(Ht,{children:"Peace of Mind"})]}),v.jsx(wt,{children:v.jsx("p",{className:"text-muted-foreground",children:"Focus on growing your business while we handle compliance automatically."})})]})]})]}),v.jsx("section",{className:"container mx-auto px-4",children:v.jsxs("div",{className:"max-w-4xl mx-auto",children:[v.jsx("h2",{className:"text-4xl font-bold text-center mb-4",children:"See FineGuard in Action"}),v.jsx("p",{className:"text-center text-muted-foreground mb-8 text-lg",children:"Watch how Ultra protects your business from compliance penalties"}),v.jsx("div",{className:"relative rounded-2xl overflow-hidden shadow-2xl border-4 border-cyan-400/30",children:v.jsxs("video",{controls:!0,className:"w-full",poster:F0,children:[v.jsx("source",{src:"/demo-video.mov",type:"video/quicktime"}),v.jsx("source",{src:"/demo-video.mp4",type:"video/mp4"}),"Your browser does not support the video tag."]})})]})}),v.jsx("section",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white py-16 rounded-2xl mx-4",children:v.jsxs("div",{className:"container mx-auto px-4 text-center",children:[v.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Ready to protect your business?"}),v.jsx("p",{className:"text-xl mb-8 opacity-90",children:"Join thousands of UK businesses using FineGuard"}),v.jsx(mt,{size:"lg",className:"bg-white/90 backdrop-blur-md text-blue-900 hover:bg-white rounded-full px-10 py-6 text-lg font-semibold hover:shadow-2xl hover:scale-105 transition-all",onClick:()=>r("pricing"),children:"View Pricing Plans"})]})})]}),C=()=>v.jsxs("div",{className:"space-y-12",children:[v.jsxs("section",{className:"relative min-h-[400px] flex items-center justify-center overflow-hidden rounded-2xl",children:[v.jsx("img",{src:fR,alt:"Ultra Guardian",className:"absolute inset-0 w-full h-full object-cover"}),v.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-blue-900/30 to-purple-900/30"}),v.jsxs("div",{className:"relative z-10 text-center text-white px-4",children:[v.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-4",children:"The Story of Protection"}),v.jsx("p",{className:"text-xl opacity-90",children:"Giving peace of mind to UK founders"})]})]}),v.jsx("section",{className:"container mx-auto px-4 max-w-4xl",children:v.jsx(bt,{children:v.jsxs(wt,{className:"p-8 space-y-6",children:[v.jsx("h2",{className:"text-3xl font-bold",children:"Our Mission"}),v.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"FineGuard was born from a simple truth: small business owners shouldn't lose sleep over compliance deadlines. Every day, brilliant entrepreneurs face the burden of paperwork, filings, and regulations that distract from what they do bestbuilding amazing businesses."}),v.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"That's where Ultra comes in. Our AI guardian watches over your compliance obligations 24/7, ensuring you never miss a deadline, never face unnecessary penalties, and always stay protected. From Companies House filings to HMRC submissions, we've got you covered."}),v.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mt-8",children:[v.jsxs("div",{className:"p-6 bg-blue-50 dark:bg-blue-950/20 rounded-lg",children:[v.jsx("h3",{className:"text-xl font-bold mb-2",children:"10,000+"}),v.jsx("p",{className:"text-muted-foreground",children:"Businesses Protected"})]}),v.jsxs("div",{className:"p-6 bg-green-50 dark:bg-green-950/20 rounded-lg",children:[v.jsx("h3",{className:"text-xl font-bold mb-2",children:"2.5M+"}),v.jsx("p",{className:"text-muted-foreground",children:"Penalties Prevented"})]})]})]})})})]}),I=()=>v.jsxs("div",{className:"space-y-12",children:[v.jsxs("section",{className:"relative min-h-[400px] flex items-center justify-center overflow-hidden rounded-2xl",children:[v.jsx("img",{src:mR,alt:"Engine Room",className:"absolute inset-0 w-full h-full object-cover"}),v.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-teal-900/30 to-blue-900/30"}),v.jsxs("div",{className:"relative z-10 text-center text-white px-4",children:[v.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-4",children:"Inside the System"}),v.jsx("p",{className:"text-xl opacity-90",children:"How FineGuard keeps you compliant"})]})]}),v.jsx("section",{className:"container mx-auto px-4 max-w-5xl",children:v.jsx("div",{className:"space-y-8",children:[{step:1,title:"Connect Your Business",description:"Simply add your company number and we'll sync with Companies House and HMRC to identify all your obligations."},{step:2,title:"Ultra Monitors Everything",description:"Our AI guardian tracks every deadline, regulation change, and filing requirement specific to your business."},{step:3,title:"Smart Reminders",description:"Get timely notifications via email, SMS, and dashboard alerts with AI-generated compliance checklists."},{step:4,title:"Stay Protected",description:"Never miss a deadline again. Focus on growth while we handle the compliance burden automatically."}].map(F=>v.jsx(bt,{className:"hover:shadow-lg transition-shadow",children:v.jsxs(wt,{className:"p-8 flex gap-6 items-start",children:[v.jsx("div",{className:"flex-shrink-0 w-16 h-16 bg-blue-600 text-white rounded-full flex items-center justify-center text-2xl font-bold",children:F.step}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-2xl font-bold mb-2",children:F.title}),v.jsx("p",{className:"text-lg text-muted-foreground",children:F.description})]})]})},F.step))})})]}),Ge=()=>v.jsxs("div",{className:"space-y-12",children:[v.jsxs("section",{className:"relative min-h-[400px] flex items-center justify-center overflow-hidden rounded-2xl",children:[v.jsx("img",{src:gR,alt:"Features",className:"absolute inset-0 w-full h-full object-cover"}),v.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-blue-900/30 to-indigo-900/30"}),v.jsxs("div",{className:"relative z-10 text-center text-white px-4",children:[v.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-4",children:"Never Miss a Deadline"}),v.jsx("p",{className:"text-xl opacity-90",children:"Powerful features for complete peace of mind"})]})]}),v.jsx("section",{className:"container mx-auto px-4",children:v.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[{icon:Ec,title:"AI Guardian",desc:"Ultra monitors your obligations 24/7"},{icon:Ym,title:"Smart Alerts",desc:"Multi-channel notifications (email, SMS, dashboard)"},{icon:V0,title:"Deadline Tracking",desc:"Never miss Companies House or HMRC filings"},{icon:Ih,title:"AI Checklists",desc:"Step-by-step compliance guidance"},{icon:Zm,title:"Risk Scoring",desc:"Real-time compliance health monitoring"},{icon:va,title:"Auto-Sync",desc:"Automatic updates from official sources"}].map((F,k)=>v.jsxs(bt,{className:"hover:shadow-xl transition-all hover:-translate-y-1",children:[v.jsxs($t,{children:[v.jsx(F.icon,{className:"h-12 w-12 text-blue-600 mb-4"}),v.jsx(Ht,{children:F.title})]}),v.jsx(wt,{children:v.jsx("p",{className:"text-muted-foreground",children:F.desc})})]},k))})})]}),Le=()=>v.jsxs("div",{className:"space-y-12",children:[v.jsxs("section",{className:"relative min-h-[400px] flex items-center justify-center overflow-hidden rounded-2xl",children:[v.jsx("img",{src:pR,alt:"Pricing",className:"absolute inset-0 w-full h-full object-cover"}),v.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-purple-900/30 to-blue-900/30"}),v.jsxs("div",{className:"relative z-10 text-center text-white px-4",children:[v.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-4",children:"Protection for Every Dream"}),v.jsx("p",{className:"text-xl opacity-90",children:"Transparent pricing, no hidden fees"})]})]}),v.jsx("section",{className:"container mx-auto px-4",children:v.jsx("div",{className:"grid md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:[{name:"Starter",price:"1",period:"/month",features:["1 company","Basic deadline tracking","Email notifications","Compliance dashboard","Monthly reports"]},{name:"Pro",price:"15",period:"/month",popular:!0,features:["Up to 5 companies","AI-powered insights","Email alerts","Priority support","AI compliance checklists","Risk scoring"]},{name:"Ultimate",price:"99",period:"/month",features:["Unlimited companies","Dedicated account manager","White-label option","API access","Custom integrations","24/7 phone support"]}].map(F=>v.jsxs(bt,{className:`hover:shadow-2xl transition-all ${F.popular?"border-blue-600 border-2 scale-105":""}`,children:[F.popular&&v.jsx("div",{className:"bg-blue-600 text-white text-center py-2 rounded-t-lg font-semibold",children:"Most Popular"}),v.jsxs($t,{className:"text-center",children:[v.jsx(Ht,{className:"text-2xl",children:F.name}),v.jsxs("div",{className:"mt-4",children:[v.jsx("span",{className:"text-5xl font-bold",children:F.price}),v.jsx("span",{className:"text-muted-foreground",children:F.period})]})]}),v.jsxs(wt,{children:[v.jsx("ul",{className:"space-y-3",children:F.features.map((k,J)=>v.jsxs("li",{className:"flex items-start gap-2",children:[v.jsx(va,{className:"h-5 w-5 text-green-600 flex-shrink-0 mt-0.5"}),v.jsx("span",{children:k})]},J))}),v.jsx(mt,{className:"w-full mt-6",variant:F.popular?"default":"outline",children:"Get Started"})]})]},F.name))})})]}),Q=()=>v.jsxs("div",{className:"space-y-12",children:[v.jsxs("section",{className:"relative min-h-[400px] flex items-center justify-center overflow-hidden rounded-2xl",children:[v.jsx("img",{src:yR,alt:"Testimonials",className:"absolute inset-0 w-full h-full object-cover"}),v.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-orange-900/30 to-blue-900/30"}),v.jsxs("div",{className:"relative z-10 text-center text-white px-4",children:[v.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-4",children:"Voices of Relief"}),v.jsx("p",{className:"text-xl opacity-90",children:"Trusted by UK businesses nationwide"})]})]}),v.jsx("section",{className:"container mx-auto px-4",children:v.jsx("div",{className:"grid md:grid-cols-2 gap-8 max-w-5xl mx-auto",children:[{name:"Sarah Mitchell",role:"Bakery Owner, London",quote:"FineGuard saved me from a 1,500 penalty. Ultra reminded me about my accounts filing just in time!"},{name:"James Chen",role:"Tech Startup Founder",quote:"As a first-time founder, compliance was overwhelming. FineGuard made it effortless."},{name:"Emma Thompson",role:"Design Studio Director",quote:"The AI checklists are brilliant. I know exactly what to do for each filing."},{name:"David Patel",role:"Coffee Shop Chain Owner",quote:"Managing 3 companies was a nightmare. Now Ultra handles everything automatically."}].map((F,k)=>v.jsx(bt,{className:"hover:shadow-xl transition-shadow",children:v.jsxs(wt,{className:"p-8",children:[v.jsx("div",{className:"flex items-center gap-2 mb-4 text-yellow-500",children:[...Array(5)].map((J,le)=>v.jsx($0,{className:"h-5 w-5 fill-current"},le))}),v.jsxs("p",{className:"text-lg mb-4 italic",children:['"',F.quote,'"']}),v.jsxs("div",{children:[v.jsx("p",{className:"font-semibold",children:F.name}),v.jsx("p",{className:"text-sm text-muted-foreground",children:F.role})]})]})},k))})})]}),ae=()=>v.jsxs("div",{className:"space-y-12",children:[v.jsxs("section",{className:"relative min-h-[400px] flex items-center justify-center overflow-hidden rounded-2xl",children:[v.jsx("img",{src:_R,alt:"Contact",className:"absolute inset-0 w-full h-full object-cover"}),v.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-blue-900/30 to-indigo-900/30"}),v.jsxs("div",{className:"relative z-10 text-center text-white px-4",children:[v.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-4",children:"Reach Out Anytime"}),v.jsx("p",{className:"text-xl opacity-90",children:"We're here to help"})]})]}),v.jsx("section",{className:"container mx-auto px-4 max-w-4xl",children:v.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[v.jsxs(bt,{children:[v.jsxs($t,{children:[v.jsx(Ht,{children:"Get in Touch"}),v.jsx($o,{children:"Fill out the form and we'll respond within 24 hours"})]}),v.jsxs(wt,{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-2",children:"Name"}),v.jsx("input",{type:"text",className:"w-full p-2 border rounded-lg",placeholder:"Your name"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),v.jsx("input",{type:"email",className:"w-full p-2 border rounded-lg",placeholder:"your@email.com"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-2",children:"Message"}),v.jsx("textarea",{className:"w-full p-2 border rounded-lg",rows:4,placeholder:"How can we help?"})]}),v.jsx(mt,{className:"w-full",children:"Send Message"})]})]}),v.jsxs(bt,{children:[v.jsx($t,{children:v.jsx(Ht,{children:"Contact Information"})}),v.jsxs(wt,{className:"space-y-4",children:[v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx(Jm,{className:"h-5 w-5 text-blue-600 mt-1"}),v.jsxs("div",{children:[v.jsx("p",{className:"font-semibold",children:"Phone"}),v.jsx("p",{className:"text-muted-foreground",children:"+44 20 1234 5678"})]})]}),v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx(Xm,{className:"h-5 w-5 text-blue-600 mt-1"}),v.jsxs("div",{children:[v.jsx("p",{className:"font-semibold",children:"Email"}),v.jsx("p",{className:"text-muted-foreground",children:"hello@fineguard.co.uk"})]})]}),v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx(Wm,{className:"h-5 w-5 text-blue-600 mt-1"}),v.jsxs("div",{children:[v.jsx("p",{className:"font-semibold",children:"Address"}),v.jsxs("p",{className:"text-muted-foreground",children:["123 Compliance Street",v.jsx("br",{}),"London, SW1A 1AA"]})]})]})]})]})]})})]}),re=()=>v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[v.jsxs(bt,{className:"hover:shadow-lg transition-shadow",children:[v.jsxs($t,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[v.jsx(Ht,{className:"text-sm font-medium",children:"Overdue Items"}),v.jsx(cE,{className:"h-4 w-4 text-red-600"})]}),v.jsxs(wt,{children:[v.jsx("div",{className:"text-3xl font-bold text-red-600",children:ce.overdueCount}),v.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Requires immediate attention"})]})]}),v.jsxs(bt,{className:"hover:shadow-lg transition-shadow",children:[v.jsxs($t,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[v.jsx(Ht,{className:"text-sm font-medium",children:"Total Companies"}),v.jsx(Wm,{className:"h-4 w-4 text-blue-600"})]}),v.jsxs(wt,{children:[v.jsx("div",{className:"text-3xl font-bold",children:ce.totalCompanies}),v.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Active monitoring"})]})]}),v.jsxs(bt,{className:"hover:shadow-lg transition-shadow",children:[v.jsxs($t,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[v.jsx(Ht,{className:"text-sm font-medium",children:"Avg Compliance"}),v.jsx(Zm,{className:"h-4 w-4 text-green-600"})]}),v.jsxs(wt,{children:[v.jsxs("div",{className:"text-3xl font-bold",children:[ce.avgScore,"%"]}),v.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Overall health score"})]})]}),v.jsxs(bt,{className:"hover:shadow-lg transition-shadow",children:[v.jsxs($t,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[v.jsx(Ht,{className:"text-sm font-medium",children:"Penalty Risk"}),v.jsx(Ym,{className:"h-4 w-4 text-orange-600"})]}),v.jsxs(wt,{children:[v.jsxs("div",{className:"text-3xl font-bold text-orange-600",children:["",ce.penaltyRisk.toLocaleString()]}),v.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Potential exposure"})]})]})]}),v.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[v.jsxs(bt,{children:[v.jsxs($t,{children:[v.jsxs(Ht,{className:"flex items-center gap-2",children:[v.jsx(Wm,{className:"h-5 w-5"}),"Companies"]}),v.jsx($o,{children:"Manage your registered companies"})]}),v.jsx(wt,{className:"space-y-3",children:u.companies.map(F=>v.jsxs("div",{onClick:()=>p(F),className:"p-4 border rounded-lg hover:shadow-md transition-all cursor-pointer bg-card",children:[v.jsxs("div",{className:"flex items-start justify-between mb-2",children:[v.jsx("h3",{className:"font-semibold text-lg",children:F.name}),v.jsx(Xn,{className:`${W(F.riskLevel)} text-white`,children:F.riskLevel.toUpperCase()})]}),v.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[v.jsxs("div",{children:["#",F.companyNumber]}),v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("span",{children:["Compliance: ",F.complianceScore,"%"]}),v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx("i",{className:"fas fa-tasks text-xs"}),F.obligationCount," obligations"]})]}),F.overdueCount>0&&v.jsxs(Xn,{variant:"destructive",className:"mt-2",children:[F.overdueCount," overdue"]})]})]},F.id))})]}),v.jsxs(bt,{children:[v.jsxs($t,{children:[v.jsxs(Ht,{className:"flex items-center gap-2",children:[v.jsx(V0,{className:"h-5 w-5"}),"Obligations"]}),v.jsx($o,{children:"Track compliance deadlines"})]}),v.jsx(wt,{className:"space-y-3",children:x.map(F=>{const k=se(F.dueDate);return v.jsxs("div",{onClick:()=>E(F),className:`p-4 border rounded-lg hover:shadow-md transition-all cursor-pointer ${F.status==="overdue"?"border-red-500 bg-red-50 dark:bg-red-950/20":F.status==="completed"?"border-green-500 bg-green-50 dark:bg-green-950/20":"bg-card"}`,children:[v.jsxs("div",{className:"flex items-start justify-between mb-2",children:[v.jsxs("div",{className:"flex-1",children:[v.jsx("h3",{className:"font-semibold",children:F.title}),v.jsx("p",{className:"text-sm text-muted-foreground",children:F.companyName})]}),v.jsx(Xn,{className:`${Y(F.status)} text-white text-xs`,children:F.status==="overdue"?`${F.daysOverdue}d overdue`:F.status.toUpperCase()})]}),v.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx("i",{className:"fas fa-calendar-alt text-xs"}),U(F.dueDate),F.status==="pending"&&` (in ${k} days)`]}),F.penalty>0&&F.status!=="completed"&&v.jsxs("span",{className:"font-semibold text-red-600",children:[v.jsx("i",{className:"fas fa-bell text-xs"})," ",F.penalty.toLocaleString()]})]})]},F.id)})})]})]})]});return v.jsxs("div",{className:"min-h-screen bg-background",children:[v.jsxs("header",{className:"sticky top-0 z-50 w-full",children:[v.jsx("div",{className:"mx-4 mt-4 rounded-full border border-cyan-400/30 bg-background/40 backdrop-blur-xl shadow-lg shadow-cyan-500/20",children:v.jsxs("div",{className:"container flex h-20 items-center justify-between px-6",children:[v.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",onClick:()=>r("home"),children:[v.jsxs("div",{className:"relative",children:[v.jsx(Ec,{className:"h-10 w-10 text-cyan-400"}),v.jsx("div",{className:"absolute inset-0 blur-lg bg-cyan-400/30"})]}),v.jsxs("div",{children:[v.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"FineGuard"}),v.jsx("p",{className:"text-xs text-muted-foreground",children:"by UltraTech AI"})]})]}),v.jsx("nav",{className:"hidden md:flex items-center gap-3",children:R.map(F=>v.jsx("button",{onClick:()=>r(F.id),className:`px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 ${t===F.id?"bg-cyan-400/20 text-cyan-400 shadow-lg shadow-cyan-400/20 border border-cyan-400/30":"text-foreground/70 hover:text-foreground hover:bg-white/10"}`,children:F.label},F.id))}),v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsxs(mt,{size:"sm",className:"hidden md:flex bg-gradient-to-r from-cyan-400 to-blue-500 text-white border-0 rounded-full px-6 hover:shadow-lg hover:shadow-cyan-400/30 transition-all",onClick:()=>r("pricing"),children:[v.jsx(va,{className:"h-4 w-4 mr-2"}),"Sign Up"]}),v.jsx(mt,{variant:"ghost",size:"icon",onClick:()=>e(!s),className:"rounded-full hover:bg-white/10",children:s?v.jsx(oR,{className:"h-5 w-5"}):v.jsx(Jx,{className:"h-5 w-5"})}),v.jsx(mt,{variant:"ghost",size:"icon",className:"md:hidden rounded-full hover:bg-white/10",onClick:()=>l(!a),children:a?v.jsx(dR,{className:"h-5 w-5"}):v.jsx(Yx,{className:"h-5 w-5"})})]})]})}),a&&v.jsx("div",{className:"md:hidden border-t bg-background",children:v.jsx("nav",{className:"container px-4 py-4 space-y-2",children:R.map(F=>v.jsxs("button",{onClick:()=>{r(F.id),l(!1)},className:`w-full flex items-center gap-2 px-3 py-2 rounded-lg transition-colors ${t===F.id?"bg-blue-100 dark:bg-blue-950 text-blue-600":"hover:bg-muted"}`,children:[v.jsx(F.icon,{className:"h-4 w-4"}),v.jsx("span",{className:"text-sm font-medium",children:F.label})]},F.id))})})]}),v.jsx("main",{className:"container mx-auto p-4 md:p-6",children:M()}),g&&v.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:()=>p(null),children:v.jsxs(bt,{className:"max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:F=>F.stopPropagation(),children:[v.jsx($t,{children:v.jsxs(Ht,{className:"flex items-center justify-between",children:[v.jsx("span",{children:g.name}),v.jsx(mt,{variant:"ghost",size:"icon",onClick:()=>p(null),children:v.jsx("i",{className:"fas fa-times"})})]})}),v.jsxs(wt,{className:"space-y-4",children:[v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-muted-foreground",children:"Company Number"}),v.jsx("p",{className:"font-semibold",children:g.companyNumber})]}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-muted-foreground",children:"Risk Level"}),v.jsx(Xn,{className:`${W(g.riskLevel)} text-white`,children:g.riskLevel.toUpperCase()})]}),v.jsxs("div",{className:"col-span-2",children:[v.jsx("p",{className:"text-sm text-muted-foreground",children:"Address"}),v.jsx("p",{children:g.address})]})]}),(g.riskLevel==="critical"||g.riskLevel==="high")&&v.jsxs(mt,{className:"w-full",onClick:()=>ue(g),children:[v.jsx(Ih,{className:"mr-2 h-4 w-4"}),"AI Mitigation Plan"]}),v.jsxs("div",{children:[v.jsx("h3",{className:"font-semibold mb-2",children:"Obligations"}),v.jsx("div",{className:"space-y-2",children:u.obligations.filter(F=>F.companyId===g.id).map(F=>v.jsxs("div",{className:"p-3 border rounded-lg text-sm",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("span",{className:"font-medium",children:F.title}),v.jsx(Xn,{className:`${Y(F.status)} text-white text-xs`,children:F.status})]}),v.jsxs("p",{className:"text-muted-foreground text-xs mt-1",children:["Due: ",U(F.dueDate)]})]},F.id))})]})]})]})}),y&&v.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:()=>E(null),children:v.jsxs(bt,{className:"max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:F=>F.stopPropagation(),children:[v.jsxs($t,{children:[v.jsxs(Ht,{className:"flex items-center justify-between",children:[v.jsx("span",{children:y.title}),v.jsx(mt,{variant:"ghost",size:"icon",onClick:()=>E(null),children:v.jsx("i",{className:"fas fa-times"})})]}),v.jsx($o,{children:y.companyName})]}),v.jsxs(wt,{className:"space-y-4",children:[v.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-muted rounded-lg",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),v.jsx(Xn,{className:`${Y(y.status)} text-white mt-1`,children:y.status.toUpperCase()})]}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-muted-foreground",children:"Due Date"}),v.jsx("p",{className:"font-semibold",children:U(y.dueDate)})]}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-muted-foreground",children:"Potential Penalty"}),v.jsxs("p",{className:`font-semibold ${y.penalty>0&&y.status!=="completed"?"text-red-600":"text-green-600"}`,children:["",y.penalty.toLocaleString()]})]}),v.jsxs("div",{children:[v.jsxs("p",{className:"text-sm text-muted-foreground",children:["Days ",y.status==="overdue"?"Overdue":"Until Due"]}),v.jsx("p",{className:"font-semibold",children:y.status==="overdue"?y.daysOverdue:se(y.dueDate)})]})]}),v.jsxs(mt,{className:"w-full",onClick:()=>D(y),children:[v.jsx(Ih,{className:"mr-2 h-4 w-4"}),"AI Compliance Checklist"]}),v.jsxs("div",{children:[v.jsx("h3",{className:"font-semibold mb-2",children:"Description"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:y.description})]}),v.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[v.jsx(mt,{variant:"outline",onClick:()=>E(null),className:"flex-1",children:"Close"}),y.status!=="completed"&&v.jsxs(mt,{onClick:()=>he(y.id),className:"flex-1 bg-green-600 hover:bg-green-700",children:[v.jsx(va,{className:"mr-2 h-4 w-4"}),"Mark Complete"]})]})]})]})}),S&&v.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:()=>N(!1),children:v.jsxs(bt,{className:"max-w-3xl w-full max-h-[90vh] overflow-y-auto",onClick:F=>F.stopPropagation(),children:[v.jsx($t,{children:v.jsxs(Ht,{className:"flex items-center justify-between",children:[v.jsxs("span",{className:"flex items-center gap-2",children:[v.jsx(Ih,{className:"h-5 w-5 text-purple-600"}),V.title]}),v.jsx(mt,{variant:"ghost",size:"icon",onClick:()=>N(!1),children:v.jsx("i",{className:"fas fa-times"})})]})}),v.jsx(wt,{children:V.loading?v.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[v.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mb-4"}),v.jsx("p",{className:"text-muted-foreground",children:"Analyzing compliance data..."})]}):v.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none",children:V.content.split(`
`).map((F,k)=>F.startsWith("###")?v.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:F.replace("###","").trim()},k):F.startsWith("**")?v.jsx("p",{className:"font-semibold my-2",children:F.replace(/\*\*/g,"")},k):F.startsWith("-")?v.jsx("li",{className:"ml-4",children:F.replace("-","").trim()},k):F.match(/^\d+\./)?v.jsx("p",{className:"my-1",children:F},k):F.trim()?v.jsx("p",{className:"my-2",children:F},k):null)})})]})}),v.jsx("footer",{className:"mt-16 mb-4",children:v.jsx("div",{className:"mx-4 rounded-3xl border border-cyan-400/30 bg-background/40 backdrop-blur-xl shadow-lg shadow-cyan-500/20 p-8",children:v.jsxs("div",{className:"container mx-auto",children:[v.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsxs("div",{className:"relative",children:[v.jsx(Ec,{className:"h-12 w-12 text-cyan-400"}),v.jsx("div",{className:"absolute inset-0 blur-lg bg-cyan-400/30"})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"FineGuard"}),v.jsx("p",{className:"text-xs text-muted-foreground",children:"by UltraTech AI"})]})]}),v.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-6 text-sm",children:[v.jsx("button",{onClick:()=>r("home"),className:"text-foreground/70 hover:text-cyan-400 transition-colors",children:"Home"}),v.jsx("button",{onClick:()=>r("about"),className:"text-foreground/70 hover:text-cyan-400 transition-colors",children:"About"}),v.jsx("button",{onClick:()=>r("pricing"),className:"text-foreground/70 hover:text-cyan-400 transition-colors",children:"Pricing"}),v.jsx("button",{onClick:()=>r("contact"),className:"text-foreground/70 hover:text-cyan-400 transition-colors",children:"Contact"})]}),v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("a",{href:"#",className:"text-foreground/70 hover:text-cyan-400 transition-colors",children:v.jsx(Xm,{className:"h-5 w-5"})}),v.jsx("a",{href:"#",className:"text-foreground/70 hover:text-cyan-400 transition-colors",children:v.jsx(Jm,{className:"h-5 w-5"})}),v.jsx("a",{href:"#",className:"text-foreground/70 hover:text-cyan-400 transition-colors",children:v.jsx(z0,{className:"h-5 w-5"})})]})]}),v.jsx("div",{className:"mt-6 pt-6 border-t border-cyan-400/20 text-center",children:v.jsx("p",{className:"text-sm text-muted-foreground",children:" 2024 UltraTech AI. All rights reserved."})})]})})})]})}M1.createRoot(document.getElementById("root")).render(v.jsx(De.StrictMode,{children:v.jsx(Wj,{})}));
