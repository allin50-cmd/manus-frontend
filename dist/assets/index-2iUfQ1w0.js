(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function t(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=t(o);fetch(o.href,c)}})();function TS(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function ES(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var e=i.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(i).forEach(function(r){var o=Object.getOwnPropertyDescriptor(i,r);Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:function(){return i[r]}})}),t}var Ag={exports:{}},Yc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var db;function AS(){if(db)return Yc;db=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:i,type:r,key:d,ref:o!==void 0?o:null,props:c}}return Yc.Fragment=e,Yc.jsx=t,Yc.jsxs=t,Yc}var hb;function kS(){return hb||(hb=1,Ag.exports=AS()),Ag.exports}var s=kS(),kg={exports:{}},$e={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mb;function CS(){if(mb)return $e;mb=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.iterator;function j(U){return U===null||typeof U!="object"?null:(U=b&&U[b]||U["@@iterator"],typeof U=="function"?U:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,R={};function S(U,ue,ye){this.props=U,this.context=ue,this.refs=R,this.updater=ye||A}S.prototype.isReactComponent={},S.prototype.setState=function(U,ue){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,ue,"setState")},S.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function q(){}q.prototype=S.prototype;function D(U,ue,ye){this.props=U,this.context=ue,this.refs=R,this.updater=ye||A}var J=D.prototype=new q;J.constructor=D,T(J,S.prototype),J.isPureReactComponent=!0;var de=Array.isArray,pe={H:null,A:null,T:null,S:null,V:null},he=Object.prototype.hasOwnProperty;function I(U,ue,ye,L,fe,Ee){return ye=Ee.ref,{$$typeof:i,type:U,key:ue,ref:ye!==void 0?ye:null,props:Ee}}function k(U,ue){return I(U.type,ue,void 0,void 0,void 0,U.props)}function C(U){return typeof U=="object"&&U!==null&&U.$$typeof===i}function V(U){var ue={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ye){return ue[ye]})}var M=/\/+/g;function z(U,ue){return typeof U=="object"&&U!==null&&U.key!=null?V(""+U.key):ue.toString(36)}function O(){}function et(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(O,O):(U.status="pending",U.then(function(ue){U.status==="pending"&&(U.status="fulfilled",U.value=ue)},function(ue){U.status==="pending"&&(U.status="rejected",U.reason=ue)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function Be(U,ue,ye,L,fe){var Ee=typeof U;(Ee==="undefined"||Ee==="boolean")&&(U=null);var Ne=!1;if(U===null)Ne=!0;else switch(Ee){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(U.$$typeof){case i:case e:Ne=!0;break;case y:return Ne=U._init,Be(Ne(U._payload),ue,ye,L,fe)}}if(Ne)return fe=fe(U),Ne=L===""?"."+z(U,0):L,de(fe)?(ye="",Ne!=null&&(ye=Ne.replace(M,"$&/")+"/"),Be(fe,ue,ye,"",function(hs){return hs})):fe!=null&&(C(fe)&&(fe=k(fe,ye+(fe.key==null||U&&U.key===fe.key?"":(""+fe.key).replace(M,"$&/")+"/")+Ne)),ue.push(fe)),1;Ne=0;var Ke=L===""?".":L+":";if(de(U))for(var rt=0;rt<U.length;rt++)L=U[rt],Ee=Ke+z(L,rt),Ne+=Be(L,ue,ye,Ee,fe);else if(rt=j(U),typeof rt=="function")for(U=rt.call(U),rt=0;!(L=U.next()).done;)L=L.value,Ee=Ke+z(L,rt++),Ne+=Be(L,ue,ye,Ee,fe);else if(Ee==="object"){if(typeof U.then=="function")return Be(et(U),ue,ye,L,fe);throw ue=String(U),Error("Objects are not valid as a React child (found: "+(ue==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":ue)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function B(U,ue,ye){if(U==null)return U;var L=[],fe=0;return Be(U,L,"","",function(Ee){return ue.call(ye,Ee,fe++)}),L}function me(U){if(U._status===-1){var ue=U._result;ue=ue(),ue.then(function(ye){(U._status===0||U._status===-1)&&(U._status=1,U._result=ye)},function(ye){(U._status===0||U._status===-1)&&(U._status=2,U._result=ye)}),U._status===-1&&(U._status=0,U._result=ue)}if(U._status===1)return U._result.default;throw U._result}var le=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ue=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(ue))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function qe(){}return $e.Children={map:B,forEach:function(U,ue,ye){B(U,function(){ue.apply(this,arguments)},ye)},count:function(U){var ue=0;return B(U,function(){ue++}),ue},toArray:function(U){return B(U,function(ue){return ue})||[]},only:function(U){if(!C(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},$e.Component=S,$e.Fragment=t,$e.Profiler=o,$e.PureComponent=D,$e.StrictMode=r,$e.Suspense=g,$e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=pe,$e.__COMPILER_RUNTIME={__proto__:null,c:function(U){return pe.H.useMemoCache(U)}},$e.cache=function(U){return function(){return U.apply(null,arguments)}},$e.cloneElement=function(U,ue,ye){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var L=T({},U.props),fe=U.key,Ee=void 0;if(ue!=null)for(Ne in ue.ref!==void 0&&(Ee=void 0),ue.key!==void 0&&(fe=""+ue.key),ue)!he.call(ue,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&ue.ref===void 0||(L[Ne]=ue[Ne]);var Ne=arguments.length-2;if(Ne===1)L.children=ye;else if(1<Ne){for(var Ke=Array(Ne),rt=0;rt<Ne;rt++)Ke[rt]=arguments[rt+2];L.children=Ke}return I(U.type,fe,void 0,void 0,Ee,L)},$e.createContext=function(U){return U={$$typeof:d,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:c,_context:U},U},$e.createElement=function(U,ue,ye){var L,fe={},Ee=null;if(ue!=null)for(L in ue.key!==void 0&&(Ee=""+ue.key),ue)he.call(ue,L)&&L!=="key"&&L!=="__self"&&L!=="__source"&&(fe[L]=ue[L]);var Ne=arguments.length-2;if(Ne===1)fe.children=ye;else if(1<Ne){for(var Ke=Array(Ne),rt=0;rt<Ne;rt++)Ke[rt]=arguments[rt+2];fe.children=Ke}if(U&&U.defaultProps)for(L in Ne=U.defaultProps,Ne)fe[L]===void 0&&(fe[L]=Ne[L]);return I(U,Ee,void 0,void 0,null,fe)},$e.createRef=function(){return{current:null}},$e.forwardRef=function(U){return{$$typeof:m,render:U}},$e.isValidElement=C,$e.lazy=function(U){return{$$typeof:y,_payload:{_status:-1,_result:U},_init:me}},$e.memo=function(U,ue){return{$$typeof:p,type:U,compare:ue===void 0?null:ue}},$e.startTransition=function(U){var ue=pe.T,ye={};pe.T=ye;try{var L=U(),fe=pe.S;fe!==null&&fe(ye,L),typeof L=="object"&&L!==null&&typeof L.then=="function"&&L.then(qe,le)}catch(Ee){le(Ee)}finally{pe.T=ue}},$e.unstable_useCacheRefresh=function(){return pe.H.useCacheRefresh()},$e.use=function(U){return pe.H.use(U)},$e.useActionState=function(U,ue,ye){return pe.H.useActionState(U,ue,ye)},$e.useCallback=function(U,ue){return pe.H.useCallback(U,ue)},$e.useContext=function(U){return pe.H.useContext(U)},$e.useDebugValue=function(){},$e.useDeferredValue=function(U,ue){return pe.H.useDeferredValue(U,ue)},$e.useEffect=function(U,ue,ye){var L=pe.H;if(typeof ye=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return L.useEffect(U,ue)},$e.useId=function(){return pe.H.useId()},$e.useImperativeHandle=function(U,ue,ye){return pe.H.useImperativeHandle(U,ue,ye)},$e.useInsertionEffect=function(U,ue){return pe.H.useInsertionEffect(U,ue)},$e.useLayoutEffect=function(U,ue){return pe.H.useLayoutEffect(U,ue)},$e.useMemo=function(U,ue){return pe.H.useMemo(U,ue)},$e.useOptimistic=function(U,ue){return pe.H.useOptimistic(U,ue)},$e.useReducer=function(U,ue,ye){return pe.H.useReducer(U,ue,ye)},$e.useRef=function(U){return pe.H.useRef(U)},$e.useState=function(U){return pe.H.useState(U)},$e.useSyncExternalStore=function(U,ue,ye){return pe.H.useSyncExternalStore(U,ue,ye)},$e.useTransition=function(){return pe.H.useTransition()},$e.version="19.1.0",$e}var fb;function Xp(){return fb||(fb=1,kg.exports=CS()),kg.exports}var te=Xp(),Cg={exports:{}},Xc={},Rg={exports:{}},Ig={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gb;function RS(){return gb||(gb=1,function(i){function e(B,me){var le=B.length;B.push(me);e:for(;0<le;){var qe=le-1>>>1,U=B[qe];if(0<o(U,me))B[qe]=me,B[le]=U,le=qe;else break e}}function t(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var me=B[0],le=B.pop();if(le!==me){B[0]=le;e:for(var qe=0,U=B.length,ue=U>>>1;qe<ue;){var ye=2*(qe+1)-1,L=B[ye],fe=ye+1,Ee=B[fe];if(0>o(L,le))fe<U&&0>o(Ee,L)?(B[qe]=Ee,B[fe]=le,qe=fe):(B[qe]=L,B[ye]=le,qe=ye);else if(fe<U&&0>o(Ee,le))B[qe]=Ee,B[fe]=le,qe=fe;else break e}}return me}function o(B,me){var le=B.sortIndex-me.sortIndex;return le!==0?le:B.id-me.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var d=Date,m=d.now();i.unstable_now=function(){return d.now()-m}}var g=[],p=[],y=1,b=null,j=3,A=!1,T=!1,R=!1,S=!1,q=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function de(B){for(var me=t(p);me!==null;){if(me.callback===null)r(p);else if(me.startTime<=B)r(p),me.sortIndex=me.expirationTime,e(g,me);else break;me=t(p)}}function pe(B){if(R=!1,de(B),!T)if(t(g)!==null)T=!0,he||(he=!0,z());else{var me=t(p);me!==null&&Be(pe,me.startTime-B)}}var he=!1,I=-1,k=5,C=-1;function V(){return S?!0:!(i.unstable_now()-C<k)}function M(){if(S=!1,he){var B=i.unstable_now();C=B;var me=!0;try{e:{T=!1,R&&(R=!1,D(I),I=-1),A=!0;var le=j;try{t:{for(de(B),b=t(g);b!==null&&!(b.expirationTime>B&&V());){var qe=b.callback;if(typeof qe=="function"){b.callback=null,j=b.priorityLevel;var U=qe(b.expirationTime<=B);if(B=i.unstable_now(),typeof U=="function"){b.callback=U,de(B),me=!0;break t}b===t(g)&&r(g),de(B)}else r(g);b=t(g)}if(b!==null)me=!0;else{var ue=t(p);ue!==null&&Be(pe,ue.startTime-B),me=!1}}break e}finally{b=null,j=le,A=!1}me=void 0}}finally{me?z():he=!1}}}var z;if(typeof J=="function")z=function(){J(M)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,et=O.port2;O.port1.onmessage=M,z=function(){et.postMessage(null)}}else z=function(){q(M,0)};function Be(B,me){I=q(function(){B(i.unstable_now())},me)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(B){B.callback=null},i.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<B?Math.floor(1e3/B):5},i.unstable_getCurrentPriorityLevel=function(){return j},i.unstable_next=function(B){switch(j){case 1:case 2:case 3:var me=3;break;default:me=j}var le=j;j=me;try{return B()}finally{j=le}},i.unstable_requestPaint=function(){S=!0},i.unstable_runWithPriority=function(B,me){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var le=j;j=B;try{return me()}finally{j=le}},i.unstable_scheduleCallback=function(B,me,le){var qe=i.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?qe+le:qe):le=qe,B){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=le+U,B={id:y++,callback:me,priorityLevel:B,startTime:le,expirationTime:U,sortIndex:-1},le>qe?(B.sortIndex=le,e(p,B),t(g)===null&&B===t(p)&&(R?(D(I),I=-1):R=!0,Be(pe,le-qe))):(B.sortIndex=U,e(g,B),T||A||(T=!0,he||(he=!0,z()))),B},i.unstable_shouldYield=V,i.unstable_wrapCallback=function(B){var me=j;return function(){var le=j;j=me;try{return B.apply(this,arguments)}finally{j=le}}}}(Ig)),Ig}var pb;function IS(){return pb||(pb=1,Rg.exports=RS()),Rg.exports}var Og={exports:{}},ps={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xb;function OS(){if(xb)return ps;xb=1;var i=Xp();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,p,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:g,containerInfo:p,implementation:y}}var d=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return ps.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ps.createPortal=function(g,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return c(g,p,null,y)},ps.flushSync=function(g){var p=d.T,y=r.p;try{if(d.T=null,r.p=2,g)return g()}finally{d.T=p,r.p=y,r.d.f()}},ps.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(g,p))},ps.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},ps.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var y=p.as,b=m(y,p.crossOrigin),j=typeof p.integrity=="string"?p.integrity:void 0,A=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?r.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:j,fetchPriority:A}):y==="script"&&r.d.X(g,{crossOrigin:b,integrity:j,fetchPriority:A,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},ps.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=m(p.as,p.crossOrigin);r.d.M(g,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(g)},ps.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,b=m(y,p.crossOrigin);r.d.L(g,y,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},ps.preloadModule=function(g,p){if(typeof g=="string")if(p){var y=m(p.as,p.crossOrigin);r.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(g)},ps.requestFormReset=function(g){r.d.r(g)},ps.unstable_batchedUpdates=function(g,p){return g(p)},ps.useFormState=function(g,p,y){return d.H.useFormState(g,p,y)},ps.useFormStatus=function(){return d.H.useHostTransitionStatus()},ps.version="19.1.0",ps}var yb;function PS(){if(yb)return Og.exports;yb=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Og.exports=OS(),Og.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vb;function DS(){if(vb)return Xc;vb=1;var i=IS(),e=Xp(),t=PS();function r(n){var a="https://react.dev/errors/"+n;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+n+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function c(n){var a=n,l=n;if(n.alternate)for(;a.return;)a=a.return;else{n=a;do a=n,(a.flags&4098)!==0&&(l=a.return),n=a.return;while(n)}return a.tag===3?l:null}function d(n){if(n.tag===13){var a=n.memoizedState;if(a===null&&(n=n.alternate,n!==null&&(a=n.memoizedState)),a!==null)return a.dehydrated}return null}function m(n){if(c(n)!==n)throw Error(r(188))}function g(n){var a=n.alternate;if(!a){if(a=c(n),a===null)throw Error(r(188));return a!==n?null:n}for(var l=n,u=a;;){var f=l.return;if(f===null)break;var x=f.alternate;if(x===null){if(u=f.return,u!==null){l=u;continue}break}if(f.child===x.child){for(x=f.child;x;){if(x===l)return m(f),n;if(x===u)return m(f),a;x=x.sibling}throw Error(r(188))}if(l.return!==u.return)l=f,u=x;else{for(var _=!1,N=f.child;N;){if(N===l){_=!0,l=f,u=x;break}if(N===u){_=!0,u=f,l=x;break}N=N.sibling}if(!_){for(N=x.child;N;){if(N===l){_=!0,l=x,u=f;break}if(N===u){_=!0,u=x,l=f;break}N=N.sibling}if(!_)throw Error(r(189))}}if(l.alternate!==u)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?n:a}function p(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n;for(n=n.child;n!==null;){if(a=p(n),a!==null)return a;n=n.sibling}return null}var y=Object.assign,b=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),D=Symbol.for("react.consumer"),J=Symbol.for("react.context"),de=Symbol.for("react.forward_ref"),pe=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function z(n){return n===null||typeof n!="object"?null:(n=M&&n[M]||n["@@iterator"],typeof n=="function"?n:null)}var O=Symbol.for("react.client.reference");function et(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===O?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case T:return"Fragment";case S:return"Profiler";case R:return"StrictMode";case pe:return"Suspense";case he:return"SuspenseList";case C:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case A:return"Portal";case J:return(n.displayName||"Context")+".Provider";case D:return(n._context.displayName||"Context")+".Consumer";case de:var a=n.render;return n=n.displayName,n||(n=a.displayName||a.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case I:return a=n.displayName||null,a!==null?a:et(n.type)||"Memo";case k:a=n._payload,n=n._init;try{return et(n(a))}catch{}}return null}var Be=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},qe=[],U=-1;function ue(n){return{current:n}}function ye(n){0>U||(n.current=qe[U],qe[U]=null,U--)}function L(n,a){U++,qe[U]=n.current,n.current=a}var fe=ue(null),Ee=ue(null),Ne=ue(null),Ke=ue(null);function rt(n,a){switch(L(Ne,a),L(Ee,n),L(fe,null),a.nodeType){case 9:case 11:n=(n=a.documentElement)&&(n=n.namespaceURI)?Uv(n):0;break;default:if(n=a.tagName,a=a.namespaceURI)a=Uv(a),n=zv(a,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ye(fe),L(fe,n)}function hs(){ye(fe),ye(Ee),ye(Ne)}function Cn(n){n.memoizedState!==null&&L(Ke,n);var a=fe.current,l=zv(a,n.type);a!==l&&(L(Ee,n),L(fe,l))}function Rn(n){Ee.current===n&&(ye(fe),ye(Ee)),Ke.current===n&&(ye(Ke),Hc._currentValue=le)}var un=Object.prototype.hasOwnProperty,ea=i.unstable_scheduleCallback,co=i.unstable_cancelCallback,Am=i.unstable_shouldYield,Hl=i.unstable_requestPaint,Cs=i.unstable_now,qu=i.unstable_getCurrentPriorityLevel,qt=i.unstable_ImmediatePriority,Yt=i.unstable_UserBlockingPriority,nr=i.unstable_NormalPriority,km=i.unstable_LowPriority,Gl=i.unstable_IdlePriority,Cm=i.log,ta=i.unstable_setDisableYieldValue,Mr=null,ms=null;function Ys(n){if(typeof Cm=="function"&&ta(n),ms&&typeof ms.setStrictMode=="function")try{ms.setStrictMode(Mr,n)}catch{}}var js=Math.clz32?Math.clz32:Hu,Rm=Math.log,Fu=Math.LN2;function Hu(n){return n>>>=0,n===0?32:31-(Rm(n)/Fu|0)|0}var In=256,Vr=4194304;function dn(n){var a=n&42;if(a!==0)return a;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Xs(n,a,l){var u=n.pendingLanes;if(u===0)return 0;var f=0,x=n.suspendedLanes,_=n.pingedLanes;n=n.warmLanes;var N=u&134217727;return N!==0?(u=N&~x,u!==0?f=dn(u):(_&=N,_!==0?f=dn(_):l||(l=N&~n,l!==0&&(f=dn(l))))):(N=u&~x,N!==0?f=dn(N):_!==0?f=dn(_):l||(l=u&~n,l!==0&&(f=dn(l)))),f===0?0:a!==0&&a!==f&&(a&x)===0&&(x=f&-f,l=a&-a,x>=l||x===32&&(l&4194048)!==0)?a:f}function Lr(n,a){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&a)===0}function uo(n,a){switch(n){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kl(){var n=In;return In<<=1,(In&4194048)===0&&(In=256),n}function Ur(){var n=Vr;return Vr<<=1,(Vr&62914560)===0&&(Vr=4194304),n}function ho(n){for(var a=[],l=0;31>l;l++)a.push(n);return a}function At(n,a){n.pendingLanes|=a,a!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Gu(n,a,l,u,f,x){var _=n.pendingLanes;n.pendingLanes=l,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=l,n.entangledLanes&=l,n.errorRecoveryDisabledLanes&=l,n.shellSuspendCounter=0;var N=n.entanglements,P=n.expirationTimes,Y=n.hiddenUpdates;for(l=_&~l;0<l;){var se=31-js(l),ae=1<<se;N[se]=0,P[se]=-1;var X=Y[se];if(X!==null)for(Y[se]=null,se=0;se<X.length;se++){var Z=X[se];Z!==null&&(Z.lane&=-536870913)}l&=~ae}u!==0&&zr(n,u,0),x!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=x&~(_&~a))}function zr(n,a,l){n.pendingLanes|=a,n.suspendedLanes&=~a;var u=31-js(a);n.entangledLanes|=a,n.entanglements[u]=n.entanglements[u]|1073741824|l&4194090}function Br(n,a){var l=n.entangledLanes|=a;for(n=n.entanglements;l;){var u=31-js(l),f=1<<u;f&a|n[u]&a&&(n[u]|=a),l&=~f}}function Ql(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Wl(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function rr(){var n=me.p;return n!==0?n:(n=window.event,n===void 0?32:ib(n.type))}function Im(n,a){var l=me.p;try{return me.p=n,a()}finally{me.p=l}}var On=Math.random().toString(36).slice(2),kt="__reactFiber$"+On,rs="__reactProps$"+On,ir="__reactContainer$"+On,sa="__reactEvents$"+On,na="__reactListeners$"+On,Om="__reactHandles$"+On,hn="__reactResources$"+On,$r="__reactMarker$"+On;function mo(n){delete n[kt],delete n[rs],delete n[sa],delete n[na],delete n[Om]}function Pn(n){var a=n[kt];if(a)return a;for(var l=n.parentNode;l;){if(a=l[ir]||l[kt]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(n=Fv(n);n!==null;){if(l=n[kt])return l;n=Fv(n)}return a}n=l,l=n.parentNode}return null}function Dn(n){if(n=n[kt]||n[ir]){var a=n.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return n}return null}function qr(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n.stateNode;throw Error(r(33))}function Fr(n){var a=n[hn];return a||(a=n[hn]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ct(n){n[$r]=!0}var Ku=new Set,ra={};function Mn(n,a){Vn(n,a),Vn(n+"Capture",a)}function Vn(n,a){for(ra[n]=a,n=0;n<a.length;n++)Ku.add(a[n])}var ia=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ln={},fo={};function Pm(n){return un.call(fo,n)?!0:un.call(Ln,n)?!1:ia.test(n)?fo[n]=!0:(Ln[n]=!0,!1)}function aa(n,a,l){if(Pm(a))if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":n.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(a);return}}n.setAttribute(a,""+l)}}function oa(n,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttribute(a,""+l)}}function Js(n,a,l,u){if(u===null)n.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(l);return}n.setAttributeNS(a,l,""+u)}}var la,go;function ar(n){if(la===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);la=a&&a[1]||"",go=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+la+n+go}var po=!1;function xo(n,a){if(!n||po)return"";po=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(Z){var X=Z}Reflect.construct(n,[],ae)}else{try{ae.call()}catch(Z){X=Z}n.call(ae.prototype)}}else{try{throw Error()}catch(Z){X=Z}(ae=n())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(Z){if(Z&&X&&typeof Z.stack=="string")return[Z.stack,X.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=u.DetermineComponentFrameRoot(),_=x[0],N=x[1];if(_&&N){var P=_.split(`
`),Y=N.split(`
`);for(f=u=0;u<P.length&&!P[u].includes("DetermineComponentFrameRoot");)u++;for(;f<Y.length&&!Y[f].includes("DetermineComponentFrameRoot");)f++;if(u===P.length||f===Y.length)for(u=P.length-1,f=Y.length-1;1<=u&&0<=f&&P[u]!==Y[f];)f--;for(;1<=u&&0<=f;u--,f--)if(P[u]!==Y[f]){if(u!==1||f!==1)do if(u--,f--,0>f||P[u]!==Y[f]){var se=`
`+P[u].replace(" at new "," at ");return n.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",n.displayName)),se}while(1<=u&&0<=f);break}}}finally{po=!1,Error.prepareStackTrace=l}return(l=n?n.displayName||n.name:"")?ar(l):""}function Dm(n){switch(n.tag){case 26:case 27:case 5:return ar(n.type);case 16:return ar("Lazy");case 13:return ar("Suspense");case 19:return ar("SuspenseList");case 0:case 15:return xo(n.type,!1);case 11:return xo(n.type.render,!1);case 1:return xo(n.type,!0);case 31:return ar("Activity");default:return""}}function mn(n){try{var a="";do a+=Dm(n),n=n.return;while(n);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function jt(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Hr(n){var a=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function ca(n){var a=Hr(n)?"checked":"value",l=Object.getOwnPropertyDescriptor(n.constructor.prototype,a),u=""+n[a];if(!n.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,x=l.set;return Object.defineProperty(n,a,{configurable:!0,get:function(){return f.call(this)},set:function(_){u=""+_,x.call(this,_)}}),Object.defineProperty(n,a,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(_){u=""+_},stopTracking:function(){n._valueTracker=null,delete n[a]}}}}function Gr(n){n._valueTracker||(n._valueTracker=ca(n))}function ut(n){if(!n)return!1;var a=n._valueTracker;if(!a)return!0;var l=a.getValue(),u="";return n&&(u=Hr(n)?n.checked?"true":"false":n.value),n=u,n!==l?(a.setValue(n),!0):!1}function or(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var ua=/[\n"\\]/g;function Xt(n){return n.replace(ua,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Yl(n,a,l,u,f,x,_,N){n.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.type=_:n.removeAttribute("type"),a!=null?_==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+jt(a)):n.value!==""+jt(a)&&(n.value=""+jt(a)):_!=="submit"&&_!=="reset"||n.removeAttribute("value"),a!=null?Jl(n,_,jt(a)):l!=null?Jl(n,_,jt(l)):u!=null&&n.removeAttribute("value"),f==null&&x!=null&&(n.defaultChecked=!!x),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?n.name=""+jt(N):n.removeAttribute("name")}function Xl(n,a,l,u,f,x,_,N){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(n.type=x),a!=null||l!=null){if(!(x!=="submit"&&x!=="reset"||a!=null))return;l=l!=null?""+jt(l):"",a=a!=null?""+jt(a):l,N||a===n.value||(n.value=a),n.defaultValue=a}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=N?n.checked:!!u,n.defaultChecked=!!u,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.name=_)}function Jl(n,a,l){a==="number"&&or(n.ownerDocument)===n||n.defaultValue===""+l||(n.defaultValue=""+l)}function Kr(n,a,l,u){if(n=n.options,a){a={};for(var f=0;f<l.length;f++)a["$"+l[f]]=!0;for(l=0;l<n.length;l++)f=a.hasOwnProperty("$"+n[l].value),n[l].selected!==f&&(n[l].selected=f),f&&u&&(n[l].defaultSelected=!0)}else{for(l=""+jt(l),a=null,f=0;f<n.length;f++){if(n[f].value===l){n[f].selected=!0,u&&(n[f].defaultSelected=!0);return}a!==null||n[f].disabled||(a=n[f])}a!==null&&(a.selected=!0)}}function Qu(n,a,l){if(a!=null&&(a=""+jt(a),a!==n.value&&(n.value=a),l==null)){n.defaultValue!==a&&(n.defaultValue=a);return}n.defaultValue=l!=null?""+jt(l):""}function Wu(n,a,l,u){if(a==null){if(u!=null){if(l!=null)throw Error(r(92));if(Be(u)){if(1<u.length)throw Error(r(93));u=u[0]}l=u}l==null&&(l=""),a=l}l=jt(a),n.defaultValue=l,u=n.textContent,u===l&&u!==""&&u!==null&&(n.value=u)}function Zs(n,a){if(a){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=a;return}}n.textContent=a}var lr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zl(n,a,l){var u=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?n.setProperty(a,""):a==="float"?n.cssFloat="":n[a]="":u?n.setProperty(a,l):typeof l!="number"||l===0||lr.has(a)?a==="float"?n.cssFloat=l:n[a]=(""+l).trim():n[a]=l+"px"}function ec(n,a,l){if(a!=null&&typeof a!="object")throw Error(r(62));if(n=n.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var f in a)u=a[f],a.hasOwnProperty(f)&&l[f]!==u&&Zl(n,f,u)}else for(var x in a)a.hasOwnProperty(x)&&Zl(n,x,a[x])}function yo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fn(n){return Xu.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var tc=null;function sc(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Qr=null,Ns=null;function Ju(n){var a=Dn(n);if(a&&(n=a.stateNode)){var l=n[rs]||null;e:switch(n=a.stateNode,a.type){case"input":if(Yl(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Xt(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var u=l[a];if(u!==n&&u.form===n.form){var f=u[rs]||null;if(!f)throw Error(r(90));Yl(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(a=0;a<l.length;a++)u=l[a],u.form===n.form&&ut(u)}break e;case"textarea":Qu(n,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&Kr(n,!!l.multiple,a,!1)}}}var da=!1;function ha(n,a,l){if(da)return n(a,l);da=!0;try{var u=n(a);return u}finally{if(da=!1,(Qr!==null||Ns!==null)&&(Bd(),Qr&&(a=Qr,n=Ns,Ns=Qr=null,Ju(a),n)))for(a=0;a<n.length;a++)Ju(n[a])}}function Wr(n,a){var l=n.stateNode;if(l===null)return null;var u=l[rs]||null;if(u===null)return null;l=u[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(r(231,a,typeof l));return l}var Ss=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cr=!1;if(Ss)try{var Yr={};Object.defineProperty(Yr,"passive",{get:function(){cr=!0}}),window.addEventListener("test",Yr,Yr),window.removeEventListener("test",Yr,Yr)}catch{cr=!1}var en=null,pt=null,vo=null;function Zu(){if(vo)return vo;var n,a=pt,l=a.length,u,f="value"in en?en.value:en.textContent,x=f.length;for(n=0;n<l&&a[n]===f[n];n++);var _=l-n;for(u=1;u<=_&&a[l-u]===f[x-u];u++);return vo=f.slice(n,1<u?1-u:void 0)}function ma(n){var a=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&a===13&&(n=13)):n=a,n===10&&(n=13),32<=n||n===13?n:0}function fa(){return!0}function nc(){return!1}function Ft(n){function a(l,u,f,x,_){this._reactName=l,this._targetInst=f,this.type=u,this.nativeEvent=x,this.target=_,this.currentTarget=null;for(var N in n)n.hasOwnProperty(N)&&(l=n[N],this[N]=l?l(x):x[N]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?fa:nc,this.isPropagationStopped=nc,this}return y(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=fa)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=fa)},persist:function(){},isPersistent:fa}),a}var fs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ga=Ft(fs),pa=y({},fs,{view:0,detail:0}),xa=Ft(pa),bo,ya,Un,va=y({},pa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jo,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Un&&(Un&&n.type==="mousemove"?(bo=n.screenX-Un.screenX,ya=n.screenY-Un.screenY):ya=bo=0,Un=n),bo)},movementY:function(n){return"movementY"in n?n.movementY:ya}}),ba=Ft(va),Mm=y({},va,{dataTransfer:0}),ed=Ft(Mm),wa=y({},pa,{relatedTarget:0}),wo=Ft(wa),td=y({},fs,{animationName:0,elapsedTime:0,pseudoElement:0}),rc=Ft(td),ic=y({},fs,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),sd=Ft(ic),_o=y({},fs,{data:0}),ac=Ft(_o),nd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ur={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function id(n){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(n):(n=rd[n])?!!a[n]:!1}function jo(){return id}var ad=y({},pa,{key:function(n){if(n.key){var a=nd[n.key]||n.key;if(a!=="Unidentified")return a}return n.type==="keypress"?(n=ma(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?ur[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jo,charCode:function(n){return n.type==="keypress"?ma(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ma(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),No=Ft(ad),Ts=y({},va,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oc=Ft(Ts),od=y({},pa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jo}),Xr=Ft(od),h=y({},fs,{propertyName:0,elapsedTime:0,pseudoElement:0}),v=Ft(h),w=y({},va,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),E=Ft(w),W=y({},fs,{newState:0,oldState:0}),ee=Ft(W),xe=[9,13,27,32],Ve=Ss&&"CompositionEvent"in window,bt=null;Ss&&"documentMode"in document&&(bt=document.documentMode);var ot=Ss&&"TextEvent"in window&&!bt,Rt=Ss&&(!Ve||bt&&8<bt&&11>=bt),Ls=" ",zn=!1;function gn(n,a){switch(n){case"keyup":return xe.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pn(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var xn=!1;function lc(n,a){switch(n){case"compositionend":return pn(a);case"keypress":return a.which!==32?null:(zn=!0,Ls);case"textInput":return n=a.data,n===Ls&&zn?null:n;default:return null}}function ZN(n,a){if(xn)return n==="compositionend"||!Ve&&gn(n,a)?(n=Zu(),vo=pt=en=null,xn=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Rt&&a.locale!=="ko"?null:a.data;default:return null}}var e2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Z0(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a==="input"?!!e2[n.type]:a==="textarea"}function ex(n,a,l,u){Qr?Ns?Ns.push(u):Ns=[u]:Qr=u,a=Kd(a,"onChange"),0<a.length&&(l=new ga("onChange","change",null,l,u),n.push({event:l,listeners:a}))}var cc=null,uc=null;function t2(n){Pv(n,0)}function ld(n){var a=qr(n);if(ut(a))return n}function tx(n,a){if(n==="change")return a}var sx=!1;if(Ss){var Vm;if(Ss){var Lm="oninput"in document;if(!Lm){var nx=document.createElement("div");nx.setAttribute("oninput","return;"),Lm=typeof nx.oninput=="function"}Vm=Lm}else Vm=!1;sx=Vm&&(!document.documentMode||9<document.documentMode)}function rx(){cc&&(cc.detachEvent("onpropertychange",ix),uc=cc=null)}function ix(n){if(n.propertyName==="value"&&ld(uc)){var a=[];ex(a,uc,n,sc(n)),ha(t2,a)}}function s2(n,a,l){n==="focusin"?(rx(),cc=a,uc=l,cc.attachEvent("onpropertychange",ix)):n==="focusout"&&rx()}function n2(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ld(uc)}function r2(n,a){if(n==="click")return ld(a)}function i2(n,a){if(n==="input"||n==="change")return ld(a)}function a2(n,a){return n===a&&(n!==0||1/n===1/a)||n!==n&&a!==a}var Us=typeof Object.is=="function"?Object.is:a2;function dc(n,a){if(Us(n,a))return!0;if(typeof n!="object"||n===null||typeof a!="object"||a===null)return!1;var l=Object.keys(n),u=Object.keys(a);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var f=l[u];if(!un.call(a,f)||!Us(n[f],a[f]))return!1}return!0}function ax(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function ox(n,a){var l=ax(n);n=0;for(var u;l;){if(l.nodeType===3){if(u=n+l.textContent.length,n<=a&&u>=a)return{node:l,offset:a-n};n=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=ax(l)}}function lx(n,a){return n&&a?n===a?!0:n&&n.nodeType===3?!1:a&&a.nodeType===3?lx(n,a.parentNode):"contains"in n?n.contains(a):n.compareDocumentPosition?!!(n.compareDocumentPosition(a)&16):!1:!1}function cx(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var a=or(n.document);a instanceof n.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)n=a.contentWindow;else break;a=or(n.document)}return a}function Um(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a&&(a==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||a==="textarea"||n.contentEditable==="true")}var o2=Ss&&"documentMode"in document&&11>=document.documentMode,So=null,zm=null,hc=null,Bm=!1;function ux(n,a,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Bm||So==null||So!==or(u)||(u=So,"selectionStart"in u&&Um(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),hc&&dc(hc,u)||(hc=u,u=Kd(zm,"onSelect"),0<u.length&&(a=new ga("onSelect","select",null,a,l),n.push({event:a,listeners:u}),a.target=So)))}function _a(n,a){var l={};return l[n.toLowerCase()]=a.toLowerCase(),l["Webkit"+n]="webkit"+a,l["Moz"+n]="moz"+a,l}var To={animationend:_a("Animation","AnimationEnd"),animationiteration:_a("Animation","AnimationIteration"),animationstart:_a("Animation","AnimationStart"),transitionrun:_a("Transition","TransitionRun"),transitionstart:_a("Transition","TransitionStart"),transitioncancel:_a("Transition","TransitionCancel"),transitionend:_a("Transition","TransitionEnd")},$m={},dx={};Ss&&(dx=document.createElement("div").style,"AnimationEvent"in window||(delete To.animationend.animation,delete To.animationiteration.animation,delete To.animationstart.animation),"TransitionEvent"in window||delete To.transitionend.transition);function ja(n){if($m[n])return $m[n];if(!To[n])return n;var a=To[n],l;for(l in a)if(a.hasOwnProperty(l)&&l in dx)return $m[n]=a[l];return n}var hx=ja("animationend"),mx=ja("animationiteration"),fx=ja("animationstart"),l2=ja("transitionrun"),c2=ja("transitionstart"),u2=ja("transitioncancel"),gx=ja("transitionend"),px=new Map,qm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qm.push("scrollEnd");function yn(n,a){px.set(n,a),Mn(a,[n])}var xx=new WeakMap;function tn(n,a){if(typeof n=="object"&&n!==null){var l=xx.get(n);return l!==void 0?l:(a={value:n,source:a,stack:mn(a)},xx.set(n,a),a)}return{value:n,source:a,stack:mn(a)}}var sn=[],Eo=0,Fm=0;function cd(){for(var n=Eo,a=Fm=Eo=0;a<n;){var l=sn[a];sn[a++]=null;var u=sn[a];sn[a++]=null;var f=sn[a];sn[a++]=null;var x=sn[a];if(sn[a++]=null,u!==null&&f!==null){var _=u.pending;_===null?f.next=f:(f.next=_.next,_.next=f),u.pending=f}x!==0&&yx(l,f,x)}}function ud(n,a,l,u){sn[Eo++]=n,sn[Eo++]=a,sn[Eo++]=l,sn[Eo++]=u,Fm|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Hm(n,a,l,u){return ud(n,a,l,u),dd(n)}function Ao(n,a){return ud(n,null,null,a),dd(n)}function yx(n,a,l){n.lanes|=l;var u=n.alternate;u!==null&&(u.lanes|=l);for(var f=!1,x=n.return;x!==null;)x.childLanes|=l,u=x.alternate,u!==null&&(u.childLanes|=l),x.tag===22&&(n=x.stateNode,n===null||n._visibility&1||(f=!0)),n=x,x=x.return;return n.tag===3?(x=n.stateNode,f&&a!==null&&(f=31-js(l),n=x.hiddenUpdates,u=n[f],u===null?n[f]=[a]:u.push(a),a.lane=l|536870912),x):null}function dd(n){if(50<Vc)throw Vc=0,Jf=null,Error(r(185));for(var a=n.return;a!==null;)n=a,a=n.return;return n.tag===3?n.stateNode:null}var ko={};function d2(n,a,l,u){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zs(n,a,l,u){return new d2(n,a,l,u)}function Gm(n){return n=n.prototype,!(!n||!n.isReactComponent)}function dr(n,a){var l=n.alternate;return l===null?(l=zs(n.tag,a,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=a,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&65011712,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,a=n.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l.refCleanup=n.refCleanup,l}function vx(n,a){n.flags&=65011714;var l=n.alternate;return l===null?(n.childLanes=0,n.lanes=a,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=l.childLanes,n.lanes=l.lanes,n.child=l.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=l.memoizedProps,n.memoizedState=l.memoizedState,n.updateQueue=l.updateQueue,n.type=l.type,a=l.dependencies,n.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),n}function hd(n,a,l,u,f,x){var _=0;if(u=n,typeof n=="function")Gm(n)&&(_=1);else if(typeof n=="string")_=mS(n,l,fe.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case C:return n=zs(31,l,a,f),n.elementType=C,n.lanes=x,n;case T:return Na(l.children,f,x,a);case R:_=8,f|=24;break;case S:return n=zs(12,l,a,f|2),n.elementType=S,n.lanes=x,n;case pe:return n=zs(13,l,a,f),n.elementType=pe,n.lanes=x,n;case he:return n=zs(19,l,a,f),n.elementType=he,n.lanes=x,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case q:case J:_=10;break e;case D:_=9;break e;case de:_=11;break e;case I:_=14;break e;case k:_=16,u=null;break e}_=29,l=Error(r(130,n===null?"null":typeof n,"")),u=null}return a=zs(_,l,a,f),a.elementType=n,a.type=u,a.lanes=x,a}function Na(n,a,l,u){return n=zs(7,n,u,a),n.lanes=l,n}function Km(n,a,l){return n=zs(6,n,null,a),n.lanes=l,n}function Qm(n,a,l){return a=zs(4,n.children!==null?n.children:[],n.key,a),a.lanes=l,a.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},a}var Co=[],Ro=0,md=null,fd=0,nn=[],rn=0,Sa=null,hr=1,mr="";function Ta(n,a){Co[Ro++]=fd,Co[Ro++]=md,md=n,fd=a}function bx(n,a,l){nn[rn++]=hr,nn[rn++]=mr,nn[rn++]=Sa,Sa=n;var u=hr;n=mr;var f=32-js(u)-1;u&=~(1<<f),l+=1;var x=32-js(a)+f;if(30<x){var _=f-f%5;x=(u&(1<<_)-1).toString(32),u>>=_,f-=_,hr=1<<32-js(a)+f|l<<f|u,mr=x+n}else hr=1<<x|l<<f|u,mr=n}function Wm(n){n.return!==null&&(Ta(n,1),bx(n,1,0))}function Ym(n){for(;n===md;)md=Co[--Ro],Co[Ro]=null,fd=Co[--Ro],Co[Ro]=null;for(;n===Sa;)Sa=nn[--rn],nn[rn]=null,mr=nn[--rn],nn[rn]=null,hr=nn[--rn],nn[rn]=null}var Es=null,Tt=null,it=!1,Ea=null,Bn=!1,Xm=Error(r(519));function Aa(n){var a=Error(r(418,""));throw gc(tn(a,n)),Xm}function wx(n){var a=n.stateNode,l=n.type,u=n.memoizedProps;switch(a[kt]=n,a[rs]=u,l){case"dialog":Ye("cancel",a),Ye("close",a);break;case"iframe":case"object":case"embed":Ye("load",a);break;case"video":case"audio":for(l=0;l<Uc.length;l++)Ye(Uc[l],a);break;case"source":Ye("error",a);break;case"img":case"image":case"link":Ye("error",a),Ye("load",a);break;case"details":Ye("toggle",a);break;case"input":Ye("invalid",a),Xl(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Gr(a);break;case"select":Ye("invalid",a);break;case"textarea":Ye("invalid",a),Wu(a,u.value,u.defaultValue,u.children),Gr(a)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||u.suppressHydrationWarning===!0||Lv(a.textContent,l)?(u.popover!=null&&(Ye("beforetoggle",a),Ye("toggle",a)),u.onScroll!=null&&Ye("scroll",a),u.onScrollEnd!=null&&Ye("scrollend",a),u.onClick!=null&&(a.onclick=Qd),a=!0):a=!1,a||Aa(n)}function _x(n){for(Es=n.return;Es;)switch(Es.tag){case 5:case 13:Bn=!1;return;case 27:case 3:Bn=!0;return;default:Es=Es.return}}function mc(n){if(n!==Es)return!1;if(!it)return _x(n),it=!0,!1;var a=n.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=n.type,l=!(l!=="form"&&l!=="button")||fg(n.type,n.memoizedProps)),l=!l),l&&Tt&&Aa(n),_x(n),a===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,a=0;n;){if(n.nodeType===8)if(l=n.data,l==="/$"){if(a===0){Tt=bn(n.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;n=n.nextSibling}Tt=null}}else a===27?(a=Tt,mi(n.type)?(n=yg,yg=null,Tt=n):Tt=a):Tt=Es?bn(n.stateNode.nextSibling):null;return!0}function fc(){Tt=Es=null,it=!1}function jx(){var n=Ea;return n!==null&&(Os===null?Os=n:Os.push.apply(Os,n),Ea=null),n}function gc(n){Ea===null?Ea=[n]:Ea.push(n)}var Jm=ue(null),ka=null,fr=null;function Jr(n,a,l){L(Jm,a._currentValue),a._currentValue=l}function gr(n){n._currentValue=Jm.current,ye(Jm)}function Zm(n,a,l){for(;n!==null;){var u=n.alternate;if((n.childLanes&a)!==a?(n.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),n===l)break;n=n.return}}function ef(n,a,l,u){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var x=f.dependencies;if(x!==null){var _=f.child;x=x.firstContext;e:for(;x!==null;){var N=x;x=f;for(var P=0;P<a.length;P++)if(N.context===a[P]){x.lanes|=l,N=x.alternate,N!==null&&(N.lanes|=l),Zm(x.return,l,n),u||(_=null);break e}x=N.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(r(341));_.lanes|=l,x=_.alternate,x!==null&&(x.lanes|=l),Zm(_,l,n),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===n){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function pc(n,a,l,u){n=null;for(var f=a,x=!1;f!==null;){if(!x){if((f.flags&524288)!==0)x=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var N=f.type;Us(f.pendingProps.value,_.value)||(n!==null?n.push(N):n=[N])}}else if(f===Ke.current){if(_=f.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Hc):n=[Hc])}f=f.return}n!==null&&ef(a,n,l,u),a.flags|=262144}function gd(n){for(n=n.firstContext;n!==null;){if(!Us(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ca(n){ka=n,fr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function gs(n){return Nx(ka,n)}function pd(n,a){return ka===null&&Ca(n),Nx(n,a)}function Nx(n,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},fr===null){if(n===null)throw Error(r(308));fr=a,n.dependencies={lanes:0,firstContext:a},n.flags|=524288}else fr=fr.next=a;return l}var h2=typeof AbortController<"u"?AbortController:function(){var n=[],a=this.signal={aborted:!1,addEventListener:function(l,u){n.push(u)}};this.abort=function(){a.aborted=!0,n.forEach(function(l){return l()})}},m2=i.unstable_scheduleCallback,f2=i.unstable_NormalPriority,Ht={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tf(){return{controller:new h2,data:new Map,refCount:0}}function xc(n){n.refCount--,n.refCount===0&&m2(f2,function(){n.controller.abort()})}var yc=null,sf=0,Io=0,Oo=null;function g2(n,a){if(yc===null){var l=yc=[];sf=0,Io=ig(),Oo={status:"pending",value:void 0,then:function(u){l.push(u)}}}return sf++,a.then(Sx,Sx),a}function Sx(){if(--sf===0&&yc!==null){Oo!==null&&(Oo.status="fulfilled");var n=yc;yc=null,Io=0,Oo=null;for(var a=0;a<n.length;a++)(0,n[a])()}}function p2(n,a){var l=[],u={status:"pending",value:null,reason:null,then:function(f){l.push(f)}};return n.then(function(){u.status="fulfilled",u.value=a;for(var f=0;f<l.length;f++)(0,l[f])(a)},function(f){for(u.status="rejected",u.reason=f,f=0;f<l.length;f++)(0,l[f])(void 0)}),u}var Tx=B.S;B.S=function(n,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&g2(n,a),Tx!==null&&Tx(n,a)};var Ra=ue(null);function nf(){var n=Ra.current;return n!==null?n:xt.pooledCache}function xd(n,a){a===null?L(Ra,Ra.current):L(Ra,a.pool)}function Ex(){var n=nf();return n===null?null:{parent:Ht._currentValue,pool:n}}var vc=Error(r(460)),Ax=Error(r(474)),yd=Error(r(542)),rf={then:function(){}};function kx(n){return n=n.status,n==="fulfilled"||n==="rejected"}function vd(){}function Cx(n,a,l){switch(l=n[l],l===void 0?n.push(a):l!==a&&(a.then(vd,vd),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,Ix(n),n;default:if(typeof a.status=="string")a.then(vd,vd);else{if(n=xt,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=a,n.status="pending",n.then(function(u){if(a.status==="pending"){var f=a;f.status="fulfilled",f.value=u}},function(u){if(a.status==="pending"){var f=a;f.status="rejected",f.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,Ix(n),n}throw bc=a,vc}}var bc=null;function Rx(){if(bc===null)throw Error(r(459));var n=bc;return bc=null,n}function Ix(n){if(n===vc||n===yd)throw Error(r(483))}var Zr=!1;function af(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function of(n,a){n=n.updateQueue,a.updateQueue===n&&(a.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ei(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ti(n,a,l){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(lt&2)!==0){var f=u.pending;return f===null?a.next=a:(a.next=f.next,f.next=a),u.pending=a,a=dd(n),yx(n,null,l),a}return ud(n,u,a,l),dd(n)}function wc(n,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var u=a.lanes;u&=n.pendingLanes,l|=u,a.lanes=l,Br(n,l)}}function lf(n,a){var l=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var f=null,x=null;if(l=l.firstBaseUpdate,l!==null){do{var _={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};x===null?f=x=_:x=x.next=_,l=l.next}while(l!==null);x===null?f=x=a:x=x.next=a}else f=x=a;l={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:x,shared:u.shared,callbacks:u.callbacks},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=a:n.next=a,l.lastBaseUpdate=a}var cf=!1;function _c(){if(cf){var n=Oo;if(n!==null)throw n}}function jc(n,a,l,u){cf=!1;var f=n.updateQueue;Zr=!1;var x=f.firstBaseUpdate,_=f.lastBaseUpdate,N=f.shared.pending;if(N!==null){f.shared.pending=null;var P=N,Y=P.next;P.next=null,_===null?x=Y:_.next=Y,_=P;var se=n.alternate;se!==null&&(se=se.updateQueue,N=se.lastBaseUpdate,N!==_&&(N===null?se.firstBaseUpdate=Y:N.next=Y,se.lastBaseUpdate=P))}if(x!==null){var ae=f.baseState;_=0,se=Y=P=null,N=x;do{var X=N.lane&-536870913,Z=X!==N.lane;if(Z?(tt&X)===X:(u&X)===X){X!==0&&X===Io&&(cf=!0),se!==null&&(se=se.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var Ie=n,ke=N;X=a;var mt=l;switch(ke.tag){case 1:if(Ie=ke.payload,typeof Ie=="function"){ae=Ie.call(mt,ae,X);break e}ae=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=ke.payload,X=typeof Ie=="function"?Ie.call(mt,ae,X):Ie,X==null)break e;ae=y({},ae,X);break e;case 2:Zr=!0}}X=N.callback,X!==null&&(n.flags|=64,Z&&(n.flags|=8192),Z=f.callbacks,Z===null?f.callbacks=[X]:Z.push(X))}else Z={lane:X,tag:N.tag,payload:N.payload,callback:N.callback,next:null},se===null?(Y=se=Z,P=ae):se=se.next=Z,_|=X;if(N=N.next,N===null){if(N=f.shared.pending,N===null)break;Z=N,N=Z.next,Z.next=null,f.lastBaseUpdate=Z,f.shared.pending=null}}while(!0);se===null&&(P=ae),f.baseState=P,f.firstBaseUpdate=Y,f.lastBaseUpdate=se,x===null&&(f.shared.lanes=0),ci|=_,n.lanes=_,n.memoizedState=ae}}function Ox(n,a){if(typeof n!="function")throw Error(r(191,n));n.call(a)}function Px(n,a){var l=n.callbacks;if(l!==null)for(n.callbacks=null,n=0;n<l.length;n++)Ox(l[n],a)}var Po=ue(null),bd=ue(0);function Dx(n,a){n=_r,L(bd,n),L(Po,a),_r=n|a.baseLanes}function uf(){L(bd,_r),L(Po,Po.current)}function df(){_r=bd.current,ye(Po),ye(bd)}var si=0,He=null,dt=null,Mt=null,wd=!1,Do=!1,Ia=!1,_d=0,Nc=0,Mo=null,x2=0;function It(){throw Error(r(321))}function hf(n,a){if(a===null)return!1;for(var l=0;l<a.length&&l<n.length;l++)if(!Us(n[l],a[l]))return!1;return!0}function mf(n,a,l,u,f,x){return si=x,He=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,B.H=n===null||n.memoizedState===null?yy:vy,Ia=!1,x=l(u,f),Ia=!1,Do&&(x=Vx(a,l,u,f)),Mx(n),x}function Mx(n){B.H=Ad;var a=dt!==null&&dt.next!==null;if(si=0,Mt=dt=He=null,wd=!1,Nc=0,Mo=null,a)throw Error(r(300));n===null||Jt||(n=n.dependencies,n!==null&&gd(n)&&(Jt=!0))}function Vx(n,a,l,u){He=n;var f=0;do{if(Do&&(Mo=null),Nc=0,Do=!1,25<=f)throw Error(r(301));if(f+=1,Mt=dt=null,n.updateQueue!=null){var x=n.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}B.H=N2,x=a(l,u)}while(Do);return x}function y2(){var n=B.H,a=n.useState()[0];return a=typeof a.then=="function"?Sc(a):a,n=n.useState()[0],(dt!==null?dt.memoizedState:null)!==n&&(He.flags|=1024),a}function ff(){var n=_d!==0;return _d=0,n}function gf(n,a,l){a.updateQueue=n.updateQueue,a.flags&=-2053,n.lanes&=~l}function pf(n){if(wd){for(n=n.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}wd=!1}si=0,Mt=dt=He=null,Do=!1,Nc=_d=0,Mo=null}function Rs(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?He.memoizedState=Mt=n:Mt=Mt.next=n,Mt}function Vt(){if(dt===null){var n=He.alternate;n=n!==null?n.memoizedState:null}else n=dt.next;var a=Mt===null?He.memoizedState:Mt.next;if(a!==null)Mt=a,dt=n;else{if(n===null)throw He.alternate===null?Error(r(467)):Error(r(310));dt=n,n={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},Mt===null?He.memoizedState=Mt=n:Mt=Mt.next=n}return Mt}function xf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Sc(n){var a=Nc;return Nc+=1,Mo===null&&(Mo=[]),n=Cx(Mo,n,a),a=He,(Mt===null?a.memoizedState:Mt.next)===null&&(a=a.alternate,B.H=a===null||a.memoizedState===null?yy:vy),n}function jd(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Sc(n);if(n.$$typeof===J)return gs(n)}throw Error(r(438,String(n)))}function yf(n){var a=null,l=He.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var u=He.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(f){return f.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=xf(),He.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(n),u=0;u<n;u++)l[u]=V;return a.index++,l}function pr(n,a){return typeof a=="function"?a(n):a}function Nd(n){var a=Vt();return vf(a,dt,n)}function vf(n,a,l){var u=n.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=l;var f=n.baseQueue,x=u.pending;if(x!==null){if(f!==null){var _=f.next;f.next=x.next,x.next=_}a.baseQueue=f=x,u.pending=null}if(x=n.baseState,f===null)n.memoizedState=x;else{a=f.next;var N=_=null,P=null,Y=a,se=!1;do{var ae=Y.lane&-536870913;if(ae!==Y.lane?(tt&ae)===ae:(si&ae)===ae){var X=Y.revertLane;if(X===0)P!==null&&(P=P.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),ae===Io&&(se=!0);else if((si&X)===X){Y=Y.next,X===Io&&(se=!0);continue}else ae={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},P===null?(N=P=ae,_=x):P=P.next=ae,He.lanes|=X,ci|=X;ae=Y.action,Ia&&l(x,ae),x=Y.hasEagerState?Y.eagerState:l(x,ae)}else X={lane:ae,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},P===null?(N=P=X,_=x):P=P.next=X,He.lanes|=ae,ci|=ae;Y=Y.next}while(Y!==null&&Y!==a);if(P===null?_=x:P.next=N,!Us(x,n.memoizedState)&&(Jt=!0,se&&(l=Oo,l!==null)))throw l;n.memoizedState=x,n.baseState=_,n.baseQueue=P,u.lastRenderedState=x}return f===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function bf(n){var a=Vt(),l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=n;var u=l.dispatch,f=l.pending,x=a.memoizedState;if(f!==null){l.pending=null;var _=f=f.next;do x=n(x,_.action),_=_.next;while(_!==f);Us(x,a.memoizedState)||(Jt=!0),a.memoizedState=x,a.baseQueue===null&&(a.baseState=x),l.lastRenderedState=x}return[x,u]}function Lx(n,a,l){var u=He,f=Vt(),x=it;if(x){if(l===void 0)throw Error(r(407));l=l()}else l=a();var _=!Us((dt||f).memoizedState,l);_&&(f.memoizedState=l,Jt=!0),f=f.queue;var N=Bx.bind(null,u,f,n);if(Tc(2048,8,N,[n]),f.getSnapshot!==a||_||Mt!==null&&Mt.memoizedState.tag&1){if(u.flags|=2048,Vo(9,Sd(),zx.bind(null,u,f,l,a),null),xt===null)throw Error(r(349));x||(si&124)!==0||Ux(u,a,l)}return l}function Ux(n,a,l){n.flags|=16384,n={getSnapshot:a,value:l},a=He.updateQueue,a===null?(a=xf(),He.updateQueue=a,a.stores=[n]):(l=a.stores,l===null?a.stores=[n]:l.push(n))}function zx(n,a,l,u){a.value=l,a.getSnapshot=u,$x(a)&&qx(n)}function Bx(n,a,l){return l(function(){$x(a)&&qx(n)})}function $x(n){var a=n.getSnapshot;n=n.value;try{var l=a();return!Us(n,l)}catch{return!0}}function qx(n){var a=Ao(n,2);a!==null&&Hs(a,n,2)}function wf(n){var a=Rs();if(typeof n=="function"){var l=n;if(n=l(),Ia){Ys(!0);try{l()}finally{Ys(!1)}}}return a.memoizedState=a.baseState=n,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pr,lastRenderedState:n},a}function Fx(n,a,l,u){return n.baseState=l,vf(n,dt,typeof u=="function"?u:pr)}function v2(n,a,l,u,f){if(Ed(n))throw Error(r(485));if(n=a.action,n!==null){var x={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){x.listeners.push(_)}};B.T!==null?l(!0):x.isTransition=!1,u(x),l=a.pending,l===null?(x.next=a.pending=x,Hx(a,x)):(x.next=l.next,a.pending=l.next=x)}}function Hx(n,a){var l=a.action,u=a.payload,f=n.state;if(a.isTransition){var x=B.T,_={};B.T=_;try{var N=l(f,u),P=B.S;P!==null&&P(_,N),Gx(n,a,N)}catch(Y){_f(n,a,Y)}finally{B.T=x}}else try{x=l(f,u),Gx(n,a,x)}catch(Y){_f(n,a,Y)}}function Gx(n,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){Kx(n,a,u)},function(u){return _f(n,a,u)}):Kx(n,a,l)}function Kx(n,a,l){a.status="fulfilled",a.value=l,Qx(a),n.state=l,a=n.pending,a!==null&&(l=a.next,l===a?n.pending=null:(l=l.next,a.next=l,Hx(n,l)))}function _f(n,a,l){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=l,Qx(a),a=a.next;while(a!==u)}n.action=null}function Qx(n){n=n.listeners;for(var a=0;a<n.length;a++)(0,n[a])()}function Wx(n,a){return a}function Yx(n,a){if(it){var l=xt.formState;if(l!==null){e:{var u=He;if(it){if(Tt){t:{for(var f=Tt,x=Bn;f.nodeType!==8;){if(!x){f=null;break t}if(f=bn(f.nextSibling),f===null){f=null;break t}}x=f.data,f=x==="F!"||x==="F"?f:null}if(f){Tt=bn(f.nextSibling),u=f.data==="F!";break e}}Aa(u)}u=!1}u&&(a=l[0])}}return l=Rs(),l.memoizedState=l.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wx,lastRenderedState:a},l.queue=u,l=gy.bind(null,He,u),u.dispatch=l,u=wf(!1),x=Ef.bind(null,He,!1,u.queue),u=Rs(),f={state:a,dispatch:null,action:n,pending:null},u.queue=f,l=v2.bind(null,He,f,x,l),f.dispatch=l,u.memoizedState=n,[a,l,!1]}function Xx(n){var a=Vt();return Jx(a,dt,n)}function Jx(n,a,l){if(a=vf(n,a,Wx)[0],n=Nd(pr)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=Sc(a)}catch(_){throw _===vc?yd:_}else u=a;a=Vt();var f=a.queue,x=f.dispatch;return l!==a.memoizedState&&(He.flags|=2048,Vo(9,Sd(),b2.bind(null,f,l),null)),[u,x,n]}function b2(n,a){n.action=a}function Zx(n){var a=Vt(),l=dt;if(l!==null)return Jx(a,l,n);Vt(),a=a.memoizedState,l=Vt();var u=l.queue.dispatch;return l.memoizedState=n,[a,u,!1]}function Vo(n,a,l,u){return n={tag:n,create:l,deps:u,inst:a,next:null},a=He.updateQueue,a===null&&(a=xf(),He.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=n.next=n:(u=l.next,l.next=n,n.next=u,a.lastEffect=n),n}function Sd(){return{destroy:void 0,resource:void 0}}function ey(){return Vt().memoizedState}function Td(n,a,l,u){var f=Rs();u=u===void 0?null:u,He.flags|=n,f.memoizedState=Vo(1|a,Sd(),l,u)}function Tc(n,a,l,u){var f=Vt();u=u===void 0?null:u;var x=f.memoizedState.inst;dt!==null&&u!==null&&hf(u,dt.memoizedState.deps)?f.memoizedState=Vo(a,x,l,u):(He.flags|=n,f.memoizedState=Vo(1|a,x,l,u))}function ty(n,a){Td(8390656,8,n,a)}function sy(n,a){Tc(2048,8,n,a)}function ny(n,a){return Tc(4,2,n,a)}function ry(n,a){return Tc(4,4,n,a)}function iy(n,a){if(typeof a=="function"){n=n();var l=a(n);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return n=n(),a.current=n,function(){a.current=null}}function ay(n,a,l){l=l!=null?l.concat([n]):null,Tc(4,4,iy.bind(null,a,n),l)}function jf(){}function oy(n,a){var l=Vt();a=a===void 0?null:a;var u=l.memoizedState;return a!==null&&hf(a,u[1])?u[0]:(l.memoizedState=[n,a],n)}function ly(n,a){var l=Vt();a=a===void 0?null:a;var u=l.memoizedState;if(a!==null&&hf(a,u[1]))return u[0];if(u=n(),Ia){Ys(!0);try{n()}finally{Ys(!1)}}return l.memoizedState=[u,a],u}function Nf(n,a,l){return l===void 0||(si&1073741824)!==0?n.memoizedState=a:(n.memoizedState=l,n=dv(),He.lanes|=n,ci|=n,l)}function cy(n,a,l,u){return Us(l,a)?l:Po.current!==null?(n=Nf(n,l,u),Us(n,a)||(Jt=!0),n):(si&42)===0?(Jt=!0,n.memoizedState=l):(n=dv(),He.lanes|=n,ci|=n,a)}function uy(n,a,l,u,f){var x=me.p;me.p=x!==0&&8>x?x:8;var _=B.T,N={};B.T=N,Ef(n,!1,a,l);try{var P=f(),Y=B.S;if(Y!==null&&Y(N,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var se=p2(P,u);Ec(n,a,se,Fs(n))}else Ec(n,a,u,Fs(n))}catch(ae){Ec(n,a,{then:function(){},status:"rejected",reason:ae},Fs())}finally{me.p=x,B.T=_}}function w2(){}function Sf(n,a,l,u){if(n.tag!==5)throw Error(r(476));var f=dy(n).queue;uy(n,f,a,le,l===null?w2:function(){return hy(n),l(u)})}function dy(n){var a=n.memoizedState;if(a!==null)return a;a={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pr,lastRenderedState:le},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pr,lastRenderedState:l},next:null},n.memoizedState=a,n=n.alternate,n!==null&&(n.memoizedState=a),a}function hy(n){var a=dy(n).next.queue;Ec(n,a,{},Fs())}function Tf(){return gs(Hc)}function my(){return Vt().memoizedState}function fy(){return Vt().memoizedState}function _2(n){for(var a=n.return;a!==null;){switch(a.tag){case 24:case 3:var l=Fs();n=ei(l);var u=ti(a,n,l);u!==null&&(Hs(u,a,l),wc(u,a,l)),a={cache:tf()},n.payload=a;return}a=a.return}}function j2(n,a,l){var u=Fs();l={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Ed(n)?py(a,l):(l=Hm(n,a,l,u),l!==null&&(Hs(l,n,u),xy(l,a,u)))}function gy(n,a,l){var u=Fs();Ec(n,a,l,u)}function Ec(n,a,l,u){var f={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Ed(n))py(a,f);else{var x=n.alternate;if(n.lanes===0&&(x===null||x.lanes===0)&&(x=a.lastRenderedReducer,x!==null))try{var _=a.lastRenderedState,N=x(_,l);if(f.hasEagerState=!0,f.eagerState=N,Us(N,_))return ud(n,a,f,0),xt===null&&cd(),!1}catch{}finally{}if(l=Hm(n,a,f,u),l!==null)return Hs(l,n,u),xy(l,a,u),!0}return!1}function Ef(n,a,l,u){if(u={lane:2,revertLane:ig(),action:u,hasEagerState:!1,eagerState:null,next:null},Ed(n)){if(a)throw Error(r(479))}else a=Hm(n,l,u,2),a!==null&&Hs(a,n,2)}function Ed(n){var a=n.alternate;return n===He||a!==null&&a===He}function py(n,a){Do=wd=!0;var l=n.pending;l===null?a.next=a:(a.next=l.next,l.next=a),n.pending=a}function xy(n,a,l){if((l&4194048)!==0){var u=a.lanes;u&=n.pendingLanes,l|=u,a.lanes=l,Br(n,l)}}var Ad={readContext:gs,use:jd,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useLayoutEffect:It,useInsertionEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useSyncExternalStore:It,useId:It,useHostTransitionStatus:It,useFormState:It,useActionState:It,useOptimistic:It,useMemoCache:It,useCacheRefresh:It},yy={readContext:gs,use:jd,useCallback:function(n,a){return Rs().memoizedState=[n,a===void 0?null:a],n},useContext:gs,useEffect:ty,useImperativeHandle:function(n,a,l){l=l!=null?l.concat([n]):null,Td(4194308,4,iy.bind(null,a,n),l)},useLayoutEffect:function(n,a){return Td(4194308,4,n,a)},useInsertionEffect:function(n,a){Td(4,2,n,a)},useMemo:function(n,a){var l=Rs();a=a===void 0?null:a;var u=n();if(Ia){Ys(!0);try{n()}finally{Ys(!1)}}return l.memoizedState=[u,a],u},useReducer:function(n,a,l){var u=Rs();if(l!==void 0){var f=l(a);if(Ia){Ys(!0);try{l(a)}finally{Ys(!1)}}}else f=a;return u.memoizedState=u.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},u.queue=n,n=n.dispatch=j2.bind(null,He,n),[u.memoizedState,n]},useRef:function(n){var a=Rs();return n={current:n},a.memoizedState=n},useState:function(n){n=wf(n);var a=n.queue,l=gy.bind(null,He,a);return a.dispatch=l,[n.memoizedState,l]},useDebugValue:jf,useDeferredValue:function(n,a){var l=Rs();return Nf(l,n,a)},useTransition:function(){var n=wf(!1);return n=uy.bind(null,He,n.queue,!0,!1),Rs().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,a,l){var u=He,f=Rs();if(it){if(l===void 0)throw Error(r(407));l=l()}else{if(l=a(),xt===null)throw Error(r(349));(tt&124)!==0||Ux(u,a,l)}f.memoizedState=l;var x={value:l,getSnapshot:a};return f.queue=x,ty(Bx.bind(null,u,x,n),[n]),u.flags|=2048,Vo(9,Sd(),zx.bind(null,u,x,l,a),null),l},useId:function(){var n=Rs(),a=xt.identifierPrefix;if(it){var l=mr,u=hr;l=(u&~(1<<32-js(u)-1)).toString(32)+l,a="«"+a+"R"+l,l=_d++,0<l&&(a+="H"+l.toString(32)),a+="»"}else l=x2++,a="«"+a+"r"+l.toString(32)+"»";return n.memoizedState=a},useHostTransitionStatus:Tf,useFormState:Yx,useActionState:Yx,useOptimistic:function(n){var a=Rs();a.memoizedState=a.baseState=n;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=Ef.bind(null,He,!0,l),l.dispatch=a,[n,a]},useMemoCache:yf,useCacheRefresh:function(){return Rs().memoizedState=_2.bind(null,He)}},vy={readContext:gs,use:jd,useCallback:oy,useContext:gs,useEffect:sy,useImperativeHandle:ay,useInsertionEffect:ny,useLayoutEffect:ry,useMemo:ly,useReducer:Nd,useRef:ey,useState:function(){return Nd(pr)},useDebugValue:jf,useDeferredValue:function(n,a){var l=Vt();return cy(l,dt.memoizedState,n,a)},useTransition:function(){var n=Nd(pr)[0],a=Vt().memoizedState;return[typeof n=="boolean"?n:Sc(n),a]},useSyncExternalStore:Lx,useId:my,useHostTransitionStatus:Tf,useFormState:Xx,useActionState:Xx,useOptimistic:function(n,a){var l=Vt();return Fx(l,dt,n,a)},useMemoCache:yf,useCacheRefresh:fy},N2={readContext:gs,use:jd,useCallback:oy,useContext:gs,useEffect:sy,useImperativeHandle:ay,useInsertionEffect:ny,useLayoutEffect:ry,useMemo:ly,useReducer:bf,useRef:ey,useState:function(){return bf(pr)},useDebugValue:jf,useDeferredValue:function(n,a){var l=Vt();return dt===null?Nf(l,n,a):cy(l,dt.memoizedState,n,a)},useTransition:function(){var n=bf(pr)[0],a=Vt().memoizedState;return[typeof n=="boolean"?n:Sc(n),a]},useSyncExternalStore:Lx,useId:my,useHostTransitionStatus:Tf,useFormState:Zx,useActionState:Zx,useOptimistic:function(n,a){var l=Vt();return dt!==null?Fx(l,dt,n,a):(l.baseState=n,[n,l.queue.dispatch])},useMemoCache:yf,useCacheRefresh:fy},Lo=null,Ac=0;function kd(n){var a=Ac;return Ac+=1,Lo===null&&(Lo=[]),Cx(Lo,n,a)}function kc(n,a){a=a.props.ref,n.ref=a!==void 0?a:null}function Cd(n,a){throw a.$$typeof===b?Error(r(525)):(n=Object.prototype.toString.call(a),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":n)))}function by(n){var a=n._init;return a(n._payload)}function wy(n){function a(H,$){if(n){var K=H.deletions;K===null?(H.deletions=[$],H.flags|=16):K.push($)}}function l(H,$){if(!n)return null;for(;$!==null;)a(H,$),$=$.sibling;return null}function u(H){for(var $=new Map;H!==null;)H.key!==null?$.set(H.key,H):$.set(H.index,H),H=H.sibling;return $}function f(H,$){return H=dr(H,$),H.index=0,H.sibling=null,H}function x(H,$,K){return H.index=K,n?(K=H.alternate,K!==null?(K=K.index,K<$?(H.flags|=67108866,$):K):(H.flags|=67108866,$)):(H.flags|=1048576,$)}function _(H){return n&&H.alternate===null&&(H.flags|=67108866),H}function N(H,$,K,ne){return $===null||$.tag!==6?($=Km(K,H.mode,ne),$.return=H,$):($=f($,K),$.return=H,$)}function P(H,$,K,ne){var we=K.type;return we===T?se(H,$,K.props.children,ne,K.key):$!==null&&($.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===k&&by(we)===$.type)?($=f($,K.props),kc($,K),$.return=H,$):($=hd(K.type,K.key,K.props,null,H.mode,ne),kc($,K),$.return=H,$)}function Y(H,$,K,ne){return $===null||$.tag!==4||$.stateNode.containerInfo!==K.containerInfo||$.stateNode.implementation!==K.implementation?($=Qm(K,H.mode,ne),$.return=H,$):($=f($,K.children||[]),$.return=H,$)}function se(H,$,K,ne,we){return $===null||$.tag!==7?($=Na(K,H.mode,ne,we),$.return=H,$):($=f($,K),$.return=H,$)}function ae(H,$,K){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return $=Km(""+$,H.mode,K),$.return=H,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case j:return K=hd($.type,$.key,$.props,null,H.mode,K),kc(K,$),K.return=H,K;case A:return $=Qm($,H.mode,K),$.return=H,$;case k:var ne=$._init;return $=ne($._payload),ae(H,$,K)}if(Be($)||z($))return $=Na($,H.mode,K,null),$.return=H,$;if(typeof $.then=="function")return ae(H,kd($),K);if($.$$typeof===J)return ae(H,pd(H,$),K);Cd(H,$)}return null}function X(H,$,K,ne){var we=$!==null?$.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return we!==null?null:N(H,$,""+K,ne);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case j:return K.key===we?P(H,$,K,ne):null;case A:return K.key===we?Y(H,$,K,ne):null;case k:return we=K._init,K=we(K._payload),X(H,$,K,ne)}if(Be(K)||z(K))return we!==null?null:se(H,$,K,ne,null);if(typeof K.then=="function")return X(H,$,kd(K),ne);if(K.$$typeof===J)return X(H,$,pd(H,K),ne);Cd(H,K)}return null}function Z(H,$,K,ne,we){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return H=H.get(K)||null,N($,H,""+ne,we);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case j:return H=H.get(ne.key===null?K:ne.key)||null,P($,H,ne,we);case A:return H=H.get(ne.key===null?K:ne.key)||null,Y($,H,ne,we);case k:var Qe=ne._init;return ne=Qe(ne._payload),Z(H,$,K,ne,we)}if(Be(ne)||z(ne))return H=H.get(K)||null,se($,H,ne,we,null);if(typeof ne.then=="function")return Z(H,$,K,kd(ne),we);if(ne.$$typeof===J)return Z(H,$,K,pd($,ne),we);Cd($,ne)}return null}function Ie(H,$,K,ne){for(var we=null,Qe=null,Se=$,Ce=$=0,es=null;Se!==null&&Ce<K.length;Ce++){Se.index>Ce?(es=Se,Se=null):es=Se.sibling;var nt=X(H,Se,K[Ce],ne);if(nt===null){Se===null&&(Se=es);break}n&&Se&&nt.alternate===null&&a(H,Se),$=x(nt,$,Ce),Qe===null?we=nt:Qe.sibling=nt,Qe=nt,Se=es}if(Ce===K.length)return l(H,Se),it&&Ta(H,Ce),we;if(Se===null){for(;Ce<K.length;Ce++)Se=ae(H,K[Ce],ne),Se!==null&&($=x(Se,$,Ce),Qe===null?we=Se:Qe.sibling=Se,Qe=Se);return it&&Ta(H,Ce),we}for(Se=u(Se);Ce<K.length;Ce++)es=Z(Se,H,Ce,K[Ce],ne),es!==null&&(n&&es.alternate!==null&&Se.delete(es.key===null?Ce:es.key),$=x(es,$,Ce),Qe===null?we=es:Qe.sibling=es,Qe=es);return n&&Se.forEach(function(yi){return a(H,yi)}),it&&Ta(H,Ce),we}function ke(H,$,K,ne){if(K==null)throw Error(r(151));for(var we=null,Qe=null,Se=$,Ce=$=0,es=null,nt=K.next();Se!==null&&!nt.done;Ce++,nt=K.next()){Se.index>Ce?(es=Se,Se=null):es=Se.sibling;var yi=X(H,Se,nt.value,ne);if(yi===null){Se===null&&(Se=es);break}n&&Se&&yi.alternate===null&&a(H,Se),$=x(yi,$,Ce),Qe===null?we=yi:Qe.sibling=yi,Qe=yi,Se=es}if(nt.done)return l(H,Se),it&&Ta(H,Ce),we;if(Se===null){for(;!nt.done;Ce++,nt=K.next())nt=ae(H,nt.value,ne),nt!==null&&($=x(nt,$,Ce),Qe===null?we=nt:Qe.sibling=nt,Qe=nt);return it&&Ta(H,Ce),we}for(Se=u(Se);!nt.done;Ce++,nt=K.next())nt=Z(Se,H,Ce,nt.value,ne),nt!==null&&(n&&nt.alternate!==null&&Se.delete(nt.key===null?Ce:nt.key),$=x(nt,$,Ce),Qe===null?we=nt:Qe.sibling=nt,Qe=nt);return n&&Se.forEach(function(SS){return a(H,SS)}),it&&Ta(H,Ce),we}function mt(H,$,K,ne){if(typeof K=="object"&&K!==null&&K.type===T&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case j:e:{for(var we=K.key;$!==null;){if($.key===we){if(we=K.type,we===T){if($.tag===7){l(H,$.sibling),ne=f($,K.props.children),ne.return=H,H=ne;break e}}else if($.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===k&&by(we)===$.type){l(H,$.sibling),ne=f($,K.props),kc(ne,K),ne.return=H,H=ne;break e}l(H,$);break}else a(H,$);$=$.sibling}K.type===T?(ne=Na(K.props.children,H.mode,ne,K.key),ne.return=H,H=ne):(ne=hd(K.type,K.key,K.props,null,H.mode,ne),kc(ne,K),ne.return=H,H=ne)}return _(H);case A:e:{for(we=K.key;$!==null;){if($.key===we)if($.tag===4&&$.stateNode.containerInfo===K.containerInfo&&$.stateNode.implementation===K.implementation){l(H,$.sibling),ne=f($,K.children||[]),ne.return=H,H=ne;break e}else{l(H,$);break}else a(H,$);$=$.sibling}ne=Qm(K,H.mode,ne),ne.return=H,H=ne}return _(H);case k:return we=K._init,K=we(K._payload),mt(H,$,K,ne)}if(Be(K))return Ie(H,$,K,ne);if(z(K)){if(we=z(K),typeof we!="function")throw Error(r(150));return K=we.call(K),ke(H,$,K,ne)}if(typeof K.then=="function")return mt(H,$,kd(K),ne);if(K.$$typeof===J)return mt(H,$,pd(H,K),ne);Cd(H,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,$!==null&&$.tag===6?(l(H,$.sibling),ne=f($,K),ne.return=H,H=ne):(l(H,$),ne=Km(K,H.mode,ne),ne.return=H,H=ne),_(H)):l(H,$)}return function(H,$,K,ne){try{Ac=0;var we=mt(H,$,K,ne);return Lo=null,we}catch(Se){if(Se===vc||Se===yd)throw Se;var Qe=zs(29,Se,null,H.mode);return Qe.lanes=ne,Qe.return=H,Qe}finally{}}}var Uo=wy(!0),_y=wy(!1),an=ue(null),$n=null;function ni(n){var a=n.alternate;L(Gt,Gt.current&1),L(an,n),$n===null&&(a===null||Po.current!==null||a.memoizedState!==null)&&($n=n)}function jy(n){if(n.tag===22){if(L(Gt,Gt.current),L(an,n),$n===null){var a=n.alternate;a!==null&&a.memoizedState!==null&&($n=n)}}else ri()}function ri(){L(Gt,Gt.current),L(an,an.current)}function xr(n){ye(an),$n===n&&($n=null),ye(Gt)}var Gt=ue(0);function Rd(n){for(var a=n;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||xg(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Af(n,a,l,u){a=n.memoizedState,l=l(u,a),l=l==null?a:y({},a,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var kf={enqueueSetState:function(n,a,l){n=n._reactInternals;var u=Fs(),f=ei(u);f.payload=a,l!=null&&(f.callback=l),a=ti(n,f,u),a!==null&&(Hs(a,n,u),wc(a,n,u))},enqueueReplaceState:function(n,a,l){n=n._reactInternals;var u=Fs(),f=ei(u);f.tag=1,f.payload=a,l!=null&&(f.callback=l),a=ti(n,f,u),a!==null&&(Hs(a,n,u),wc(a,n,u))},enqueueForceUpdate:function(n,a){n=n._reactInternals;var l=Fs(),u=ei(l);u.tag=2,a!=null&&(u.callback=a),a=ti(n,u,l),a!==null&&(Hs(a,n,l),wc(a,n,l))}};function Ny(n,a,l,u,f,x,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,x,_):a.prototype&&a.prototype.isPureReactComponent?!dc(l,u)||!dc(f,x):!0}function Sy(n,a,l,u){n=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,u),a.state!==n&&kf.enqueueReplaceState(a,a.state,null)}function Oa(n,a){var l=a;if("ref"in a){l={};for(var u in a)u!=="ref"&&(l[u]=a[u])}if(n=n.defaultProps){l===a&&(l=y({},l));for(var f in n)l[f]===void 0&&(l[f]=n[f])}return l}var Id=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Ty(n){Id(n)}function Ey(n){console.error(n)}function Ay(n){Id(n)}function Od(n,a){try{var l=n.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function ky(n,a,l){try{var u=n.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Cf(n,a,l){return l=ei(l),l.tag=3,l.payload={element:null},l.callback=function(){Od(n,a)},l}function Cy(n){return n=ei(n),n.tag=3,n}function Ry(n,a,l,u){var f=l.type.getDerivedStateFromError;if(typeof f=="function"){var x=u.value;n.payload=function(){return f(x)},n.callback=function(){ky(a,l,u)}}var _=l.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(n.callback=function(){ky(a,l,u),typeof f!="function"&&(ui===null?ui=new Set([this]):ui.add(this));var N=u.stack;this.componentDidCatch(u.value,{componentStack:N!==null?N:""})})}function S2(n,a,l,u,f){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=l.alternate,a!==null&&pc(a,l,f,!0),l=an.current,l!==null){switch(l.tag){case 13:return $n===null?eg():l.alternate===null&&Et===0&&(Et=3),l.flags&=-257,l.flags|=65536,l.lanes=f,u===rf?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([u]):a.add(u),sg(n,u,f)),!1;case 22:return l.flags|=65536,u===rf?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([u]):l.add(u)),sg(n,u,f)),!1}throw Error(r(435,l.tag))}return sg(n,u,f),eg(),!1}if(it)return a=an.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=f,u!==Xm&&(n=Error(r(422),{cause:u}),gc(tn(n,l)))):(u!==Xm&&(a=Error(r(423),{cause:u}),gc(tn(a,l))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,u=tn(u,l),f=Cf(n.stateNode,u,f),lf(n,f),Et!==4&&(Et=2)),!1;var x=Error(r(520),{cause:u});if(x=tn(x,l),Mc===null?Mc=[x]:Mc.push(x),Et!==4&&(Et=2),a===null)return!0;u=tn(u,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,n=f&-f,l.lanes|=n,n=Cf(l.stateNode,u,n),lf(l,n),!1;case 1:if(a=l.type,x=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(ui===null||!ui.has(x))))return l.flags|=65536,f&=-f,l.lanes|=f,f=Cy(f),Ry(f,n,l,u),lf(l,f),!1}l=l.return}while(l!==null);return!1}var Iy=Error(r(461)),Jt=!1;function is(n,a,l,u){a.child=n===null?_y(a,null,l,u):Uo(a,n.child,l,u)}function Oy(n,a,l,u,f){l=l.render;var x=a.ref;if("ref"in u){var _={};for(var N in u)N!=="ref"&&(_[N]=u[N])}else _=u;return Ca(a),u=mf(n,a,l,_,x,f),N=ff(),n!==null&&!Jt?(gf(n,a,f),yr(n,a,f)):(it&&N&&Wm(a),a.flags|=1,is(n,a,u,f),a.child)}function Py(n,a,l,u,f){if(n===null){var x=l.type;return typeof x=="function"&&!Gm(x)&&x.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=x,Dy(n,a,x,u,f)):(n=hd(l.type,null,u,a,a.mode,f),n.ref=a.ref,n.return=a,a.child=n)}if(x=n.child,!Lf(n,f)){var _=x.memoizedProps;if(l=l.compare,l=l!==null?l:dc,l(_,u)&&n.ref===a.ref)return yr(n,a,f)}return a.flags|=1,n=dr(x,u),n.ref=a.ref,n.return=a,a.child=n}function Dy(n,a,l,u,f){if(n!==null){var x=n.memoizedProps;if(dc(x,u)&&n.ref===a.ref)if(Jt=!1,a.pendingProps=u=x,Lf(n,f))(n.flags&131072)!==0&&(Jt=!0);else return a.lanes=n.lanes,yr(n,a,f)}return Rf(n,a,l,u,f)}function My(n,a,l){var u=a.pendingProps,f=u.children,x=n!==null?n.memoizedState:null;if(u.mode==="hidden"){if((a.flags&128)!==0){if(u=x!==null?x.baseLanes|l:l,n!==null){for(f=a.child=n.child,x=0;f!==null;)x=x|f.lanes|f.childLanes,f=f.sibling;a.childLanes=x&~u}else a.childLanes=0,a.child=null;return Vy(n,a,u,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},n!==null&&xd(a,x!==null?x.cachePool:null),x!==null?Dx(a,x):uf(),jy(a);else return a.lanes=a.childLanes=536870912,Vy(n,a,x!==null?x.baseLanes|l:l,l)}else x!==null?(xd(a,x.cachePool),Dx(a,x),ri(),a.memoizedState=null):(n!==null&&xd(a,null),uf(),ri());return is(n,a,f,l),a.child}function Vy(n,a,l,u){var f=nf();return f=f===null?null:{parent:Ht._currentValue,pool:f},a.memoizedState={baseLanes:l,cachePool:f},n!==null&&xd(a,null),uf(),jy(a),n!==null&&pc(n,a,u,!0),null}function Pd(n,a){var l=a.ref;if(l===null)n!==null&&n.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(n===null||n.ref!==l)&&(a.flags|=4194816)}}function Rf(n,a,l,u,f){return Ca(a),l=mf(n,a,l,u,void 0,f),u=ff(),n!==null&&!Jt?(gf(n,a,f),yr(n,a,f)):(it&&u&&Wm(a),a.flags|=1,is(n,a,l,f),a.child)}function Ly(n,a,l,u,f,x){return Ca(a),a.updateQueue=null,l=Vx(a,u,l,f),Mx(n),u=ff(),n!==null&&!Jt?(gf(n,a,x),yr(n,a,x)):(it&&u&&Wm(a),a.flags|=1,is(n,a,l,x),a.child)}function Uy(n,a,l,u,f){if(Ca(a),a.stateNode===null){var x=ko,_=l.contextType;typeof _=="object"&&_!==null&&(x=gs(_)),x=new l(u,x),a.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=kf,a.stateNode=x,x._reactInternals=a,x=a.stateNode,x.props=u,x.state=a.memoizedState,x.refs={},af(a),_=l.contextType,x.context=typeof _=="object"&&_!==null?gs(_):ko,x.state=a.memoizedState,_=l.getDerivedStateFromProps,typeof _=="function"&&(Af(a,l,_,u),x.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(_=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),_!==x.state&&kf.enqueueReplaceState(x,x.state,null),jc(a,u,x,f),_c(),x.state=a.memoizedState),typeof x.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(n===null){x=a.stateNode;var N=a.memoizedProps,P=Oa(l,N);x.props=P;var Y=x.context,se=l.contextType;_=ko,typeof se=="object"&&se!==null&&(_=gs(se));var ae=l.getDerivedStateFromProps;se=typeof ae=="function"||typeof x.getSnapshotBeforeUpdate=="function",N=a.pendingProps!==N,se||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(N||Y!==_)&&Sy(a,x,u,_),Zr=!1;var X=a.memoizedState;x.state=X,jc(a,u,x,f),_c(),Y=a.memoizedState,N||X!==Y||Zr?(typeof ae=="function"&&(Af(a,l,ae,u),Y=a.memoizedState),(P=Zr||Ny(a,l,P,u,X,Y,_))?(se||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(a.flags|=4194308)):(typeof x.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=Y),x.props=u,x.state=Y,x.context=_,u=P):(typeof x.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{x=a.stateNode,of(n,a),_=a.memoizedProps,se=Oa(l,_),x.props=se,ae=a.pendingProps,X=x.context,Y=l.contextType,P=ko,typeof Y=="object"&&Y!==null&&(P=gs(Y)),N=l.getDerivedStateFromProps,(Y=typeof N=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(_!==ae||X!==P)&&Sy(a,x,u,P),Zr=!1,X=a.memoizedState,x.state=X,jc(a,u,x,f),_c();var Z=a.memoizedState;_!==ae||X!==Z||Zr||n!==null&&n.dependencies!==null&&gd(n.dependencies)?(typeof N=="function"&&(Af(a,l,N,u),Z=a.memoizedState),(se=Zr||Ny(a,l,se,u,X,Z,P)||n!==null&&n.dependencies!==null&&gd(n.dependencies))?(Y||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(u,Z,P),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(u,Z,P)),typeof x.componentDidUpdate=="function"&&(a.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof x.componentDidUpdate!="function"||_===n.memoizedProps&&X===n.memoizedState||(a.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&X===n.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=Z),x.props=u,x.state=Z,x.context=P,u=se):(typeof x.componentDidUpdate!="function"||_===n.memoizedProps&&X===n.memoizedState||(a.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&X===n.memoizedState||(a.flags|=1024),u=!1)}return x=u,Pd(n,a),u=(a.flags&128)!==0,x||u?(x=a.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:x.render(),a.flags|=1,n!==null&&u?(a.child=Uo(a,n.child,null,f),a.child=Uo(a,null,l,f)):is(n,a,l,f),a.memoizedState=x.state,n=a.child):n=yr(n,a,f),n}function zy(n,a,l,u){return fc(),a.flags|=256,is(n,a,l,u),a.child}var If={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Of(n){return{baseLanes:n,cachePool:Ex()}}function Pf(n,a,l){return n=n!==null?n.childLanes&~l:0,a&&(n|=on),n}function By(n,a,l){var u=a.pendingProps,f=!1,x=(a.flags&128)!==0,_;if((_=x)||(_=n!==null&&n.memoizedState===null?!1:(Gt.current&2)!==0),_&&(f=!0,a.flags&=-129),_=(a.flags&32)!==0,a.flags&=-33,n===null){if(it){if(f?ni(a):ri(),it){var N=Tt,P;if(P=N){e:{for(P=N,N=Bn;P.nodeType!==8;){if(!N){N=null;break e}if(P=bn(P.nextSibling),P===null){N=null;break e}}N=P}N!==null?(a.memoizedState={dehydrated:N,treeContext:Sa!==null?{id:hr,overflow:mr}:null,retryLane:536870912,hydrationErrors:null},P=zs(18,null,null,0),P.stateNode=N,P.return=a,a.child=P,Es=a,Tt=null,P=!0):P=!1}P||Aa(a)}if(N=a.memoizedState,N!==null&&(N=N.dehydrated,N!==null))return xg(N)?a.lanes=32:a.lanes=536870912,null;xr(a)}return N=u.children,u=u.fallback,f?(ri(),f=a.mode,N=Dd({mode:"hidden",children:N},f),u=Na(u,f,l,null),N.return=a,u.return=a,N.sibling=u,a.child=N,f=a.child,f.memoizedState=Of(l),f.childLanes=Pf(n,_,l),a.memoizedState=If,u):(ni(a),Df(a,N))}if(P=n.memoizedState,P!==null&&(N=P.dehydrated,N!==null)){if(x)a.flags&256?(ni(a),a.flags&=-257,a=Mf(n,a,l)):a.memoizedState!==null?(ri(),a.child=n.child,a.flags|=128,a=null):(ri(),f=u.fallback,N=a.mode,u=Dd({mode:"visible",children:u.children},N),f=Na(f,N,l,null),f.flags|=2,u.return=a,f.return=a,u.sibling=f,a.child=u,Uo(a,n.child,null,l),u=a.child,u.memoizedState=Of(l),u.childLanes=Pf(n,_,l),a.memoizedState=If,a=f);else if(ni(a),xg(N)){if(_=N.nextSibling&&N.nextSibling.dataset,_)var Y=_.dgst;_=Y,u=Error(r(419)),u.stack="",u.digest=_,gc({value:u,source:null,stack:null}),a=Mf(n,a,l)}else if(Jt||pc(n,a,l,!1),_=(l&n.childLanes)!==0,Jt||_){if(_=xt,_!==null&&(u=l&-l,u=(u&42)!==0?1:Ql(u),u=(u&(_.suspendedLanes|l))!==0?0:u,u!==0&&u!==P.retryLane))throw P.retryLane=u,Ao(n,u),Hs(_,n,u),Iy;N.data==="$?"||eg(),a=Mf(n,a,l)}else N.data==="$?"?(a.flags|=192,a.child=n.child,a=null):(n=P.treeContext,Tt=bn(N.nextSibling),Es=a,it=!0,Ea=null,Bn=!1,n!==null&&(nn[rn++]=hr,nn[rn++]=mr,nn[rn++]=Sa,hr=n.id,mr=n.overflow,Sa=a),a=Df(a,u.children),a.flags|=4096);return a}return f?(ri(),f=u.fallback,N=a.mode,P=n.child,Y=P.sibling,u=dr(P,{mode:"hidden",children:u.children}),u.subtreeFlags=P.subtreeFlags&65011712,Y!==null?f=dr(Y,f):(f=Na(f,N,l,null),f.flags|=2),f.return=a,u.return=a,u.sibling=f,a.child=u,u=f,f=a.child,N=n.child.memoizedState,N===null?N=Of(l):(P=N.cachePool,P!==null?(Y=Ht._currentValue,P=P.parent!==Y?{parent:Y,pool:Y}:P):P=Ex(),N={baseLanes:N.baseLanes|l,cachePool:P}),f.memoizedState=N,f.childLanes=Pf(n,_,l),a.memoizedState=If,u):(ni(a),l=n.child,n=l.sibling,l=dr(l,{mode:"visible",children:u.children}),l.return=a,l.sibling=null,n!==null&&(_=a.deletions,_===null?(a.deletions=[n],a.flags|=16):_.push(n)),a.child=l,a.memoizedState=null,l)}function Df(n,a){return a=Dd({mode:"visible",children:a},n.mode),a.return=n,n.child=a}function Dd(n,a){return n=zs(22,n,null,a),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Mf(n,a,l){return Uo(a,n.child,null,l),n=Df(a,a.pendingProps.children),n.flags|=2,a.memoizedState=null,n}function $y(n,a,l){n.lanes|=a;var u=n.alternate;u!==null&&(u.lanes|=a),Zm(n.return,a,l)}function Vf(n,a,l,u,f){var x=n.memoizedState;x===null?n.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:f}:(x.isBackwards=a,x.rendering=null,x.renderingStartTime=0,x.last=u,x.tail=l,x.tailMode=f)}function qy(n,a,l){var u=a.pendingProps,f=u.revealOrder,x=u.tail;if(is(n,a,u.children,l),u=Gt.current,(u&2)!==0)u=u&1|2,a.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=a.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&$y(n,l,a);else if(n.tag===19)$y(n,l,a);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===a)break e;for(;n.sibling===null;){if(n.return===null||n.return===a)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(L(Gt,u),f){case"forwards":for(l=a.child,f=null;l!==null;)n=l.alternate,n!==null&&Rd(n)===null&&(f=l),l=l.sibling;l=f,l===null?(f=a.child,a.child=null):(f=l.sibling,l.sibling=null),Vf(a,!1,f,l,x);break;case"backwards":for(l=null,f=a.child,a.child=null;f!==null;){if(n=f.alternate,n!==null&&Rd(n)===null){a.child=f;break}n=f.sibling,f.sibling=l,l=f,f=n}Vf(a,!0,l,null,x);break;case"together":Vf(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function yr(n,a,l){if(n!==null&&(a.dependencies=n.dependencies),ci|=a.lanes,(l&a.childLanes)===0)if(n!==null){if(pc(n,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(n!==null&&a.child!==n.child)throw Error(r(153));if(a.child!==null){for(n=a.child,l=dr(n,n.pendingProps),a.child=l,l.return=a;n.sibling!==null;)n=n.sibling,l=l.sibling=dr(n,n.pendingProps),l.return=a;l.sibling=null}return a.child}function Lf(n,a){return(n.lanes&a)!==0?!0:(n=n.dependencies,!!(n!==null&&gd(n)))}function T2(n,a,l){switch(a.tag){case 3:rt(a,a.stateNode.containerInfo),Jr(a,Ht,n.memoizedState.cache),fc();break;case 27:case 5:Cn(a);break;case 4:rt(a,a.stateNode.containerInfo);break;case 10:Jr(a,a.type,a.memoizedProps.value);break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(ni(a),a.flags|=128,null):(l&a.child.childLanes)!==0?By(n,a,l):(ni(a),n=yr(n,a,l),n!==null?n.sibling:null);ni(a);break;case 19:var f=(n.flags&128)!==0;if(u=(l&a.childLanes)!==0,u||(pc(n,a,l,!1),u=(l&a.childLanes)!==0),f){if(u)return qy(n,a,l);a.flags|=128}if(f=a.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),L(Gt,Gt.current),u)break;return null;case 22:case 23:return a.lanes=0,My(n,a,l);case 24:Jr(a,Ht,n.memoizedState.cache)}return yr(n,a,l)}function Fy(n,a,l){if(n!==null)if(n.memoizedProps!==a.pendingProps)Jt=!0;else{if(!Lf(n,l)&&(a.flags&128)===0)return Jt=!1,T2(n,a,l);Jt=(n.flags&131072)!==0}else Jt=!1,it&&(a.flags&1048576)!==0&&bx(a,fd,a.index);switch(a.lanes=0,a.tag){case 16:e:{n=a.pendingProps;var u=a.elementType,f=u._init;if(u=f(u._payload),a.type=u,typeof u=="function")Gm(u)?(n=Oa(u,n),a.tag=1,a=Uy(null,a,u,n,l)):(a.tag=0,a=Rf(null,a,u,n,l));else{if(u!=null){if(f=u.$$typeof,f===de){a.tag=11,a=Oy(null,a,u,n,l);break e}else if(f===I){a.tag=14,a=Py(null,a,u,n,l);break e}}throw a=et(u)||u,Error(r(306,a,""))}}return a;case 0:return Rf(n,a,a.type,a.pendingProps,l);case 1:return u=a.type,f=Oa(u,a.pendingProps),Uy(n,a,u,f,l);case 3:e:{if(rt(a,a.stateNode.containerInfo),n===null)throw Error(r(387));u=a.pendingProps;var x=a.memoizedState;f=x.element,of(n,a),jc(a,u,null,l);var _=a.memoizedState;if(u=_.cache,Jr(a,Ht,u),u!==x.cache&&ef(a,[Ht],l,!0),_c(),u=_.element,x.isDehydrated)if(x={element:u,isDehydrated:!1,cache:_.cache},a.updateQueue.baseState=x,a.memoizedState=x,a.flags&256){a=zy(n,a,u,l);break e}else if(u!==f){f=tn(Error(r(424)),a),gc(f),a=zy(n,a,u,l);break e}else{switch(n=a.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Tt=bn(n.firstChild),Es=a,it=!0,Ea=null,Bn=!0,l=_y(a,null,u,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(fc(),u===f){a=yr(n,a,l);break e}is(n,a,u,l)}a=a.child}return a;case 26:return Pd(n,a),n===null?(l=Qv(a.type,null,a.pendingProps,null))?a.memoizedState=l:it||(l=a.type,n=a.pendingProps,u=Wd(Ne.current).createElement(l),u[kt]=a,u[rs]=n,os(u,l,n),Ct(u),a.stateNode=u):a.memoizedState=Qv(a.type,n.memoizedProps,a.pendingProps,n.memoizedState),null;case 27:return Cn(a),n===null&&it&&(u=a.stateNode=Hv(a.type,a.pendingProps,Ne.current),Es=a,Bn=!0,f=Tt,mi(a.type)?(yg=f,Tt=bn(u.firstChild)):Tt=f),is(n,a,a.pendingProps.children,l),Pd(n,a),n===null&&(a.flags|=4194304),a.child;case 5:return n===null&&it&&((f=u=Tt)&&(u=eS(u,a.type,a.pendingProps,Bn),u!==null?(a.stateNode=u,Es=a,Tt=bn(u.firstChild),Bn=!1,f=!0):f=!1),f||Aa(a)),Cn(a),f=a.type,x=a.pendingProps,_=n!==null?n.memoizedProps:null,u=x.children,fg(f,x)?u=null:_!==null&&fg(f,_)&&(a.flags|=32),a.memoizedState!==null&&(f=mf(n,a,y2,null,null,l),Hc._currentValue=f),Pd(n,a),is(n,a,u,l),a.child;case 6:return n===null&&it&&((n=l=Tt)&&(l=tS(l,a.pendingProps,Bn),l!==null?(a.stateNode=l,Es=a,Tt=null,n=!0):n=!1),n||Aa(a)),null;case 13:return By(n,a,l);case 4:return rt(a,a.stateNode.containerInfo),u=a.pendingProps,n===null?a.child=Uo(a,null,u,l):is(n,a,u,l),a.child;case 11:return Oy(n,a,a.type,a.pendingProps,l);case 7:return is(n,a,a.pendingProps,l),a.child;case 8:return is(n,a,a.pendingProps.children,l),a.child;case 12:return is(n,a,a.pendingProps.children,l),a.child;case 10:return u=a.pendingProps,Jr(a,a.type,u.value),is(n,a,u.children,l),a.child;case 9:return f=a.type._context,u=a.pendingProps.children,Ca(a),f=gs(f),u=u(f),a.flags|=1,is(n,a,u,l),a.child;case 14:return Py(n,a,a.type,a.pendingProps,l);case 15:return Dy(n,a,a.type,a.pendingProps,l);case 19:return qy(n,a,l);case 31:return u=a.pendingProps,l=a.mode,u={mode:u.mode,children:u.children},n===null?(l=Dd(u,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=dr(n.child,u),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return My(n,a,l);case 24:return Ca(a),u=gs(Ht),n===null?(f=nf(),f===null&&(f=xt,x=tf(),f.pooledCache=x,x.refCount++,x!==null&&(f.pooledCacheLanes|=l),f=x),a.memoizedState={parent:u,cache:f},af(a),Jr(a,Ht,f)):((n.lanes&l)!==0&&(of(n,a),jc(a,null,null,l),_c()),f=n.memoizedState,x=a.memoizedState,f.parent!==u?(f={parent:u,cache:u},a.memoizedState=f,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=f),Jr(a,Ht,u)):(u=x.cache,Jr(a,Ht,u),u!==f.cache&&ef(a,[Ht],l,!0))),is(n,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function vr(n){n.flags|=4}function Hy(n,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Zv(a)){if(a=an.current,a!==null&&((tt&4194048)===tt?$n!==null:(tt&62914560)!==tt&&(tt&536870912)===0||a!==$n))throw bc=rf,Ax;n.flags|=8192}}function Md(n,a){a!==null&&(n.flags|=4),n.flags&16384&&(a=n.tag!==22?Ur():536870912,n.lanes|=a,qo|=a)}function Cc(n,a){if(!it)switch(n.tailMode){case"hidden":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function Nt(n){var a=n.alternate!==null&&n.alternate.child===n.child,l=0,u=0;if(a)for(var f=n.child;f!==null;)l|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)l|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=u,n.childLanes=l,a}function E2(n,a,l){var u=a.pendingProps;switch(Ym(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(a),null;case 1:return Nt(a),null;case 3:return l=a.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),gr(Ht),hs(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(n===null||n.child===null)&&(mc(a)?vr(a):n===null||n.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,jx())),Nt(a),null;case 26:return l=a.memoizedState,n===null?(vr(a),l!==null?(Nt(a),Hy(a,l)):(Nt(a),a.flags&=-16777217)):l?l!==n.memoizedState?(vr(a),Nt(a),Hy(a,l)):(Nt(a),a.flags&=-16777217):(n.memoizedProps!==u&&vr(a),Nt(a),a.flags&=-16777217),null;case 27:Rn(a),l=Ne.current;var f=a.type;if(n!==null&&a.stateNode!=null)n.memoizedProps!==u&&vr(a);else{if(!u){if(a.stateNode===null)throw Error(r(166));return Nt(a),null}n=fe.current,mc(a)?wx(a):(n=Hv(f,u,l),a.stateNode=n,vr(a))}return Nt(a),null;case 5:if(Rn(a),l=a.type,n!==null&&a.stateNode!=null)n.memoizedProps!==u&&vr(a);else{if(!u){if(a.stateNode===null)throw Error(r(166));return Nt(a),null}if(n=fe.current,mc(a))wx(a);else{switch(f=Wd(Ne.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?f.createElement(l,{is:u.is}):f.createElement(l)}}n[kt]=a,n[rs]=u;e:for(f=a.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===a)break e;for(;f.sibling===null;){if(f.return===null||f.return===a)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}a.stateNode=n;e:switch(os(n,l,u),l){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&vr(a)}}return Nt(a),a.flags&=-16777217,null;case 6:if(n&&a.stateNode!=null)n.memoizedProps!==u&&vr(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(r(166));if(n=Ne.current,mc(a)){if(n=a.stateNode,l=a.memoizedProps,u=null,f=Es,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}n[kt]=a,n=!!(n.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||Lv(n.nodeValue,l)),n||Aa(a)}else n=Wd(n).createTextNode(u),n[kt]=a,a.stateNode=n}return Nt(a),null;case 13:if(u=a.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=mc(a),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(r(318));if(f=a.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[kt]=a}else fc(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Nt(a),f=!1}else f=jx(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return a.flags&256?(xr(a),a):(xr(a),null)}if(xr(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=u!==null,n=n!==null&&n.memoizedState!==null,l){u=a.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var x=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(x=u.memoizedState.cachePool.pool),x!==f&&(u.flags|=2048)}return l!==n&&l&&(a.child.flags|=8192),Md(a,a.updateQueue),Nt(a),null;case 4:return hs(),n===null&&cg(a.stateNode.containerInfo),Nt(a),null;case 10:return gr(a.type),Nt(a),null;case 19:if(ye(Gt),f=a.memoizedState,f===null)return Nt(a),null;if(u=(a.flags&128)!==0,x=f.rendering,x===null)if(u)Cc(f,!1);else{if(Et!==0||n!==null&&(n.flags&128)!==0)for(n=a.child;n!==null;){if(x=Rd(n),x!==null){for(a.flags|=128,Cc(f,!1),n=x.updateQueue,a.updateQueue=n,Md(a,n),a.subtreeFlags=0,n=l,l=a.child;l!==null;)vx(l,n),l=l.sibling;return L(Gt,Gt.current&1|2),a.child}n=n.sibling}f.tail!==null&&Cs()>Ud&&(a.flags|=128,u=!0,Cc(f,!1),a.lanes=4194304)}else{if(!u)if(n=Rd(x),n!==null){if(a.flags|=128,u=!0,n=n.updateQueue,a.updateQueue=n,Md(a,n),Cc(f,!0),f.tail===null&&f.tailMode==="hidden"&&!x.alternate&&!it)return Nt(a),null}else 2*Cs()-f.renderingStartTime>Ud&&l!==536870912&&(a.flags|=128,u=!0,Cc(f,!1),a.lanes=4194304);f.isBackwards?(x.sibling=a.child,a.child=x):(n=f.last,n!==null?n.sibling=x:a.child=x,f.last=x)}return f.tail!==null?(a=f.tail,f.rendering=a,f.tail=a.sibling,f.renderingStartTime=Cs(),a.sibling=null,n=Gt.current,L(Gt,u?n&1|2:n&1),a):(Nt(a),null);case 22:case 23:return xr(a),df(),u=a.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(l&536870912)!==0&&(a.flags&128)===0&&(Nt(a),a.subtreeFlags&6&&(a.flags|=8192)):Nt(a),l=a.updateQueue,l!==null&&Md(a,l.retryQueue),l=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==l&&(a.flags|=2048),n!==null&&ye(Ra),null;case 24:return l=null,n!==null&&(l=n.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),gr(Ht),Nt(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function A2(n,a){switch(Ym(a),a.tag){case 1:return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 3:return gr(Ht),hs(),n=a.flags,(n&65536)!==0&&(n&128)===0?(a.flags=n&-65537|128,a):null;case 26:case 27:case 5:return Rn(a),null;case 13:if(xr(a),n=a.memoizedState,n!==null&&n.dehydrated!==null){if(a.alternate===null)throw Error(r(340));fc()}return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 19:return ye(Gt),null;case 4:return hs(),null;case 10:return gr(a.type),null;case 22:case 23:return xr(a),df(),n!==null&&ye(Ra),n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 24:return gr(Ht),null;case 25:return null;default:return null}}function Gy(n,a){switch(Ym(a),a.tag){case 3:gr(Ht),hs();break;case 26:case 27:case 5:Rn(a);break;case 4:hs();break;case 13:xr(a);break;case 19:ye(Gt);break;case 10:gr(a.type);break;case 22:case 23:xr(a),df(),n!==null&&ye(Ra);break;case 24:gr(Ht)}}function Rc(n,a){try{var l=a.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var f=u.next;l=f;do{if((l.tag&n)===n){u=void 0;var x=l.create,_=l.inst;u=x(),_.destroy=u}l=l.next}while(l!==f)}}catch(N){gt(a,a.return,N)}}function ii(n,a,l){try{var u=a.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var x=f.next;u=x;do{if((u.tag&n)===n){var _=u.inst,N=_.destroy;if(N!==void 0){_.destroy=void 0,f=a;var P=l,Y=N;try{Y()}catch(se){gt(f,P,se)}}}u=u.next}while(u!==x)}}catch(se){gt(a,a.return,se)}}function Ky(n){var a=n.updateQueue;if(a!==null){var l=n.stateNode;try{Px(a,l)}catch(u){gt(n,n.return,u)}}}function Qy(n,a,l){l.props=Oa(n.type,n.memoizedProps),l.state=n.memoizedState;try{l.componentWillUnmount()}catch(u){gt(n,a,u)}}function Ic(n,a){try{var l=n.ref;if(l!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof l=="function"?n.refCleanup=l(u):l.current=u}}catch(f){gt(n,a,f)}}function qn(n,a){var l=n.ref,u=n.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(f){gt(n,a,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(f){gt(n,a,f)}else l.current=null}function Wy(n){var a=n.type,l=n.memoizedProps,u=n.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(f){gt(n,n.return,f)}}function Uf(n,a,l){try{var u=n.stateNode;W2(u,n.type,l,a),u[rs]=a}catch(f){gt(n,n.return,f)}}function Yy(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&mi(n.type)||n.tag===4}function zf(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Yy(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&mi(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Bf(n,a,l){var u=n.tag;if(u===5||u===6)n=n.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(n,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(n),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Qd));else if(u!==4&&(u===27&&mi(n.type)&&(l=n.stateNode,a=null),n=n.child,n!==null))for(Bf(n,a,l),n=n.sibling;n!==null;)Bf(n,a,l),n=n.sibling}function Vd(n,a,l){var u=n.tag;if(u===5||u===6)n=n.stateNode,a?l.insertBefore(n,a):l.appendChild(n);else if(u!==4&&(u===27&&mi(n.type)&&(l=n.stateNode),n=n.child,n!==null))for(Vd(n,a,l),n=n.sibling;n!==null;)Vd(n,a,l),n=n.sibling}function Xy(n){var a=n.stateNode,l=n.memoizedProps;try{for(var u=n.type,f=a.attributes;f.length;)a.removeAttributeNode(f[0]);os(a,u,l),a[kt]=n,a[rs]=l}catch(x){gt(n,n.return,x)}}var br=!1,Ot=!1,$f=!1,Jy=typeof WeakSet=="function"?WeakSet:Set,Zt=null;function k2(n,a){if(n=n.containerInfo,hg=th,n=cx(n),Um(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var f=u.anchorOffset,x=u.focusNode;u=u.focusOffset;try{l.nodeType,x.nodeType}catch{l=null;break e}var _=0,N=-1,P=-1,Y=0,se=0,ae=n,X=null;t:for(;;){for(var Z;ae!==l||f!==0&&ae.nodeType!==3||(N=_+f),ae!==x||u!==0&&ae.nodeType!==3||(P=_+u),ae.nodeType===3&&(_+=ae.nodeValue.length),(Z=ae.firstChild)!==null;)X=ae,ae=Z;for(;;){if(ae===n)break t;if(X===l&&++Y===f&&(N=_),X===x&&++se===u&&(P=_),(Z=ae.nextSibling)!==null)break;ae=X,X=ae.parentNode}ae=Z}l=N===-1||P===-1?null:{start:N,end:P}}else l=null}l=l||{start:0,end:0}}else l=null;for(mg={focusedElem:n,selectionRange:l},th=!1,Zt=a;Zt!==null;)if(a=Zt,n=a.child,(a.subtreeFlags&1024)!==0&&n!==null)n.return=a,Zt=n;else for(;Zt!==null;){switch(a=Zt,x=a.alternate,n=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&x!==null){n=void 0,l=a,f=x.memoizedProps,x=x.memoizedState,u=l.stateNode;try{var Ie=Oa(l.type,f,l.elementType===l.type);n=u.getSnapshotBeforeUpdate(Ie,x),u.__reactInternalSnapshotBeforeUpdate=n}catch(ke){gt(l,l.return,ke)}}break;case 3:if((n&1024)!==0){if(n=a.stateNode.containerInfo,l=n.nodeType,l===9)pg(n);else if(l===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":pg(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=a.sibling,n!==null){n.return=a.return,Zt=n;break}Zt=a.return}}function Zy(n,a,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:ai(n,l),u&4&&Rc(5,l);break;case 1:if(ai(n,l),u&4)if(n=l.stateNode,a===null)try{n.componentDidMount()}catch(_){gt(l,l.return,_)}else{var f=Oa(l.type,a.memoizedProps);a=a.memoizedState;try{n.componentDidUpdate(f,a,n.__reactInternalSnapshotBeforeUpdate)}catch(_){gt(l,l.return,_)}}u&64&&Ky(l),u&512&&Ic(l,l.return);break;case 3:if(ai(n,l),u&64&&(n=l.updateQueue,n!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{Px(n,a)}catch(_){gt(l,l.return,_)}}break;case 27:a===null&&u&4&&Xy(l);case 26:case 5:ai(n,l),a===null&&u&4&&Wy(l),u&512&&Ic(l,l.return);break;case 12:ai(n,l);break;case 13:ai(n,l),u&4&&sv(n,l),u&64&&(n=l.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(l=L2.bind(null,l),sS(n,l))));break;case 22:if(u=l.memoizedState!==null||br,!u){a=a!==null&&a.memoizedState!==null||Ot,f=br;var x=Ot;br=u,(Ot=a)&&!x?oi(n,l,(l.subtreeFlags&8772)!==0):ai(n,l),br=f,Ot=x}break;case 30:break;default:ai(n,l)}}function ev(n){var a=n.alternate;a!==null&&(n.alternate=null,ev(a)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(a=n.stateNode,a!==null&&mo(a)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var _t=null,Is=!1;function wr(n,a,l){for(l=l.child;l!==null;)tv(n,a,l),l=l.sibling}function tv(n,a,l){if(ms&&typeof ms.onCommitFiberUnmount=="function")try{ms.onCommitFiberUnmount(Mr,l)}catch{}switch(l.tag){case 26:Ot||qn(l,a),wr(n,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ot||qn(l,a);var u=_t,f=Is;mi(l.type)&&(_t=l.stateNode,Is=!1),wr(n,a,l),Bc(l.stateNode),_t=u,Is=f;break;case 5:Ot||qn(l,a);case 6:if(u=_t,f=Is,_t=null,wr(n,a,l),_t=u,Is=f,_t!==null)if(Is)try{(_t.nodeType===9?_t.body:_t.nodeName==="HTML"?_t.ownerDocument.body:_t).removeChild(l.stateNode)}catch(x){gt(l,a,x)}else try{_t.removeChild(l.stateNode)}catch(x){gt(l,a,x)}break;case 18:_t!==null&&(Is?(n=_t,qv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,l.stateNode),Wc(n)):qv(_t,l.stateNode));break;case 4:u=_t,f=Is,_t=l.stateNode.containerInfo,Is=!0,wr(n,a,l),_t=u,Is=f;break;case 0:case 11:case 14:case 15:Ot||ii(2,l,a),Ot||ii(4,l,a),wr(n,a,l);break;case 1:Ot||(qn(l,a),u=l.stateNode,typeof u.componentWillUnmount=="function"&&Qy(l,a,u)),wr(n,a,l);break;case 21:wr(n,a,l);break;case 22:Ot=(u=Ot)||l.memoizedState!==null,wr(n,a,l),Ot=u;break;default:wr(n,a,l)}}function sv(n,a){if(a.memoizedState===null&&(n=a.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Wc(n)}catch(l){gt(a,a.return,l)}}function C2(n){switch(n.tag){case 13:case 19:var a=n.stateNode;return a===null&&(a=n.stateNode=new Jy),a;case 22:return n=n.stateNode,a=n._retryCache,a===null&&(a=n._retryCache=new Jy),a;default:throw Error(r(435,n.tag))}}function qf(n,a){var l=C2(n);a.forEach(function(u){var f=U2.bind(null,n,u);l.has(u)||(l.add(u),u.then(f,f))})}function Bs(n,a){var l=a.deletions;if(l!==null)for(var u=0;u<l.length;u++){var f=l[u],x=n,_=a,N=_;e:for(;N!==null;){switch(N.tag){case 27:if(mi(N.type)){_t=N.stateNode,Is=!1;break e}break;case 5:_t=N.stateNode,Is=!1;break e;case 3:case 4:_t=N.stateNode.containerInfo,Is=!0;break e}N=N.return}if(_t===null)throw Error(r(160));tv(x,_,f),_t=null,Is=!1,x=f.alternate,x!==null&&(x.return=null),f.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)nv(a,n),a=a.sibling}var vn=null;function nv(n,a){var l=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Bs(a,n),$s(n),u&4&&(ii(3,n,n.return),Rc(3,n),ii(5,n,n.return));break;case 1:Bs(a,n),$s(n),u&512&&(Ot||l===null||qn(l,l.return)),u&64&&br&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(l=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var f=vn;if(Bs(a,n),$s(n),u&512&&(Ot||l===null||qn(l,l.return)),u&4){var x=l!==null?l.memoizedState:null;if(u=n.memoizedState,l===null)if(u===null)if(n.stateNode===null){e:{u=n.type,l=n.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":x=f.getElementsByTagName("title")[0],(!x||x[$r]||x[kt]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=f.createElement(u),f.head.insertBefore(x,f.querySelector("head > title"))),os(x,u,l),x[kt]=n,Ct(x),u=x;break e;case"link":var _=Xv("link","href",f).get(u+(l.href||""));if(_){for(var N=0;N<_.length;N++)if(x=_[N],x.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&x.getAttribute("rel")===(l.rel==null?null:l.rel)&&x.getAttribute("title")===(l.title==null?null:l.title)&&x.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){_.splice(N,1);break t}}x=f.createElement(u),os(x,u,l),f.head.appendChild(x);break;case"meta":if(_=Xv("meta","content",f).get(u+(l.content||""))){for(N=0;N<_.length;N++)if(x=_[N],x.getAttribute("content")===(l.content==null?null:""+l.content)&&x.getAttribute("name")===(l.name==null?null:l.name)&&x.getAttribute("property")===(l.property==null?null:l.property)&&x.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&x.getAttribute("charset")===(l.charSet==null?null:l.charSet)){_.splice(N,1);break t}}x=f.createElement(u),os(x,u,l),f.head.appendChild(x);break;default:throw Error(r(468,u))}x[kt]=n,Ct(x),u=x}n.stateNode=u}else Jv(f,n.type,n.stateNode);else n.stateNode=Yv(f,u,n.memoizedProps);else x!==u?(x===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):x.count--,u===null?Jv(f,n.type,n.stateNode):Yv(f,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Uf(n,n.memoizedProps,l.memoizedProps)}break;case 27:Bs(a,n),$s(n),u&512&&(Ot||l===null||qn(l,l.return)),l!==null&&u&4&&Uf(n,n.memoizedProps,l.memoizedProps);break;case 5:if(Bs(a,n),$s(n),u&512&&(Ot||l===null||qn(l,l.return)),n.flags&32){f=n.stateNode;try{Zs(f,"")}catch(Z){gt(n,n.return,Z)}}u&4&&n.stateNode!=null&&(f=n.memoizedProps,Uf(n,f,l!==null?l.memoizedProps:f)),u&1024&&($f=!0);break;case 6:if(Bs(a,n),$s(n),u&4){if(n.stateNode===null)throw Error(r(162));u=n.memoizedProps,l=n.stateNode;try{l.nodeValue=u}catch(Z){gt(n,n.return,Z)}}break;case 3:if(Jd=null,f=vn,vn=Yd(a.containerInfo),Bs(a,n),vn=f,$s(n),u&4&&l!==null&&l.memoizedState.isDehydrated)try{Wc(a.containerInfo)}catch(Z){gt(n,n.return,Z)}$f&&($f=!1,rv(n));break;case 4:u=vn,vn=Yd(n.stateNode.containerInfo),Bs(a,n),$s(n),vn=u;break;case 12:Bs(a,n),$s(n);break;case 13:Bs(a,n),$s(n),n.child.flags&8192&&n.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Wf=Cs()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,qf(n,u)));break;case 22:f=n.memoizedState!==null;var P=l!==null&&l.memoizedState!==null,Y=br,se=Ot;if(br=Y||f,Ot=se||P,Bs(a,n),Ot=se,br=Y,$s(n),u&8192)e:for(a=n.stateNode,a._visibility=f?a._visibility&-2:a._visibility|1,f&&(l===null||P||br||Ot||Pa(n)),l=null,a=n;;){if(a.tag===5||a.tag===26){if(l===null){P=l=a;try{if(x=P.stateNode,f)_=x.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{N=P.stateNode;var ae=P.memoizedProps.style,X=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;N.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(Z){gt(P,P.return,Z)}}}else if(a.tag===6){if(l===null){P=a;try{P.stateNode.nodeValue=f?"":P.memoizedProps}catch(Z){gt(P,P.return,Z)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===n)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break e;for(;a.sibling===null;){if(a.return===null||a.return===n)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=n.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,qf(n,l))));break;case 19:Bs(a,n),$s(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,qf(n,u)));break;case 30:break;case 21:break;default:Bs(a,n),$s(n)}}function $s(n){var a=n.flags;if(a&2){try{for(var l,u=n.return;u!==null;){if(Yy(u)){l=u;break}u=u.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var f=l.stateNode,x=zf(n);Vd(n,x,f);break;case 5:var _=l.stateNode;l.flags&32&&(Zs(_,""),l.flags&=-33);var N=zf(n);Vd(n,N,_);break;case 3:case 4:var P=l.stateNode.containerInfo,Y=zf(n);Bf(n,Y,P);break;default:throw Error(r(161))}}catch(se){gt(n,n.return,se)}n.flags&=-3}a&4096&&(n.flags&=-4097)}function rv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var a=n;rv(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),n=n.sibling}}function ai(n,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Zy(n,a.alternate,a),a=a.sibling}function Pa(n){for(n=n.child;n!==null;){var a=n;switch(a.tag){case 0:case 11:case 14:case 15:ii(4,a,a.return),Pa(a);break;case 1:qn(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&Qy(a,a.return,l),Pa(a);break;case 27:Bc(a.stateNode);case 26:case 5:qn(a,a.return),Pa(a);break;case 22:a.memoizedState===null&&Pa(a);break;case 30:Pa(a);break;default:Pa(a)}n=n.sibling}}function oi(n,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,f=n,x=a,_=x.flags;switch(x.tag){case 0:case 11:case 15:oi(f,x,l),Rc(4,x);break;case 1:if(oi(f,x,l),u=x,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(Y){gt(u,u.return,Y)}if(u=x,f=u.updateQueue,f!==null){var N=u.stateNode;try{var P=f.shared.hiddenCallbacks;if(P!==null)for(f.shared.hiddenCallbacks=null,f=0;f<P.length;f++)Ox(P[f],N)}catch(Y){gt(u,u.return,Y)}}l&&_&64&&Ky(x),Ic(x,x.return);break;case 27:Xy(x);case 26:case 5:oi(f,x,l),l&&u===null&&_&4&&Wy(x),Ic(x,x.return);break;case 12:oi(f,x,l);break;case 13:oi(f,x,l),l&&_&4&&sv(f,x);break;case 22:x.memoizedState===null&&oi(f,x,l),Ic(x,x.return);break;case 30:break;default:oi(f,x,l)}a=a.sibling}}function Ff(n,a){var l=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),n=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(n=a.memoizedState.cachePool.pool),n!==l&&(n!=null&&n.refCount++,l!=null&&xc(l))}function Hf(n,a){n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&xc(n))}function Fn(n,a,l,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)iv(n,a,l,u),a=a.sibling}function iv(n,a,l,u){var f=a.flags;switch(a.tag){case 0:case 11:case 15:Fn(n,a,l,u),f&2048&&Rc(9,a);break;case 1:Fn(n,a,l,u);break;case 3:Fn(n,a,l,u),f&2048&&(n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&xc(n)));break;case 12:if(f&2048){Fn(n,a,l,u),n=a.stateNode;try{var x=a.memoizedProps,_=x.id,N=x.onPostCommit;typeof N=="function"&&N(_,a.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(P){gt(a,a.return,P)}}else Fn(n,a,l,u);break;case 13:Fn(n,a,l,u);break;case 23:break;case 22:x=a.stateNode,_=a.alternate,a.memoizedState!==null?x._visibility&2?Fn(n,a,l,u):Oc(n,a):x._visibility&2?Fn(n,a,l,u):(x._visibility|=2,zo(n,a,l,u,(a.subtreeFlags&10256)!==0)),f&2048&&Ff(_,a);break;case 24:Fn(n,a,l,u),f&2048&&Hf(a.alternate,a);break;default:Fn(n,a,l,u)}}function zo(n,a,l,u,f){for(f=f&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var x=n,_=a,N=l,P=u,Y=_.flags;switch(_.tag){case 0:case 11:case 15:zo(x,_,N,P,f),Rc(8,_);break;case 23:break;case 22:var se=_.stateNode;_.memoizedState!==null?se._visibility&2?zo(x,_,N,P,f):Oc(x,_):(se._visibility|=2,zo(x,_,N,P,f)),f&&Y&2048&&Ff(_.alternate,_);break;case 24:zo(x,_,N,P,f),f&&Y&2048&&Hf(_.alternate,_);break;default:zo(x,_,N,P,f)}a=a.sibling}}function Oc(n,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=n,u=a,f=u.flags;switch(u.tag){case 22:Oc(l,u),f&2048&&Ff(u.alternate,u);break;case 24:Oc(l,u),f&2048&&Hf(u.alternate,u);break;default:Oc(l,u)}a=a.sibling}}var Pc=8192;function Bo(n){if(n.subtreeFlags&Pc)for(n=n.child;n!==null;)av(n),n=n.sibling}function av(n){switch(n.tag){case 26:Bo(n),n.flags&Pc&&n.memoizedState!==null&&gS(vn,n.memoizedState,n.memoizedProps);break;case 5:Bo(n);break;case 3:case 4:var a=vn;vn=Yd(n.stateNode.containerInfo),Bo(n),vn=a;break;case 22:n.memoizedState===null&&(a=n.alternate,a!==null&&a.memoizedState!==null?(a=Pc,Pc=16777216,Bo(n),Pc=a):Bo(n));break;default:Bo(n)}}function ov(n){var a=n.alternate;if(a!==null&&(n=a.child,n!==null)){a.child=null;do a=n.sibling,n.sibling=null,n=a;while(n!==null)}}function Dc(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];Zt=u,cv(u,n)}ov(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)lv(n),n=n.sibling}function lv(n){switch(n.tag){case 0:case 11:case 15:Dc(n),n.flags&2048&&ii(9,n,n.return);break;case 3:Dc(n);break;case 12:Dc(n);break;case 22:var a=n.stateNode;n.memoizedState!==null&&a._visibility&2&&(n.return===null||n.return.tag!==13)?(a._visibility&=-3,Ld(n)):Dc(n);break;default:Dc(n)}}function Ld(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];Zt=u,cv(u,n)}ov(n)}for(n=n.child;n!==null;){switch(a=n,a.tag){case 0:case 11:case 15:ii(8,a,a.return),Ld(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,Ld(a));break;default:Ld(a)}n=n.sibling}}function cv(n,a){for(;Zt!==null;){var l=Zt;switch(l.tag){case 0:case 11:case 15:ii(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:xc(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,Zt=u;else e:for(l=n;Zt!==null;){u=Zt;var f=u.sibling,x=u.return;if(ev(u),u===l){Zt=null;break e}if(f!==null){f.return=x,Zt=f;break e}Zt=x}}}var R2={getCacheForType:function(n){var a=gs(Ht),l=a.data.get(n);return l===void 0&&(l=n(),a.data.set(n,l)),l}},I2=typeof WeakMap=="function"?WeakMap:Map,lt=0,xt=null,We=null,tt=0,ct=0,qs=null,li=!1,$o=!1,Gf=!1,_r=0,Et=0,ci=0,Da=0,Kf=0,on=0,qo=0,Mc=null,Os=null,Qf=!1,Wf=0,Ud=1/0,zd=null,ui=null,as=0,di=null,Fo=null,Ho=0,Yf=0,Xf=null,uv=null,Vc=0,Jf=null;function Fs(){if((lt&2)!==0&&tt!==0)return tt&-tt;if(B.T!==null){var n=Io;return n!==0?n:ig()}return rr()}function dv(){on===0&&(on=(tt&536870912)===0||it?Kl():536870912);var n=an.current;return n!==null&&(n.flags|=32),on}function Hs(n,a,l){(n===xt&&(ct===2||ct===9)||n.cancelPendingCommit!==null)&&(Go(n,0),hi(n,tt,on,!1)),At(n,l),((lt&2)===0||n!==xt)&&(n===xt&&((lt&2)===0&&(Da|=l),Et===4&&hi(n,tt,on,!1)),Hn(n))}function hv(n,a,l){if((lt&6)!==0)throw Error(r(327));var u=!l&&(a&124)===0&&(a&n.expiredLanes)===0||Lr(n,a),f=u?D2(n,a):tg(n,a,!0),x=u;do{if(f===0){$o&&!u&&hi(n,a,0,!1);break}else{if(l=n.current.alternate,x&&!O2(l)){f=tg(n,a,!1),x=!1;continue}if(f===2){if(x=a,n.errorRecoveryDisabledLanes&x)var _=0;else _=n.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){a=_;e:{var N=n;f=Mc;var P=N.current.memoizedState.isDehydrated;if(P&&(Go(N,_).flags|=256),_=tg(N,_,!1),_!==2){if(Gf&&!P){N.errorRecoveryDisabledLanes|=x,Da|=x,f=4;break e}x=Os,Os=f,x!==null&&(Os===null?Os=x:Os.push.apply(Os,x))}f=_}if(x=!1,f!==2)continue}}if(f===1){Go(n,0),hi(n,a,0,!0);break}e:{switch(u=n,x=f,x){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:hi(u,a,on,!li);break e;case 2:Os=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(f=Wf+300-Cs(),10<f)){if(hi(u,a,on,!li),Xs(u,0,!0)!==0)break e;u.timeoutHandle=Bv(mv.bind(null,u,l,Os,zd,Qf,a,on,Da,qo,li,x,2,-0,0),f);break e}mv(u,l,Os,zd,Qf,a,on,Da,qo,li,x,0,-0,0)}}break}while(!0);Hn(n)}function mv(n,a,l,u,f,x,_,N,P,Y,se,ae,X,Z){if(n.timeoutHandle=-1,ae=a.subtreeFlags,(ae&8192||(ae&16785408)===16785408)&&(Fc={stylesheets:null,count:0,unsuspend:fS},av(a),ae=pS(),ae!==null)){n.cancelPendingCommit=ae(bv.bind(null,n,a,x,l,u,f,_,N,P,se,1,X,Z)),hi(n,x,_,!Y);return}bv(n,a,x,l,u,f,_,N,P)}function O2(n){for(var a=n;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var f=l[u],x=f.getSnapshot;f=f.value;try{if(!Us(x(),f))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function hi(n,a,l,u){a&=~Kf,a&=~Da,n.suspendedLanes|=a,n.pingedLanes&=~a,u&&(n.warmLanes|=a),u=n.expirationTimes;for(var f=a;0<f;){var x=31-js(f),_=1<<x;u[x]=-1,f&=~_}l!==0&&zr(n,l,a)}function Bd(){return(lt&6)===0?(Lc(0),!1):!0}function Zf(){if(We!==null){if(ct===0)var n=We.return;else n=We,fr=ka=null,pf(n),Lo=null,Ac=0,n=We;for(;n!==null;)Gy(n.alternate,n),n=n.return;We=null}}function Go(n,a){var l=n.timeoutHandle;l!==-1&&(n.timeoutHandle=-1,X2(l)),l=n.cancelPendingCommit,l!==null&&(n.cancelPendingCommit=null,l()),Zf(),xt=n,We=l=dr(n.current,null),tt=a,ct=0,qs=null,li=!1,$o=Lr(n,a),Gf=!1,qo=on=Kf=Da=ci=Et=0,Os=Mc=null,Qf=!1,(a&8)!==0&&(a|=a&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=a;0<u;){var f=31-js(u),x=1<<f;a|=n[f],u&=~x}return _r=a,cd(),l}function fv(n,a){He=null,B.H=Ad,a===vc||a===yd?(a=Rx(),ct=3):a===Ax?(a=Rx(),ct=4):ct=a===Iy?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,qs=a,We===null&&(Et=1,Od(n,tn(a,n.current)))}function gv(){var n=B.H;return B.H=Ad,n===null?Ad:n}function pv(){var n=B.A;return B.A=R2,n}function eg(){Et=4,li||(tt&4194048)!==tt&&an.current!==null||($o=!0),(ci&134217727)===0&&(Da&134217727)===0||xt===null||hi(xt,tt,on,!1)}function tg(n,a,l){var u=lt;lt|=2;var f=gv(),x=pv();(xt!==n||tt!==a)&&(zd=null,Go(n,a)),a=!1;var _=Et;e:do try{if(ct!==0&&We!==null){var N=We,P=qs;switch(ct){case 8:Zf(),_=6;break e;case 3:case 2:case 9:case 6:an.current===null&&(a=!0);var Y=ct;if(ct=0,qs=null,Ko(n,N,P,Y),l&&$o){_=0;break e}break;default:Y=ct,ct=0,qs=null,Ko(n,N,P,Y)}}P2(),_=Et;break}catch(se){fv(n,se)}while(!0);return a&&n.shellSuspendCounter++,fr=ka=null,lt=u,B.H=f,B.A=x,We===null&&(xt=null,tt=0,cd()),_}function P2(){for(;We!==null;)xv(We)}function D2(n,a){var l=lt;lt|=2;var u=gv(),f=pv();xt!==n||tt!==a?(zd=null,Ud=Cs()+500,Go(n,a)):$o=Lr(n,a);e:do try{if(ct!==0&&We!==null){a=We;var x=qs;t:switch(ct){case 1:ct=0,qs=null,Ko(n,a,x,1);break;case 2:case 9:if(kx(x)){ct=0,qs=null,yv(a);break}a=function(){ct!==2&&ct!==9||xt!==n||(ct=7),Hn(n)},x.then(a,a);break e;case 3:ct=7;break e;case 4:ct=5;break e;case 7:kx(x)?(ct=0,qs=null,yv(a)):(ct=0,qs=null,Ko(n,a,x,7));break;case 5:var _=null;switch(We.tag){case 26:_=We.memoizedState;case 5:case 27:var N=We;if(!_||Zv(_)){ct=0,qs=null;var P=N.sibling;if(P!==null)We=P;else{var Y=N.return;Y!==null?(We=Y,$d(Y)):We=null}break t}}ct=0,qs=null,Ko(n,a,x,5);break;case 6:ct=0,qs=null,Ko(n,a,x,6);break;case 8:Zf(),Et=6;break e;default:throw Error(r(462))}}M2();break}catch(se){fv(n,se)}while(!0);return fr=ka=null,B.H=u,B.A=f,lt=l,We!==null?0:(xt=null,tt=0,cd(),Et)}function M2(){for(;We!==null&&!Am();)xv(We)}function xv(n){var a=Fy(n.alternate,n,_r);n.memoizedProps=n.pendingProps,a===null?$d(n):We=a}function yv(n){var a=n,l=a.alternate;switch(a.tag){case 15:case 0:a=Ly(l,a,a.pendingProps,a.type,void 0,tt);break;case 11:a=Ly(l,a,a.pendingProps,a.type.render,a.ref,tt);break;case 5:pf(a);default:Gy(l,a),a=We=vx(a,_r),a=Fy(l,a,_r)}n.memoizedProps=n.pendingProps,a===null?$d(n):We=a}function Ko(n,a,l,u){fr=ka=null,pf(a),Lo=null,Ac=0;var f=a.return;try{if(S2(n,f,a,l,tt)){Et=1,Od(n,tn(l,n.current)),We=null;return}}catch(x){if(f!==null)throw We=f,x;Et=1,Od(n,tn(l,n.current)),We=null;return}a.flags&32768?(it||u===1?n=!0:$o||(tt&536870912)!==0?n=!1:(li=n=!0,(u===2||u===9||u===3||u===6)&&(u=an.current,u!==null&&u.tag===13&&(u.flags|=16384))),vv(a,n)):$d(a)}function $d(n){var a=n;do{if((a.flags&32768)!==0){vv(a,li);return}n=a.return;var l=E2(a.alternate,a,_r);if(l!==null){We=l;return}if(a=a.sibling,a!==null){We=a;return}We=a=n}while(a!==null);Et===0&&(Et=5)}function vv(n,a){do{var l=A2(n.alternate,n);if(l!==null){l.flags&=32767,We=l;return}if(l=n.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(n=n.sibling,n!==null)){We=n;return}We=n=l}while(n!==null);Et=6,We=null}function bv(n,a,l,u,f,x,_,N,P){n.cancelPendingCommit=null;do qd();while(as!==0);if((lt&6)!==0)throw Error(r(327));if(a!==null){if(a===n.current)throw Error(r(177));if(x=a.lanes|a.childLanes,x|=Fm,Gu(n,l,x,_,N,P),n===xt&&(We=xt=null,tt=0),Fo=a,di=n,Ho=l,Yf=x,Xf=f,uv=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,z2(nr,function(){return Sv(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=B.T,B.T=null,f=me.p,me.p=2,_=lt,lt|=4;try{k2(n,a,l)}finally{lt=_,me.p=f,B.T=u}}as=1,wv(),_v(),jv()}}function wv(){if(as===1){as=0;var n=di,a=Fo,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=B.T,B.T=null;var u=me.p;me.p=2;var f=lt;lt|=4;try{nv(a,n);var x=mg,_=cx(n.containerInfo),N=x.focusedElem,P=x.selectionRange;if(_!==N&&N&&N.ownerDocument&&lx(N.ownerDocument.documentElement,N)){if(P!==null&&Um(N)){var Y=P.start,se=P.end;if(se===void 0&&(se=Y),"selectionStart"in N)N.selectionStart=Y,N.selectionEnd=Math.min(se,N.value.length);else{var ae=N.ownerDocument||document,X=ae&&ae.defaultView||window;if(X.getSelection){var Z=X.getSelection(),Ie=N.textContent.length,ke=Math.min(P.start,Ie),mt=P.end===void 0?ke:Math.min(P.end,Ie);!Z.extend&&ke>mt&&(_=mt,mt=ke,ke=_);var H=ox(N,ke),$=ox(N,mt);if(H&&$&&(Z.rangeCount!==1||Z.anchorNode!==H.node||Z.anchorOffset!==H.offset||Z.focusNode!==$.node||Z.focusOffset!==$.offset)){var K=ae.createRange();K.setStart(H.node,H.offset),Z.removeAllRanges(),ke>mt?(Z.addRange(K),Z.extend($.node,$.offset)):(K.setEnd($.node,$.offset),Z.addRange(K))}}}}for(ae=[],Z=N;Z=Z.parentNode;)Z.nodeType===1&&ae.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<ae.length;N++){var ne=ae[N];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}th=!!hg,mg=hg=null}finally{lt=f,me.p=u,B.T=l}}n.current=a,as=2}}function _v(){if(as===2){as=0;var n=di,a=Fo,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=B.T,B.T=null;var u=me.p;me.p=2;var f=lt;lt|=4;try{Zy(n,a.alternate,a)}finally{lt=f,me.p=u,B.T=l}}as=3}}function jv(){if(as===4||as===3){as=0,Hl();var n=di,a=Fo,l=Ho,u=uv;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?as=5:(as=0,Fo=di=null,Nv(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(ui=null),Wl(l),a=a.stateNode,ms&&typeof ms.onCommitFiberRoot=="function")try{ms.onCommitFiberRoot(Mr,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=B.T,f=me.p,me.p=2,B.T=null;try{for(var x=n.onRecoverableError,_=0;_<u.length;_++){var N=u[_];x(N.value,{componentStack:N.stack})}}finally{B.T=a,me.p=f}}(Ho&3)!==0&&qd(),Hn(n),f=n.pendingLanes,(l&4194090)!==0&&(f&42)!==0?n===Jf?Vc++:(Vc=0,Jf=n):Vc=0,Lc(0)}}function Nv(n,a){(n.pooledCacheLanes&=a)===0&&(a=n.pooledCache,a!=null&&(n.pooledCache=null,xc(a)))}function qd(n){return wv(),_v(),jv(),Sv()}function Sv(){if(as!==5)return!1;var n=di,a=Yf;Yf=0;var l=Wl(Ho),u=B.T,f=me.p;try{me.p=32>l?32:l,B.T=null,l=Xf,Xf=null;var x=di,_=Ho;if(as=0,Fo=di=null,Ho=0,(lt&6)!==0)throw Error(r(331));var N=lt;if(lt|=4,lv(x.current),iv(x,x.current,_,l),lt=N,Lc(0,!1),ms&&typeof ms.onPostCommitFiberRoot=="function")try{ms.onPostCommitFiberRoot(Mr,x)}catch{}return!0}finally{me.p=f,B.T=u,Nv(n,a)}}function Tv(n,a,l){a=tn(l,a),a=Cf(n.stateNode,a,2),n=ti(n,a,2),n!==null&&(At(n,2),Hn(n))}function gt(n,a,l){if(n.tag===3)Tv(n,n,l);else for(;a!==null;){if(a.tag===3){Tv(a,n,l);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ui===null||!ui.has(u))){n=tn(l,n),l=Cy(2),u=ti(a,l,2),u!==null&&(Ry(l,u,a,n),At(u,2),Hn(u));break}}a=a.return}}function sg(n,a,l){var u=n.pingCache;if(u===null){u=n.pingCache=new I2;var f=new Set;u.set(a,f)}else f=u.get(a),f===void 0&&(f=new Set,u.set(a,f));f.has(l)||(Gf=!0,f.add(l),n=V2.bind(null,n,a,l),a.then(n,n))}function V2(n,a,l){var u=n.pingCache;u!==null&&u.delete(a),n.pingedLanes|=n.suspendedLanes&l,n.warmLanes&=~l,xt===n&&(tt&l)===l&&(Et===4||Et===3&&(tt&62914560)===tt&&300>Cs()-Wf?(lt&2)===0&&Go(n,0):Kf|=l,qo===tt&&(qo=0)),Hn(n)}function Ev(n,a){a===0&&(a=Ur()),n=Ao(n,a),n!==null&&(At(n,a),Hn(n))}function L2(n){var a=n.memoizedState,l=0;a!==null&&(l=a.retryLane),Ev(n,l)}function U2(n,a){var l=0;switch(n.tag){case 13:var u=n.stateNode,f=n.memoizedState;f!==null&&(l=f.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(a),Ev(n,l)}function z2(n,a){return ea(n,a)}var Fd=null,Qo=null,ng=!1,Hd=!1,rg=!1,Ma=0;function Hn(n){n!==Qo&&n.next===null&&(Qo===null?Fd=Qo=n:Qo=Qo.next=n),Hd=!0,ng||(ng=!0,$2())}function Lc(n,a){if(!rg&&Hd){rg=!0;do for(var l=!1,u=Fd;u!==null;){if(n!==0){var f=u.pendingLanes;if(f===0)var x=0;else{var _=u.suspendedLanes,N=u.pingedLanes;x=(1<<31-js(42|n)+1)-1,x&=f&~(_&~N),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(l=!0,Rv(u,x))}else x=tt,x=Xs(u,u===xt?x:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(x&3)===0||Lr(u,x)||(l=!0,Rv(u,x));u=u.next}while(l);rg=!1}}function B2(){Av()}function Av(){Hd=ng=!1;var n=0;Ma!==0&&(Y2()&&(n=Ma),Ma=0);for(var a=Cs(),l=null,u=Fd;u!==null;){var f=u.next,x=kv(u,a);x===0?(u.next=null,l===null?Fd=f:l.next=f,f===null&&(Qo=l)):(l=u,(n!==0||(x&3)!==0)&&(Hd=!0)),u=f}Lc(n)}function kv(n,a){for(var l=n.suspendedLanes,u=n.pingedLanes,f=n.expirationTimes,x=n.pendingLanes&-62914561;0<x;){var _=31-js(x),N=1<<_,P=f[_];P===-1?((N&l)===0||(N&u)!==0)&&(f[_]=uo(N,a)):P<=a&&(n.expiredLanes|=N),x&=~N}if(a=xt,l=tt,l=Xs(n,n===a?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,l===0||n===a&&(ct===2||ct===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&co(u),n.callbackNode=null,n.callbackPriority=0;if((l&3)===0||Lr(n,l)){if(a=l&-l,a===n.callbackPriority)return a;switch(u!==null&&co(u),Wl(l)){case 2:case 8:l=Yt;break;case 32:l=nr;break;case 268435456:l=Gl;break;default:l=nr}return u=Cv.bind(null,n),l=ea(l,u),n.callbackPriority=a,n.callbackNode=l,a}return u!==null&&u!==null&&co(u),n.callbackPriority=2,n.callbackNode=null,2}function Cv(n,a){if(as!==0&&as!==5)return n.callbackNode=null,n.callbackPriority=0,null;var l=n.callbackNode;if(qd()&&n.callbackNode!==l)return null;var u=tt;return u=Xs(n,n===xt?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(hv(n,u,a),kv(n,Cs()),n.callbackNode!=null&&n.callbackNode===l?Cv.bind(null,n):null)}function Rv(n,a){if(qd())return null;hv(n,a,!0)}function $2(){J2(function(){(lt&6)!==0?ea(qt,B2):Av()})}function ig(){return Ma===0&&(Ma=Kl()),Ma}function Iv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:fn(""+n)}function Ov(n,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,n.id&&l.setAttribute("form",n.id),a.parentNode.insertBefore(l,a),n=new FormData(n),l.parentNode.removeChild(l),n}function q2(n,a,l,u,f){if(a==="submit"&&l&&l.stateNode===f){var x=Iv((f[rs]||null).action),_=u.submitter;_&&(a=(a=_[rs]||null)?Iv(a.formAction):_.getAttribute("formAction"),a!==null&&(x=a,_=null));var N=new ga("action","action",null,u,f);n.push({event:N,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ma!==0){var P=_?Ov(f,_):new FormData(f);Sf(l,{pending:!0,data:P,method:f.method,action:x},null,P)}}else typeof x=="function"&&(N.preventDefault(),P=_?Ov(f,_):new FormData(f),Sf(l,{pending:!0,data:P,method:f.method,action:x},x,P))},currentTarget:f}]})}}for(var ag=0;ag<qm.length;ag++){var og=qm[ag],F2=og.toLowerCase(),H2=og[0].toUpperCase()+og.slice(1);yn(F2,"on"+H2)}yn(hx,"onAnimationEnd"),yn(mx,"onAnimationIteration"),yn(fx,"onAnimationStart"),yn("dblclick","onDoubleClick"),yn("focusin","onFocus"),yn("focusout","onBlur"),yn(l2,"onTransitionRun"),yn(c2,"onTransitionStart"),yn(u2,"onTransitionCancel"),yn(gx,"onTransitionEnd"),Vn("onMouseEnter",["mouseout","mouseover"]),Vn("onMouseLeave",["mouseout","mouseover"]),Vn("onPointerEnter",["pointerout","pointerover"]),Vn("onPointerLeave",["pointerout","pointerover"]),Mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),G2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Uc));function Pv(n,a){a=(a&4)!==0;for(var l=0;l<n.length;l++){var u=n[l],f=u.event;u=u.listeners;e:{var x=void 0;if(a)for(var _=u.length-1;0<=_;_--){var N=u[_],P=N.instance,Y=N.currentTarget;if(N=N.listener,P!==x&&f.isPropagationStopped())break e;x=N,f.currentTarget=Y;try{x(f)}catch(se){Id(se)}f.currentTarget=null,x=P}else for(_=0;_<u.length;_++){if(N=u[_],P=N.instance,Y=N.currentTarget,N=N.listener,P!==x&&f.isPropagationStopped())break e;x=N,f.currentTarget=Y;try{x(f)}catch(se){Id(se)}f.currentTarget=null,x=P}}}}function Ye(n,a){var l=a[sa];l===void 0&&(l=a[sa]=new Set);var u=n+"__bubble";l.has(u)||(Dv(a,n,2,!1),l.add(u))}function lg(n,a,l){var u=0;a&&(u|=4),Dv(l,n,u,a)}var Gd="_reactListening"+Math.random().toString(36).slice(2);function cg(n){if(!n[Gd]){n[Gd]=!0,Ku.forEach(function(l){l!=="selectionchange"&&(G2.has(l)||lg(l,!1,n),lg(l,!0,n))});var a=n.nodeType===9?n:n.ownerDocument;a===null||a[Gd]||(a[Gd]=!0,lg("selectionchange",!1,a))}}function Dv(n,a,l,u){switch(ib(a)){case 2:var f=vS;break;case 8:f=bS;break;default:f=jg}l=f.bind(null,a,l,n),f=void 0,!cr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(f=!0),u?f!==void 0?n.addEventListener(a,l,{capture:!0,passive:f}):n.addEventListener(a,l,!0):f!==void 0?n.addEventListener(a,l,{passive:f}):n.addEventListener(a,l,!1)}function ug(n,a,l,u,f){var x=u;if((a&1)===0&&(a&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var N=u.stateNode.containerInfo;if(N===f)break;if(_===4)for(_=u.return;_!==null;){var P=_.tag;if((P===3||P===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;N!==null;){if(_=Pn(N),_===null)return;if(P=_.tag,P===5||P===6||P===26||P===27){u=x=_;continue e}N=N.parentNode}}u=u.return}ha(function(){var Y=x,se=sc(l),ae=[];e:{var X=px.get(n);if(X!==void 0){var Z=ga,Ie=n;switch(n){case"keypress":if(ma(l)===0)break e;case"keydown":case"keyup":Z=No;break;case"focusin":Ie="focus",Z=wo;break;case"focusout":Ie="blur",Z=wo;break;case"beforeblur":case"afterblur":Z=wo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=ba;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=ed;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=Xr;break;case hx:case mx:case fx:Z=rc;break;case gx:Z=v;break;case"scroll":case"scrollend":Z=xa;break;case"wheel":Z=E;break;case"copy":case"cut":case"paste":Z=sd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=oc;break;case"toggle":case"beforetoggle":Z=ee}var ke=(a&4)!==0,mt=!ke&&(n==="scroll"||n==="scrollend"),H=ke?X!==null?X+"Capture":null:X;ke=[];for(var $=Y,K;$!==null;){var ne=$;if(K=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||K===null||H===null||(ne=Wr($,H),ne!=null&&ke.push(zc($,ne,K))),mt)break;$=$.return}0<ke.length&&(X=new Z(X,Ie,null,l,se),ae.push({event:X,listeners:ke}))}}if((a&7)===0){e:{if(X=n==="mouseover"||n==="pointerover",Z=n==="mouseout"||n==="pointerout",X&&l!==tc&&(Ie=l.relatedTarget||l.fromElement)&&(Pn(Ie)||Ie[ir]))break e;if((Z||X)&&(X=se.window===se?se:(X=se.ownerDocument)?X.defaultView||X.parentWindow:window,Z?(Ie=l.relatedTarget||l.toElement,Z=Y,Ie=Ie?Pn(Ie):null,Ie!==null&&(mt=c(Ie),ke=Ie.tag,Ie!==mt||ke!==5&&ke!==27&&ke!==6)&&(Ie=null)):(Z=null,Ie=Y),Z!==Ie)){if(ke=ba,ne="onMouseLeave",H="onMouseEnter",$="mouse",(n==="pointerout"||n==="pointerover")&&(ke=oc,ne="onPointerLeave",H="onPointerEnter",$="pointer"),mt=Z==null?X:qr(Z),K=Ie==null?X:qr(Ie),X=new ke(ne,$+"leave",Z,l,se),X.target=mt,X.relatedTarget=K,ne=null,Pn(se)===Y&&(ke=new ke(H,$+"enter",Ie,l,se),ke.target=K,ke.relatedTarget=mt,ne=ke),mt=ne,Z&&Ie)t:{for(ke=Z,H=Ie,$=0,K=ke;K;K=Wo(K))$++;for(K=0,ne=H;ne;ne=Wo(ne))K++;for(;0<$-K;)ke=Wo(ke),$--;for(;0<K-$;)H=Wo(H),K--;for(;$--;){if(ke===H||H!==null&&ke===H.alternate)break t;ke=Wo(ke),H=Wo(H)}ke=null}else ke=null;Z!==null&&Mv(ae,X,Z,ke,!1),Ie!==null&&mt!==null&&Mv(ae,mt,Ie,ke,!0)}}e:{if(X=Y?qr(Y):window,Z=X.nodeName&&X.nodeName.toLowerCase(),Z==="select"||Z==="input"&&X.type==="file")var we=tx;else if(Z0(X))if(sx)we=i2;else{we=n2;var Qe=s2}else Z=X.nodeName,!Z||Z.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?Y&&yo(Y.elementType)&&(we=tx):we=r2;if(we&&(we=we(n,Y))){ex(ae,we,l,se);break e}Qe&&Qe(n,X,Y),n==="focusout"&&Y&&X.type==="number"&&Y.memoizedProps.value!=null&&Jl(X,"number",X.value)}switch(Qe=Y?qr(Y):window,n){case"focusin":(Z0(Qe)||Qe.contentEditable==="true")&&(So=Qe,zm=Y,hc=null);break;case"focusout":hc=zm=So=null;break;case"mousedown":Bm=!0;break;case"contextmenu":case"mouseup":case"dragend":Bm=!1,ux(ae,l,se);break;case"selectionchange":if(o2)break;case"keydown":case"keyup":ux(ae,l,se)}var Se;if(Ve)e:{switch(n){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else xn?gn(n,l)&&(Ce="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(Ce="onCompositionStart");Ce&&(Rt&&l.locale!=="ko"&&(xn||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&xn&&(Se=Zu()):(en=se,pt="value"in en?en.value:en.textContent,xn=!0)),Qe=Kd(Y,Ce),0<Qe.length&&(Ce=new ac(Ce,n,null,l,se),ae.push({event:Ce,listeners:Qe}),Se?Ce.data=Se:(Se=pn(l),Se!==null&&(Ce.data=Se)))),(Se=ot?lc(n,l):ZN(n,l))&&(Ce=Kd(Y,"onBeforeInput"),0<Ce.length&&(Qe=new ac("onBeforeInput","beforeinput",null,l,se),ae.push({event:Qe,listeners:Ce}),Qe.data=Se)),q2(ae,n,Y,l,se)}Pv(ae,a)})}function zc(n,a,l){return{instance:n,listener:a,currentTarget:l}}function Kd(n,a){for(var l=a+"Capture",u=[];n!==null;){var f=n,x=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||x===null||(f=Wr(n,l),f!=null&&u.unshift(zc(n,f,x)),f=Wr(n,a),f!=null&&u.push(zc(n,f,x))),n.tag===3)return u;n=n.return}return[]}function Wo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Mv(n,a,l,u,f){for(var x=a._reactName,_=[];l!==null&&l!==u;){var N=l,P=N.alternate,Y=N.stateNode;if(N=N.tag,P!==null&&P===u)break;N!==5&&N!==26&&N!==27||Y===null||(P=Y,f?(Y=Wr(l,x),Y!=null&&_.unshift(zc(l,Y,P))):f||(Y=Wr(l,x),Y!=null&&_.push(zc(l,Y,P)))),l=l.return}_.length!==0&&n.push({event:a,listeners:_})}var K2=/\r\n?/g,Q2=/\u0000|\uFFFD/g;function Vv(n){return(typeof n=="string"?n:""+n).replace(K2,`
`).replace(Q2,"")}function Lv(n,a){return a=Vv(a),Vv(n)===a}function Qd(){}function ht(n,a,l,u,f,x){switch(l){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||Zs(n,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&Zs(n,""+u);break;case"className":oa(n,"class",u);break;case"tabIndex":oa(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":oa(n,l,u);break;case"style":ec(n,u,x);break;case"data":if(a!=="object"){oa(n,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||l!=="href")){n.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(l);break}u=fn(""+u),n.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(l==="formAction"?(a!=="input"&&ht(n,a,"name",f.name,f,null),ht(n,a,"formEncType",f.formEncType,f,null),ht(n,a,"formMethod",f.formMethod,f,null),ht(n,a,"formTarget",f.formTarget,f,null)):(ht(n,a,"encType",f.encType,f,null),ht(n,a,"method",f.method,f,null),ht(n,a,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(l);break}u=fn(""+u),n.setAttribute(l,u);break;case"onClick":u!=null&&(n.onclick=Qd);break;case"onScroll":u!=null&&Ye("scroll",n);break;case"onScrollEnd":u!=null&&Ye("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=l}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}l=fn(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,""+u):n.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,""):n.removeAttribute(l);break;case"capture":case"download":u===!0?n.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,u):n.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(l,u):n.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(l):n.setAttribute(l,u);break;case"popover":Ye("beforetoggle",n),Ye("toggle",n),aa(n,"popover",u);break;case"xlinkActuate":Js(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Js(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Js(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Js(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Js(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Js(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Js(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Js(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Js(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":aa(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Yu.get(l)||l,aa(n,l,u))}}function dg(n,a,l,u,f,x){switch(l){case"style":ec(n,u,x);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=l}}break;case"children":typeof u=="string"?Zs(n,u):(typeof u=="number"||typeof u=="bigint")&&Zs(n,""+u);break;case"onScroll":u!=null&&Ye("scroll",n);break;case"onScrollEnd":u!=null&&Ye("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Qd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ra.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(f=l.endsWith("Capture"),a=l.slice(2,f?l.length-7:void 0),x=n[rs]||null,x=x!=null?x[l]:null,typeof x=="function"&&n.removeEventListener(a,x,f),typeof u=="function")){typeof x!="function"&&x!==null&&(l in n?n[l]=null:n.hasAttribute(l)&&n.removeAttribute(l)),n.addEventListener(a,u,f);break e}l in n?n[l]=u:u===!0?n.setAttribute(l,""):aa(n,l,u)}}}function os(n,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ye("error",n),Ye("load",n);var u=!1,f=!1,x;for(x in l)if(l.hasOwnProperty(x)){var _=l[x];if(_!=null)switch(x){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:ht(n,a,x,_,l,null)}}f&&ht(n,a,"srcSet",l.srcSet,l,null),u&&ht(n,a,"src",l.src,l,null);return;case"input":Ye("invalid",n);var N=x=_=f=null,P=null,Y=null;for(u in l)if(l.hasOwnProperty(u)){var se=l[u];if(se!=null)switch(u){case"name":f=se;break;case"type":_=se;break;case"checked":P=se;break;case"defaultChecked":Y=se;break;case"value":x=se;break;case"defaultValue":N=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,a));break;default:ht(n,a,u,se,l,null)}}Xl(n,x,N,P,Y,_,f,!1),Gr(n);return;case"select":Ye("invalid",n),u=_=x=null;for(f in l)if(l.hasOwnProperty(f)&&(N=l[f],N!=null))switch(f){case"value":x=N;break;case"defaultValue":_=N;break;case"multiple":u=N;default:ht(n,a,f,N,l,null)}a=x,l=_,n.multiple=!!u,a!=null?Kr(n,!!u,a,!1):l!=null&&Kr(n,!!u,l,!0);return;case"textarea":Ye("invalid",n),x=f=u=null;for(_ in l)if(l.hasOwnProperty(_)&&(N=l[_],N!=null))switch(_){case"value":u=N;break;case"defaultValue":f=N;break;case"children":x=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(91));break;default:ht(n,a,_,N,l,null)}Wu(n,u,f,x),Gr(n);return;case"option":for(P in l)if(l.hasOwnProperty(P)&&(u=l[P],u!=null))switch(P){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ht(n,a,P,u,l,null)}return;case"dialog":Ye("beforetoggle",n),Ye("toggle",n),Ye("cancel",n),Ye("close",n);break;case"iframe":case"object":Ye("load",n);break;case"video":case"audio":for(u=0;u<Uc.length;u++)Ye(Uc[u],n);break;case"image":Ye("error",n),Ye("load",n);break;case"details":Ye("toggle",n);break;case"embed":case"source":case"link":Ye("error",n),Ye("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in l)if(l.hasOwnProperty(Y)&&(u=l[Y],u!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:ht(n,a,Y,u,l,null)}return;default:if(yo(a)){for(se in l)l.hasOwnProperty(se)&&(u=l[se],u!==void 0&&dg(n,a,se,u,l,void 0));return}}for(N in l)l.hasOwnProperty(N)&&(u=l[N],u!=null&&ht(n,a,N,u,l,null))}function W2(n,a,l,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,x=null,_=null,N=null,P=null,Y=null,se=null;for(Z in l){var ae=l[Z];if(l.hasOwnProperty(Z)&&ae!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":P=ae;default:u.hasOwnProperty(Z)||ht(n,a,Z,null,u,ae)}}for(var X in u){var Z=u[X];if(ae=l[X],u.hasOwnProperty(X)&&(Z!=null||ae!=null))switch(X){case"type":x=Z;break;case"name":f=Z;break;case"checked":Y=Z;break;case"defaultChecked":se=Z;break;case"value":_=Z;break;case"defaultValue":N=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,a));break;default:Z!==ae&&ht(n,a,X,Z,u,ae)}}Yl(n,_,N,P,Y,se,x,f);return;case"select":Z=_=N=X=null;for(x in l)if(P=l[x],l.hasOwnProperty(x)&&P!=null)switch(x){case"value":break;case"multiple":Z=P;default:u.hasOwnProperty(x)||ht(n,a,x,null,u,P)}for(f in u)if(x=u[f],P=l[f],u.hasOwnProperty(f)&&(x!=null||P!=null))switch(f){case"value":X=x;break;case"defaultValue":N=x;break;case"multiple":_=x;default:x!==P&&ht(n,a,f,x,u,P)}a=N,l=_,u=Z,X!=null?Kr(n,!!l,X,!1):!!u!=!!l&&(a!=null?Kr(n,!!l,a,!0):Kr(n,!!l,l?[]:"",!1));return;case"textarea":Z=X=null;for(N in l)if(f=l[N],l.hasOwnProperty(N)&&f!=null&&!u.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:ht(n,a,N,null,u,f)}for(_ in u)if(f=u[_],x=l[_],u.hasOwnProperty(_)&&(f!=null||x!=null))switch(_){case"value":X=f;break;case"defaultValue":Z=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==x&&ht(n,a,_,f,u,x)}Qu(n,X,Z);return;case"option":for(var Ie in l)if(X=l[Ie],l.hasOwnProperty(Ie)&&X!=null&&!u.hasOwnProperty(Ie))switch(Ie){case"selected":n.selected=!1;break;default:ht(n,a,Ie,null,u,X)}for(P in u)if(X=u[P],Z=l[P],u.hasOwnProperty(P)&&X!==Z&&(X!=null||Z!=null))switch(P){case"selected":n.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:ht(n,a,P,X,u,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ke in l)X=l[ke],l.hasOwnProperty(ke)&&X!=null&&!u.hasOwnProperty(ke)&&ht(n,a,ke,null,u,X);for(Y in u)if(X=u[Y],Z=l[Y],u.hasOwnProperty(Y)&&X!==Z&&(X!=null||Z!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,a));break;default:ht(n,a,Y,X,u,Z)}return;default:if(yo(a)){for(var mt in l)X=l[mt],l.hasOwnProperty(mt)&&X!==void 0&&!u.hasOwnProperty(mt)&&dg(n,a,mt,void 0,u,X);for(se in u)X=u[se],Z=l[se],!u.hasOwnProperty(se)||X===Z||X===void 0&&Z===void 0||dg(n,a,se,X,u,Z);return}}for(var H in l)X=l[H],l.hasOwnProperty(H)&&X!=null&&!u.hasOwnProperty(H)&&ht(n,a,H,null,u,X);for(ae in u)X=u[ae],Z=l[ae],!u.hasOwnProperty(ae)||X===Z||X==null&&Z==null||ht(n,a,ae,X,u,Z)}var hg=null,mg=null;function Wd(n){return n.nodeType===9?n:n.ownerDocument}function Uv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zv(n,a){if(n===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&a==="foreignObject"?0:n}function fg(n,a){return n==="textarea"||n==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var gg=null;function Y2(){var n=window.event;return n&&n.type==="popstate"?n===gg?!1:(gg=n,!0):(gg=null,!1)}var Bv=typeof setTimeout=="function"?setTimeout:void 0,X2=typeof clearTimeout=="function"?clearTimeout:void 0,$v=typeof Promise=="function"?Promise:void 0,J2=typeof queueMicrotask=="function"?queueMicrotask:typeof $v<"u"?function(n){return $v.resolve(null).then(n).catch(Z2)}:Bv;function Z2(n){setTimeout(function(){throw n})}function mi(n){return n==="head"}function qv(n,a){var l=a,u=0,f=0;do{var x=l.nextSibling;if(n.removeChild(l),x&&x.nodeType===8)if(l=x.data,l==="/$"){if(0<u&&8>u){l=u;var _=n.ownerDocument;if(l&1&&Bc(_.documentElement),l&2&&Bc(_.body),l&4)for(l=_.head,Bc(l),_=l.firstChild;_;){var N=_.nextSibling,P=_.nodeName;_[$r]||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&_.rel.toLowerCase()==="stylesheet"||l.removeChild(_),_=N}}if(f===0){n.removeChild(x),Wc(a);return}f--}else l==="$"||l==="$?"||l==="$!"?f++:u=l.charCodeAt(0)-48;else u=0;l=x}while(l);Wc(a)}function pg(n){var a=n.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":pg(l),mo(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}n.removeChild(l)}}function eS(n,a,l,u){for(;n.nodeType===1;){var f=l;if(n.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[$r])switch(a){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(x=n.getAttribute("rel"),x==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(x!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(x=n.getAttribute("src"),(x!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&x&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(a==="input"&&n.type==="hidden"){var x=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===x)return n}else return n;if(n=bn(n.nextSibling),n===null)break}return null}function tS(n,a,l){if(a==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!l||(n=bn(n.nextSibling),n===null))return null;return n}function xg(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function sS(n,a){var l=n.ownerDocument;if(n.data!=="$?"||l.readyState==="complete")a();else{var u=function(){a(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function bn(n){for(;n!=null;n=n.nextSibling){var a=n.nodeType;if(a===1||a===3)break;if(a===8){if(a=n.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return n}var yg=null;function Fv(n){n=n.previousSibling;for(var a=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return n;a--}else l==="/$"&&a++}n=n.previousSibling}return null}function Hv(n,a,l){switch(a=Wd(l),n){case"html":if(n=a.documentElement,!n)throw Error(r(452));return n;case"head":if(n=a.head,!n)throw Error(r(453));return n;case"body":if(n=a.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function Bc(n){for(var a=n.attributes;a.length;)n.removeAttributeNode(a[0]);mo(n)}var ln=new Map,Gv=new Set;function Yd(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var jr=me.d;me.d={f:nS,r:rS,D:iS,C:aS,L:oS,m:lS,X:uS,S:cS,M:dS};function nS(){var n=jr.f(),a=Bd();return n||a}function rS(n){var a=Dn(n);a!==null&&a.tag===5&&a.type==="form"?hy(a):jr.r(n)}var Yo=typeof document>"u"?null:document;function Kv(n,a,l){var u=Yo;if(u&&typeof a=="string"&&a){var f=Xt(a);f='link[rel="'+n+'"][href="'+f+'"]',typeof l=="string"&&(f+='[crossorigin="'+l+'"]'),Gv.has(f)||(Gv.add(f),n={rel:n,crossOrigin:l,href:a},u.querySelector(f)===null&&(a=u.createElement("link"),os(a,"link",n),Ct(a),u.head.appendChild(a)))}}function iS(n){jr.D(n),Kv("dns-prefetch",n,null)}function aS(n,a){jr.C(n,a),Kv("preconnect",n,a)}function oS(n,a,l){jr.L(n,a,l);var u=Yo;if(u&&n&&a){var f='link[rel="preload"][as="'+Xt(a)+'"]';a==="image"&&l&&l.imageSrcSet?(f+='[imagesrcset="'+Xt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(f+='[imagesizes="'+Xt(l.imageSizes)+'"]')):f+='[href="'+Xt(n)+'"]';var x=f;switch(a){case"style":x=Xo(n);break;case"script":x=Jo(n)}ln.has(x)||(n=y({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:n,as:a},l),ln.set(x,n),u.querySelector(f)!==null||a==="style"&&u.querySelector($c(x))||a==="script"&&u.querySelector(qc(x))||(a=u.createElement("link"),os(a,"link",n),Ct(a),u.head.appendChild(a)))}}function lS(n,a){jr.m(n,a);var l=Yo;if(l&&n){var u=a&&typeof a.as=="string"?a.as:"script",f='link[rel="modulepreload"][as="'+Xt(u)+'"][href="'+Xt(n)+'"]',x=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Jo(n)}if(!ln.has(x)&&(n=y({rel:"modulepreload",href:n},a),ln.set(x,n),l.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(qc(x)))return}u=l.createElement("link"),os(u,"link",n),Ct(u),l.head.appendChild(u)}}}function cS(n,a,l){jr.S(n,a,l);var u=Yo;if(u&&n){var f=Fr(u).hoistableStyles,x=Xo(n);a=a||"default";var _=f.get(x);if(!_){var N={loading:0,preload:null};if(_=u.querySelector($c(x)))N.loading=5;else{n=y({rel:"stylesheet",href:n,"data-precedence":a},l),(l=ln.get(x))&&vg(n,l);var P=_=u.createElement("link");Ct(P),os(P,"link",n),P._p=new Promise(function(Y,se){P.onload=Y,P.onerror=se}),P.addEventListener("load",function(){N.loading|=1}),P.addEventListener("error",function(){N.loading|=2}),N.loading|=4,Xd(_,a,u)}_={type:"stylesheet",instance:_,count:1,state:N},f.set(x,_)}}}function uS(n,a){jr.X(n,a);var l=Yo;if(l&&n){var u=Fr(l).hoistableScripts,f=Jo(n),x=u.get(f);x||(x=l.querySelector(qc(f)),x||(n=y({src:n,async:!0},a),(a=ln.get(f))&&bg(n,a),x=l.createElement("script"),Ct(x),os(x,"link",n),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},u.set(f,x))}}function dS(n,a){jr.M(n,a);var l=Yo;if(l&&n){var u=Fr(l).hoistableScripts,f=Jo(n),x=u.get(f);x||(x=l.querySelector(qc(f)),x||(n=y({src:n,async:!0,type:"module"},a),(a=ln.get(f))&&bg(n,a),x=l.createElement("script"),Ct(x),os(x,"link",n),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},u.set(f,x))}}function Qv(n,a,l,u){var f=(f=Ne.current)?Yd(f):null;if(!f)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Xo(l.href),l=Fr(f).hoistableStyles,u=l.get(a),u||(u={type:"style",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){n=Xo(l.href);var x=Fr(f).hoistableStyles,_=x.get(n);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(n,_),(x=f.querySelector($c(n)))&&!x._p&&(_.instance=x,_.state.loading=5),ln.has(n)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ln.set(n,l),x||hS(f,n,l,_.state))),a&&u===null)throw Error(r(528,""));return _}if(a&&u!==null)throw Error(r(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Jo(l),l=Fr(f).hoistableScripts,u=l.get(a),u||(u={type:"script",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function Xo(n){return'href="'+Xt(n)+'"'}function $c(n){return'link[rel="stylesheet"]['+n+"]"}function Wv(n){return y({},n,{"data-precedence":n.precedence,precedence:null})}function hS(n,a,l,u){n.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=n.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),os(a,"link",l),Ct(a),n.head.appendChild(a))}function Jo(n){return'[src="'+Xt(n)+'"]'}function qc(n){return"script[async]"+n}function Yv(n,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var u=n.querySelector('style[data-href~="'+Xt(l.href)+'"]');if(u)return a.instance=u,Ct(u),u;var f=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),Ct(u),os(u,"style",f),Xd(u,l.precedence,n),a.instance=u;case"stylesheet":f=Xo(l.href);var x=n.querySelector($c(f));if(x)return a.state.loading|=4,a.instance=x,Ct(x),x;u=Wv(l),(f=ln.get(f))&&vg(u,f),x=(n.ownerDocument||n).createElement("link"),Ct(x);var _=x;return _._p=new Promise(function(N,P){_.onload=N,_.onerror=P}),os(x,"link",u),a.state.loading|=4,Xd(x,l.precedence,n),a.instance=x;case"script":return x=Jo(l.src),(f=n.querySelector(qc(x)))?(a.instance=f,Ct(f),f):(u=l,(f=ln.get(x))&&(u=y({},l),bg(u,f)),n=n.ownerDocument||n,f=n.createElement("script"),Ct(f),os(f,"link",u),n.head.appendChild(f),a.instance=f);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,Xd(u,l.precedence,n));return a.instance}function Xd(n,a,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,x=f,_=0;_<u.length;_++){var N=u[_];if(N.dataset.precedence===a)x=N;else if(x!==f)break}x?x.parentNode.insertBefore(n,x.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(n,a.firstChild))}function vg(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.title==null&&(n.title=a.title)}function bg(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.integrity==null&&(n.integrity=a.integrity)}var Jd=null;function Xv(n,a,l){if(Jd===null){var u=new Map,f=Jd=new Map;f.set(l,u)}else f=Jd,u=f.get(l),u||(u=new Map,f.set(l,u));if(u.has(n))return u;for(u.set(n,null),l=l.getElementsByTagName(n),f=0;f<l.length;f++){var x=l[f];if(!(x[$r]||x[kt]||n==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var _=x.getAttribute(a)||"";_=n+_;var N=u.get(_);N?N.push(x):u.set(_,[x])}}return u}function Jv(n,a,l){n=n.ownerDocument||n,n.head.insertBefore(l,a==="title"?n.querySelector("head > title"):null)}function mS(n,a,l){if(l===1||a.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return n=a.disabled,typeof a.precedence=="string"&&n==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Zv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Fc=null;function fS(){}function gS(n,a,l){if(Fc===null)throw Error(r(475));var u=Fc;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Xo(l.href),x=n.querySelector($c(f));if(x){n=x._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=Zd.bind(u),n.then(u,u)),a.state.loading|=4,a.instance=x,Ct(x);return}x=n.ownerDocument||n,l=Wv(l),(f=ln.get(f))&&vg(l,f),x=x.createElement("link"),Ct(x);var _=x;_._p=new Promise(function(N,P){_.onload=N,_.onerror=P}),os(x,"link",l),a.instance=x}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(u.count++,a=Zd.bind(u),n.addEventListener("load",a),n.addEventListener("error",a))}}function pS(){if(Fc===null)throw Error(r(475));var n=Fc;return n.stylesheets&&n.count===0&&wg(n,n.stylesheets),0<n.count?function(a){var l=setTimeout(function(){if(n.stylesheets&&wg(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(l)}}:null}function Zd(){if(this.count--,this.count===0){if(this.stylesheets)wg(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var eh=null;function wg(n,a){n.stylesheets=null,n.unsuspend!==null&&(n.count++,eh=new Map,a.forEach(xS,n),eh=null,Zd.call(n))}function xS(n,a){if(!(a.state.loading&4)){var l=eh.get(n);if(l)var u=l.get(null);else{l=new Map,eh.set(n,l);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<f.length;x++){var _=f[x];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(l.set(_.dataset.precedence,_),u=_)}u&&l.set(null,u)}f=a.instance,_=f.getAttribute("data-precedence"),x=l.get(_)||u,x===u&&l.set(null,f),l.set(_,f),this.count++,u=Zd.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),x?x.parentNode.insertBefore(f,x.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),a.state.loading|=4}}var Hc={$$typeof:J,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function yS(n,a,l,u,f,x,_,N){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ho(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ho(0),this.hiddenUpdates=ho(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=x,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function eb(n,a,l,u,f,x,_,N,P,Y,se,ae){return n=new yS(n,a,l,_,N,P,Y,ae),a=1,x===!0&&(a|=24),x=zs(3,null,null,a),n.current=x,x.stateNode=n,a=tf(),a.refCount++,n.pooledCache=a,a.refCount++,x.memoizedState={element:u,isDehydrated:l,cache:a},af(x),n}function tb(n){return n?(n=ko,n):ko}function sb(n,a,l,u,f,x){f=tb(f),u.context===null?u.context=f:u.pendingContext=f,u=ei(a),u.payload={element:l},x=x===void 0?null:x,x!==null&&(u.callback=x),l=ti(n,u,a),l!==null&&(Hs(l,n,a),wc(l,n,a))}function nb(n,a){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<a?l:a}}function _g(n,a){nb(n,a),(n=n.alternate)&&nb(n,a)}function rb(n){if(n.tag===13){var a=Ao(n,67108864);a!==null&&Hs(a,n,67108864),_g(n,67108864)}}var th=!0;function vS(n,a,l,u){var f=B.T;B.T=null;var x=me.p;try{me.p=2,jg(n,a,l,u)}finally{me.p=x,B.T=f}}function bS(n,a,l,u){var f=B.T;B.T=null;var x=me.p;try{me.p=8,jg(n,a,l,u)}finally{me.p=x,B.T=f}}function jg(n,a,l,u){if(th){var f=Ng(u);if(f===null)ug(n,a,u,sh,l),ab(n,u);else if(_S(f,n,a,l,u))u.stopPropagation();else if(ab(n,u),a&4&&-1<wS.indexOf(n)){for(;f!==null;){var x=Dn(f);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var _=dn(x.pendingLanes);if(_!==0){var N=x;for(N.pendingLanes|=2,N.entangledLanes|=2;_;){var P=1<<31-js(_);N.entanglements[1]|=P,_&=~P}Hn(x),(lt&6)===0&&(Ud=Cs()+500,Lc(0))}}break;case 13:N=Ao(x,2),N!==null&&Hs(N,x,2),Bd(),_g(x,2)}if(x=Ng(u),x===null&&ug(n,a,u,sh,l),x===f)break;f=x}f!==null&&u.stopPropagation()}else ug(n,a,u,null,l)}}function Ng(n){return n=sc(n),Sg(n)}var sh=null;function Sg(n){if(sh=null,n=Pn(n),n!==null){var a=c(n);if(a===null)n=null;else{var l=a.tag;if(l===13){if(n=d(a),n!==null)return n;n=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;n=null}else a!==n&&(n=null)}}return sh=n,null}function ib(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qu()){case qt:return 2;case Yt:return 8;case nr:case km:return 32;case Gl:return 268435456;default:return 32}default:return 32}}var Tg=!1,fi=null,gi=null,pi=null,Gc=new Map,Kc=new Map,xi=[],wS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ab(n,a){switch(n){case"focusin":case"focusout":fi=null;break;case"dragenter":case"dragleave":gi=null;break;case"mouseover":case"mouseout":pi=null;break;case"pointerover":case"pointerout":Gc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kc.delete(a.pointerId)}}function Qc(n,a,l,u,f,x){return n===null||n.nativeEvent!==x?(n={blockedOn:a,domEventName:l,eventSystemFlags:u,nativeEvent:x,targetContainers:[f]},a!==null&&(a=Dn(a),a!==null&&rb(a)),n):(n.eventSystemFlags|=u,a=n.targetContainers,f!==null&&a.indexOf(f)===-1&&a.push(f),n)}function _S(n,a,l,u,f){switch(a){case"focusin":return fi=Qc(fi,n,a,l,u,f),!0;case"dragenter":return gi=Qc(gi,n,a,l,u,f),!0;case"mouseover":return pi=Qc(pi,n,a,l,u,f),!0;case"pointerover":var x=f.pointerId;return Gc.set(x,Qc(Gc.get(x)||null,n,a,l,u,f)),!0;case"gotpointercapture":return x=f.pointerId,Kc.set(x,Qc(Kc.get(x)||null,n,a,l,u,f)),!0}return!1}function ob(n){var a=Pn(n.target);if(a!==null){var l=c(a);if(l!==null){if(a=l.tag,a===13){if(a=d(l),a!==null){n.blockedOn=a,Im(n.priority,function(){if(l.tag===13){var u=Fs();u=Ql(u);var f=Ao(l,u);f!==null&&Hs(f,l,u),_g(l,u)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function nh(n){if(n.blockedOn!==null)return!1;for(var a=n.targetContainers;0<a.length;){var l=Ng(n.nativeEvent);if(l===null){l=n.nativeEvent;var u=new l.constructor(l.type,l);tc=u,l.target.dispatchEvent(u),tc=null}else return a=Dn(l),a!==null&&rb(a),n.blockedOn=l,!1;a.shift()}return!0}function lb(n,a,l){nh(n)&&l.delete(a)}function jS(){Tg=!1,fi!==null&&nh(fi)&&(fi=null),gi!==null&&nh(gi)&&(gi=null),pi!==null&&nh(pi)&&(pi=null),Gc.forEach(lb),Kc.forEach(lb)}function rh(n,a){n.blockedOn===a&&(n.blockedOn=null,Tg||(Tg=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,jS)))}var ih=null;function cb(n){ih!==n&&(ih=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){ih===n&&(ih=null);for(var a=0;a<n.length;a+=3){var l=n[a],u=n[a+1],f=n[a+2];if(typeof u!="function"){if(Sg(u||l)===null)continue;break}var x=Dn(l);x!==null&&(n.splice(a,3),a-=3,Sf(x,{pending:!0,data:f,method:l.method,action:u},u,f))}}))}function Wc(n){function a(P){return rh(P,n)}fi!==null&&rh(fi,n),gi!==null&&rh(gi,n),pi!==null&&rh(pi,n),Gc.forEach(a),Kc.forEach(a);for(var l=0;l<xi.length;l++){var u=xi[l];u.blockedOn===n&&(u.blockedOn=null)}for(;0<xi.length&&(l=xi[0],l.blockedOn===null);)ob(l),l.blockedOn===null&&xi.shift();if(l=(n.ownerDocument||n).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var f=l[u],x=l[u+1],_=f[rs]||null;if(typeof x=="function")_||cb(l);else if(_){var N=null;if(x&&x.hasAttribute("formAction")){if(f=x,_=x[rs]||null)N=_.formAction;else if(Sg(f)!==null)continue}else N=_.action;typeof N=="function"?l[u+1]=N:(l.splice(u,3),u-=3),cb(l)}}}function Eg(n){this._internalRoot=n}ah.prototype.render=Eg.prototype.render=function(n){var a=this._internalRoot;if(a===null)throw Error(r(409));var l=a.current,u=Fs();sb(l,u,n,a,null,null)},ah.prototype.unmount=Eg.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var a=n.containerInfo;sb(n.current,2,null,n,null,null),Bd(),a[ir]=null}};function ah(n){this._internalRoot=n}ah.prototype.unstable_scheduleHydration=function(n){if(n){var a=rr();n={blockedOn:null,target:n,priority:a};for(var l=0;l<xi.length&&a!==0&&a<xi[l].priority;l++);xi.splice(l,0,n),l===0&&ob(n)}};var ub=e.version;if(ub!=="19.1.0")throw Error(r(527,ub,"19.1.0"));me.findDOMNode=function(n){var a=n._reactInternals;if(a===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=g(a),n=n!==null?p(n):null,n=n===null?null:n.stateNode,n};var NS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oh.isDisabled&&oh.supportsFiber)try{Mr=oh.inject(NS),ms=oh}catch{}}return Xc.createRoot=function(n,a){if(!o(n))throw Error(r(299));var l=!1,u="",f=Ty,x=Ey,_=Ay,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(x=a.onCaughtError),a.onRecoverableError!==void 0&&(_=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(N=a.unstable_transitionCallbacks)),a=eb(n,1,!1,null,null,l,u,f,x,_,N,null),n[ir]=a.current,cg(n),new Eg(a)},Xc.hydrateRoot=function(n,a,l){if(!o(n))throw Error(r(299));var u=!1,f="",x=Ty,_=Ey,N=Ay,P=null,Y=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(f=l.identifierPrefix),l.onUncaughtError!==void 0&&(x=l.onUncaughtError),l.onCaughtError!==void 0&&(_=l.onCaughtError),l.onRecoverableError!==void 0&&(N=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(P=l.unstable_transitionCallbacks),l.formState!==void 0&&(Y=l.formState)),a=eb(n,1,!0,a,l??null,u,f,x,_,N,P,Y),a.context=tb(null),l=a.current,u=Fs(),u=Ql(u),f=ei(u),f.callback=null,ti(l,f,u),l=u,a.current.lanes=l,At(a,l),Hn(a),n[ir]=a.current,cg(n),new ah(a)},Xc.version="19.1.0",Xc}var bb;function MS(){if(bb)return Cg.exports;bb=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Cg.exports=DS(),Cg.exports}var VS=MS();function wb(i,e){if(typeof i=="function")return i(e);i!=null&&(i.current=e)}function LS(...i){return e=>{let t=!1;const r=i.map(o=>{const c=wb(o,e);return!t&&typeof c=="function"&&(t=!0),c});if(t)return()=>{for(let o=0;o<r.length;o++){const c=r[o];typeof c=="function"?c():wb(i[o],null)}}}}function US(...i){return te.useCallback(LS(...i),i)}function zS(i){const e=BS(i),t=te.forwardRef((r,o)=>{const{children:c,...d}=r,m=te.Children.toArray(c),g=m.find(qS);if(g){const p=g.props.children,y=m.map(b=>b===g?te.Children.count(p)>1?te.Children.only(null):te.isValidElement(p)?p.props.children:null:b);return s.jsx(e,{...d,ref:o,children:te.isValidElement(p)?te.cloneElement(p,void 0,y):null})}return s.jsx(e,{...d,ref:o,children:c})});return t.displayName=`${i}.Slot`,t}var D_=zS("Slot");function BS(i){const e=te.forwardRef((t,r)=>{const{children:o,...c}=t,d=te.isValidElement(o)?HS(o):void 0,m=US(d,r);if(te.isValidElement(o)){const g=FS(c,o.props);return o.type!==te.Fragment&&(g.ref=m),te.cloneElement(o,g)}return te.Children.count(o)>1?te.Children.only(null):null});return e.displayName=`${i}.SlotClone`,e}var $S=Symbol("radix.slottable");function qS(i){return te.isValidElement(i)&&typeof i.type=="function"&&"__radixId"in i.type&&i.type.__radixId===$S}function FS(i,e){const t={...e};for(const r in e){const o=i[r],c=e[r];/^on[A-Z]/.test(r)?o&&c?t[r]=(...m)=>{const g=c(...m);return o(...m),g}:o&&(t[r]=o):r==="style"?t[r]={...o,...c}:r==="className"&&(t[r]=[o,c].filter(Boolean).join(" "))}return{...i,...t}}function HS(i){var r,o;let e=(r=Object.getOwnPropertyDescriptor(i.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?i.ref:(e=(o=Object.getOwnPropertyDescriptor(i,"ref"))==null?void 0:o.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?i.props.ref:i.props.ref||i.ref)}function M_(i){var e,t,r="";if(typeof i=="string"||typeof i=="number")r+=i;else if(typeof i=="object")if(Array.isArray(i)){var o=i.length;for(e=0;e<o;e++)i[e]&&(t=M_(i[e]))&&(r&&(r+=" "),r+=t)}else for(t in i)i[t]&&(r&&(r+=" "),r+=t);return r}function V_(){for(var i,e,t=0,r="",o=arguments.length;t<o;t++)(i=arguments[t])&&(e=M_(i))&&(r&&(r+=" "),r+=e);return r}const _b=i=>typeof i=="boolean"?`${i}`:i===0?"0":i,jb=V_,L_=(i,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return jb(i,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:o,defaultVariants:c}=e,d=Object.keys(o).map(p=>{const y=t==null?void 0:t[p],b=c==null?void 0:c[p];if(y===null)return null;const j=_b(y)||_b(b);return o[p][j]}),m=t&&Object.entries(t).reduce((p,y)=>{let[b,j]=y;return j===void 0||(p[b]=j),p},{}),g=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((p,y)=>{let{class:b,className:j,...A}=y;return Object.entries(A).every(T=>{let[R,S]=T;return Array.isArray(S)?S.includes({...c,...m}[R]):{...c,...m}[R]===S})?[...p,b,j]:p},[]);return jb(i,d,g,t==null?void 0:t.class,t==null?void 0:t.className)},Jp="-",GS=i=>{const e=QS(i),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=i;return{getClassGroupId:d=>{const m=d.split(Jp);return m[0]===""&&m.length!==1&&m.shift(),U_(m,e)||KS(d)},getConflictingClassGroupIds:(d,m)=>{const g=t[d]||[];return m&&r[d]?[...g,...r[d]]:g}}},U_=(i,e)=>{var d;if(i.length===0)return e.classGroupId;const t=i[0],r=e.nextPart.get(t),o=r?U_(i.slice(1),r):void 0;if(o)return o;if(e.validators.length===0)return;const c=i.join(Jp);return(d=e.validators.find(({validator:m})=>m(c)))==null?void 0:d.classGroupId},Nb=/^\[(.+)\]$/,KS=i=>{if(Nb.test(i)){const e=Nb.exec(i)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},QS=i=>{const{theme:e,classGroups:t}=i,r={nextPart:new Map,validators:[]};for(const o in t)ap(t[o],r,o,e);return r},ap=(i,e,t,r)=>{i.forEach(o=>{if(typeof o=="string"){const c=o===""?e:Sb(e,o);c.classGroupId=t;return}if(typeof o=="function"){if(WS(o)){ap(o(r),e,t,r);return}e.validators.push({validator:o,classGroupId:t});return}Object.entries(o).forEach(([c,d])=>{ap(d,Sb(e,c),t,r)})})},Sb=(i,e)=>{let t=i;return e.split(Jp).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},WS=i=>i.isThemeGetter,YS=i=>{if(i<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const o=(c,d)=>{t.set(c,d),e++,e>i&&(e=0,r=t,t=new Map)};return{get(c){let d=t.get(c);if(d!==void 0)return d;if((d=r.get(c))!==void 0)return o(c,d),d},set(c,d){t.has(c)?t.set(c,d):o(c,d)}}},op="!",lp=":",XS=lp.length,JS=i=>{const{prefix:e,experimentalParseClassName:t}=i;let r=o=>{const c=[];let d=0,m=0,g=0,p;for(let T=0;T<o.length;T++){let R=o[T];if(d===0&&m===0){if(R===lp){c.push(o.slice(g,T)),g=T+XS;continue}if(R==="/"){p=T;continue}}R==="["?d++:R==="]"?d--:R==="("?m++:R===")"&&m--}const y=c.length===0?o:o.substring(g),b=ZS(y),j=b!==y,A=p&&p>g?p-g:void 0;return{modifiers:c,hasImportantModifier:j,baseClassName:b,maybePostfixModifierPosition:A}};if(e){const o=e+lp,c=r;r=d=>d.startsWith(o)?c(d.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:d,maybePostfixModifierPosition:void 0}}if(t){const o=r;r=c=>t({className:c,parseClassName:o})}return r},ZS=i=>i.endsWith(op)?i.substring(0,i.length-1):i.startsWith(op)?i.substring(1):i,eT=i=>{const e=Object.fromEntries(i.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const o=[];let c=[];return r.forEach(d=>{d[0]==="["||e[d]?(o.push(...c.sort(),d),c=[]):c.push(d)}),o.push(...c.sort()),o}},tT=i=>({cache:YS(i.cacheSize),parseClassName:JS(i),sortModifiers:eT(i),...GS(i)}),sT=/\s+/,nT=(i,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:o,sortModifiers:c}=e,d=[],m=i.trim().split(sT);let g="";for(let p=m.length-1;p>=0;p-=1){const y=m[p],{isExternal:b,modifiers:j,hasImportantModifier:A,baseClassName:T,maybePostfixModifierPosition:R}=t(y);if(b){g=y+(g.length>0?" "+g:g);continue}let S=!!R,q=r(S?T.substring(0,R):T);if(!q){if(!S){g=y+(g.length>0?" "+g:g);continue}if(q=r(T),!q){g=y+(g.length>0?" "+g:g);continue}S=!1}const D=c(j).join(":"),J=A?D+op:D,de=J+q;if(d.includes(de))continue;d.push(de);const pe=o(q,S);for(let he=0;he<pe.length;++he){const I=pe[he];d.push(J+I)}g=y+(g.length>0?" "+g:g)}return g};function rT(){let i=0,e,t,r="";for(;i<arguments.length;)(e=arguments[i++])&&(t=z_(e))&&(r&&(r+=" "),r+=t);return r}const z_=i=>{if(typeof i=="string")return i;let e,t="";for(let r=0;r<i.length;r++)i[r]&&(e=z_(i[r]))&&(t&&(t+=" "),t+=e);return t};function iT(i,...e){let t,r,o,c=d;function d(g){const p=e.reduce((y,b)=>b(y),i());return t=tT(p),r=t.cache.get,o=t.cache.set,c=m,m(g)}function m(g){const p=r(g);if(p)return p;const y=nT(g,t);return o(g,y),y}return function(){return c(rT.apply(null,arguments))}}const Kt=i=>{const e=t=>t[i]||[];return e.isThemeGetter=!0,e},B_=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,$_=/^\((?:(\w[\w-]*):)?(.+)\)$/i,aT=/^\d+\/\d+$/,oT=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lT=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,cT=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,uT=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,dT=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Zo=i=>aT.test(i),Ge=i=>!!i&&!Number.isNaN(Number(i)),vi=i=>!!i&&Number.isInteger(Number(i)),Pg=i=>i.endsWith("%")&&Ge(i.slice(0,-1)),Nr=i=>oT.test(i),hT=()=>!0,mT=i=>lT.test(i)&&!cT.test(i),q_=()=>!1,fT=i=>uT.test(i),gT=i=>dT.test(i),pT=i=>!_e(i)&&!je(i),xT=i=>Dl(i,G_,q_),_e=i=>B_.test(i),Va=i=>Dl(i,K_,mT),Dg=i=>Dl(i,_T,Ge),Tb=i=>Dl(i,F_,q_),yT=i=>Dl(i,H_,gT),lh=i=>Dl(i,Q_,fT),je=i=>$_.test(i),Jc=i=>Ml(i,K_),vT=i=>Ml(i,jT),Eb=i=>Ml(i,F_),bT=i=>Ml(i,G_),wT=i=>Ml(i,H_),ch=i=>Ml(i,Q_,!0),Dl=(i,e,t)=>{const r=B_.exec(i);return r?r[1]?e(r[1]):t(r[2]):!1},Ml=(i,e,t=!1)=>{const r=$_.exec(i);return r?r[1]?e(r[1]):t:!1},F_=i=>i==="position"||i==="percentage",H_=i=>i==="image"||i==="url",G_=i=>i==="length"||i==="size"||i==="bg-size",K_=i=>i==="length",_T=i=>i==="number",jT=i=>i==="family-name",Q_=i=>i==="shadow",NT=()=>{const i=Kt("color"),e=Kt("font"),t=Kt("text"),r=Kt("font-weight"),o=Kt("tracking"),c=Kt("leading"),d=Kt("breakpoint"),m=Kt("container"),g=Kt("spacing"),p=Kt("radius"),y=Kt("shadow"),b=Kt("inset-shadow"),j=Kt("text-shadow"),A=Kt("drop-shadow"),T=Kt("blur"),R=Kt("perspective"),S=Kt("aspect"),q=Kt("ease"),D=Kt("animate"),J=()=>["auto","avoid","all","avoid-page","page","left","right","column"],de=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],pe=()=>[...de(),je,_e],he=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto","contain","none"],k=()=>[je,_e,g],C=()=>[Zo,"full","auto",...k()],V=()=>[vi,"none","subgrid",je,_e],M=()=>["auto",{span:["full",vi,je,_e]},vi,je,_e],z=()=>[vi,"auto",je,_e],O=()=>["auto","min","max","fr",je,_e],et=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Be=()=>["start","end","center","stretch","center-safe","end-safe"],B=()=>["auto",...k()],me=()=>[Zo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...k()],le=()=>[i,je,_e],qe=()=>[...de(),Eb,Tb,{position:[je,_e]}],U=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ue=()=>["auto","cover","contain",bT,xT,{size:[je,_e]}],ye=()=>[Pg,Jc,Va],L=()=>["","none","full",p,je,_e],fe=()=>["",Ge,Jc,Va],Ee=()=>["solid","dashed","dotted","double"],Ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ke=()=>[Ge,Pg,Eb,Tb],rt=()=>["","none",T,je,_e],hs=()=>["none",Ge,je,_e],Cn=()=>["none",Ge,je,_e],Rn=()=>[Ge,je,_e],un=()=>[Zo,"full",...k()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Nr],breakpoint:[Nr],color:[hT],container:[Nr],"drop-shadow":[Nr],ease:["in","out","in-out"],font:[pT],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Nr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Nr],shadow:[Nr],spacing:["px",Ge],text:[Nr],"text-shadow":[Nr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Zo,_e,je,S]}],container:["container"],columns:[{columns:[Ge,_e,je,m]}],"break-after":[{"break-after":J()}],"break-before":[{"break-before":J()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:pe()}],overflow:[{overflow:he()}],"overflow-x":[{"overflow-x":he()}],"overflow-y":[{"overflow-y":he()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:C()}],"inset-x":[{"inset-x":C()}],"inset-y":[{"inset-y":C()}],start:[{start:C()}],end:[{end:C()}],top:[{top:C()}],right:[{right:C()}],bottom:[{bottom:C()}],left:[{left:C()}],visibility:["visible","invisible","collapse"],z:[{z:[vi,"auto",je,_e]}],basis:[{basis:[Zo,"full","auto",m,...k()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ge,Zo,"auto","initial","none",_e]}],grow:[{grow:["",Ge,je,_e]}],shrink:[{shrink:["",Ge,je,_e]}],order:[{order:[vi,"first","last","none",je,_e]}],"grid-cols":[{"grid-cols":V()}],"col-start-end":[{col:M()}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":V()}],"row-start-end":[{row:M()}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":O()}],"auto-rows":[{"auto-rows":O()}],gap:[{gap:k()}],"gap-x":[{"gap-x":k()}],"gap-y":[{"gap-y":k()}],"justify-content":[{justify:[...et(),"normal"]}],"justify-items":[{"justify-items":[...Be(),"normal"]}],"justify-self":[{"justify-self":["auto",...Be()]}],"align-content":[{content:["normal",...et()]}],"align-items":[{items:[...Be(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Be(),{baseline:["","last"]}]}],"place-content":[{"place-content":et()}],"place-items":[{"place-items":[...Be(),"baseline"]}],"place-self":[{"place-self":["auto",...Be()]}],p:[{p:k()}],px:[{px:k()}],py:[{py:k()}],ps:[{ps:k()}],pe:[{pe:k()}],pt:[{pt:k()}],pr:[{pr:k()}],pb:[{pb:k()}],pl:[{pl:k()}],m:[{m:B()}],mx:[{mx:B()}],my:[{my:B()}],ms:[{ms:B()}],me:[{me:B()}],mt:[{mt:B()}],mr:[{mr:B()}],mb:[{mb:B()}],ml:[{ml:B()}],"space-x":[{"space-x":k()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":k()}],"space-y-reverse":["space-y-reverse"],size:[{size:me()}],w:[{w:[m,"screen",...me()]}],"min-w":[{"min-w":[m,"screen","none",...me()]}],"max-w":[{"max-w":[m,"screen","none","prose",{screen:[d]},...me()]}],h:[{h:["screen","lh",...me()]}],"min-h":[{"min-h":["screen","lh","none",...me()]}],"max-h":[{"max-h":["screen","lh",...me()]}],"font-size":[{text:["base",t,Jc,Va]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,je,Dg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Pg,_e]}],"font-family":[{font:[vT,_e,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,je,_e]}],"line-clamp":[{"line-clamp":[Ge,"none",je,Dg]}],leading:[{leading:[c,...k()]}],"list-image":[{"list-image":["none",je,_e]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",je,_e]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:le()}],"text-color":[{text:le()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ee(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ge,"from-font","auto",je,Va]}],"text-decoration-color":[{decoration:le()}],"underline-offset":[{"underline-offset":[Ge,"auto",je,_e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",je,_e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",je,_e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:qe()}],"bg-repeat":[{bg:U()}],"bg-size":[{bg:ue()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},vi,je,_e],radial:["",je,_e],conic:[vi,je,_e]},wT,yT]}],"bg-color":[{bg:le()}],"gradient-from-pos":[{from:ye()}],"gradient-via-pos":[{via:ye()}],"gradient-to-pos":[{to:ye()}],"gradient-from":[{from:le()}],"gradient-via":[{via:le()}],"gradient-to":[{to:le()}],rounded:[{rounded:L()}],"rounded-s":[{"rounded-s":L()}],"rounded-e":[{"rounded-e":L()}],"rounded-t":[{"rounded-t":L()}],"rounded-r":[{"rounded-r":L()}],"rounded-b":[{"rounded-b":L()}],"rounded-l":[{"rounded-l":L()}],"rounded-ss":[{"rounded-ss":L()}],"rounded-se":[{"rounded-se":L()}],"rounded-ee":[{"rounded-ee":L()}],"rounded-es":[{"rounded-es":L()}],"rounded-tl":[{"rounded-tl":L()}],"rounded-tr":[{"rounded-tr":L()}],"rounded-br":[{"rounded-br":L()}],"rounded-bl":[{"rounded-bl":L()}],"border-w":[{border:fe()}],"border-w-x":[{"border-x":fe()}],"border-w-y":[{"border-y":fe()}],"border-w-s":[{"border-s":fe()}],"border-w-e":[{"border-e":fe()}],"border-w-t":[{"border-t":fe()}],"border-w-r":[{"border-r":fe()}],"border-w-b":[{"border-b":fe()}],"border-w-l":[{"border-l":fe()}],"divide-x":[{"divide-x":fe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":fe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ee(),"hidden","none"]}],"divide-style":[{divide:[...Ee(),"hidden","none"]}],"border-color":[{border:le()}],"border-color-x":[{"border-x":le()}],"border-color-y":[{"border-y":le()}],"border-color-s":[{"border-s":le()}],"border-color-e":[{"border-e":le()}],"border-color-t":[{"border-t":le()}],"border-color-r":[{"border-r":le()}],"border-color-b":[{"border-b":le()}],"border-color-l":[{"border-l":le()}],"divide-color":[{divide:le()}],"outline-style":[{outline:[...Ee(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ge,je,_e]}],"outline-w":[{outline:["",Ge,Jc,Va]}],"outline-color":[{outline:le()}],shadow:[{shadow:["","none",y,ch,lh]}],"shadow-color":[{shadow:le()}],"inset-shadow":[{"inset-shadow":["none",b,ch,lh]}],"inset-shadow-color":[{"inset-shadow":le()}],"ring-w":[{ring:fe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:le()}],"ring-offset-w":[{"ring-offset":[Ge,Va]}],"ring-offset-color":[{"ring-offset":le()}],"inset-ring-w":[{"inset-ring":fe()}],"inset-ring-color":[{"inset-ring":le()}],"text-shadow":[{"text-shadow":["none",j,ch,lh]}],"text-shadow-color":[{"text-shadow":le()}],opacity:[{opacity:[Ge,je,_e]}],"mix-blend":[{"mix-blend":[...Ne(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ne()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ge]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ke()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ke()}],"mask-image-linear-from-color":[{"mask-linear-from":le()}],"mask-image-linear-to-color":[{"mask-linear-to":le()}],"mask-image-t-from-pos":[{"mask-t-from":Ke()}],"mask-image-t-to-pos":[{"mask-t-to":Ke()}],"mask-image-t-from-color":[{"mask-t-from":le()}],"mask-image-t-to-color":[{"mask-t-to":le()}],"mask-image-r-from-pos":[{"mask-r-from":Ke()}],"mask-image-r-to-pos":[{"mask-r-to":Ke()}],"mask-image-r-from-color":[{"mask-r-from":le()}],"mask-image-r-to-color":[{"mask-r-to":le()}],"mask-image-b-from-pos":[{"mask-b-from":Ke()}],"mask-image-b-to-pos":[{"mask-b-to":Ke()}],"mask-image-b-from-color":[{"mask-b-from":le()}],"mask-image-b-to-color":[{"mask-b-to":le()}],"mask-image-l-from-pos":[{"mask-l-from":Ke()}],"mask-image-l-to-pos":[{"mask-l-to":Ke()}],"mask-image-l-from-color":[{"mask-l-from":le()}],"mask-image-l-to-color":[{"mask-l-to":le()}],"mask-image-x-from-pos":[{"mask-x-from":Ke()}],"mask-image-x-to-pos":[{"mask-x-to":Ke()}],"mask-image-x-from-color":[{"mask-x-from":le()}],"mask-image-x-to-color":[{"mask-x-to":le()}],"mask-image-y-from-pos":[{"mask-y-from":Ke()}],"mask-image-y-to-pos":[{"mask-y-to":Ke()}],"mask-image-y-from-color":[{"mask-y-from":le()}],"mask-image-y-to-color":[{"mask-y-to":le()}],"mask-image-radial":[{"mask-radial":[je,_e]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ke()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ke()}],"mask-image-radial-from-color":[{"mask-radial-from":le()}],"mask-image-radial-to-color":[{"mask-radial-to":le()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":de()}],"mask-image-conic-pos":[{"mask-conic":[Ge]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ke()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ke()}],"mask-image-conic-from-color":[{"mask-conic-from":le()}],"mask-image-conic-to-color":[{"mask-conic-to":le()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:qe()}],"mask-repeat":[{mask:U()}],"mask-size":[{mask:ue()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",je,_e]}],filter:[{filter:["","none",je,_e]}],blur:[{blur:rt()}],brightness:[{brightness:[Ge,je,_e]}],contrast:[{contrast:[Ge,je,_e]}],"drop-shadow":[{"drop-shadow":["","none",A,ch,lh]}],"drop-shadow-color":[{"drop-shadow":le()}],grayscale:[{grayscale:["",Ge,je,_e]}],"hue-rotate":[{"hue-rotate":[Ge,je,_e]}],invert:[{invert:["",Ge,je,_e]}],saturate:[{saturate:[Ge,je,_e]}],sepia:[{sepia:["",Ge,je,_e]}],"backdrop-filter":[{"backdrop-filter":["","none",je,_e]}],"backdrop-blur":[{"backdrop-blur":rt()}],"backdrop-brightness":[{"backdrop-brightness":[Ge,je,_e]}],"backdrop-contrast":[{"backdrop-contrast":[Ge,je,_e]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ge,je,_e]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ge,je,_e]}],"backdrop-invert":[{"backdrop-invert":["",Ge,je,_e]}],"backdrop-opacity":[{"backdrop-opacity":[Ge,je,_e]}],"backdrop-saturate":[{"backdrop-saturate":[Ge,je,_e]}],"backdrop-sepia":[{"backdrop-sepia":["",Ge,je,_e]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":k()}],"border-spacing-x":[{"border-spacing-x":k()}],"border-spacing-y":[{"border-spacing-y":k()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",je,_e]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ge,"initial",je,_e]}],ease:[{ease:["linear","initial",q,je,_e]}],delay:[{delay:[Ge,je,_e]}],animate:[{animate:["none",D,je,_e]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[R,je,_e]}],"perspective-origin":[{"perspective-origin":pe()}],rotate:[{rotate:hs()}],"rotate-x":[{"rotate-x":hs()}],"rotate-y":[{"rotate-y":hs()}],"rotate-z":[{"rotate-z":hs()}],scale:[{scale:Cn()}],"scale-x":[{"scale-x":Cn()}],"scale-y":[{"scale-y":Cn()}],"scale-z":[{"scale-z":Cn()}],"scale-3d":["scale-3d"],skew:[{skew:Rn()}],"skew-x":[{"skew-x":Rn()}],"skew-y":[{"skew-y":Rn()}],transform:[{transform:[je,_e,"","none","gpu","cpu"]}],"transform-origin":[{origin:pe()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:un()}],"translate-x":[{"translate-x":un()}],"translate-y":[{"translate-y":un()}],"translate-z":[{"translate-z":un()}],"translate-none":["translate-none"],accent:[{accent:le()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:le()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",je,_e]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",je,_e]}],fill:[{fill:["none",...le()]}],"stroke-w":[{stroke:[Ge,Jc,Va,Dg]}],stroke:[{stroke:["none",...le()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},ST=iT(NT);function ro(...i){return ST(V_(i))}const TT=L_("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function F({className:i,variant:e,size:t,asChild:r=!1,...o}){const c=r?D_:"button";return s.jsx(c,{"data-slot":"button",className:ro(TT({variant:e,size:t,className:i})),...o})}function G({className:i,...e}){return s.jsx("div",{"data-slot":"card",className:ro("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",i),...e})}function re({className:i,...e}){return s.jsx("div",{"data-slot":"card-header",className:ro("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",i),...e})}function oe({className:i,...e}){return s.jsx("div",{"data-slot":"card-title",className:ro("leading-none font-semibold",i),...e})}function Fe({className:i,...e}){return s.jsx("div",{"data-slot":"card-description",className:ro("text-muted-foreground text-sm",i),...e})}function Q({className:i,...e}){return s.jsx("div",{"data-slot":"card-content",className:ro("px-6",i),...e})}const ET=L_("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Oe({className:i,variant:e,asChild:t=!1,...r}){const o=t?D_:"span";return s.jsx(o,{"data-slot":"badge",className:ro(ET({variant:e}),i),...r})}/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),kT=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),Ab=i=>{const e=kT(i);return e.charAt(0).toUpperCase()+e.slice(1)},W_=(...i)=>i.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),CT=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var RT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=te.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:o="",children:c,iconNode:d,...m},g)=>te.createElement("svg",{ref:g,...RT,width:e,height:e,stroke:i,strokeWidth:r?Number(t)*24/Number(e):t,className:W_("lucide",o),...!c&&!CT(m)&&{"aria-hidden":"true"},...m},[...d.map(([p,y])=>te.createElement(p,y)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=(i,e)=>{const t=te.forwardRef(({className:r,...o},c)=>te.createElement(IT,{ref:c,iconNode:e,className:W_(`lucide-${AT(Ab(i))}`,`lucide-${i}`,r),...o}));return t.displayName=Ab(i),t};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Nn=ge("activity",OT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],DT=ge("archive",PT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],Y_=ge("arrow-down",MT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Rh=ge("arrow-right",VT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],X_=ge("arrow-up",LT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],J_=ge("award",UT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Ks=ge("bell",zT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Z_=ge("book-open",BT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],qT=ge("book",$T);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Ka=ge("bot",FT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],xl=ge("brain",HT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Tu=ge("briefcase",GT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],vl=ge("building-2",KT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],WT=ge("building",QT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],Ih=ge("calculator",YT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],us=ge("calendar",XT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]],ZT=ge("chart-line",JT);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eE=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Ui=ge("chart-column",eE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tE=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],e1=ge("chart-pie",tE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],nE=ge("check",sE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],iE=ge("chevron-down",rE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],oE=ge("chevron-up",aE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],zi=ge("circle-alert",lE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Bi=ge("circle-check-big",cE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],De=ge("circle-check",uE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Oh=ge("circle-help",dE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]],mE=ge("circle-pause",hE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]],gE=ge("circle-play",fE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Zp=ge("circle-x",pE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],yE=ge("circle",xE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],An=ge("clock",vE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],Mg=ge("cloud",bE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]],Tl=ge("code",wE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]],uh=ge("cog",_E);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],e0=ge("copy",jE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Ya=ge("credit-card",NE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],kb=ge("crown",SE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Ar=ge("database",TE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],er=ge("dollar-sign",EE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],$i=ge("download",AE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],t1=ge("eye-off",kE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Eu=ge("eye",CE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ws=ge("file-text",RE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],OE=ge("folder-open",IE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],DE=ge("folder",PE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],s1=ge("funnel",ME);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VE=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],n1=ge("graduation-cap",VE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=[["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M14 6a6 6 0 0 1 6 6v3",key:"1hnv84"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6",key:"9ciidu"}],["rect",{x:"2",y:"15",width:"20",height:"4",rx:"1",key:"g3x8cw"}]],UE=ge("hard-hat",LE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zE=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],r1=ge("house",zE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],cp=ge("info",BE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],qE=ge("key-round",$E);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Ph=ge("key",FE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.93 4.93 4.24 4.24",key:"1ymg45"}],["path",{d:"m14.83 9.17 4.24-4.24",key:"1cb5xl"}],["path",{d:"m14.83 14.83 4.24 4.24",key:"q42g0n"}],["path",{d:"m9.17 14.83-4.24 4.24",key:"bqpfvv"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]],GE=ge("life-buoy",HE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],QE=ge("list",KE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],YE=ge("loader",WE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],up=ge("lock",XE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],ZE=ge("log-out",JE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Ws=ge("mail",eA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],sA=ge("map-pin",tA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nA=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],rA=ge("map",nA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]],i1=ge("megaphone",iA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aA=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],oA=ge("menu",aA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lA=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],ki=ge("message-square",lA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cA=[["path",{d:"M5 12h14",key:"1ays0h"}]],uA=ge("minus",cA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dA=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],hA=ge("moon",dA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],a1=ge("palette",mA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],o1=ge("panels-top-left",fA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],bl=ge("pause",gA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pA=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Ci=ge("phone",pA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],iu=ge("play",xA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ze=ge("plus",yA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]],l1=ge("plug",vA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],gu=ge("refresh-cw",bA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Vg=ge("save",wA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],im=ge("search",_A);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jA=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],NA=ge("send",jA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SA=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],qi=ge("settings",SA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TA=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],As=ge("shield",TA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EA=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Cb=ge("sparkles",EA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AA=[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],kA=ge("square-check-big",AA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ks=ge("square-pen",CA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RA=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],dp=ge("star",RA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IA=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],OA=ge("sun",IA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Ri=ge("target",PA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DA=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],kr=ge("trash-2",DA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MA=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],sr=ge("trash",MA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VA=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],c1=ge("trending-down",VA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LA=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Ms=ge("trending-up",LA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UA=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Au=ge("triangle-alert",UA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],BA=ge("upload",zA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $A=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Rb=ge("user-plus",$A);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Xa=ge("user",qA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],bs=ge("users",FA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HA=[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]],u1=ge("webhook",HA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]],hp=ge("workflow",GA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],t0=ge("x",KA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Fa=ge("zap",QA),Ib="/assets/IMG_3575(1)-B07akN18.jpeg",WA="/assets/IMG_3557(1)-Bf6w_X7O.jpeg",YA="/assets/IMG_3554(1)-CshQ5I98.jpeg",XA="/assets/IMG_3556(1)-CjDxWsQq.jpeg",JA="/assets/IMG_3561(1)-DXa8U5hT.jpeg",ZA="/assets/IMG_3564(1)-C6wgy6i9.jpeg",e4="/assets/IMG_3551(1)-uvQF3SkX.jpeg";/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t4=()=>{};var Ob={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1=function(i){const e=[];let t=0;for(let r=0;r<i.length;r++){let o=i.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++r)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},s4=function(i){const e=[];let t=0,r=0;for(;t<i.length;){const o=i[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=i[t++];e[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=i[t++],d=i[t++],m=i[t++],g=((o&7)<<18|(c&63)<<12|(d&63)<<6|m&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const c=i[t++],d=i[t++];e[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},h1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<i.length;o+=3){const c=i[o],d=o+1<i.length,m=d?i[o+1]:0,g=o+2<i.length,p=g?i[o+2]:0,y=c>>2,b=(c&3)<<4|m>>4;let j=(m&15)<<2|p>>6,A=p&63;g||(A=64,d||(j=64)),r.push(t[y],t[b],t[j],t[A])}return r.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(d1(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):s4(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<i.length;){const c=t[i.charAt(o++)],m=o<i.length?t[i.charAt(o)]:0;++o;const p=o<i.length?t[i.charAt(o)]:64;++o;const b=o<i.length?t[i.charAt(o)]:64;if(++o,c==null||m==null||p==null||b==null)throw new n4;const j=c<<2|m>>4;if(r.push(j),p!==64){const A=m<<4&240|p>>2;if(r.push(A),b!==64){const T=p<<6&192|b;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class n4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const r4=function(i){const e=d1(i);return h1.encodeByteArray(e,!0)},Dh=function(i){return r4(i).replace(/\./g,"")},m1=function(i){try{return h1.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4=()=>i4().__FIREBASE_DEFAULTS__,o4=()=>{if(typeof process>"u"||typeof Ob>"u")return;const i=Ob.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},l4=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&m1(i[1]);return e&&JSON.parse(e)},am=()=>{try{return t4()||a4()||o4()||l4()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},f1=i=>{var e,t;return(t=(e=am())==null?void 0:e.emulatorHosts)==null?void 0:t[i]},c4=i=>{const e=f1(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},g1=()=>{var i;return(i=am())==null?void 0:i.config},p1=i=>{var e;return(e=am())==null?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let u4=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function x1(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d4(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",o=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Dh(JSON.stringify(t)),Dh(JSON.stringify(d)),""].join(".")}const au={};function h4(){const i={prod:[],emulator:[]};for(const e of Object.keys(au))au[e]?i.emulator.push(e):i.prod.push(e);return i}function m4(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let Pb=!1;function y1(i,e){if(typeof window>"u"||typeof document>"u"||!Vl(window.location.host)||au[i]===e||au[i]||Pb)return;au[i]=e;function t(j){return`__firebase__banner__${j}`}const r="__firebase__banner",c=h4().prod.length>0;function d(){const j=document.getElementById(r);j&&j.remove()}function m(j){j.style.display="flex",j.style.background="#7faaf0",j.style.position="fixed",j.style.bottom="5px",j.style.left="5px",j.style.padding=".5em",j.style.borderRadius="5px",j.style.alignItems="center"}function g(j,A){j.setAttribute("width","24"),j.setAttribute("id",A),j.setAttribute("height","24"),j.setAttribute("viewBox","0 0 24 24"),j.setAttribute("fill","none"),j.style.marginLeft="-6px"}function p(){const j=document.createElement("span");return j.style.cursor="pointer",j.style.marginLeft="16px",j.style.fontSize="24px",j.innerHTML=" &times;",j.onclick=()=>{Pb=!0,d()},j}function y(j,A){j.setAttribute("id",A),j.innerText="Learn more",j.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",j.setAttribute("target","__blank"),j.style.paddingLeft="5px",j.style.textDecoration="underline"}function b(){const j=m4(r),A=t("text"),T=document.getElementById(A)||document.createElement("span"),R=t("learnmore"),S=document.getElementById(R)||document.createElement("a"),q=t("preprendIcon"),D=document.getElementById(q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(j.created){const J=j.element;m(J),y(S,R);const de=p();g(D,q),J.append(D,T,S,de),document.body.appendChild(J)}c?(T.innerText="Preview backend disconnected.",D.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(D.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _s(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function f4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_s())}function g4(){var e;const i=(e=am())==null?void 0:e.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function p4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function x4(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function y4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function v4(){const i=_s();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function b4(){return!g4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function w4(){try{return typeof indexedDB=="object"}catch{return!1}}function _4(){return new Promise((i,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var c;e(((c=o.error)==null?void 0:c.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4="FirebaseError";class Dr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=j4,Object.setPrototypeOf(this,Dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ku.prototype.create)}}class ku{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?N4(c,r):"Error",m=`${this.serviceName}: ${d} (${o}).`;return new Dr(o,m,r)}}function N4(i,e){return i.replace(S4,(t,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const S4=/\{\$([^}]+)}/g;function T4(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Ja(i,e){if(i===e)return!0;const t=Object.keys(i),r=Object.keys(e);for(const o of t){if(!r.includes(o))return!1;const c=i[o],d=e[o];if(Db(c)&&Db(d)){if(!Ja(c,d))return!1}else if(c!==d)return!1}for(const o of r)if(!t.includes(o))return!1;return!0}function Db(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cu(i){const e=[];for(const[t,r]of Object.entries(i))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function E4(i,e){const t=new A4(i,e);return t.subscribe.bind(t)}class A4{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let o;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");k4(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:r},o.next===void 0&&(o.next=Lg),o.error===void 0&&(o.error=Lg),o.complete===void 0&&(o.complete=Lg);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function k4(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function Lg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ns(i){return i&&i._delegate?i._delegate:i}class Za{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new u4;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(I4(e))try{this.getOrInitializeService({instanceIdentifier:za})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=za){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=za){return this.instances.has(e)}getOptions(e=za){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[c,d]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);r===m&&d.resolve(o)}return o}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&e(c,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const o of r)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:R4(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=za){return this.component?this.component.multipleInstances?e:za:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function R4(i){return i===za?void 0:i}function I4(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new C4(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Xe||(Xe={}));const P4={debug:Xe.DEBUG,verbose:Xe.VERBOSE,info:Xe.INFO,warn:Xe.WARN,error:Xe.ERROR,silent:Xe.SILENT},D4=Xe.INFO,M4={[Xe.DEBUG]:"log",[Xe.VERBOSE]:"log",[Xe.INFO]:"info",[Xe.WARN]:"warn",[Xe.ERROR]:"error"},V4=(i,e,...t)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),o=M4[e];if(o)console[o](`[${r}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class s0{constructor(e){this.name=e,this._logLevel=D4,this._logHandler=V4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?P4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Xe.DEBUG,...e),this._logHandler(this,Xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Xe.VERBOSE,...e),this._logHandler(this,Xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Xe.INFO,...e),this._logHandler(this,Xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Xe.WARN,...e),this._logHandler(this,Xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Xe.ERROR,...e),this._logHandler(this,Xe.ERROR,...e)}}const L4=(i,e)=>e.some(t=>i instanceof t);let Mb,Vb;function U4(){return Mb||(Mb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function z4(){return Vb||(Vb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const v1=new WeakMap,mp=new WeakMap,b1=new WeakMap,Ug=new WeakMap,n0=new WeakMap;function B4(i){const e=new Promise((t,r)=>{const o=()=>{i.removeEventListener("success",c),i.removeEventListener("error",d)},c=()=>{t(Ii(i.result)),o()},d=()=>{r(i.error),o()};i.addEventListener("success",c),i.addEventListener("error",d)});return e.then(t=>{t instanceof IDBCursor&&v1.set(t,i)}).catch(()=>{}),n0.set(e,i),e}function $4(i){if(mp.has(i))return;const e=new Promise((t,r)=>{const o=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",d),i.removeEventListener("abort",d)},c=()=>{t(),o()},d=()=>{r(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",c),i.addEventListener("error",d),i.addEventListener("abort",d)});mp.set(i,e)}let fp={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return mp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||b1.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ii(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function q4(i){fp=i(fp)}function F4(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=i.call(zg(this),e,...t);return b1.set(r,e.sort?e.sort():[e]),Ii(r)}:z4().includes(i)?function(...e){return i.apply(zg(this),e),Ii(v1.get(this))}:function(...e){return Ii(i.apply(zg(this),e))}}function H4(i){return typeof i=="function"?F4(i):(i instanceof IDBTransaction&&$4(i),L4(i,U4())?new Proxy(i,fp):i)}function Ii(i){if(i instanceof IDBRequest)return B4(i);if(Ug.has(i))return Ug.get(i);const e=H4(i);return e!==i&&(Ug.set(i,e),n0.set(e,i)),e}const zg=i=>n0.get(i);function G4(i,e,{blocked:t,upgrade:r,blocking:o,terminated:c}={}){const d=indexedDB.open(i,e),m=Ii(d);return r&&d.addEventListener("upgradeneeded",g=>{r(Ii(d.result),g.oldVersion,g.newVersion,Ii(d.transaction),g)}),t&&d.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),m.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const K4=["get","getKey","getAll","getAllKeys","count"],Q4=["put","add","delete","clear"],Bg=new Map;function Lb(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Bg.get(e))return Bg.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=Q4.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(o||K4.includes(t)))return;const c=async function(d,...m){const g=this.transaction(d,o?"readwrite":"readonly");let p=g.store;return r&&(p=p.index(m.shift())),(await Promise.all([p[t](...m),o&&g.done]))[0]};return Bg.set(e,c),c}q4(i=>({...i,get:(e,t,r)=>Lb(e,t)||i.get(e,t,r),has:(e,t)=>!!Lb(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Y4(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function Y4(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const gp="@firebase/app",Ub="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr=new s0("@firebase/app"),X4="@firebase/app-compat",J4="@firebase/analytics-compat",Z4="@firebase/analytics",ek="@firebase/app-check-compat",tk="@firebase/app-check",sk="@firebase/auth",nk="@firebase/auth-compat",rk="@firebase/database",ik="@firebase/data-connect",ak="@firebase/database-compat",ok="@firebase/functions",lk="@firebase/functions-compat",ck="@firebase/installations",uk="@firebase/installations-compat",dk="@firebase/messaging",hk="@firebase/messaging-compat",mk="@firebase/performance",fk="@firebase/performance-compat",gk="@firebase/remote-config",pk="@firebase/remote-config-compat",xk="@firebase/storage",yk="@firebase/storage-compat",vk="@firebase/firestore",bk="@firebase/ai",wk="@firebase/firestore-compat",_k="firebase",jk="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pp="[DEFAULT]",Nk={[gp]:"fire-core",[X4]:"fire-core-compat",[Z4]:"fire-analytics",[J4]:"fire-analytics-compat",[tk]:"fire-app-check",[ek]:"fire-app-check-compat",[sk]:"fire-auth",[nk]:"fire-auth-compat",[rk]:"fire-rtdb",[ik]:"fire-data-connect",[ak]:"fire-rtdb-compat",[ok]:"fire-fn",[lk]:"fire-fn-compat",[ck]:"fire-iid",[uk]:"fire-iid-compat",[dk]:"fire-fcm",[hk]:"fire-fcm-compat",[mk]:"fire-perf",[fk]:"fire-perf-compat",[gk]:"fire-rc",[pk]:"fire-rc-compat",[xk]:"fire-gcs",[yk]:"fire-gcs-compat",[vk]:"fire-fst",[wk]:"fire-fst-compat",[bk]:"fire-vertex","fire-js":"fire-js",[_k]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh=new Map,Sk=new Map,xp=new Map;function zb(i,e){try{i.container.addComponent(e)}catch(t){Cr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function El(i){const e=i.name;if(xp.has(e))return Cr.debug(`There were multiple attempts to register component ${e}.`),!1;xp.set(e,i);for(const t of Mh.values())zb(t,i);for(const t of Sk.values())zb(t,i);return!0}function r0(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function jn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Oi=new ku("app","Firebase",Tk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Za("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Oi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ll=jk;function w1(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const r={name:pp,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Oi.create("bad-app-name",{appName:String(o)});if(t||(t=g1()),!t)throw Oi.create("no-options");const c=Mh.get(o);if(c){if(Ja(t,c.options)&&Ja(r,c.config))return c;throw Oi.create("duplicate-app",{appName:o})}const d=new O4(o);for(const g of xp.values())d.addComponent(g);const m=new Ek(t,r,d);return Mh.set(o,m),m}function _1(i=pp){const e=Mh.get(i);if(!e&&i===pp&&g1())return w1();if(!e)throw Oi.create("no-app",{appName:i});return e}function Pi(i,e,t){let r=Nk[i]??i;t&&(r+=`-${t}`);const o=r.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${r}" with version "${e}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Cr.warn(d.join(" "));return}El(new Za(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak="firebase-heartbeat-database",kk=1,pu="firebase-heartbeat-store";let $g=null;function j1(){return $g||($g=G4(Ak,kk,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(pu)}catch(t){console.warn(t)}}}}).catch(i=>{throw Oi.create("idb-open",{originalErrorMessage:i.message})})),$g}async function Ck(i){try{const t=(await j1()).transaction(pu),r=await t.objectStore(pu).get(N1(i));return await t.done,r}catch(e){if(e instanceof Dr)Cr.warn(e.message);else{const t=Oi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Cr.warn(t.message)}}}async function Bb(i,e){try{const r=(await j1()).transaction(pu,"readwrite");await r.objectStore(pu).put(e,N1(i)),await r.done}catch(t){if(t instanceof Dr)Cr.warn(t.message);else{const r=Oi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Cr.warn(r.message)}}}function N1(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rk=1024,Ik=30;class Ok{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Dk(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=$b();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>Ik){const d=Mk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Cr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=$b(),{heartbeatsToSend:r,unsentEntries:o}=Pk(this._heartbeatsCache.heartbeats),c=Dh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(t){return Cr.warn(t),""}}}function $b(){return new Date().toISOString().substring(0,10)}function Pk(i,e=Rk){const t=[];let r=i.slice();for(const o of i){const c=t.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),qb(t)>e){c.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),qb(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class Dk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return w4()?_4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Ck(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Bb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Bb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function qb(i){return Dh(JSON.stringify({version:2,heartbeats:i})).length}function Mk(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let r=1;r<i.length;r++)i[r].date<t&&(t=i[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vk(i){El(new Za("platform-logger",e=>new W4(e),"PRIVATE")),El(new Za("heartbeat",e=>new Ok(e),"PRIVATE")),Pi(gp,Ub,i),Pi(gp,Ub,"esm2020"),Pi("fire-js","")}Vk("");var Lk="firebase",Uk="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pi(Lk,Uk,"app");function S1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zk=S1,T1=new ku("auth","Firebase",S1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh=new s0("@firebase/auth");function Bk(i,...e){Vh.logLevel<=Xe.WARN&&Vh.warn(`Auth (${Ll}): ${i}`,...e)}function wh(i,...e){Vh.logLevel<=Xe.ERROR&&Vh.error(`Auth (${Ll}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(i,...e){throw i0(i,...e)}function Qn(i,...e){return i0(i,...e)}function E1(i,e,t){const r={...zk(),[e]:t};return new ku("auth","Firebase",r).create(e,{appName:i.name})}function Di(i){return E1(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function i0(i,...e){if(typeof i!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(t,...r)}return T1.create(i,...e)}function Pe(i,e,...t){if(!i)throw i0(e,...t)}function Tr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw wh(e),new Error(e)}function Ir(i,e){i||Tr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yp(){var i;return typeof self<"u"&&((i=self.location)==null?void 0:i.href)||""}function $k(){return Fb()==="http:"||Fb()==="https:"}function Fb(){var i;return typeof self<"u"&&((i=self.location)==null?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($k()||x4()||"connection"in navigator)?navigator.onLine:!0}function Fk(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ir(t>e,"Short delay should be less than long delay!"),this.isMobile=f4()||y4()}get(){return qk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0(i,e){Ir(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Kk=new Ru(3e4,6e4);function om(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Ul(i,e,t,r,o={}){return k1(i,o,async()=>{let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});const m=Cu({key:i.config.apiKey,...d}).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const p={method:e,headers:g,...c};return p4()||(p.referrerPolicy="no-referrer"),i.emulatorConfig&&Vl(i.emulatorConfig.host)&&(p.credentials="include"),A1.fetch()(await R1(i,i.config.apiHost,t,m),p)})}async function k1(i,e,t){i._canInitEmulator=!1;const r={...Hk,...e};try{const o=new Qk(i),c=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw dh(i,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const m=c.ok?d.errorMessage:d.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw dh(i,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw dh(i,"email-already-in-use",d);if(g==="USER_DISABLED")throw dh(i,"user-disabled",d);const y=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw E1(i,y,p);Rr(i,y)}}catch(o){if(o instanceof Dr)throw o;Rr(i,"network-request-failed",{message:String(o)})}}async function C1(i,e,t,r,o={}){const c=await Ul(i,e,t,r,o);return"mfaPendingCredential"in c&&Rr(i,"multi-factor-auth-required",{_serverResponse:c}),c}async function R1(i,e,t,r){const o=`${e}${t}?${r}`,c=i,d=c.config.emulator?a0(i.config,o):`${i.config.apiScheme}://${o}`;return Gk.includes(t)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class Qk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Qn(this.auth,"network-request-failed")),Kk.get())})}}function dh(i,e,t){const r={appName:i.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=Qn(i,e,r);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wk(i,e){return Ul(i,"POST","/v1/accounts:delete",e)}async function Lh(i,e){return Ul(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Yk(i,e=!1){const t=ns(i),r=await t.getIdToken(e),o=o0(r);Pe(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:o,token:r,authTime:ou(qg(o.auth_time)),issuedAtTime:ou(qg(o.iat)),expirationTime:ou(qg(o.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function qg(i){return Number(i)*1e3}function o0(i){const[e,t,r]=i.split(".");if(e===void 0||t===void 0||r===void 0)return wh("JWT malformed, contained fewer than 3 sections"),null;try{const o=m1(t);return o?JSON.parse(o):(wh("Failed to decode base64 JWT payload"),null)}catch(o){return wh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Hb(i){const e=o0(i);return Pe(e,"internal-error"),Pe(typeof e.exp<"u","internal-error"),Pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xu(i,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Dr&&Xk(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function Xk({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ou(this.lastLoginAt),this.creationTime=ou(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uh(i){var b;const e=i.auth,t=await i.getIdToken(),r=await xu(i,Lh(e,{idToken:t}));Pe(r==null?void 0:r.users.length,e,"internal-error");const o=r.users[0];i._notifyReloadListener(o);const c=(b=o.providerUserInfo)!=null&&b.length?I1(o.providerUserInfo):[],d=eC(i.providerData,c),m=i.isAnonymous,g=!(i.email&&o.passwordHash)&&!(d!=null&&d.length),p=m?g:!1,y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new vp(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(i,y)}async function Zk(i){const e=ns(i);await Uh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function eC(i,e){return[...i.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function I1(i){return i.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tC(i,e){const t=await k1(i,{},async()=>{const r=Cu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=i.config,d=await R1(i,o,"/v1/token",`key=${c}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:r};return i.emulatorConfig&&Vl(i.emulatorConfig.host)&&(g.credentials="include"),A1.fetch()(d,g)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function sC(i,e){return Ul(i,"POST","/v2/accounts:revokeToken",om(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pe(e.idToken,"internal-error"),Pe(typeof e.idToken<"u","internal-error"),Pe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Hb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Pe(e.length!==0,"internal-error");const t=Hb(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:o,expiresIn:c}=await tC(e,t);this.updateTokensAndExpiration(r,o,Number(c))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:c}=t,d=new wl;return r&&(Pe(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),o&&(Pe(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(Pe(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wl,this.toJSON())}_performRefresh(){return Tr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(i,e){Pe(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Sn{constructor({uid:e,auth:t,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new Jk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new vp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await xu(this,this.stsTokenManager.getToken(this.auth,e));return Pe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Yk(this,e)}reload(){return Zk(this)}_assign(e){this!==e&&(Pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Sn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Uh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(jn(this.auth.app))return Promise.reject(Di(this.auth));const e=await this.getIdToken();return await xu(this,Wk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,o=t.email??void 0,c=t.phoneNumber??void 0,d=t.photoURL??void 0,m=t.tenantId??void 0,g=t._redirectEventId??void 0,p=t.createdAt??void 0,y=t.lastLoginAt??void 0,{uid:b,emailVerified:j,isAnonymous:A,providerData:T,stsTokenManager:R}=t;Pe(b&&R,e,"internal-error");const S=wl.fromJSON(this.name,R);Pe(typeof b=="string",e,"internal-error"),bi(r,e.name),bi(o,e.name),Pe(typeof j=="boolean",e,"internal-error"),Pe(typeof A=="boolean",e,"internal-error"),bi(c,e.name),bi(d,e.name),bi(m,e.name),bi(g,e.name),bi(p,e.name),bi(y,e.name);const q=new Sn({uid:b,auth:e,email:o,emailVerified:j,displayName:r,isAnonymous:A,photoURL:d,phoneNumber:c,tenantId:m,stsTokenManager:S,createdAt:p,lastLoginAt:y});return T&&Array.isArray(T)&&(q.providerData=T.map(D=>({...D}))),g&&(q._redirectEventId=g),q}static async _fromIdTokenResponse(e,t,r=!1){const o=new wl;o.updateFromServerResponse(t);const c=new Sn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Uh(c),c}static async _fromGetAccountInfoResponse(e,t,r){const o=t.users[0];Pe(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?I1(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!(c!=null&&c.length),m=new wl;m.updateFromIdToken(r);const g=new Sn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:d}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new vp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(c!=null&&c.length)};return Object.assign(g,p),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb=new Map;function Er(i){Ir(i instanceof Function,"Expected a class definition");let e=Gb.get(i);return e?(Ir(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,Gb.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}O1.type="NONE";const Kb=O1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _h(i,e,t){return`firebase:${i}:${e}:${t}`}class _l{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:c}=this.auth;this.fullUserKey=_h(this.userKey,o.apiKey,c),this.fullPersistenceKey=_h("persistence",o.apiKey,c),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Lh(this.auth,{idToken:e}).catch(()=>{});return t?Sn._fromGetAccountInfoResponse(this.auth,t,e):null}return Sn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new _l(Er(Kb),e,r);const o=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let c=o[0]||Er(Kb);const d=_h(r,e.config.apiKey,e.name);let m=null;for(const p of t)try{const y=await p._get(d);if(y){let b;if(typeof y=="string"){const j=await Lh(e,{idToken:y}).catch(()=>{});if(!j)break;b=await Sn._fromGetAccountInfoResponse(e,j,y)}else b=Sn._fromJSON(e,y);p!==c&&(m=b),c=p;break}}catch{}const g=o.filter(p=>p._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new _l(c,e,r):(c=g[0],m&&await c._set(d,m.toJSON()),await Promise.all(t.map(async p=>{if(p!==c)try{await p._remove(d)}catch{}})),new _l(c,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(V1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(P1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(U1(e))return"Blackberry";if(z1(e))return"Webos";if(D1(e))return"Safari";if((e.includes("chrome/")||M1(e))&&!e.includes("edge/"))return"Chrome";if(L1(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function P1(i=_s()){return/firefox\//i.test(i)}function D1(i=_s()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function M1(i=_s()){return/crios\//i.test(i)}function V1(i=_s()){return/iemobile/i.test(i)}function L1(i=_s()){return/android/i.test(i)}function U1(i=_s()){return/blackberry/i.test(i)}function z1(i=_s()){return/webos/i.test(i)}function l0(i=_s()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function nC(i=_s()){var e;return l0(i)&&!!((e=window.navigator)!=null&&e.standalone)}function rC(){return v4()&&document.documentMode===10}function B1(i=_s()){return l0(i)||L1(i)||z1(i)||U1(i)||/windows phone/i.test(i)||V1(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(i,e=[]){let t;switch(i){case"Browser":t=Qb(_s());break;case"Worker":t=`${Qb(_s())}-${i}`;break;default:t=i}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ll}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=c=>new Promise((d,m)=>{try{const g=e(c);d(g)}catch(g){m(g)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aC(i,e={}){return Ul(i,"GET","/v2/passwordPolicy",om(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=6;class lC{constructor(e){var r;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??oC,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wb(this),this.idTokenSubscription=new Wb(this),this.beforeStateQueue=new iC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=T1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Er(t)),this._initializationPromise=this.queue(async()=>{var r,o,c;if(!this._deleted&&(this.persistenceManager=await _l.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((c=this.currentUser)==null?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Lh(this,{idToken:e}),r=await Sn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var c;if(jn(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(m,m))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(c=this.redirectUser)==null?void 0:c._redirectEventId,m=r==null?void 0:r._redirectEventId,g=await this.tryRedirectSignIn(e);(!d||d===m)&&(g!=null&&g.user)&&(r=g.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(d){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Uh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Fk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(jn(this.app))return Promise.reject(Di(this));const t=e?ns(e):null;return t&&Pe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return jn(this.app)?Promise.reject(Di(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return jn(this.app)?Promise.reject(Di(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Er(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await aC(this),t=new lC(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ku("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await sC(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Er(e)||this._popupRedirectResolver;Pe(t,this,"argument-error"),this.redirectPersistenceManager=await _l.create(this,[Er(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const c=typeof t=="function"?t:t.next.bind(t);let d=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pe(m,this,"internal-error"),m.then(()=>{d||c(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,r,o);return()=>{d=!0,g()}}else{const g=e.addObserver(t);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var t;if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&Bk(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function lm(i){return ns(i)}class Wb{constructor(e){this.auth=e,this.observer=null,this.addObserver=E4(t=>this.observer=t)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let c0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uC(i){c0=i}function dC(i){return c0.loadJS(i)}function hC(){return c0.gapiScript}function mC(i){return`__${i}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(i,e){const t=r0(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),c=t.getOptions();if(Ja(c,e??{}))return o;Rr(o,"already-initialized")}return t.initialize({options:e})}function gC(i,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Er);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function pC(i,e,t){const r=lm(i);Pe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,c=q1(e),{host:d,port:m}=xC(e),g=m===null?"":`:${m}`,p={url:`${c}//${d}${g}/`},y=Object.freeze({host:d,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Pe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Pe(Ja(p,r.config.emulator)&&Ja(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,Vl(d)?(x1(`${c}//${d}${g}`),y1("Auth",!0)):yC()}function q1(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function xC(i){const e=q1(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const c=o[1];return{host:c,port:Yb(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:Yb(d)}}}function Yb(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function yC(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Tr("not implemented")}_getIdTokenResponse(e){return Tr("not implemented")}_linkToIdToken(e,t){return Tr("not implemented")}_getReauthenticationResolver(e){return Tr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jl(i,e){return C1(i,"POST","/v1/accounts:signInWithIdp",om(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC="http://localhost";class eo extends F1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new eo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Rr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...c}=t;if(!r||!o)return null;const d=new eo(r,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const t=this.buildRequest();return jl(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,jl(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,jl(e,t)}buildRequest(){const e={requestUri:vC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Cu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu extends H1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends Iu{constructor(){super("facebook.com")}static credential(e){return eo._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ji.credential(e.oauthAccessToken)}catch{return null}}}ji.FACEBOOK_SIGN_IN_METHOD="facebook.com";ji.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends Iu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return eo._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ni.credentialFromTaggedObject(e)}static credentialFromError(e){return Ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Ni.credential(t,r)}catch{return null}}}Ni.GOOGLE_SIGN_IN_METHOD="google.com";Ni.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si extends Iu{constructor(){super("github.com")}static credential(e){return eo._fromParams({providerId:Si.PROVIDER_ID,signInMethod:Si.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Si.credentialFromTaggedObject(e)}static credentialFromError(e){return Si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Si.credential(e.oauthAccessToken)}catch{return null}}}Si.GITHUB_SIGN_IN_METHOD="github.com";Si.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends Iu{constructor(){super("twitter.com")}static credential(e,t){return eo._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ti.credentialFromTaggedObject(e)}static credentialFromError(e){return Ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Ti.credential(t,r)}catch{return null}}}Ti.TWITTER_SIGN_IN_METHOD="twitter.com";Ti.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bC(i,e){return C1(i,"POST","/v1/accounts:signUp",om(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,o=!1){const c=await Sn._fromIdTokenResponse(e,r,o),d=Xb(r);return new Fi({user:c,providerId:d,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const o=Xb(r);return new Fi({user:e,providerId:o,_tokenResponse:r,operationType:t})}}function Xb(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wC(i){var o;if(jn(i.app))return Promise.reject(Di(i));const e=lm(i);if(await e._initializationPromise,(o=e.currentUser)!=null&&o.isAnonymous)return new Fi({user:e.currentUser,providerId:null,operationType:"signIn"});const t=await bC(e,{returnSecureToken:!0}),r=await Fi._fromIdTokenResponse(e,"signIn",t,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh extends Dr{constructor(e,t,r,o){super(t.code,t.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,zh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,o){return new zh(e,t,r,o)}}function G1(i,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?zh._fromErrorAndOperation(i,c,e,r):c})}async function _C(i,e,t=!1){const r=await xu(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return Fi._forOperation(i,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jC(i,e,t=!1){const{auth:r}=i;if(jn(r.app))return Promise.reject(Di(r));const o="reauthenticate";try{const c=await xu(i,G1(r,o,e,i),t);Pe(c.idToken,r,"internal-error");const d=o0(c.idToken);Pe(d,r,"internal-error");const{sub:m}=d;return Pe(i.uid===m,r,"user-mismatch"),Fi._forOperation(i,o,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&Rr(r,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NC(i,e,t=!1){if(jn(i.app))return Promise.reject(Di(i));const r="signIn",o=await G1(i,r,e),c=await Fi._fromIdTokenResponse(i,r,o);return t||await i._updateCurrentUser(c.user),c}function SC(i,e,t,r){return ns(i).onIdTokenChanged(e,t,r)}function TC(i,e,t){return ns(i).beforeAuthStateChanged(e,t)}function EC(i,e,t,r){return ns(i).onAuthStateChanged(e,t,r)}function AC(i){return ns(i).signOut()}const Bh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Bh,"1"),this.storage.removeItem(Bh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC=1e3,CC=10;class Q1 extends K1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=B1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),o=this.localCache[t];r!==o&&e(t,o,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((d,m,g)=>{this.notifyListeners(d,g)});return}const r=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(r);!t&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);rC()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,CC):o()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},kC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Q1.type="LOCAL";const RC=Q1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1 extends K1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}W1.type="SESSION";const Y1=W1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IC(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const r=new cm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:o,data:c}=t.data,d=this.handlersMap[o];if(!(d!=null&&d.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(d).map(async p=>p(t.origin,c)),g=await IC(m);t.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u0(i="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((m,g)=>{const p=u0("",20);o.port1.start();const y=setTimeout(()=>{g(new Error("unsupported_event"))},r);d={messageChannel:o,onMessage(b){const j=b;if(j.data.eventId===p)switch(j.data.status){case"ack":clearTimeout(y),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(j.data.response);break;default:clearTimeout(y),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(){return window}function PC(i){Wn().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(){return typeof Wn().WorkerGlobalScope<"u"&&typeof Wn().importScripts=="function"}async function DC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function MC(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)==null?void 0:i.controller)||null}function VC(){return X1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1="firebaseLocalStorageDb",LC=1,$h="firebaseLocalStorage",Z1="fbase_key";class Ou{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function um(i,e){return i.transaction([$h],e?"readwrite":"readonly").objectStore($h)}function UC(){const i=indexedDB.deleteDatabase(J1);return new Ou(i).toPromise()}function bp(){const i=indexedDB.open(J1,LC);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore($h,{keyPath:Z1})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains($h)?e(r):(r.close(),await UC(),e(await bp()))})})}async function Jb(i,e,t){const r=um(i,!0).put({[Z1]:e,value:t});return new Ou(r).toPromise()}async function zC(i,e){const t=um(i,!1).get(e),r=await new Ou(t).toPromise();return r===void 0?null:r.value}function Zb(i,e){const t=um(i,!0).delete(e);return new Ou(t).toPromise()}const BC=800,$C=3;class ej{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>$C)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return X1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cm._getInstance(VC()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await DC(),!this.activeServiceWorker)return;this.sender=new OC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||MC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bp();return await Jb(e,Bh,"1"),await Zb(e,Bh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Jb(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>zC(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Zb(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=um(o,!1).getAll();return new Ou(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ej.type="LOCAL";const qC=ej;new Ru(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(i,e){return e?Er(e):(Pe(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0 extends F1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return jl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return jl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return jl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function HC(i){return NC(i.auth,new d0(i),i.bypassAuthState)}function GC(i){const{auth:e,user:t}=i;return Pe(t,e,"internal-error"),jC(t,new d0(i),i.bypassAuthState)}async function KC(i){const{auth:e,user:t}=i;return Pe(t,e,"internal-error"),_C(t,new d0(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(e,t,r,o,c=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:o,tenantId:c,error:d,type:m}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:t,sessionId:r,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return HC;case"linkViaPopup":case"linkViaRedirect":return KC;case"reauthViaPopup":case"reauthViaRedirect":return GC;default:Rr(this.auth,"internal-error")}}resolve(e){Ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC=new Ru(2e3,1e4);class yl extends tj{constructor(e,t,r,o,c){super(e,t,o,c),this.provider=r,this.authWindow=null,this.pollId=null,yl.currentPopupAction&&yl.currentPopupAction.cancel(),yl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pe(e,this.auth,"internal-error"),e}async onExecution(){Ir(this.filter.length===1,"Popup operations only handle one event");const e=u0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Qn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Qn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,yl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if((r=(t=this.authWindow)==null?void 0:t.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,QC.get())};e()}}yl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC="pendingRedirect",jh=new Map;class YC extends tj{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=jh.get(this.auth._key());if(!e){try{const r=await XC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}jh.set(this.auth._key(),e)}return this.bypassAuthState||jh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function XC(i,e){const t=eR(e),r=ZC(i);if(!await r._isAvailable())return!1;const o=await r._get(t)==="true";return await r._remove(t),o}function JC(i,e){jh.set(i._key(),e)}function ZC(i){return Er(i._redirectPersistence)}function eR(i){return _h(WC,i.config.apiKey,i.name)}async function tR(i,e,t=!1){if(jn(i.app))return Promise.reject(Di(i));const r=lm(i),o=FC(r,e),d=await new YC(r,o,t).execute();return d&&!t&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR=10*60*1e3;class nR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rR(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!sj(e)){const o=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";t.onError(Qn(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=sR&&this.cachedEventUids.clear(),this.cachedEventUids.has(ew(e))}saveEventToCache(e){this.cachedEventUids.add(ew(e)),this.lastProcessedEventTime=Date.now()}}function ew(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function sj({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function rR(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sj(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iR(i,e={}){return Ul(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oR=/^https?/;async function lR(i){if(i.config.emulator)return;const{authorizedDomains:e}=await iR(i);for(const t of e)try{if(cR(t))return}catch{}Rr(i,"unauthorized-domain")}function cR(i){const e=yp(),{protocol:t,hostname:r}=new URL(e);if(i.startsWith("chrome-extension://")){const d=new URL(i);return d.hostname===""&&r===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&d.hostname===r}if(!oR.test(t))return!1;if(aR.test(i))return r===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR=new Ru(3e4,6e4);function tw(){const i=Wn().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function dR(i){return new Promise((e,t)=>{var o,c,d;function r(){tw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{tw(),t(Qn(i,"network-request-failed"))},timeout:uR.get()})}if((c=(o=Wn().gapi)==null?void 0:o.iframes)!=null&&c.Iframe)e(gapi.iframes.getContext());else if((d=Wn().gapi)!=null&&d.load)r();else{const m=mC("iframefcb");return Wn()[m]=()=>{gapi.load?r():t(Qn(i,"network-request-failed"))},dC(`${hC()}?onload=${m}`).catch(g=>t(g))}}).catch(e=>{throw Nh=null,e})}let Nh=null;function hR(i){return Nh=Nh||dR(i),Nh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR=new Ru(5e3,15e3),fR="__/auth/iframe",gR="emulator/auth/iframe",pR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yR(i){const e=i.config;Pe(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?a0(e,gR):`https://${i.config.authDomain}/${fR}`,r={apiKey:e.apiKey,appName:i.name,v:Ll},o=xR.get(i.config.apiHost);o&&(r.eid=o);const c=i._getFrameworks();return c.length&&(r.fw=c.join(",")),`${t}?${Cu(r).slice(1)}`}async function vR(i){const e=await hR(i),t=Wn().gapi;return Pe(t,i,"internal-error"),e.open({where:document.body,url:yR(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pR,dontclear:!0},r=>new Promise(async(o,c)=>{await r.restyle({setHideOnLeave:!1});const d=Qn(i,"network-request-failed"),m=Wn().setTimeout(()=>{c(d)},mR.get());function g(){Wn().clearTimeout(m),o(r)}r.ping(g).then(g,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wR=500,_R=600,jR="_blank",NR="http://localhost";class sw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function SR(i,e,t,r=wR,o=_R){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const g={...bR,width:r.toString(),height:o.toString(),top:c,left:d},p=_s().toLowerCase();t&&(m=M1(p)?jR:t),P1(p)&&(e=e||NR,g.scrollbars="yes");const y=Object.entries(g).reduce((j,[A,T])=>`${j}${A}=${T},`,"");if(nC(p)&&m!=="_self")return TR(e||"",m),new sw(null);const b=window.open(e||"",m,y);Pe(b,i,"popup-blocked");try{b.focus()}catch{}return new sw(b)}function TR(i,e){const t=document.createElement("a");t.href=i,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER="__/auth/handler",AR="emulator/auth/handler",kR=encodeURIComponent("fac");async function nw(i,e,t,r,o,c){Pe(i.config.authDomain,i,"auth-domain-config-required"),Pe(i.config.apiKey,i,"invalid-api-key");const d={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:r,v:Ll,eventId:o};if(e instanceof H1){e.setDefaultLanguage(i.languageCode),d.providerId=e.providerId||"",T4(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,b]of Object.entries({}))d[y]=b}if(e instanceof Iu){const y=e.getScopes().filter(b=>b!=="");y.length>0&&(d.scopes=y.join(","))}i.tenantId&&(d.tid=i.tenantId);const m=d;for(const y of Object.keys(m))m[y]===void 0&&delete m[y];const g=await i._getAppCheckToken(),p=g?`#${kR}=${encodeURIComponent(g)}`:"";return`${CR(i)}?${Cu(m).slice(1)}${p}`}function CR({config:i}){return i.emulator?a0(i,AR):`https://${i.authDomain}/${ER}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fg="webStorageSupport";class RR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Y1,this._completeRedirectFn=tR,this._overrideRedirectResult=JC}async _openPopup(e,t,r,o){var d;Ir((d=this.eventManagers[e._key()])==null?void 0:d.manager,"_initialize() not called before _openPopup()");const c=await nw(e,t,r,yp(),o);return SR(e,c,u0())}async _openRedirect(e,t,r,o){await this._originValidation(e);const c=await nw(e,t,r,yp(),o);return PC(c),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:c}=this.eventManagers[t];return o?Promise.resolve(o):(Ir(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await vR(e),r=new nR(e);return t.register("authEvent",o=>(Pe(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Fg,{type:Fg},o=>{var d;const c=(d=o==null?void 0:o[0])==null?void 0:d[Fg];c!==void 0&&t(!!c),Rr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=lR(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return B1()||D1()||l0()}}const IR=RR;var rw="@firebase/auth",iw="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function DR(i){El(new Za("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:m}=r.options;Pe(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:d,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$1(i)},p=new cC(r,o,c,g);return gC(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),El(new Za("auth-internal",e=>{const t=lm(e.getProvider("auth").getImmediate());return(r=>new OR(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pi(rw,iw,PR(i)),Pi(rw,iw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=5*60,VR=p1("authIdTokenMaxAge")||MR;let aw=null;const LR=i=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>VR)return;const o=t==null?void 0:t.token;aw!==o&&(aw=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function UR(i=_1()){const e=r0(i,"auth");if(e.isInitialized())return e.getImmediate();const t=fC(i,{popupRedirectResolver:IR,persistence:[qC,RC,Y1]}),r=p1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=LR(c.toString());TC(t,d,()=>d(t.currentUser)),SC(t,m=>d(m))}}const o=f1("auth");return o&&pC(t,`http://${o}`),t}function zR(){var i;return((i=document.getElementsByTagName("head"))==null?void 0:i[0])??document}uC({loadJS(i){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",i),r.onload=e,r.onerror=o=>{const c=Qn("internal-error");c.customData=o,t(c)},r.type="text/javascript",r.charset="UTF-8",zR().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});DR("Browser");var ow=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Mi,nj;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,k){function C(){}C.prototype=k.prototype,I.F=k.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(V,M,z){for(var O=Array(arguments.length-2),et=2;et<arguments.length;et++)O[et-2]=arguments[et];return k.prototype[M].apply(V,O)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,k,C){C||(C=0);const V=Array(16);if(typeof k=="string")for(var M=0;M<16;++M)V[M]=k.charCodeAt(C++)|k.charCodeAt(C++)<<8|k.charCodeAt(C++)<<16|k.charCodeAt(C++)<<24;else for(M=0;M<16;++M)V[M]=k[C++]|k[C++]<<8|k[C++]<<16|k[C++]<<24;k=I.g[0],C=I.g[1],M=I.g[2];let z=I.g[3],O;O=k+(z^C&(M^z))+V[0]+3614090360&4294967295,k=C+(O<<7&4294967295|O>>>25),O=z+(M^k&(C^M))+V[1]+3905402710&4294967295,z=k+(O<<12&4294967295|O>>>20),O=M+(C^z&(k^C))+V[2]+606105819&4294967295,M=z+(O<<17&4294967295|O>>>15),O=C+(k^M&(z^k))+V[3]+3250441966&4294967295,C=M+(O<<22&4294967295|O>>>10),O=k+(z^C&(M^z))+V[4]+4118548399&4294967295,k=C+(O<<7&4294967295|O>>>25),O=z+(M^k&(C^M))+V[5]+1200080426&4294967295,z=k+(O<<12&4294967295|O>>>20),O=M+(C^z&(k^C))+V[6]+2821735955&4294967295,M=z+(O<<17&4294967295|O>>>15),O=C+(k^M&(z^k))+V[7]+4249261313&4294967295,C=M+(O<<22&4294967295|O>>>10),O=k+(z^C&(M^z))+V[8]+1770035416&4294967295,k=C+(O<<7&4294967295|O>>>25),O=z+(M^k&(C^M))+V[9]+2336552879&4294967295,z=k+(O<<12&4294967295|O>>>20),O=M+(C^z&(k^C))+V[10]+4294925233&4294967295,M=z+(O<<17&4294967295|O>>>15),O=C+(k^M&(z^k))+V[11]+2304563134&4294967295,C=M+(O<<22&4294967295|O>>>10),O=k+(z^C&(M^z))+V[12]+1804603682&4294967295,k=C+(O<<7&4294967295|O>>>25),O=z+(M^k&(C^M))+V[13]+4254626195&4294967295,z=k+(O<<12&4294967295|O>>>20),O=M+(C^z&(k^C))+V[14]+2792965006&4294967295,M=z+(O<<17&4294967295|O>>>15),O=C+(k^M&(z^k))+V[15]+1236535329&4294967295,C=M+(O<<22&4294967295|O>>>10),O=k+(M^z&(C^M))+V[1]+4129170786&4294967295,k=C+(O<<5&4294967295|O>>>27),O=z+(C^M&(k^C))+V[6]+3225465664&4294967295,z=k+(O<<9&4294967295|O>>>23),O=M+(k^C&(z^k))+V[11]+643717713&4294967295,M=z+(O<<14&4294967295|O>>>18),O=C+(z^k&(M^z))+V[0]+3921069994&4294967295,C=M+(O<<20&4294967295|O>>>12),O=k+(M^z&(C^M))+V[5]+3593408605&4294967295,k=C+(O<<5&4294967295|O>>>27),O=z+(C^M&(k^C))+V[10]+38016083&4294967295,z=k+(O<<9&4294967295|O>>>23),O=M+(k^C&(z^k))+V[15]+3634488961&4294967295,M=z+(O<<14&4294967295|O>>>18),O=C+(z^k&(M^z))+V[4]+3889429448&4294967295,C=M+(O<<20&4294967295|O>>>12),O=k+(M^z&(C^M))+V[9]+568446438&4294967295,k=C+(O<<5&4294967295|O>>>27),O=z+(C^M&(k^C))+V[14]+3275163606&4294967295,z=k+(O<<9&4294967295|O>>>23),O=M+(k^C&(z^k))+V[3]+4107603335&4294967295,M=z+(O<<14&4294967295|O>>>18),O=C+(z^k&(M^z))+V[8]+1163531501&4294967295,C=M+(O<<20&4294967295|O>>>12),O=k+(M^z&(C^M))+V[13]+2850285829&4294967295,k=C+(O<<5&4294967295|O>>>27),O=z+(C^M&(k^C))+V[2]+4243563512&4294967295,z=k+(O<<9&4294967295|O>>>23),O=M+(k^C&(z^k))+V[7]+1735328473&4294967295,M=z+(O<<14&4294967295|O>>>18),O=C+(z^k&(M^z))+V[12]+2368359562&4294967295,C=M+(O<<20&4294967295|O>>>12),O=k+(C^M^z)+V[5]+4294588738&4294967295,k=C+(O<<4&4294967295|O>>>28),O=z+(k^C^M)+V[8]+2272392833&4294967295,z=k+(O<<11&4294967295|O>>>21),O=M+(z^k^C)+V[11]+1839030562&4294967295,M=z+(O<<16&4294967295|O>>>16),O=C+(M^z^k)+V[14]+4259657740&4294967295,C=M+(O<<23&4294967295|O>>>9),O=k+(C^M^z)+V[1]+2763975236&4294967295,k=C+(O<<4&4294967295|O>>>28),O=z+(k^C^M)+V[4]+1272893353&4294967295,z=k+(O<<11&4294967295|O>>>21),O=M+(z^k^C)+V[7]+4139469664&4294967295,M=z+(O<<16&4294967295|O>>>16),O=C+(M^z^k)+V[10]+3200236656&4294967295,C=M+(O<<23&4294967295|O>>>9),O=k+(C^M^z)+V[13]+681279174&4294967295,k=C+(O<<4&4294967295|O>>>28),O=z+(k^C^M)+V[0]+3936430074&4294967295,z=k+(O<<11&4294967295|O>>>21),O=M+(z^k^C)+V[3]+3572445317&4294967295,M=z+(O<<16&4294967295|O>>>16),O=C+(M^z^k)+V[6]+76029189&4294967295,C=M+(O<<23&4294967295|O>>>9),O=k+(C^M^z)+V[9]+3654602809&4294967295,k=C+(O<<4&4294967295|O>>>28),O=z+(k^C^M)+V[12]+3873151461&4294967295,z=k+(O<<11&4294967295|O>>>21),O=M+(z^k^C)+V[15]+530742520&4294967295,M=z+(O<<16&4294967295|O>>>16),O=C+(M^z^k)+V[2]+3299628645&4294967295,C=M+(O<<23&4294967295|O>>>9),O=k+(M^(C|~z))+V[0]+4096336452&4294967295,k=C+(O<<6&4294967295|O>>>26),O=z+(C^(k|~M))+V[7]+1126891415&4294967295,z=k+(O<<10&4294967295|O>>>22),O=M+(k^(z|~C))+V[14]+2878612391&4294967295,M=z+(O<<15&4294967295|O>>>17),O=C+(z^(M|~k))+V[5]+4237533241&4294967295,C=M+(O<<21&4294967295|O>>>11),O=k+(M^(C|~z))+V[12]+1700485571&4294967295,k=C+(O<<6&4294967295|O>>>26),O=z+(C^(k|~M))+V[3]+2399980690&4294967295,z=k+(O<<10&4294967295|O>>>22),O=M+(k^(z|~C))+V[10]+4293915773&4294967295,M=z+(O<<15&4294967295|O>>>17),O=C+(z^(M|~k))+V[1]+2240044497&4294967295,C=M+(O<<21&4294967295|O>>>11),O=k+(M^(C|~z))+V[8]+1873313359&4294967295,k=C+(O<<6&4294967295|O>>>26),O=z+(C^(k|~M))+V[15]+4264355552&4294967295,z=k+(O<<10&4294967295|O>>>22),O=M+(k^(z|~C))+V[6]+2734768916&4294967295,M=z+(O<<15&4294967295|O>>>17),O=C+(z^(M|~k))+V[13]+1309151649&4294967295,C=M+(O<<21&4294967295|O>>>11),O=k+(M^(C|~z))+V[4]+4149444226&4294967295,k=C+(O<<6&4294967295|O>>>26),O=z+(C^(k|~M))+V[11]+3174756917&4294967295,z=k+(O<<10&4294967295|O>>>22),O=M+(k^(z|~C))+V[2]+718787259&4294967295,M=z+(O<<15&4294967295|O>>>17),O=C+(z^(M|~k))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+k&4294967295,I.g[1]=I.g[1]+(M+(O<<21&4294967295|O>>>11))&4294967295,I.g[2]=I.g[2]+M&4294967295,I.g[3]=I.g[3]+z&4294967295}r.prototype.v=function(I,k){k===void 0&&(k=I.length);const C=k-this.blockSize,V=this.C;let M=this.h,z=0;for(;z<k;){if(M==0)for(;z<=C;)o(this,I,z),z+=this.blockSize;if(typeof I=="string"){for(;z<k;)if(V[M++]=I.charCodeAt(z++),M==this.blockSize){o(this,V),M=0;break}}else for(;z<k;)if(V[M++]=I[z++],M==this.blockSize){o(this,V),M=0;break}}this.h=M,this.o+=k},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var k=1;k<I.length-8;++k)I[k]=0;k=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=k&255,k/=256;for(this.v(I),I=Array(16),k=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)I[k++]=this.g[C]>>>V&255;return I};function c(I,k){var C=m;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=k(I)}function d(I,k){this.h=k;const C=[];let V=!0;for(let M=I.length-1;M>=0;M--){const z=I[M]|0;V&&z==k||(C[M]=z,V=!1)}this.g=C}var m={};function g(I){return-128<=I&&I<128?c(I,function(k){return new d([k|0],k<0?-1:0)}):new d([I|0],I<0?-1:0)}function p(I){if(isNaN(I)||!isFinite(I))return b;if(I<0)return S(p(-I));const k=[];let C=1;for(let V=0;I>=C;V++)k[V]=I/C|0,C*=4294967296;return new d(k,0)}function y(I,k){if(I.length==0)throw Error("number format error: empty string");if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(I.charAt(0)=="-")return S(y(I.substring(1),k));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=p(Math.pow(k,8));let V=b;for(let z=0;z<I.length;z+=8){var M=Math.min(8,I.length-z);const O=parseInt(I.substring(z,z+M),k);M<8?(M=p(Math.pow(k,M)),V=V.j(M).add(p(O))):(V=V.j(C),V=V.add(p(O)))}return V}var b=g(0),j=g(1),A=g(16777216);i=d.prototype,i.m=function(){if(R(this))return-S(this).m();let I=0,k=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);I+=(V>=0?V:4294967296+V)*k,k*=4294967296}return I},i.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(T(this))return"0";if(R(this))return"-"+S(this).toString(I);const k=p(Math.pow(I,6));var C=this;let V="";for(;;){const M=de(C,k).g;C=q(C,M.j(k));let z=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=M,T(C))return z+V;for(;z.length<6;)z="0"+z;V=z+V}},i.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function T(I){if(I.h!=0)return!1;for(let k=0;k<I.g.length;k++)if(I.g[k]!=0)return!1;return!0}function R(I){return I.h==-1}i.l=function(I){return I=q(this,I),R(I)?-1:T(I)?0:1};function S(I){const k=I.g.length,C=[];for(let V=0;V<k;V++)C[V]=~I.g[V];return new d(C,~I.h).add(j)}i.abs=function(){return R(this)?S(this):this},i.add=function(I){const k=Math.max(this.g.length,I.g.length),C=[];let V=0;for(let M=0;M<=k;M++){let z=V+(this.i(M)&65535)+(I.i(M)&65535),O=(z>>>16)+(this.i(M)>>>16)+(I.i(M)>>>16);V=O>>>16,z&=65535,O&=65535,C[M]=O<<16|z}return new d(C,C[C.length-1]&-2147483648?-1:0)};function q(I,k){return I.add(S(k))}i.j=function(I){if(T(this)||T(I))return b;if(R(this))return R(I)?S(this).j(S(I)):S(S(this).j(I));if(R(I))return S(this.j(S(I)));if(this.l(A)<0&&I.l(A)<0)return p(this.m()*I.m());const k=this.g.length+I.g.length,C=[];for(var V=0;V<2*k;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let M=0;M<I.g.length;M++){const z=this.i(V)>>>16,O=this.i(V)&65535,et=I.i(M)>>>16,Be=I.i(M)&65535;C[2*V+2*M]+=O*Be,D(C,2*V+2*M),C[2*V+2*M+1]+=z*Be,D(C,2*V+2*M+1),C[2*V+2*M+1]+=O*et,D(C,2*V+2*M+1),C[2*V+2*M+2]+=z*et,D(C,2*V+2*M+2)}for(I=0;I<k;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=k;I<2*k;I++)C[I]=0;return new d(C,0)};function D(I,k){for(;(I[k]&65535)!=I[k];)I[k+1]+=I[k]>>>16,I[k]&=65535,k++}function J(I,k){this.g=I,this.h=k}function de(I,k){if(T(k))throw Error("division by zero");if(T(I))return new J(b,b);if(R(I))return k=de(S(I),k),new J(S(k.g),S(k.h));if(R(k))return k=de(I,S(k)),new J(S(k.g),k.h);if(I.g.length>30){if(R(I)||R(k))throw Error("slowDivide_ only works with positive integers.");for(var C=j,V=k;V.l(I)<=0;)C=pe(C),V=pe(V);var M=he(C,1),z=he(V,1);for(V=he(V,2),C=he(C,2);!T(V);){var O=z.add(V);O.l(I)<=0&&(M=M.add(C),z=O),V=he(V,1),C=he(C,1)}return k=q(I,M.j(k)),new J(M,k)}for(M=b;I.l(k)>=0;){for(C=Math.max(1,Math.floor(I.m()/k.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),z=p(C),O=z.j(k);R(O)||O.l(I)>0;)C-=V,z=p(C),O=z.j(k);T(z)&&(z=j),M=M.add(z),I=q(I,O)}return new J(M,I)}i.B=function(I){return de(this,I).h},i.and=function(I){const k=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<k;V++)C[V]=this.i(V)&I.i(V);return new d(C,this.h&I.h)},i.or=function(I){const k=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<k;V++)C[V]=this.i(V)|I.i(V);return new d(C,this.h|I.h)},i.xor=function(I){const k=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<k;V++)C[V]=this.i(V)^I.i(V);return new d(C,this.h^I.h)};function pe(I){const k=I.g.length+1,C=[];for(let V=0;V<k;V++)C[V]=I.i(V)<<1|I.i(V-1)>>>31;return new d(C,I.h)}function he(I,k){const C=k>>5;k%=32;const V=I.g.length-C,M=[];for(let z=0;z<V;z++)M[z]=k>0?I.i(z+C)>>>k|I.i(z+C+1)<<32-k:I.i(z+C);return new d(M,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,nj=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=p,d.fromString=y,Mi=d}).apply(typeof ow<"u"?ow:typeof self<"u"?self:typeof window<"u"?window:{});var hh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rj,eu,ij,Sh,wp,aj,oj,lj;(function(){var i,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof hh=="object"&&hh];for(var v=0;v<h.length;++v){var w=h[v];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=t(this);function o(h,v){if(v)e:{var w=r;h=h.split(".");for(var E=0;E<h.length-1;E++){var W=h[E];if(!(W in w))break e;w=w[W]}h=h[h.length-1],E=w[h],v=v(E),v!=E&&v!=null&&e(w,h,{configurable:!0,writable:!0,value:v})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(v){var w=[],E;for(E in v)Object.prototype.hasOwnProperty.call(v,E)&&w.push([E,v[E]]);return w}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function m(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function g(h,v,w){return h.call.apply(h.bind,arguments)}function p(h,v,w){return p=g,p.apply(null,arguments)}function y(h,v){var w=Array.prototype.slice.call(arguments,1);return function(){var E=w.slice();return E.push.apply(E,arguments),h.apply(this,E)}}function b(h,v){function w(){}w.prototype=v.prototype,h.Z=v.prototype,h.prototype=new w,h.prototype.constructor=h,h.Ob=function(E,W,ee){for(var xe=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)xe[Ve-2]=arguments[Ve];return v.prototype[W].apply(E,xe)}}var j=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function A(h){const v=h.length;if(v>0){const w=Array(v);for(let E=0;E<v;E++)w[E]=h[E];return w}return[]}function T(h,v){for(let E=1;E<arguments.length;E++){const W=arguments[E];var w=typeof W;if(w=w!="object"?w:W?Array.isArray(W)?"array":w:"null",w=="array"||w=="object"&&typeof W.length=="number"){w=h.length||0;const ee=W.length||0;h.length=w+ee;for(let xe=0;xe<ee;xe++)h[w+xe]=W[xe]}else h.push(W)}}class R{constructor(v,w){this.i=v,this.j=w,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function S(h){d.setTimeout(()=>{throw h},0)}function q(){var h=I;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class D{constructor(){this.h=this.g=null}add(v,w){const E=J.get();E.set(v,w),this.h?this.h.next=E:this.g=E,this.h=E}}var J=new R(()=>new de,h=>h.reset());class de{constructor(){this.next=this.g=this.h=null}set(v,w){this.h=v,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let pe,he=!1,I=new D,k=()=>{const h=Promise.resolve(void 0);pe=()=>{h.then(C)}};function C(){for(var h;h=q();){try{h.h.call(h.g)}catch(w){S(w)}var v=J;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}he=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var z=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const w=()=>{};d.addEventListener("test",w,v),d.removeEventListener("test",w,v)}catch{}return h}();function O(h){return/^[\s\xa0]*$/.test(h)}function et(h,v){M.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}b(et,M),et.prototype.init=function(h,v){const w=this.type=h.type,E=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(w=="mouseover"?v=h.fromElement:w=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&et.Z.h.call(this)},et.prototype.h=function(){et.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Be="closure_listenable_"+(Math.random()*1e6|0),B=0;function me(h,v,w,E,W){this.listener=h,this.proxy=null,this.src=v,this.type=w,this.capture=!!E,this.ha=W,this.key=++B,this.da=this.fa=!1}function le(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function qe(h,v,w){for(const E in h)v.call(w,h[E],E,h)}function U(h,v){for(const w in h)v.call(void 0,h[w],w,h)}function ue(h){const v={};for(const w in h)v[w]=h[w];return v}const ye="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(h,v){let w,E;for(let W=1;W<arguments.length;W++){E=arguments[W];for(w in E)h[w]=E[w];for(let ee=0;ee<ye.length;ee++)w=ye[ee],Object.prototype.hasOwnProperty.call(E,w)&&(h[w]=E[w])}}function fe(h){this.src=h,this.g={},this.h=0}fe.prototype.add=function(h,v,w,E,W){const ee=h.toString();h=this.g[ee],h||(h=this.g[ee]=[],this.h++);const xe=Ne(h,v,E,W);return xe>-1?(v=h[xe],w||(v.fa=!1)):(v=new me(v,this.src,ee,!!E,W),v.fa=w,h.push(v)),v};function Ee(h,v){const w=v.type;if(w in h.g){var E=h.g[w],W=Array.prototype.indexOf.call(E,v,void 0),ee;(ee=W>=0)&&Array.prototype.splice.call(E,W,1),ee&&(le(v),h.g[w].length==0&&(delete h.g[w],h.h--))}}function Ne(h,v,w,E){for(let W=0;W<h.length;++W){const ee=h[W];if(!ee.da&&ee.listener==v&&ee.capture==!!w&&ee.ha==E)return W}return-1}var Ke="closure_lm_"+(Math.random()*1e6|0),rt={};function hs(h,v,w,E,W){if(Array.isArray(v)){for(let ee=0;ee<v.length;ee++)hs(h,v[ee],w,E,W);return null}return w=qu(w),h&&h[Be]?h.J(v,w,m(E)?!!E.capture:!1,W):Cn(h,v,w,!1,E,W)}function Cn(h,v,w,E,W,ee){if(!v)throw Error("Invalid event type");const xe=m(W)?!!W.capture:!!W;let Ve=Hl(h);if(Ve||(h[Ke]=Ve=new fe(h)),w=Ve.add(v,w,E,xe,ee),w.proxy)return w;if(E=Rn(),w.proxy=E,E.src=h,E.listener=w,h.addEventListener)z||(W=xe),W===void 0&&(W=!1),h.addEventListener(v.toString(),E,W);else if(h.attachEvent)h.attachEvent(co(v.toString()),E);else if(h.addListener&&h.removeListener)h.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Rn(){function h(w){return v.call(h.src,h.listener,w)}const v=Am;return h}function un(h,v,w,E,W){if(Array.isArray(v))for(var ee=0;ee<v.length;ee++)un(h,v[ee],w,E,W);else E=m(E)?!!E.capture:!!E,w=qu(w),h&&h[Be]?(h=h.i,ee=String(v).toString(),ee in h.g&&(v=h.g[ee],w=Ne(v,w,E,W),w>-1&&(le(v[w]),Array.prototype.splice.call(v,w,1),v.length==0&&(delete h.g[ee],h.h--)))):h&&(h=Hl(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Ne(v,w,E,W)),(w=h>-1?v[h]:null)&&ea(w))}function ea(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[Be])Ee(v.i,h);else{var w=h.type,E=h.proxy;v.removeEventListener?v.removeEventListener(w,E,h.capture):v.detachEvent?v.detachEvent(co(w),E):v.addListener&&v.removeListener&&v.removeListener(E),(w=Hl(v))?(Ee(w,h),w.h==0&&(w.src=null,v[Ke]=null)):le(h)}}}function co(h){return h in rt?rt[h]:rt[h]="on"+h}function Am(h,v){if(h.da)h=!0;else{v=new et(v,this);const w=h.listener,E=h.ha||h.src;h.fa&&ea(h),h=w.call(E,v)}return h}function Hl(h){return h=h[Ke],h instanceof fe?h:null}var Cs="__closure_events_fn_"+(Math.random()*1e9>>>0);function qu(h){return typeof h=="function"?h:(h[Cs]||(h[Cs]=function(v){return h.handleEvent(v)}),h[Cs])}function qt(){V.call(this),this.i=new fe(this),this.M=this,this.G=null}b(qt,V),qt.prototype[Be]=!0,qt.prototype.removeEventListener=function(h,v,w,E){un(this,h,v,w,E)};function Yt(h,v){var w,E=h.G;if(E)for(w=[];E;E=E.G)w.push(E);if(h=h.M,E=v.type||v,typeof v=="string")v=new M(v,h);else if(v instanceof M)v.target=v.target||h;else{var W=v;v=new M(E,h),L(v,W)}W=!0;let ee,xe;if(w)for(xe=w.length-1;xe>=0;xe--)ee=v.g=w[xe],W=nr(ee,E,!0,v)&&W;if(ee=v.g=h,W=nr(ee,E,!0,v)&&W,W=nr(ee,E,!1,v)&&W,w)for(xe=0;xe<w.length;xe++)ee=v.g=w[xe],W=nr(ee,E,!1,v)&&W}qt.prototype.N=function(){if(qt.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const w=h.g[v];for(let E=0;E<w.length;E++)le(w[E]);delete h.g[v],h.h--}}this.G=null},qt.prototype.J=function(h,v,w,E){return this.i.add(String(h),v,!1,w,E)},qt.prototype.K=function(h,v,w,E){return this.i.add(String(h),v,!0,w,E)};function nr(h,v,w,E){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let W=!0;for(let ee=0;ee<v.length;++ee){const xe=v[ee];if(xe&&!xe.da&&xe.capture==w){const Ve=xe.listener,bt=xe.ha||xe.src;xe.fa&&Ee(h.i,xe),W=Ve.call(bt,E)!==!1&&W}}return W&&!E.defaultPrevented}function km(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:d.setTimeout(h,v||0)}function Gl(h){h.g=km(()=>{h.g=null,h.i&&(h.i=!1,Gl(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class Cm extends V{constructor(v,w){super(),this.m=v,this.l=w,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Gl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ta(h){V.call(this),this.h=h,this.g={}}b(ta,V);var Mr=[];function ms(h){qe(h.g,function(v,w){this.g.hasOwnProperty(w)&&ea(v)},h),h.g={}}ta.prototype.N=function(){ta.Z.N.call(this),ms(this)},ta.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ys=d.JSON.stringify,js=d.JSON.parse,Rm=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function Fu(){}function Hu(){}var In={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Vr(){M.call(this,"d")}b(Vr,M);function dn(){M.call(this,"c")}b(dn,M);var Xs={},Lr=null;function uo(){return Lr=Lr||new qt}Xs.Ia="serverreachability";function Kl(h){M.call(this,Xs.Ia,h)}b(Kl,M);function Ur(h){const v=uo();Yt(v,new Kl(v))}Xs.STAT_EVENT="statevent";function ho(h,v){M.call(this,Xs.STAT_EVENT,h),this.stat=v}b(ho,M);function At(h){const v=uo();Yt(v,new ho(v,h))}Xs.Ja="timingevent";function Gu(h,v){M.call(this,Xs.Ja,h),this.size=v}b(Gu,M);function zr(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},v)}function Br(){this.g=!0}Br.prototype.ua=function(){this.g=!1};function Ql(h,v,w,E,W,ee){h.info(function(){if(h.g)if(ee){var xe="",Ve=ee.split("&");for(let ot=0;ot<Ve.length;ot++){var bt=Ve[ot].split("=");if(bt.length>1){const Rt=bt[0];bt=bt[1];const Ls=Rt.split("_");xe=Ls.length>=2&&Ls[1]=="type"?xe+(Rt+"="+bt+"&"):xe+(Rt+"=redacted&")}}}else xe=null;else xe=ee;return"XMLHTTP REQ ("+E+") [attempt "+W+"]: "+v+`
`+w+`
`+xe})}function Wl(h,v,w,E,W,ee,xe){h.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+W+"]: "+v+`
`+w+`
`+ee+" "+xe})}function rr(h,v,w,E){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+On(h,w)+(E?" "+E:"")})}function Im(h,v){h.info(function(){return"TIMEOUT: "+v})}Br.prototype.info=function(){};function On(h,v){if(!h.g)return v;if(!v)return null;try{const ee=JSON.parse(v);if(ee){for(h=0;h<ee.length;h++)if(Array.isArray(ee[h])){var w=ee[h];if(!(w.length<2)){var E=w[1];if(Array.isArray(E)&&!(E.length<1)){var W=E[0];if(W!="noop"&&W!="stop"&&W!="close")for(let xe=1;xe<E.length;xe++)E[xe]=""}}}}return Ys(ee)}catch{return v}}var kt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},rs={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ir;function sa(){}b(sa,Fu),sa.prototype.g=function(){return new XMLHttpRequest},ir=new sa;function na(h){return encodeURIComponent(String(h))}function Om(h){var v=1;h=h.split(":");const w=[];for(;v>0&&h.length;)w.push(h.shift()),v--;return h.length&&w.push(h.join(":")),w}function hn(h,v,w,E){this.j=h,this.i=v,this.l=w,this.S=E||1,this.V=new ta(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new $r}function $r(){this.i=null,this.g="",this.h=!1}var mo={},Pn={};function Dn(h,v,w){h.M=1,h.A=or(jt(v)),h.u=w,h.R=!0,qr(h,null)}function qr(h,v){h.F=Date.now(),ra(h),h.B=jt(h.A);var w=h.B,E=h.S;Array.isArray(E)||(E=[String(E)]),Yu(w.i,"t",E),h.C=0,w=h.j.L,h.h=new $r,h.g=jo(h.j,w?v:null,!h.u),h.P>0&&(h.O=new Cm(p(h.Y,h,h.g),h.P)),v=h.V,w=h.g,E=h.ba;var W="readystatechange";Array.isArray(W)||(W&&(Mr[0]=W.toString()),W=Mr);for(let ee=0;ee<W.length;ee++){const xe=hs(w,W[ee],E||v.handleEvent,!1,v.h||v);if(!xe)break;v.g[xe.key]=xe}v=h.J?ue(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),Ur(),Ql(h.i,h.v,h.B,h.l,h.S,h.u)}hn.prototype.ba=function(h){h=h.target;const v=this.O;v&&fs(h)==3?v.j():this.Y(h)},hn.prototype.Y=function(h){try{if(h==this.g)e:{const Ve=fs(this.g),bt=this.g.ya(),ot=this.g.ca();if(!(Ve<3)&&(Ve!=3||this.g&&(this.h.h||this.g.la()||ga(this.g)))){this.K||Ve!=4||bt==7||(bt==8||ot<=0?Ur(3):Ur(2)),Vn(this);var v=this.g.ca();this.X=v;var w=Fr(this);if(this.o=v==200,Wl(this.i,this.v,this.B,this.l,this.S,Ve,v),this.o){if(this.U&&!this.L){t:{if(this.g){var E,W=this.g;if((E=W.g?W.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(E)){var ee=E;break t}}ee=null}if(h=ee)rr(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,fo(this,h);else{this.o=!1,this.m=3,At(12),Ln(this),ia(this);break e}}if(this.R){h=!0;let Rt;for(;!this.K&&this.C<w.length;)if(Rt=Ku(this,w),Rt==Pn){Ve==4&&(this.m=4,At(14),h=!1),rr(this.i,this.l,null,"[Incomplete Response]");break}else if(Rt==mo){this.m=4,At(15),rr(this.i,this.l,w,"[Invalid Chunk]"),h=!1;break}else rr(this.i,this.l,Rt,null),fo(this,Rt);if(Ct(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ve!=4||w.length!=0||this.h.h||(this.m=1,At(16),h=!1),this.o=this.o&&h,!h)rr(this.i,this.l,w,"[Invalid Chunked Response]"),Ln(this),ia(this);else if(w.length>0&&!this.W){this.W=!0;var xe=this.j;xe.g==this&&xe.aa&&!xe.P&&(xe.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),ic(xe),xe.P=!0,At(11))}}else rr(this.i,this.l,w,null),fo(this,w);Ve==4&&Ln(this),this.o&&!this.K&&(Ve==4?ac(this.j,this):(this.o=!1,ra(this)))}else pa(this.g),v==400&&w.indexOf("Unknown SID")>0?(this.m=3,At(12)):(this.m=0,At(13)),Ln(this),ia(this)}}}catch{}finally{}};function Fr(h){if(!Ct(h))return h.g.la();const v=ga(h.g);if(v==="")return"";let w="";const E=v.length,W=fs(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Ln(h),ia(h),"";h.h.i=new d.TextDecoder}for(let ee=0;ee<E;ee++)h.h.h=!0,w+=h.h.i.decode(v[ee],{stream:!(W&&ee==E-1)});return v.length=0,h.h.g+=w,h.C=0,h.h.g}function Ct(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Ku(h,v){var w=h.C,E=v.indexOf(`
`,w);return E==-1?Pn:(w=Number(v.substring(w,E)),isNaN(w)?mo:(E+=1,E+w>v.length?Pn:(v=v.slice(E,E+w),h.C=E+w,v)))}hn.prototype.cancel=function(){this.K=!0,Ln(this)};function ra(h){h.T=Date.now()+h.H,Mn(h,h.H)}function Mn(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=zr(p(h.aa,h),v)}function Vn(h){h.D&&(d.clearTimeout(h.D),h.D=null)}hn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Im(this.i,this.B),this.M!=2&&(Ur(),At(17)),Ln(this),this.m=2,ia(this)):Mn(this,this.T-h)};function ia(h){h.j.I==0||h.K||ac(h.j,h)}function Ln(h){Vn(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,ms(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function fo(h,v){try{var w=h.j;if(w.I!=0&&(w.g==h||la(w.h,h))){if(!h.L&&la(w.h,h)&&w.I==3){try{var E=w.Ba.g.parse(v)}catch{E=null}if(Array.isArray(E)&&E.length==3){var W=E;if(W[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<h.F)_o(w),Un(w);else break e;rc(w),At(18)}}else w.xa=W[1],0<w.xa-w.K&&W[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=zr(p(w.Va,w),6e3));Js(w.h)<=1&&w.ta&&(w.ta=void 0)}else ur(w,11)}else if((h.L||w.g==h)&&_o(w),!O(v))for(W=w.Ba.g.parse(v),v=0;v<W.length;v++){let ot=W[v];const Rt=ot[0];if(!(Rt<=w.K))if(w.K=Rt,ot=ot[1],w.I==2)if(ot[0]=="c"){w.M=ot[1],w.ba=ot[2];const Ls=ot[3];Ls!=null&&(w.ka=Ls,w.j.info("VER="+w.ka));const zn=ot[4];zn!=null&&(w.za=zn,w.j.info("SVER="+w.za));const gn=ot[5];gn!=null&&typeof gn=="number"&&gn>0&&(E=1.5*gn,w.O=E,w.j.info("backChannelRequestTimeoutMs_="+E)),E=w;const pn=h.g;if(pn){const xn=pn.g?pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xn){var ee=E.h;ee.g||xn.indexOf("spdy")==-1&&xn.indexOf("quic")==-1&&xn.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(go(ee,ee.h),ee.h=null))}if(E.G){const lc=pn.g?pn.g.getResponseHeader("X-HTTP-Session-Id"):null;lc&&(E.wa=lc,ut(E.J,E.G,lc))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-h.F,w.j.info("Handshake RTT: "+w.T+"ms")),E=w;var xe=h;if(E.na=id(E,E.L?E.ba:null,E.W),xe.L){ar(E.h,xe);var Ve=xe,bt=E.O;bt&&(Ve.H=bt),Ve.D&&(Vn(Ve),ra(Ve)),E.g=xe}else td(E);w.i.length>0&&ba(w)}else ot[0]!="stop"&&ot[0]!="close"||ur(w,7);else w.I==3&&(ot[0]=="stop"||ot[0]=="close"?ot[0]=="stop"?ur(w,7):ya(w):ot[0]!="noop"&&w.l&&w.l.qa(ot),w.A=0)}}Ur(4)}catch{}}var Pm=class{constructor(h,v){this.g=h,this.map=v}};function aa(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function oa(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Js(h){return h.h?1:h.g?h.g.size:0}function la(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function go(h,v){h.g?h.g.add(v):h.h=v}function ar(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}aa.prototype.cancel=function(){if(this.i=po(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function po(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const w of h.g.values())v=v.concat(w.G);return v}return A(h.i)}var xo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Dm(h,v){if(h){h=h.split("&");for(let w=0;w<h.length;w++){const E=h[w].indexOf("=");let W,ee=null;E>=0?(W=h[w].substring(0,E),ee=h[w].substring(E+1)):W=h[w],v(W,ee?decodeURIComponent(ee.replace(/\+/g," ")):"")}}}function mn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof mn?(this.l=h.l,Hr(this,h.j),this.o=h.o,this.g=h.g,ca(this,h.u),this.h=h.h,Gr(this,Xu(h.i)),this.m=h.m):h&&(v=String(h).match(xo))?(this.l=!1,Hr(this,v[1]||"",!0),this.o=ua(v[2]||""),this.g=ua(v[3]||"",!0),ca(this,v[4]),this.h=ua(v[5]||"",!0),Gr(this,v[6]||"",!0),this.m=ua(v[7]||"")):(this.l=!1,this.i=new Zs(null,this.l))}mn.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(Xt(v,Xl,!0),":");var w=this.g;return(w||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Xt(v,Xl,!0),"@"),h.push(na(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&h.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&h.push("/"),h.push(Xt(w,w.charAt(0)=="/"?Kr:Jl,!0))),(w=this.i.toString())&&h.push("?",w),(w=this.m)&&h.push("#",Xt(w,Wu)),h.join("")},mn.prototype.resolve=function(h){const v=jt(this);let w=!!h.j;w?Hr(v,h.j):w=!!h.o,w?v.o=h.o:w=!!h.g,w?v.g=h.g:w=h.u!=null;var E=h.h;if(w)ca(v,h.u);else if(w=!!h.h){if(E.charAt(0)!="/")if(this.g&&!this.h)E="/"+E;else{var W=v.h.lastIndexOf("/");W!=-1&&(E=v.h.slice(0,W+1)+E)}if(W=E,W==".."||W==".")E="";else if(W.indexOf("./")!=-1||W.indexOf("/.")!=-1){E=W.lastIndexOf("/",0)==0,W=W.split("/");const ee=[];for(let xe=0;xe<W.length;){const Ve=W[xe++];Ve=="."?E&&xe==W.length&&ee.push(""):Ve==".."?((ee.length>1||ee.length==1&&ee[0]!="")&&ee.pop(),E&&xe==W.length&&ee.push("")):(ee.push(Ve),E=!0)}E=ee.join("/")}else E=W}return w?v.h=E:w=h.i.toString()!=="",w?Gr(v,Xu(h.i)):w=!!h.m,w&&(v.m=h.m),v};function jt(h){return new mn(h)}function Hr(h,v,w){h.j=w?ua(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function ca(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function Gr(h,v,w){v instanceof Zs?(h.i=v,tc(h.i,h.l)):(w||(v=Xt(v,Qu)),h.i=new Zs(v,h.l))}function ut(h,v,w){h.i.set(v,w)}function or(h){return ut(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function ua(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Xt(h,v,w){return typeof h=="string"?(h=encodeURI(h).replace(v,Yl),w&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Yl(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Xl=/[#\/\?@]/g,Jl=/[#\?:]/g,Kr=/[#\?]/g,Qu=/[#\?@]/g,Wu=/#/g;function Zs(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function lr(h){h.g||(h.g=new Map,h.h=0,h.i&&Dm(h.i,function(v,w){h.add(decodeURIComponent(v.replace(/\+/g," ")),w)}))}i=Zs.prototype,i.add=function(h,v){lr(this),this.i=null,h=fn(this,h);let w=this.g.get(h);return w||this.g.set(h,w=[]),w.push(v),this.h+=1,this};function Zl(h,v){lr(h),v=fn(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function ec(h,v){return lr(h),v=fn(h,v),h.g.has(v)}i.forEach=function(h,v){lr(this),this.g.forEach(function(w,E){w.forEach(function(W){h.call(v,W,E,this)},this)},this)};function yo(h,v){lr(h);let w=[];if(typeof v=="string")ec(h,v)&&(w=w.concat(h.g.get(fn(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)w=w.concat(h[v]);return w}i.set=function(h,v){return lr(this),this.i=null,h=fn(this,h),ec(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},i.get=function(h,v){return h?(h=yo(this,h),h.length>0?String(h[0]):v):v};function Yu(h,v,w){Zl(h,v),w.length>0&&(h.i=null,h.g.set(fn(h,v),A(w)),h.h+=w.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let E=0;E<v.length;E++){var w=v[E];const W=na(w);w=yo(this,w);for(let ee=0;ee<w.length;ee++){let xe=W;w[ee]!==""&&(xe+="="+na(w[ee])),h.push(xe)}}return this.i=h.join("&")};function Xu(h){const v=new Zs;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function fn(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function tc(h,v){v&&!h.j&&(lr(h),h.i=null,h.g.forEach(function(w,E){const W=E.toLowerCase();E!=W&&(Zl(this,E),Yu(this,W,w))},h)),h.j=v}function sc(h,v){const w=new Br;if(d.Image){const E=new Image;E.onload=y(Ns,w,"TestLoadImage: loaded",!0,v,E),E.onerror=y(Ns,w,"TestLoadImage: error",!1,v,E),E.onabort=y(Ns,w,"TestLoadImage: abort",!1,v,E),E.ontimeout=y(Ns,w,"TestLoadImage: timeout",!1,v,E),d.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=h}else v(!1)}function Qr(h,v){const w=new Br,E=new AbortController,W=setTimeout(()=>{E.abort(),Ns(w,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:E.signal}).then(ee=>{clearTimeout(W),ee.ok?Ns(w,"TestPingServer: ok",!0,v):Ns(w,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(W),Ns(w,"TestPingServer: error",!1,v)})}function Ns(h,v,w,E,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),E(w)}catch{}}function Ju(){this.g=new Rm}function da(h){this.i=h.Sb||null,this.h=h.ab||!1}b(da,Fu),da.prototype.g=function(){return new ha(this.i,this.h)};function ha(h,v){qt.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(ha,qt),i=ha.prototype,i.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,cr(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||d).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ss(this)),this.readyState=0},i.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,cr(this)),this.g&&(this.readyState=3,cr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Wr(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Wr(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}i.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Ss(this):cr(this),this.readyState==3&&Wr(this)}},i.Oa=function(h){this.g&&(this.response=this.responseText=h,Ss(this))},i.Na=function(h){this.g&&(this.response=h,Ss(this))},i.ga=function(){this.g&&Ss(this)};function Ss(h){h.readyState=4,h.l=null,h.j=null,h.B=null,cr(h)}i.setRequestHeader=function(h,v){this.A.append(h,v)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var w=v.next();!w.done;)w=w.value,h.push(w[0]+": "+w[1]),w=v.next();return h.join(`\r
`)};function cr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ha.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Yr(h){let v="";return qe(h,function(w,E){v+=E,v+=":",v+=w,v+=`\r
`}),v}function en(h,v,w){e:{for(E in w){var E=!1;break e}E=!0}E||(w=Yr(w),typeof h=="string"?w!=null&&na(w):ut(h,v,w))}function pt(h){qt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(pt,qt);var vo=/^https?$/i,Zu=["POST","PUT"];i=pt.prototype,i.Fa=function(h){this.H=h},i.ea=function(h,v,w,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ir.g(),this.g.onreadystatechange=j(p(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(ee){ma(this,ee);return}if(h=w||"",w=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var W in E)w.set(W,E[W]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const ee of E.keys())w.set(ee,E.get(ee));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(w.keys()).find(ee=>ee.toLowerCase()=="content-type"),W=d.FormData&&h instanceof d.FormData,!(Array.prototype.indexOf.call(Zu,v,void 0)>=0)||E||W||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,xe]of w)this.g.setRequestHeader(ee,xe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(ee){ma(this,ee)}};function ma(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,fa(h),Ft(h)}function fa(h){h.A||(h.A=!0,Yt(h,"complete"),Yt(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Yt(this,"complete"),Yt(this,"abort"),Ft(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ft(this,!0)),pt.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?nc(this):this.Xa())},i.Xa=function(){nc(this)};function nc(h){if(h.h&&typeof c<"u"){if(h.v&&fs(h)==4)setTimeout(h.Ca.bind(h),0);else if(Yt(h,"readystatechange"),fs(h)==4){h.h=!1;try{const ee=h.ca();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var w;if(!(w=v)){var E;if(E=ee===0){let xe=String(h.D).match(xo)[1]||null;!xe&&d.self&&d.self.location&&(xe=d.self.location.protocol.slice(0,-1)),E=!vo.test(xe?xe.toLowerCase():"")}w=E}if(w)Yt(h,"complete"),Yt(h,"success");else{h.o=6;try{var W=fs(h)>2?h.g.statusText:""}catch{W=""}h.l=W+" ["+h.ca()+"]",fa(h)}}finally{Ft(h)}}}}function Ft(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const w=h.g;h.g=null,v||Yt(h,"ready");try{w.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function fs(h){return h.g?h.g.readyState:0}i.ca=function(){try{return fs(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),js(v)}};function ga(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function pa(h){const v={};h=(h.g&&fs(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<h.length;E++){if(O(h[E]))continue;var w=Om(h[E]);const W=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const ee=v[W]||[];v[W]=ee,ee.push(w)}U(v,function(E){return E.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function xa(h,v,w){return w&&w.internalChannelParams&&w.internalChannelParams[h]||v}function bo(h){this.za=0,this.i=[],this.j=new Br,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=xa("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=xa("baseRetryDelayMs",5e3,h),this.Za=xa("retryDelaySeedMs",1e4,h),this.Ta=xa("forwardChannelMaxRetries",2,h),this.va=xa("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new aa(h&&h.concurrentRequestLimit),this.Ba=new Ju,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=bo.prototype,i.ka=8,i.I=1,i.connect=function(h,v,w,E){At(0),this.W=h,this.H=v||{},w&&E!==void 0&&(this.H.OSID=w,this.H.OAID=E),this.F=this.X,this.J=id(this,null,this.W),ba(this)};function ya(h){if(va(h),h.I==3){var v=h.V++,w=jt(h.J);if(ut(w,"SID",h.M),ut(w,"RID",v),ut(w,"TYPE","terminate"),wa(h,w),v=new hn(h,h.j,v),v.M=2,v.A=or(jt(w)),w=!1,d.navigator&&d.navigator.sendBeacon)try{w=d.navigator.sendBeacon(v.A.toString(),"")}catch{}!w&&d.Image&&(new Image().src=v.A,w=!0),w||(v.g=jo(v.j,null),v.g.ea(v.A)),v.F=Date.now(),ra(v)}rd(h)}function Un(h){h.g&&(ic(h),h.g.cancel(),h.g=null)}function va(h){Un(h),h.v&&(d.clearTimeout(h.v),h.v=null),_o(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&d.clearTimeout(h.m),h.m=null)}function ba(h){if(!oa(h.h)&&!h.m){h.m=!0;var v=h.Ea;pe||k(),he||(pe(),he=!0),I.add(v,h),h.D=0}}function Mm(h,v){return Js(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=zr(p(h.Ea,h,v),nd(h,h.D)),h.D++,!0)}i.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const W=new hn(this,this.j,h);let ee=this.o;if(this.U&&(ee?(ee=ue(ee),L(ee,this.U)):ee=this.U),this.u!==null||this.R||(W.J=ee,ee=null),this.S)e:{for(var v=0,w=0;w<this.i.length;w++){t:{var E=this.i[w];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(v+=E,v>4096){v=w;break e}if(v===4096||w===this.i.length-1){v=w+1;break e}}v=1e3}else v=1e3;v=wo(this,W,v),w=jt(this.J),ut(w,"RID",h),ut(w,"CVER",22),this.G&&ut(w,"X-HTTP-Session-Id",this.G),wa(this,w),ee&&(this.R?v="headers="+na(Yr(ee))+"&"+v:this.u&&en(w,this.u,ee)),go(this.h,W),this.Ra&&ut(w,"TYPE","init"),this.S?(ut(w,"$req",v),ut(w,"SID","null"),W.U=!0,Dn(W,w,null)):Dn(W,w,v),this.I=2}}else this.I==3&&(h?ed(this,h):this.i.length==0||oa(this.h)||ed(this))};function ed(h,v){var w;v?w=v.l:w=h.V++;const E=jt(h.J);ut(E,"SID",h.M),ut(E,"RID",w),ut(E,"AID",h.K),wa(h,E),h.u&&h.o&&en(E,h.u,h.o),w=new hn(h,h.j,w,h.D+1),h.u===null&&(w.J=h.o),v&&(h.i=v.G.concat(h.i)),v=wo(h,w,1e3),w.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),go(h.h,w),Dn(w,E,v)}function wa(h,v){h.H&&qe(h.H,function(w,E){ut(v,E,w)}),h.l&&qe({},function(w,E){ut(v,E,w)})}function wo(h,v,w){w=Math.min(h.i.length,w);const E=h.l?p(h.l.Ka,h.l,h):null;e:{var W=h.i;let Ve=-1;for(;;){const bt=["count="+w];Ve==-1?w>0?(Ve=W[0].g,bt.push("ofs="+Ve)):Ve=0:bt.push("ofs="+Ve);let ot=!0;for(let Rt=0;Rt<w;Rt++){var ee=W[Rt].g;const Ls=W[Rt].map;if(ee-=Ve,ee<0)Ve=Math.max(0,W[Rt].g-100),ot=!1;else try{ee="req"+ee+"_"||"";try{var xe=Ls instanceof Map?Ls:Object.entries(Ls);for(const[zn,gn]of xe){let pn=gn;m(gn)&&(pn=Ys(gn)),bt.push(ee+zn+"="+encodeURIComponent(pn))}}catch(zn){throw bt.push(ee+"type="+encodeURIComponent("_badmap")),zn}}catch{E&&E(Ls)}}if(ot){xe=bt.join("&");break e}}xe=void 0}return h=h.i.splice(0,w),v.G=h,xe}function td(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;pe||k(),he||(pe(),he=!0),I.add(v,h),h.A=0}}function rc(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=zr(p(h.Da,h),nd(h,h.A)),h.A++,!0)}i.Da=function(){if(this.v=null,sd(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=zr(p(this.Wa,this),h)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,At(10),Un(this),sd(this))};function ic(h){h.B!=null&&(d.clearTimeout(h.B),h.B=null)}function sd(h){h.g=new hn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=jt(h.na);ut(v,"RID","rpc"),ut(v,"SID",h.M),ut(v,"AID",h.K),ut(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&ut(v,"TO",h.ia),ut(v,"TYPE","xmlhttp"),wa(h,v),h.u&&h.o&&en(v,h.u,h.o),h.O&&(h.g.H=h.O);var w=h.g;h=h.ba,w.M=1,w.A=or(jt(v)),w.u=null,w.R=!0,qr(w,h)}i.Va=function(){this.C!=null&&(this.C=null,Un(this),rc(this),At(19))};function _o(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function ac(h,v){var w=null;if(h.g==v){_o(h),ic(h),h.g=null;var E=2}else if(la(h.h,v))w=v.G,ar(h.h,v),E=1;else return;if(h.I!=0){if(v.o)if(E==1){w=v.u?v.u.length:0,v=Date.now()-v.F;var W=h.D;E=uo(),Yt(E,new Gu(E,w)),ba(h)}else td(h);else if(W=v.m,W==3||W==0&&v.X>0||!(E==1&&Mm(h,v)||E==2&&rc(h)))switch(w&&w.length>0&&(v=h.h,v.i=v.i.concat(w)),W){case 1:ur(h,5);break;case 4:ur(h,10);break;case 3:ur(h,6);break;default:ur(h,2)}}}function nd(h,v){let w=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(w*=2),w*v}function ur(h,v){if(h.j.info("Error code "+v),v==2){var w=p(h.bb,h),E=h.Ua;const W=!E;E=new mn(E||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Hr(E,"https"),or(E),W?sc(E.toString(),w):Qr(E.toString(),w)}else At(2);h.I=0,h.l&&h.l.pa(v),rd(h),va(h)}i.bb=function(h){h?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function rd(h){if(h.I=0,h.ja=[],h.l){const v=po(h.h);(v.length!=0||h.i.length!=0)&&(T(h.ja,v),T(h.ja,h.i),h.h.i.length=0,A(h.i),h.i.length=0),h.l.oa()}}function id(h,v,w){var E=w instanceof mn?jt(w):new mn(w);if(E.g!="")v&&(E.g=v+"."+E.g),ca(E,E.u);else{var W=d.location;E=W.protocol,v=v?v+"."+W.hostname:W.hostname,W=+W.port;const ee=new mn(null);E&&Hr(ee,E),v&&(ee.g=v),W&&ca(ee,W),w&&(ee.h=w),E=ee}return w=h.G,v=h.wa,w&&v&&ut(E,w,v),ut(E,"VER",h.ka),wa(h,E),E}function jo(h,v,w){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new pt(new da({ab:w})):new pt(h.ma),v.Fa(h.L),v}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function ad(){}i=ad.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function No(){}No.prototype.g=function(h,v){return new Ts(h,v)};function Ts(h,v){qt.call(this),this.g=new bo(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!O(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!O(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Xr(this)}b(Ts,qt),Ts.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ts.prototype.close=function(){ya(this.g)},Ts.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var w={};w.__data__=h,h=w}else this.v&&(w={},w.__data__=Ys(h),h=w);v.i.push(new Pm(v.Ya++,h)),v.I==3&&ba(v)},Ts.prototype.N=function(){this.g.l=null,delete this.j,ya(this.g),delete this.g,Ts.Z.N.call(this)};function oc(h){Vr.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const w in v){h=w;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}b(oc,Vr);function od(){dn.call(this),this.status=1}b(od,dn);function Xr(h){this.g=h}b(Xr,ad),Xr.prototype.ra=function(){Yt(this.g,"a")},Xr.prototype.qa=function(h){Yt(this.g,new oc(h))},Xr.prototype.pa=function(h){Yt(this.g,new od)},Xr.prototype.oa=function(){Yt(this.g,"b")},No.prototype.createWebChannel=No.prototype.g,Ts.prototype.send=Ts.prototype.o,Ts.prototype.open=Ts.prototype.m,Ts.prototype.close=Ts.prototype.close,lj=function(){return new No},oj=function(){return uo()},aj=Xs,wp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},kt.NO_ERROR=0,kt.TIMEOUT=8,kt.HTTP_ERROR=6,Sh=kt,rs.COMPLETE="complete",ij=rs,Hu.EventType=In,In.OPEN="a",In.CLOSE="b",In.ERROR="c",In.MESSAGE="d",qt.prototype.listen=qt.prototype.J,eu=Hu,pt.prototype.listenOnce=pt.prototype.K,pt.prototype.getLastError=pt.prototype.Ha,pt.prototype.getLastErrorCode=pt.prototype.ya,pt.prototype.getStatus=pt.prototype.ca,pt.prototype.getResponseJson=pt.prototype.La,pt.prototype.getResponseText=pt.prototype.la,pt.prototype.send=pt.prototype.ea,pt.prototype.setWithCredentials=pt.prototype.Fa,rj=pt}).apply(typeof hh<"u"?hh:typeof self<"u"?self:typeof window<"u"?window:{});const lw="@firebase/firestore",cw="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ys.UNAUTHENTICATED=new ys(null),ys.GOOGLE_CREDENTIALS=new ys("google-credentials-uid"),ys.FIRST_PARTY=new ys("first-party-uid"),ys.MOCK_USER=new ys("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to=new s0("@firebase/firestore");function dl(){return to.logLevel}function be(i,...e){if(to.logLevel<=Xe.DEBUG){const t=e.map(h0);to.debug(`Firestore (${zl}): ${i}`,...t)}}function Or(i,...e){if(to.logLevel<=Xe.ERROR){const t=e.map(h0);to.error(`Firestore (${zl}): ${i}`,...t)}}function Al(i,...e){if(to.logLevel<=Xe.WARN){const t=e.map(h0);to.warn(`Firestore (${zl}): ${i}`,...t)}}function h0(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(i,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,cj(i,r,t)}function cj(i,e,t){let r=`FIRESTORE (${zl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Or(r),new Error(r)}function at(i,e,t,r){let o="Unexpected state";typeof t=="string"?o=t:r=t,i||cj(e,o,r)}function Ue(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends Dr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class BR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ys.UNAUTHENTICATED))}shutdown(){}}class $R{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class qR{constructor(e){this.t=e,this.currentUser=ys.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){at(this.o===void 0,42304);let r=this.i;const o=g=>this.i!==r?(r=this.i,t(g)):Promise.resolve();let c=new Vi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Vi,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const g=c;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},m=g=>{be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(be("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Vi)}},0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(at(typeof r.accessToken=="string",31837,{l:r}),new uj(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return at(e===null||typeof e=="string",2055,{h:e}),new ys(e)}}class FR{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=ys.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class HR{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new FR(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(ys.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class uw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class GR{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,jn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){at(this.o===void 0,3512);const r=c=>{c.error!=null&&be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,be("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>r(c))};const o=c=>{be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new uw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(at(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new uw(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<i;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=KR(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<t&&(r+=e.charAt(o[c]%62))}return r}}function Je(i,e){return i<e?-1:i>e?1:0}function _p(i,e){const t=Math.min(i.length,e.length);for(let r=0;r<t;r++){const o=i.charAt(r),c=e.charAt(r);if(o!==c)return Hg(o)===Hg(c)?Je(o,c):Hg(o)?1:-1}return Je(i.length,e.length)}const QR=55296,WR=57343;function Hg(i){const e=i.charCodeAt(0);return e>=QR&&e<=WR}function kl(i,e,t){return i.length===e.length&&i.every((r,o)=>t(r,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw="__name__";class Kn{constructor(e,t,r){t===void 0?t=0:t>e.length&&Re(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Re(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Kn.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Kn?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const c=Kn.compareSegments(e.get(o),t.get(o));if(c!==0)return c}return Je(e.length,t.length)}static compareSegments(e,t){const r=Kn.isNumericId(e),o=Kn.isNumericId(t);return r&&!o?-1:!r&&o?1:r&&o?Kn.extractNumericId(e).compare(Kn.extractNumericId(t)):_p(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Mi.fromString(e.substring(4,e.length-2))}}class vt extends Kn{construct(e,t,r){return new vt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ve(ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new vt(t)}static emptyPath(){return new vt([])}}const YR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cs extends Kn{construct(e,t,r){return new cs(e,t,r)}static isValidIdentifier(e){return YR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cs.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===dw}static keyField(){return new cs([dw])}static fromServerFormat(e){const t=[];let r="",o=0;const c=()=>{if(r.length===0)throw new ve(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ve(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ve(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,o+=2}else m==="`"?(d=!d,o++):m!=="."||d?(r+=m,o++):(c(),o++)}if(c(),d)throw new ve(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cs(t)}static emptyPath(){return new cs([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(vt.fromString(e))}static fromName(e){return new Te(vt.fromString(e).popFirst(5))}static empty(){return new Te(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return vt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new vt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dj(i,e,t){if(!t)throw new ve(ie.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function XR(i,e,t,r){if(e===!0&&r===!0)throw new ve(ie.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function hw(i){if(!Te.isDocumentKey(i))throw new ve(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function mw(i){if(Te.isDocumentKey(i))throw new ve(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function hj(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function dm(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Re(12329,{type:typeof i})}function Tn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ve(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=dm(i);throw new ve(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(i,e){const t={typeString:i};return e&&(t.value=e),t}function Pu(i,e){if(!hj(i))throw new ve(ie.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const o=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in i)){t=`JSON missing required field: '${r}'`;break}const d=i[r];if(o&&typeof d!==o){t=`JSON field '${r}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){t=`Expected '${r}' field to equal '${c.value}'`;break}}if(t)throw new ve(ie.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw=-62135596800,gw=1e6;class wt{static now(){return wt.fromMillis(Date.now())}static fromDate(e){return wt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*gw);return new wt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ve(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ve(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<fw)throw new ve(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/gw}_compareTo(e){return this.seconds===e.seconds?Je(this.nanoseconds,e.nanoseconds):Je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:wt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Pu(e,wt._jsonSchema))return new wt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-fw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}wt._jsonSchemaVersion="firestore/timestamp/1.0",wt._jsonSchema={type:$t("string",wt._jsonSchemaVersion),seconds:$t("number"),nanoseconds:$t("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{static fromTimestamp(e){return new Me(e)}static min(){return new Me(new wt(0,0))}static max(){return new Me(new wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yu=-1;function JR(i,e){const t=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,o=Me.fromTimestamp(r===1e9?new wt(t+1,0):new wt(t,r));return new Hi(o,Te.empty(),e)}function ZR(i){return new Hi(i.readTime,i.key,yu)}class Hi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Hi(Me.min(),Te.empty(),yu)}static max(){return new Hi(Me.max(),Te.empty(),yu)}}function eI(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=Te.comparator(i.documentKey,e.documentKey),t!==0?t:Je(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bl(i){if(i.code!==ie.FAILED_PRECONDITION||i.message!==tI)throw i;be("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ce((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(t,c).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ce?t:ce.resolve(t)}catch(t){return ce.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ce.reject(t)}static resolve(e){return new ce((t,r)=>{t(e)})}static reject(e){return new ce((t,r)=>{r(e)})}static waitFor(e){return new ce((t,r)=>{let o=0,c=0,d=!1;e.forEach(m=>{++o,m.next(()=>{++c,d&&c===o&&t()},g=>r(g))}),d=!0,c===o&&t()})}static or(e){let t=ce.resolve(!1);for(const r of e)t=t.next(o=>o?ce.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,c)=>{r.push(t.call(this,o,c))}),this.waitFor(r)}static mapArray(e,t){return new ce((r,o)=>{const c=e.length,d=new Array(c);let m=0;for(let g=0;g<c;g++){const p=g;t(e[p]).next(y=>{d[p]=y,++m,m===c&&r(d)},y=>o(y))}})}static doWhile(e,t){return new ce((r,o)=>{const c=()=>{e()===!0?t().next(()=>{c()},o):r()};c()})}}function nI(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function $l(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}hm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0=-1;function mm(i){return i==null}function qh(i){return i===0&&1/i==-1/0}function rI(i){return typeof i=="number"&&Number.isInteger(i)&&!qh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mj="";function iI(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=pw(e)),e=aI(i.get(t),e);return pw(e)}function aI(i,e){let t=e;const r=i.length;for(let o=0;o<r;o++){const c=i.charAt(o);switch(c){case"\0":t+="";break;case mj:t+="";break;default:t+=c}}return t}function pw(i){return i+mj+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Xi(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function fj(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,t){this.comparator=e,this.root=t||ls.EMPTY}insert(e,t){return new St(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ls.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ls.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mh(this.root,e,this.comparator,!1)}getReverseIterator(){return new mh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mh(this.root,e,this.comparator,!0)}}class mh{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?r(e.key,t):1,t&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ls{constructor(e,t,r,o,c){this.key=e,this.value=t,this.color=r??ls.RED,this.left=o??ls.EMPTY,this.right=c??ls.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,c){return new ls(e??this.key,t??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,t,r),null):c===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ls.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return ls.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ls.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ls.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Re(27949);return e+(this.isRed()?0:1)}}ls.EMPTY=null,ls.RED=!0,ls.BLACK=!1;ls.EMPTY=new class{constructor(){this.size=0}get key(){throw Re(57766)}get value(){throw Re(16141)}get color(){throw Re(16727)}get left(){throw Re(29726)}get right(){throw Re(36894)}copy(e,t,r,o,c){return this}insert(e,t,r){return new ls(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new yw(this.data.getIterator())}getIteratorFrom(e){return new yw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Wt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=r.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Wt(this.comparator);return t.data=e,t}}class yw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e){this.fields=e,e.sort(cs.comparator)}static empty(){return new Qs([])}unionWith(e){let t=new Wt(cs.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Qs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return kl(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new gj("Invalid base64 string: "+c):c}}(e);return new ds(t)}static fromUint8Array(e){const t=function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c}(e);return new ds(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ds.EMPTY_BYTE_STRING=new ds("");const oI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gi(i){if(at(!!i,39018),typeof i=="string"){let e=0;const t=oI.exec(i);if(at(!!t,46558,{timestamp:i}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Pt(i.seconds),nanos:Pt(i.nanos)}}function Pt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Ki(i){return typeof i=="string"?ds.fromBase64String(i):ds.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pj="server_timestamp",xj="__type__",yj="__previous_value__",vj="__local_write_time__";function g0(i){var t,r;return((r=(((t=i==null?void 0:i.mapValue)==null?void 0:t.fields)||{})[xj])==null?void 0:r.stringValue)===pj}function fm(i){const e=i.mapValue.fields[yj];return g0(e)?fm(e):e}function vu(i){const e=Gi(i.mapValue.fields[vj].timestampValue);return new wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e,t,r,o,c,d,m,g,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=y}}const Fh="(default)";class bu{constructor(e,t){this.projectId=e,this.database=t||Fh}static empty(){return new bu("","")}get isDefaultDatabase(){return this.database===Fh}isEqual(e){return e instanceof bu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bj="__type__",cI="__max__",fh={mapValue:{}},wj="__vector__",Hh="value";function Qi(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?g0(i)?4:dI(i)?9007199254740991:uI(i)?10:11:Re(28295,{value:i})}function tr(i,e){if(i===e)return!0;const t=Qi(i);if(t!==Qi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return vu(i).isEqual(vu(e));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Gi(o.timestampValue),m=Gi(c.timestampValue);return d.seconds===m.seconds&&d.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,c){return Ki(o.bytesValue).isEqual(Ki(c.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,c){return Pt(o.geoPointValue.latitude)===Pt(c.geoPointValue.latitude)&&Pt(o.geoPointValue.longitude)===Pt(c.geoPointValue.longitude)}(i,e);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return Pt(o.integerValue)===Pt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Pt(o.doubleValue),m=Pt(c.doubleValue);return d===m?qh(d)===qh(m):isNaN(d)&&isNaN(m)}return!1}(i,e);case 9:return kl(i.arrayValue.values||[],e.arrayValue.values||[],tr);case 10:case 11:return function(o,c){const d=o.mapValue.fields||{},m=c.mapValue.fields||{};if(xw(d)!==xw(m))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(m[g]===void 0||!tr(d[g],m[g])))return!1;return!0}(i,e);default:return Re(52216,{left:i})}}function wu(i,e){return(i.values||[]).find(t=>tr(t,e))!==void 0}function Cl(i,e){if(i===e)return 0;const t=Qi(i),r=Qi(e);if(t!==r)return Je(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Je(i.booleanValue,e.booleanValue);case 2:return function(c,d){const m=Pt(c.integerValue||c.doubleValue),g=Pt(d.integerValue||d.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(i,e);case 3:return vw(i.timestampValue,e.timestampValue);case 4:return vw(vu(i),vu(e));case 5:return _p(i.stringValue,e.stringValue);case 6:return function(c,d){const m=Ki(c),g=Ki(d);return m.compareTo(g)}(i.bytesValue,e.bytesValue);case 7:return function(c,d){const m=c.split("/"),g=d.split("/");for(let p=0;p<m.length&&p<g.length;p++){const y=Je(m[p],g[p]);if(y!==0)return y}return Je(m.length,g.length)}(i.referenceValue,e.referenceValue);case 8:return function(c,d){const m=Je(Pt(c.latitude),Pt(d.latitude));return m!==0?m:Je(Pt(c.longitude),Pt(d.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return bw(i.arrayValue,e.arrayValue);case 10:return function(c,d){var j,A,T,R;const m=c.fields||{},g=d.fields||{},p=(j=m[Hh])==null?void 0:j.arrayValue,y=(A=g[Hh])==null?void 0:A.arrayValue,b=Je(((T=p==null?void 0:p.values)==null?void 0:T.length)||0,((R=y==null?void 0:y.values)==null?void 0:R.length)||0);return b!==0?b:bw(p,y)}(i.mapValue,e.mapValue);case 11:return function(c,d){if(c===fh.mapValue&&d===fh.mapValue)return 0;if(c===fh.mapValue)return 1;if(d===fh.mapValue)return-1;const m=c.fields||{},g=Object.keys(m),p=d.fields||{},y=Object.keys(p);g.sort(),y.sort();for(let b=0;b<g.length&&b<y.length;++b){const j=_p(g[b],y[b]);if(j!==0)return j;const A=Cl(m[g[b]],p[y[b]]);if(A!==0)return A}return Je(g.length,y.length)}(i.mapValue,e.mapValue);default:throw Re(23264,{he:t})}}function vw(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Je(i,e);const t=Gi(i),r=Gi(e),o=Je(t.seconds,r.seconds);return o!==0?o:Je(t.nanos,r.nanos)}function bw(i,e){const t=i.values||[],r=e.values||[];for(let o=0;o<t.length&&o<r.length;++o){const c=Cl(t[o],r[o]);if(c)return c}return Je(t.length,r.length)}function Rl(i){return jp(i)}function jp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const r=Gi(t);return`time(${r.seconds},${r.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return Ki(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return Te.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let r="[",o=!0;for(const c of t.values||[])o?o=!1:r+=",",r+=jp(c);return r+"]"}(i.arrayValue):"mapValue"in i?function(t){const r=Object.keys(t.fields||{}).sort();let o="{",c=!0;for(const d of r)c?c=!1:o+=",",o+=`${d}:${jp(t.fields[d])}`;return o+"}"}(i.mapValue):Re(61005,{value:i})}function Th(i){switch(Qi(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=fm(i);return e?16+Th(e):16;case 5:return 2*i.stringValue.length;case 6:return Ki(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((o,c)=>o+Th(c),0)}(i.arrayValue);case 10:case 11:return function(r){let o=0;return Xi(r.fields,(c,d)=>{o+=c.length+Th(d)}),o}(i.mapValue);default:throw Re(13486,{value:i})}}function ww(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Np(i){return!!i&&"integerValue"in i}function p0(i){return!!i&&"arrayValue"in i}function _w(i){return!!i&&"nullValue"in i}function jw(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Eh(i){return!!i&&"mapValue"in i}function uI(i){var t,r;return((r=(((t=i==null?void 0:i.mapValue)==null?void 0:t.fields)||{})[bj])==null?void 0:r.stringValue)===wj}function lu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Xi(i.mapValue.fields,(t,r)=>e.mapValue.fields[t]=lu(r)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=lu(i.arrayValue.values[t]);return e}return{...i}}function dI(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===cI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e){this.value=e}static empty(){return new Vs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Eh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=lu(t)}setAll(e){let t=cs.emptyPath(),r={},o=[];e.forEach((d,m)=>{if(!t.isImmediateParentOf(m)){const g=this.getFieldsMap(t);this.applyChanges(g,r,o),r={},o=[],t=m.popLast()}d?r[m.lastSegment()]=lu(d):o.push(m.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,r,o)}delete(e){const t=this.field(e.popLast());Eh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return tr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];Eh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Xi(t,(o,c)=>e[o]=c);for(const o of r)delete e[o]}clone(){return new Vs(lu(this.value))}}function _j(i){const e=[];return Xi(i.fields,(t,r)=>{const o=new cs([t]);if(Eh(r)){const c=_j(r.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)}),new Qs(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,t,r,o,c,d,m){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=c,this.data=d,this.documentState=m}static newInvalidDocument(e){return new vs(e,0,Me.min(),Me.min(),Me.min(),Vs.empty(),0)}static newFoundDocument(e,t,r,o){return new vs(e,1,t,Me.min(),r,o,0)}static newNoDocument(e,t){return new vs(e,2,t,Me.min(),Me.min(),Vs.empty(),0)}static newUnknownDocument(e,t){return new vs(e,3,t,Me.min(),Me.min(),Vs.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vs&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,t){this.position=e,this.inclusive=t}}function Nw(i,e,t){let r=0;for(let o=0;o<i.position.length;o++){const c=e[o],d=i.position[o];if(c.field.isKeyField()?r=Te.comparator(Te.fromName(d.referenceValue),t.key):r=Cl(d,t.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function Sw(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!tr(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,t="asc"){this.field=e,this.dir=t}}function hI(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{}class Bt extends jj{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new fI(e,t,r):t==="array-contains"?new xI(e,r):t==="in"?new yI(e,r):t==="not-in"?new vI(e,r):t==="array-contains-any"?new bI(e,r):new Bt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new gI(e,r):new pI(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Cl(t,this.value)):t!==null&&Qi(this.value)===Qi(t)&&this.matchesComparison(Cl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class kn extends jj{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new kn(e,t)}matches(e){return Nj(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Nj(i){return i.op==="and"}function Sj(i){return mI(i)&&Nj(i)}function mI(i){for(const e of i.filters)if(e instanceof kn)return!1;return!0}function Sp(i){if(i instanceof Bt)return i.field.canonicalString()+i.op.toString()+Rl(i.value);if(Sj(i))return i.filters.map(e=>Sp(e)).join(",");{const e=i.filters.map(t=>Sp(t)).join(",");return`${i.op}(${e})`}}function Tj(i,e){return i instanceof Bt?function(r,o){return o instanceof Bt&&r.op===o.op&&r.field.isEqual(o.field)&&tr(r.value,o.value)}(i,e):i instanceof kn?function(r,o){return o instanceof kn&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((c,d,m)=>c&&Tj(d,o.filters[m]),!0):!1}(i,e):void Re(19439)}function Ej(i){return i instanceof Bt?function(t){return`${t.field.canonicalString()} ${t.op} ${Rl(t.value)}`}(i):i instanceof kn?function(t){return t.op.toString()+" {"+t.getFilters().map(Ej).join(" ,")+"}"}(i):"Filter"}class fI extends Bt{constructor(e,t,r){super(e,t,r),this.key=Te.fromName(r.referenceValue)}matches(e){const t=Te.comparator(e.key,this.key);return this.matchesComparison(t)}}class gI extends Bt{constructor(e,t){super(e,"in",t),this.keys=Aj("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class pI extends Bt{constructor(e,t){super(e,"not-in",t),this.keys=Aj("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Aj(i,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map(r=>Te.fromName(r.referenceValue))}class xI extends Bt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return p0(t)&&wu(t.arrayValue,this.value)}}class yI extends Bt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&wu(this.value.arrayValue,t)}}class vI extends Bt{constructor(e,t){super(e,"not-in",t)}matches(e){if(wu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!wu(this.value.arrayValue,t)}}class bI extends Bt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!p0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>wu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e,t=null,r=[],o=[],c=null,d=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=d,this.endAt=m,this.Te=null}}function Tw(i,e=null,t=[],r=[],o=null,c=null,d=null){return new wI(i,e,t,r,o,c,d)}function x0(i){const e=Ue(i);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Sp(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(c){return c.field.canonicalString()+c.dir}(r)).join(","),mm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Rl(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Rl(r)).join(",")),e.Te=t}return e.Te}function y0(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!hI(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!Tj(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Sw(i.startAt,e.startAt)&&Sw(i.endAt,e.endAt)}function Tp(i){return Te.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e,t=null,r=[],o=[],c=null,d="F",m=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=d,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function _I(i,e,t,r,o,c,d,m){return new Du(i,e,t,r,o,c,d,m)}function v0(i){return new Du(i)}function Ew(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function kj(i){return i.collectionGroup!==null}function cu(i){const e=Ue(i);if(e.Ie===null){e.Ie=[];const t=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),t.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let m=new Wt(cs.comparator);return d.filters.forEach(g=>{g.getFlattenedFilters().forEach(p=>{p.isInequality()&&(m=m.add(p.field))})}),m})(e).forEach(c=>{t.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Kh(c,r))}),t.has(cs.keyField().canonicalString())||e.Ie.push(new Kh(cs.keyField(),r))}return e.Ie}function Yn(i){const e=Ue(i);return e.Ee||(e.Ee=jI(e,cu(i))),e.Ee}function jI(i,e){if(i.limitType==="F")return Tw(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new Kh(o.field,c)});const t=i.endAt?new Gh(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new Gh(i.startAt.position,i.startAt.inclusive):null;return Tw(i.path,i.collectionGroup,e,i.filters,i.limit,t,r)}}function Ep(i,e){const t=i.filters.concat([e]);return new Du(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function Ap(i,e,t){return new Du(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function gm(i,e){return y0(Yn(i),Yn(e))&&i.limitType===e.limitType}function Cj(i){return`${x0(Yn(i))}|lt:${i.limitType}`}function hl(i){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(o=>Ej(o)).join(", ")}]`),mm(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(o=>Rl(o)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(o=>Rl(o)).join(",")),`Target(${r})`}(Yn(i))}; limitType=${i.limitType})`}function pm(i,e){return e.isFoundDocument()&&function(r,o){const c=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):Te.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)}(i,e)&&function(r,o){for(const c of cu(r))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(i,e)&&function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0}(i,e)&&function(r,o){return!(r.startAt&&!function(d,m,g){const p=Nw(d,m,g);return d.inclusive?p<=0:p<0}(r.startAt,cu(r),o)||r.endAt&&!function(d,m,g){const p=Nw(d,m,g);return d.inclusive?p>=0:p>0}(r.endAt,cu(r),o))}(i,e)}function NI(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Rj(i){return(e,t)=>{let r=!1;for(const o of cu(i)){const c=SI(o,e,t);if(c!==0)return c;r=r||o.field.isKeyField()}return 0}}function SI(i,e,t){const r=i.field.isKeyField()?Te.comparator(e.key,t.key):function(c,d,m){const g=d.data.field(c),p=m.data.field(c);return g!==null&&p!==null?Cl(g,p):Re(42886)}(i.field,e,t);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return Re(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[o,c]of r)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Xi(this.inner,(t,r)=>{for(const[o,c]of r)e(o,c)})}isEmpty(){return fj(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI=new St(Te.comparator);function Pr(){return TI}const Ij=new St(Te.comparator);function tu(...i){let e=Ij;for(const t of i)e=e.insert(t.key,t);return e}function Oj(i){let e=Ij;return i.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ha(){return uu()}function Pj(){return uu()}function uu(){return new io(i=>i.toString(),(i,e)=>i.isEqual(e))}const EI=new St(Te.comparator),AI=new Wt(Te.comparator);function Ze(...i){let e=AI;for(const t of i)e=e.add(t);return e}const kI=new Wt(Je);function CI(){return kI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b0(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qh(e)?"-0":e}}function Dj(i){return{integerValue:""+i}}function RI(i,e){return rI(e)?Dj(e):b0(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(){this._=void 0}}function II(i,e,t){return i instanceof Qh?function(o,c){const d={fields:{[xj]:{stringValue:pj},[vj]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&g0(c)&&(c=fm(c)),c&&(d.fields[yj]=c),{mapValue:d}}(t,e):i instanceof _u?Vj(i,e):i instanceof ju?Lj(i,e):function(o,c){const d=Mj(o,c),m=Aw(d)+Aw(o.Ae);return Np(d)&&Np(o.Ae)?Dj(m):b0(o.serializer,m)}(i,e)}function OI(i,e,t){return i instanceof _u?Vj(i,e):i instanceof ju?Lj(i,e):t}function Mj(i,e){return i instanceof Wh?function(r){return Np(r)||function(c){return!!c&&"doubleValue"in c}(r)}(e)?e:{integerValue:0}:null}class Qh extends xm{}class _u extends xm{constructor(e){super(),this.elements=e}}function Vj(i,e){const t=Uj(e);for(const r of i.elements)t.some(o=>tr(o,r))||t.push(r);return{arrayValue:{values:t}}}class ju extends xm{constructor(e){super(),this.elements=e}}function Lj(i,e){let t=Uj(e);for(const r of i.elements)t=t.filter(o=>!tr(o,r));return{arrayValue:{values:t}}}class Wh extends xm{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Aw(i){return Pt(i.integerValue||i.doubleValue)}function Uj(i){return p0(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function PI(i,e){return i.field.isEqual(e.field)&&function(r,o){return r instanceof _u&&o instanceof _u||r instanceof ju&&o instanceof ju?kl(r.elements,o.elements,tr):r instanceof Wh&&o instanceof Wh?tr(r.Ae,o.Ae):r instanceof Qh&&o instanceof Qh}(i.transform,e.transform)}class DI{constructor(e,t){this.version=e,this.transformResults=t}}class En{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new En}static exists(e){return new En(void 0,e)}static updateTime(e){return new En(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ah(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class ym{}function zj(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new w0(i.key,En.none()):new Mu(i.key,i.data,En.none());{const t=i.data,r=Vs.empty();let o=new Wt(cs.comparator);for(let c of e.fields)if(!o.has(c)){let d=t.field(c);d===null&&c.length>1&&(c=c.popLast(),d=t.field(c)),d===null?r.delete(c):r.set(c,d),o=o.add(c)}return new Ji(i.key,r,new Qs(o.toArray()),En.none())}}function MI(i,e,t){i instanceof Mu?function(o,c,d){const m=o.value.clone(),g=Cw(o.fieldTransforms,c,d.transformResults);m.setAll(g),c.convertToFoundDocument(d.version,m).setHasCommittedMutations()}(i,e,t):i instanceof Ji?function(o,c,d){if(!Ah(o.precondition,c))return void c.convertToUnknownDocument(d.version);const m=Cw(o.fieldTransforms,c,d.transformResults),g=c.data;g.setAll(Bj(o)),g.setAll(m),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(i,e,t):function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,t)}function du(i,e,t,r){return i instanceof Mu?function(c,d,m,g){if(!Ah(c.precondition,d))return m;const p=c.value.clone(),y=Rw(c.fieldTransforms,g,d);return p.setAll(y),d.convertToFoundDocument(d.version,p).setHasLocalMutations(),null}(i,e,t,r):i instanceof Ji?function(c,d,m,g){if(!Ah(c.precondition,d))return m;const p=Rw(c.fieldTransforms,g,d),y=d.data;return y.setAll(Bj(c)),y.setAll(p),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(b=>b.field))}(i,e,t,r):function(c,d,m){return Ah(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):m}(i,e,t)}function VI(i,e){let t=null;for(const r of i.fieldTransforms){const o=e.data.field(r.field),c=Mj(r.transform,o||null);c!=null&&(t===null&&(t=Vs.empty()),t.set(r.field,c))}return t||null}function kw(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&kl(r,o,(c,d)=>PI(c,d))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Mu extends ym{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ji extends ym{constructor(e,t,r,o,c=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Bj(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=i.data.field(t);e.set(t,r)}}),e}function Cw(i,e,t){const r=new Map;at(i.length===t.length,32656,{Re:t.length,Ve:i.length});for(let o=0;o<t.length;o++){const c=i[o],d=c.transform,m=e.data.field(c.field);r.set(c.field,OI(d,m,t[o]))}return r}function Rw(i,e,t){const r=new Map;for(const o of i){const c=o.transform,d=t.data.field(o.field);r.set(o.field,II(c,d,e))}return r}class w0 extends ym{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class LI extends ym{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&MI(c,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=du(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=du(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Pj();return this.mutations.forEach(o=>{const c=e.get(o.key),d=c.overlayedDocument;let m=this.applyToLocalView(d,c.mutatedFields);m=t.has(o.key)?null:m;const g=zj(d,m);g!==null&&r.set(o.key,g),d.isValidDocument()||d.convertToNoDocument(Me.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ze())}isEqual(e){return this.batchId===e.batchId&&kl(this.mutations,e.mutations,(t,r)=>kw(t,r))&&kl(this.baseMutations,e.baseMutations,(t,r)=>kw(t,r))}}class _0{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){at(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=function(){return EI}();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,r[d].version);return new _0(e,t,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt,st;function $I(i){switch(i){case ie.OK:return Re(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Re(15467,{code:i})}}function $j(i){if(i===void 0)return Or("GRPC error has no .code"),ie.UNKNOWN;switch(i){case Lt.OK:return ie.OK;case Lt.CANCELLED:return ie.CANCELLED;case Lt.UNKNOWN:return ie.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return ie.INTERNAL;case Lt.UNAVAILABLE:return ie.UNAVAILABLE;case Lt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Lt.NOT_FOUND:return ie.NOT_FOUND;case Lt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Lt.ABORTED:return ie.ABORTED;case Lt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Lt.DATA_LOSS:return ie.DATA_LOSS;default:return Re(39323,{code:i})}}(st=Lt||(Lt={}))[st.OK=0]="OK",st[st.CANCELLED=1]="CANCELLED",st[st.UNKNOWN=2]="UNKNOWN",st[st.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",st[st.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",st[st.NOT_FOUND=5]="NOT_FOUND",st[st.ALREADY_EXISTS=6]="ALREADY_EXISTS",st[st.PERMISSION_DENIED=7]="PERMISSION_DENIED",st[st.UNAUTHENTICATED=16]="UNAUTHENTICATED",st[st.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",st[st.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",st[st.ABORTED=10]="ABORTED",st[st.OUT_OF_RANGE=11]="OUT_OF_RANGE",st[st.UNIMPLEMENTED=12]="UNIMPLEMENTED",st[st.INTERNAL=13]="INTERNAL",st[st.UNAVAILABLE=14]="UNAVAILABLE",st[st.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI=new Mi([4294967295,4294967295],0);function Iw(i){const e=qI().encode(i),t=new nj;return t.update(e),new Uint8Array(t.digest())}function Ow(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Mi([t,r],0),new Mi([o,c],0)]}class j0{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new su(`Invalid padding: ${t}`);if(r<0)throw new su(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new su(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new su(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Mi.fromNumber(this.ge)}ye(e,t,r){let o=e.add(t.multiply(Mi.fromNumber(r)));return o.compare(FI)===1&&(o=new Mi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Iw(e),[r,o]=Ow(t);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,o,c);if(!this.we(d))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new j0(c,o,t);return r.forEach(m=>d.insert(m)),d}insert(e){if(this.ge===0)return;const t=Iw(e),[r,o]=Ow(t);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,o,c);this.Se(d)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class su extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e,t,r,o,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,Vu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new vm(Me.min(),o,new St(Je),Pr(),Ze())}}class Vu{constructor(e,t,r,o,c){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Vu(r,t,Ze(),Ze(),Ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,t,r,o){this.be=e,this.removedTargetIds=t,this.key=r,this.De=o}}class qj{constructor(e,t){this.targetId=e,this.Ce=t}}class Fj{constructor(e,t,r=ds.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class Pw{constructor(){this.ve=0,this.Fe=Dw(),this.Me=ds.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ze(),t=Ze(),r=Ze();return this.Fe.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Re(38017,{changeType:c})}}),new Vu(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=Dw()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,at(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class HI{constructor(e){this.Ge=e,this.ze=new Map,this.je=Pr(),this.Je=gh(),this.He=gh(),this.Ye=new St(Je)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Re(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((r,o)=>{this.rt(o)&&t(o)})}st(e){const t=e.targetId,r=e.Ce.count,o=this.ot(t);if(o){const c=o.target;if(Tp(c))if(r===0){const d=new Te(c.path);this.et(t,d,vs.newNoDocument(d,Me.min()))}else at(r===1,20013,{expectedCount:r});else{const d=this._t(t);if(d!==r){const m=this.ut(e),g=m?this.ct(m,e,d):1;if(g!==0){this.it(t);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=t;let d,m;try{d=Ki(r).toUint8Array()}catch(g){if(g instanceof gj)return Al("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new j0(d,o,c)}catch(g){return Al(g instanceof su?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let o=0;return r.forEach(c=>{const d=this.Ge.ht(),m=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.et(t,c,null),o++)}),o}Tt(e){const t=new Map;this.ze.forEach((c,d)=>{const m=this.ot(d);if(m){if(c.current&&Tp(m.target)){const g=new Te(m.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,vs.newNoDocument(g,e))}c.Be&&(t.set(d,c.ke()),c.qe())}});let r=Ze();this.He.forEach((c,d)=>{let m=!0;d.forEachWhile(g=>{const p=this.ot(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(r=r.add(c))}),this.je.forEach((c,d)=>d.setReadTime(e));const o=new vm(e,t,this.Ye,this.je,r);return this.je=Pr(),this.Je=gh(),this.He=gh(),this.Ye=new St(Je),o}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Pw,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Wt(Je),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Wt(Je),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||be("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Pw),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function gh(){return new St(Te.comparator)}function Dw(){return new St(Te.comparator)}const GI={asc:"ASCENDING",desc:"DESCENDING"},KI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QI={and:"AND",or:"OR"};class WI{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function kp(i,e){return i.useProto3Json||mm(e)?e:{value:e}}function Yh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Hj(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function YI(i,e){return Yh(i,e.toTimestamp())}function Xn(i){return at(!!i,49232),Me.fromTimestamp(function(t){const r=Gi(t);return new wt(r.seconds,r.nanos)}(i))}function N0(i,e){return Cp(i,e).canonicalString()}function Cp(i,e){const t=function(o){return new vt(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?t:t.child(e)}function Gj(i){const e=vt.fromString(i);return at(Xj(e),10190,{key:e.toString()}),e}function Rp(i,e){return N0(i.databaseId,e.path)}function Gg(i,e){const t=Gj(e);if(t.get(1)!==i.databaseId.projectId)throw new ve(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new ve(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Te(Qj(t))}function Kj(i,e){return N0(i.databaseId,e)}function XI(i){const e=Gj(i);return e.length===4?vt.emptyPath():Qj(e)}function Ip(i){return new vt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Qj(i){return at(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function Mw(i,e,t){return{name:Rp(i,e),fields:t.value.mapValue.fields}}function JI(i,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Re(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=function(p,y){return p.useProto3Json?(at(y===void 0||typeof y=="string",58123),ds.fromBase64String(y||"")):(at(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),ds.fromUint8Array(y||new Uint8Array))}(i,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&function(p){const y=p.code===void 0?ie.UNKNOWN:$j(p.code);return new ve(y,p.message||"")}(d);t=new Fj(r,o,c,m||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Gg(i,r.document.name),c=Xn(r.document.updateTime),d=r.document.createTime?Xn(r.document.createTime):Me.min(),m=new Vs({mapValue:{fields:r.document.fields}}),g=vs.newFoundDocument(o,c,d,m),p=r.targetIds||[],y=r.removedTargetIds||[];t=new kh(p,y,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Gg(i,r.document),c=r.readTime?Xn(r.readTime):Me.min(),d=vs.newNoDocument(o,c),m=r.removedTargetIds||[];t=new kh([],m,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Gg(i,r.document),c=r.removedTargetIds||[];t=new kh([],c,o,null)}else{if(!("filter"in e))return Re(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:c}=r,d=new BI(o,c),m=r.targetId;t=new qj(m,d)}}return t}function ZI(i,e){let t;if(e instanceof Mu)t={update:Mw(i,e.key,e.value)};else if(e instanceof w0)t={delete:Rp(i,e.key)};else if(e instanceof Ji)t={update:Mw(i,e.key,e.data),updateMask:l3(e.fieldMask)};else{if(!(e instanceof LI))return Re(16599,{Vt:e.type});t={verify:Rp(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(c,d){const m=d.transform;if(m instanceof Qh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof _u)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ju)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Wh)return{fieldPath:d.field.canonicalString(),increment:m.Ae};throw Re(20930,{transform:d.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:YI(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Re(27497)}(i,e.precondition)),t}function e3(i,e){return i&&i.length>0?(at(e!==void 0,14353),i.map(t=>function(o,c){let d=o.updateTime?Xn(o.updateTime):Xn(c);return d.isEqual(Me.min())&&(d=Xn(c)),new DI(d,o.transformResults||[])}(t,e))):[]}function t3(i,e){return{documents:[Kj(i,e.path)]}}function s3(i,e){const t={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=Kj(i,o);const c=function(p){if(p.length!==0)return Yj(kn.create(p,"and"))}(e.filters);c&&(t.structuredQuery.where=c);const d=function(p){if(p.length!==0)return p.map(y=>function(j){return{field:ml(j.field),direction:i3(j.dir)}}(y))}(e.orderBy);d&&(t.structuredQuery.orderBy=d);const m=kp(i,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ft:t,parent:o}}function n3(i){let e=XI(i.parent);const t=i.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){at(r===1,65062);const y=t.from[0];y.allDescendants?o=y.collectionId:e=e.child(y.collectionId)}let c=[];t.where&&(c=function(b){const j=Wj(b);return j instanceof kn&&Sj(j)?j.getFilters():[j]}(t.where));let d=[];t.orderBy&&(d=function(b){return b.map(j=>function(T){return new Kh(fl(T.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(j))}(t.orderBy));let m=null;t.limit&&(m=function(b){let j;return j=typeof b=="object"?b.value:b,mm(j)?null:j}(t.limit));let g=null;t.startAt&&(g=function(b){const j=!!b.before,A=b.values||[];return new Gh(A,j)}(t.startAt));let p=null;return t.endAt&&(p=function(b){const j=!b.before,A=b.values||[];return new Gh(A,j)}(t.endAt)),_I(e,o,d,c,m,"F",g,p)}function r3(i,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Wj(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=fl(t.unaryFilter.field);return Bt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=fl(t.unaryFilter.field);return Bt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=fl(t.unaryFilter.field);return Bt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=fl(t.unaryFilter.field);return Bt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Re(61313);default:return Re(60726)}}(i):i.fieldFilter!==void 0?function(t){return Bt.create(fl(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Re(58110);default:return Re(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return kn.create(t.compositeFilter.filters.map(r=>Wj(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Re(1026)}}(t.compositeFilter.op))}(i):Re(30097,{filter:i})}function i3(i){return GI[i]}function a3(i){return KI[i]}function o3(i){return QI[i]}function ml(i){return{fieldPath:i.canonicalString()}}function fl(i){return cs.fromServerFormat(i.fieldPath)}function Yj(i){return i instanceof Bt?function(t){if(t.op==="=="){if(jw(t.value))return{unaryFilter:{field:ml(t.field),op:"IS_NAN"}};if(_w(t.value))return{unaryFilter:{field:ml(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(jw(t.value))return{unaryFilter:{field:ml(t.field),op:"IS_NOT_NAN"}};if(_w(t.value))return{unaryFilter:{field:ml(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ml(t.field),op:a3(t.op),value:t.value}}}(i):i instanceof kn?function(t){const r=t.getFilters().map(o=>Yj(o));return r.length===1?r[0]:{compositeFilter:{op:o3(t.op),filters:r}}}(i):Re(54877,{filter:i})}function l3(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Xj(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e,t,r,o,c=Me.min(),d=Me.min(),m=ds.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Ai(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ai(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ai(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ai(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(e){this.yt=e}}function u3(i){const e=n3({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Ap(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(){this.Cn=new h3}addToCollectionParentIndex(e,t){return this.Cn.add(t),ce.resolve()}getCollectionParents(e,t){return ce.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ce.resolve()}deleteFieldIndex(e,t){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,t){return ce.resolve()}getDocumentsMatchingTarget(e,t){return ce.resolve(null)}getIndexType(e,t){return ce.resolve(0)}getFieldIndexes(e,t){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,t){return ce.resolve(Hi.min())}getMinOffsetFromCollectionGroup(e,t){return ce.resolve(Hi.min())}updateCollectionGroup(e,t,r){return ce.resolve()}updateIndexEntries(e,t){return ce.resolve()}}class h3{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Wt(vt.comparator),c=!o.has(r);return this.index[t]=o.add(r),c}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Wt(vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Jj=41943040;class Ds{static withCacheSize(e){return new Ds(e,Ds.DEFAULT_COLLECTION_PERCENTILE,Ds.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ds.DEFAULT_COLLECTION_PERCENTILE=10,Ds.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ds.DEFAULT=new Ds(Jj,Ds.DEFAULT_COLLECTION_PERCENTILE,Ds.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ds.DISABLED=new Ds(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Il(0)}static cr(){return new Il(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw="LruGarbageCollector",m3=1048576;function Uw([i,e],[t,r]){const o=Je(i,t);return o===0?Je(e,r):o}class f3{constructor(e){this.Ir=e,this.buffer=new Wt(Uw),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Uw(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class g3{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){be(Lw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){$l(t)?be(Lw,"Ignoring IndexedDB error during garbage collection: ",t):await Bl(t)}await this.Vr(3e5)})}}class p3{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ce.resolve(hm.ce);const r=new f3(t);return this.mr.forEachTarget(e,o=>r.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>r.Ar(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(be("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(Vw)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(be("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Vw):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,o,c,d,m,g,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,d=Date.now(),this.nthSequenceNumber(e,o))).next(b=>(r=b,m=Date.now(),this.removeTargets(e,r,t))).next(b=>(c=b,g=Date.now(),this.removeOrphanedDocuments(e,r))).next(b=>(p=Date.now(),dl()<=Xe.DEBUG&&be("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-y}ms
	Determined least recently used ${o} in `+(m-d)+`ms
	Removed ${c} targets in `+(g-m)+`ms
	Removed ${b} documents in `+(p-g)+`ms
Total Duration: ${p-y}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:b})))}}function x3(i,e){return new p3(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(){this.changes=new io(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,vs.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ce.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(r!==null&&du(r.mutation,o,Qs.empty(),wt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ze()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ze()){const o=Ha();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(c=>{let d=tu();return c.forEach((m,g)=>{d=d.insert(m,g.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const r=Ha();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ze()))}populateOverlays(e,t,r){const o=[];return r.forEach(c=>{t.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(e,o).next(c=>{c.forEach((d,m)=>{t.set(d,m)})})}computeViews(e,t,r,o){let c=Pr();const d=uu(),m=function(){return uu()}();return t.forEach((g,p)=>{const y=r.get(p.key);o.has(p.key)&&(y===void 0||y.mutation instanceof Ji)?c=c.insert(p.key,p):y!==void 0?(d.set(p.key,y.mutation.getFieldMask()),du(y.mutation,p,y.mutation.getFieldMask(),wt.now())):d.set(p.key,Qs.empty())}),this.recalculateAndSaveOverlays(e,c).next(g=>(g.forEach((p,y)=>d.set(p,y)),t.forEach((p,y)=>m.set(p,new v3(y,d.get(p)??null))),m))}recalculateAndSaveOverlays(e,t){const r=uu();let o=new St((d,m)=>d-m),c=Ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const m of d)m.keys().forEach(g=>{const p=t.get(g);if(p===null)return;let y=r.get(g)||Qs.empty();y=m.applyToLocalView(p,y),r.set(g,y);const b=(o.get(m.batchId)||Ze()).add(g);o=o.insert(m.batchId,b)})}).next(()=>{const d=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,y=g.value,b=Pj();y.forEach(j=>{if(!c.has(j)){const A=zj(t.get(j),r.get(j));A!==null&&b.set(j,A),c=c.add(j)}}),d.push(this.documentOverlayCache.saveOverlays(e,p,b))}return ce.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,o){return function(d){return Te.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):kj(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,o):this.getDocumentsMatchingCollectionQuery(e,t,r,o)}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-c.size):ce.resolve(Ha());let m=yu,g=c;return d.next(p=>ce.forEach(p,(y,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),c.get(y)?ce.resolve():this.remoteDocumentCache.getEntry(e,y).next(j=>{g=g.insert(y,j)}))).next(()=>this.populateOverlays(e,p,c)).next(()=>this.computeViews(e,g,p,Ze())).next(y=>({batchId:m,changes:Oj(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Te(t)).next(r=>{let o=tu();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r,o){const c=t.collectionGroup;let d=tu();return this.indexManager.getCollectionParents(e,c).next(m=>ce.forEach(m,g=>{const p=function(b,j){return new Du(j,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(t,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,p,r,o).next(y=>{y.forEach((b,j)=>{d=d.insert(b,j)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,t,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,c,o))).next(d=>{c.forEach((g,p)=>{const y=p.getKey();d.get(y)===null&&(d=d.insert(y,vs.newInvalidDocument(y)))});let m=tu();return d.forEach((g,p)=>{const y=c.get(g);y!==void 0&&du(y.mutation,p,Qs.empty(),wt.now()),pm(t,p)&&(m=m.insert(g,p))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ce.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Xn(o.createTime)}}(t)),ce.resolve()}getNamedQuery(e,t){return ce.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(o){return{name:o.name,query:u3(o.bundledQuery),readTime:Xn(o.readTime)}}(t)),ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(){this.overlays=new St(Te.comparator),this.qr=new Map}getOverlay(e,t){return ce.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ha();return ce.forEach(t,o=>this.getOverlay(e,o).next(c=>{c!==null&&r.set(o,c)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,c)=>{this.St(e,t,c)}),ce.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.qr.delete(r)),ce.resolve()}getOverlaysForCollection(e,t,r){const o=Ha(),c=t.length+1,d=new Te(t.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===c&&g.largestBatchId>r&&o.set(g.getKey(),g)}return ce.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let c=new St((p,y)=>p-y);const d=this.overlays.getIterator();for(;d.hasNext();){const p=d.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let y=c.get(p.largestBatchId);y===null&&(y=Ha(),c=c.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const m=Ha(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((p,y)=>m.set(p,y)),!(m.size()>=o)););return ce.resolve(m)}St(e,t,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new zI(t,r));let c=this.qr.get(t);c===void 0&&(c=Ze(),this.qr.set(t,c)),this.qr.set(t,c.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(){this.sessionToken=ds.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(){this.Qr=new Wt(ss.$r),this.Ur=new Wt(ss.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new ss(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Gr(new ss(e,t))}zr(e,t){e.forEach(r=>this.removeReference(r,t))}jr(e){const t=new Te(new vt([])),r=new ss(t,e),o=new ss(t,e+1),c=[];return this.Ur.forEachInRange([r,o],d=>{this.Gr(d),c.push(d.key)}),c}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Te(new vt([])),r=new ss(t,e),o=new ss(t,e+1);let c=Ze();return this.Ur.forEachInRange([r,o],d=>{c=c.add(d.key)}),c}containsKey(e){const t=new ss(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class ss{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Te.comparator(e.key,t.key)||Je(e.Yr,t.Yr)}static Kr(e,t){return Je(e.Yr,t.Yr)||Te.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Wt(ss.$r)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new UI(c,t,r,o);this.mutationQueue.push(d);for(const m of o)this.Zr=this.Zr.add(new ss(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ce.resolve(d)}lookupMutationBatch(e,t){return ce.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=this.ei(r),c=o<0?0:o;return ce.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?f0:this.tr-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ss(t,0),o=new ss(t,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,o],d=>{const m=this.Xr(d.Yr);c.push(m)}),ce.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Wt(Je);return t.forEach(o=>{const c=new ss(o,0),d=new ss(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],m=>{r=r.add(m.Yr)})}),ce.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let c=r;Te.isDocumentKey(c)||(c=c.child(""));const d=new ss(new Te(c),0);let m=new Wt(Je);return this.Zr.forEachWhile(g=>{const p=g.key.path;return!!r.isPrefixOf(p)&&(p.length===o&&(m=m.add(g.Yr)),!0)},d),ce.resolve(this.ti(m))}ti(e){const t=[];return e.forEach(r=>{const o=this.Xr(r);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){at(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ce.forEach(t.mutations,o=>{const c=new ss(o.key,t.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,t){const r=new ss(t,0),o=this.Zr.firstAfterOrEqual(r);return ce.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(e){this.ri=e,this.docs=function(){return new St(Te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),c=o?o.size:0,d=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ce.resolve(r?r.document.mutableCopy():vs.newInvalidDocument(t))}getEntries(e,t){let r=Pr();return t.forEach(o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():vs.newInvalidDocument(o))}),ce.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let c=Pr();const d=t.path,m=new Te(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:y}}=g.getNext();if(!d.isPrefixOf(p.path))break;p.path.length>d.length+1||eI(ZR(y),r)<=0||(o.has(y.key)||pm(t,y))&&(c=c.insert(y.key,y.mutableCopy()))}return ce.resolve(c)}getAllFromCollectionGroup(e,t,r,o){Re(9500)}ii(e,t){return ce.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new T3(this)}getSize(e){return ce.resolve(this.size)}}class T3 extends y3{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)}),ce.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(e){this.persistence=e,this.si=new io(t=>x0(t),y0),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.oi=0,this._i=new S0,this.targetCount=0,this.ai=Il.ur()}forEachTarget(e,t){return this.si.forEach((r,o)=>t(o)),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),ce.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Il(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ce.resolve()}updateTargetData(e,t){return this.Pr(t),ce.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,t,r){let o=0;const c=[];return this.si.forEach((d,m)=>{m.sequenceNumber<=t&&r.get(m.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ce.waitFor(c).next(()=>o)}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return ce.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),ce.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const o=this.persistence.referenceDelegate,c=[];return o&&t.forEach(d=>{c.push(o.markPotentiallyOrphaned(e,d))}),ce.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ce.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return ce.resolve(r)}containsKey(e,t){return ce.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(e,t){this.ui={},this.overlays={},this.ci=new hm(0),this.li=!1,this.li=!0,this.hi=new j3,this.referenceDelegate=e(this),this.Pi=new E3(this),this.indexManager=new d3,this.remoteDocumentCache=function(o){return new S3(o)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new c3(t),this.Ii=new w3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new _3,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new N3(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){be("MemoryPersistence","Starting transaction:",e);const o=new A3(this.ci.next());return this.referenceDelegate.Ei(),r(o).next(c=>this.referenceDelegate.di(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}Ai(e,t){return ce.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,t)))}}class A3 extends sI{constructor(e){super(),this.currentSequenceNumber=e}}class T0{constructor(e){this.persistence=e,this.Ri=new S0,this.Vi=null}static mi(e){return new T0(e)}get fi(){if(this.Vi)return this.Vi;throw Re(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),ce.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),ce.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ce.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(o=>this.fi.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(c=>this.fi.add(c.toString()))}).next(()=>r.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.fi,r=>{const o=Te.fromPath(r);return this.gi(e,o).next(c=>{c||t.removeEntry(o,Me.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return ce.or([()=>ce.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Xh{constructor(e,t){this.persistence=e,this.pi=new io(r=>iI(r.path),(r,o)=>r.isEqual(o)),this.garbageCollector=x3(this,t)}static mi(e,t){return new Xh(e,t)}Ei(){}di(e){return ce.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}wr(e){let t=0;return this.pr(e,r=>{t++}).next(()=>t)}pr(e,t){return ce.forEach(this.pi,(r,o)=>this.br(e,r,o).next(c=>c?ce.resolve():t(o)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,d=>this.br(e,d,t).next(m=>{m||(r++,c.removeEntry(d,Me.min()))})).next(()=>c.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ce.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),ce.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),ce.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ce.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Th(e.data.value)),t}br(e,t,r){return ce.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return ce.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=o}static As(e,t){let r=Ze(),o=Ze();for(const c of t.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new E0(e,t.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return b4()?8:nI(_s())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,o){const c={result:null};return this.ys(e,t).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.ws(e,t,o,r).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new k3;return this.Ss(e,t,d).next(m=>{if(c.result=m,this.Vs)return this.bs(e,t,d,m.size)})}).next(()=>c.result)}bs(e,t,r,o){return r.documentReadCount<this.fs?(dl()<=Xe.DEBUG&&be("QueryEngine","SDK will not create cache indexes for query:",hl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ce.resolve()):(dl()<=Xe.DEBUG&&be("QueryEngine","Query:",hl(t),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(dl()<=Xe.DEBUG&&be("QueryEngine","The SDK decides to create cache indexes for query:",hl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yn(t))):ce.resolve())}ys(e,t){if(Ew(t))return ce.resolve(null);let r=Yn(t);return this.indexManager.getIndexType(e,r).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Ap(t,null,"F"),r=Yn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(c=>{const d=Ze(...c);return this.ps.getDocuments(e,d).next(m=>this.indexManager.getMinOffset(e,r).next(g=>{const p=this.Ds(t,m);return this.Cs(t,p,d,g.readTime)?this.ys(e,Ap(t,null,"F")):this.vs(e,p,t,g)}))})))}ws(e,t,r,o){return Ew(t)||o.isEqual(Me.min())?ce.resolve(null):this.ps.getDocuments(e,r).next(c=>{const d=this.Ds(t,c);return this.Cs(t,d,r,o)?ce.resolve(null):(dl()<=Xe.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),hl(t)),this.vs(e,d,t,JR(o,yu)).next(m=>m))})}Ds(e,t){let r=new Wt(Rj(e));return t.forEach((o,c)=>{pm(e,c)&&(r=r.add(c))}),r}Cs(e,t,r,o){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const c=e.limitType==="F"?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,t,r){return dl()<=Xe.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",hl(t)),this.ps.getDocumentsMatchingQuery(e,t,Hi.min(),r)}vs(e,t,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next(c=>(t.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="LocalStore",R3=3e8;class I3{constructor(e,t,r,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new St(Je),this.xs=new io(c=>x0(c),y0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new b3(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function O3(i,e,t,r){return new I3(i,e,t,r)}async function eN(i,e){const t=Ue(i);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(c=>(o=c,t.Bs(e),t.mutationQueue.getAllMutationBatches(r))).next(c=>{const d=[],m=[];let g=Ze();for(const p of o){d.push(p.batchId);for(const y of p.mutations)g=g.add(y.key)}for(const p of c){m.push(p.batchId);for(const y of p.mutations)g=g.add(y.key)}return t.localDocuments.getDocuments(r,g).next(p=>({Ls:p,removedBatchIds:d,addedBatchIds:m}))})})}function P3(i,e){const t=Ue(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),c=t.Ns.newChangeBuffer({trackRemovals:!0});return function(m,g,p,y){const b=p.batch,j=b.keys();let A=ce.resolve();return j.forEach(T=>{A=A.next(()=>y.getEntry(g,T)).next(R=>{const S=p.docVersions.get(T);at(S!==null,48541),R.version.compareTo(S)<0&&(b.applyToRemoteDocument(R,p),R.isValidDocument()&&(R.setReadTime(p.commitVersion),y.addEntry(R)))})}),A.next(()=>m.mutationQueue.removeMutationBatch(g,b))}(t,r,e,c).next(()=>c.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(m){let g=Ze();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}function tN(i){const e=Ue(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function D3(i,e){const t=Ue(i),r=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const m=[];e.targetChanges.forEach((y,b)=>{const j=o.get(b);if(!j)return;m.push(t.Pi.removeMatchingKeys(c,y.removedDocuments,b).next(()=>t.Pi.addMatchingKeys(c,y.addedDocuments,b)));let A=j.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(b)!==null?A=A.withResumeToken(ds.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):y.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(y.resumeToken,r)),o=o.insert(b,A),function(R,S,q){return R.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=R3?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0}(j,A,y)&&m.push(t.Pi.updateTargetData(c,A))});let g=Pr(),p=Ze();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(c,y))}),m.push(M3(c,d,e.documentUpdates).next(y=>{g=y.ks,p=y.qs})),!r.isEqual(Me.min())){const y=t.Pi.getLastRemoteSnapshotVersion(c).next(b=>t.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r));m.push(y)}return ce.waitFor(m).next(()=>d.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,g,p)).next(()=>g)}).then(c=>(t.Ms=o,c))}function M3(i,e,t){let r=Ze(),o=Ze();return t.forEach(c=>r=r.add(c)),e.getEntries(i,r).next(c=>{let d=Pr();return t.forEach((m,g)=>{const p=c.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Me.min())?(e.removeEntry(m,g.readTime),d=d.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),d=d.insert(m,g)):be(A0,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)}),{ks:d,qs:o}})}function V3(i,e){const t=Ue(i);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=f0),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function L3(i,e){const t=Ue(i);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Pi.getTargetData(r,e).next(c=>c?(o=c,ce.resolve(o)):t.Pi.allocateTargetId(r).next(d=>(o=new Ai(e,d,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r})}async function Op(i,e,t){const r=Ue(i),o=r.Ms.get(e),c=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",c,d=>r.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!$l(d))throw d;be(A0,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function zw(i,e,t){const r=Ue(i);let o=Me.min(),c=Ze();return r.persistence.runTransaction("Execute query","readwrite",d=>function(g,p,y){const b=Ue(g),j=b.xs.get(y);return j!==void 0?ce.resolve(b.Ms.get(j)):b.Pi.getTargetData(p,y)}(r,d,Yn(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,m.targetId).next(g=>{c=g})}).next(()=>r.Fs.getDocumentsMatchingQuery(d,e,t?o:Me.min(),t?c:Ze())).next(m=>(U3(r,NI(e),m),{documents:m,Qs:c})))}function U3(i,e,t){let r=i.Os.get(e)||Me.min();t.forEach((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)}),i.Os.set(e,r)}class Bw{constructor(){this.activeTargetIds=CI()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class z3{constructor(){this.Mo=new Bw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Bw,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w="ConnectivityMonitor";class qw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){be($w,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){be($w,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ph=null;function Pp(){return ph===null?ph=function(){return 268435456+Math.round(2147483648*Math.random())}():ph++,"0x"+ph.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kg="RestConnection",$3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class q3{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Fh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,t,r,o,c){const d=Pp(),m=this.zo(e,t.toUriEncodedString());be(Kg,`Sending RPC '${e}' ${d}:`,m,r);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,c);const{host:p}=new URL(m),y=Vl(p);return this.Jo(e,m,g,r,y).then(b=>(be(Kg,`Received RPC '${e}' ${d}: `,b),b),b=>{throw Al(Kg,`RPC '${e}' ${d} failed with error: `,b,"url: ",m,"request:",r),b})}Ho(e,t,r,o,c,d){return this.Go(e,t,r,o,c)}jo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+zl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,c)=>e[c]=o),r&&r.headers.forEach((o,c)=>e[c]=o)}zo(e,t){const r=$3[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs="WebChannelConnection";class H3 extends q3{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,o,c){const d=Pp();return new Promise((m,g)=>{const p=new rj;p.setWithCredentials(!0),p.listenOnce(ij.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Sh.NO_ERROR:const b=p.getResponseJson();be(xs,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(b)),m(b);break;case Sh.TIMEOUT:be(xs,`RPC '${e}' ${d} timed out`),g(new ve(ie.DEADLINE_EXCEEDED,"Request time out"));break;case Sh.HTTP_ERROR:const j=p.getStatus();if(be(xs,`RPC '${e}' ${d} failed with status:`,j,"response text:",p.getResponseText()),j>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const T=A==null?void 0:A.error;if(T&&T.status&&T.message){const R=function(q){const D=q.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(D)>=0?D:ie.UNKNOWN}(T.status);g(new ve(R,T.message))}else g(new ve(ie.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new ve(ie.UNAVAILABLE,"Connection failed."));break;default:Re(9055,{l_:e,streamId:d,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{be(xs,`RPC '${e}' ${d} completed.`)}});const y=JSON.stringify(o);be(xs,`RPC '${e}' ${d} sending request:`,o),p.send(t,"POST",y,r,15)})}T_(e,t,r){const o=Pp(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=lj(),m=oj(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(g.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,t,r),g.encodeInitMessageHeaders=!0;const y=c.join("");be(xs,`Creating RPC '${e}' stream ${o}: ${y}`,g);const b=d.createWebChannel(y,g);this.I_(b);let j=!1,A=!1;const T=new F3({Yo:S=>{A?be(xs,`Not sending because RPC '${e}' stream ${o} is closed:`,S):(j||(be(xs,`Opening RPC '${e}' stream ${o} transport.`),b.open(),j=!0),be(xs,`RPC '${e}' stream ${o} sending:`,S),b.send(S))},Zo:()=>b.close()}),R=(S,q,D)=>{S.listen(q,J=>{try{D(J)}catch(de){setTimeout(()=>{throw de},0)}})};return R(b,eu.EventType.OPEN,()=>{A||(be(xs,`RPC '${e}' stream ${o} transport opened.`),T.o_())}),R(b,eu.EventType.CLOSE,()=>{A||(A=!0,be(xs,`RPC '${e}' stream ${o} transport closed`),T.a_(),this.E_(b))}),R(b,eu.EventType.ERROR,S=>{A||(A=!0,Al(xs,`RPC '${e}' stream ${o} transport errored. Name:`,S.name,"Message:",S.message),T.a_(new ve(ie.UNAVAILABLE,"The operation could not be completed")))}),R(b,eu.EventType.MESSAGE,S=>{var q;if(!A){const D=S.data[0];at(!!D,16349);const J=D,de=(J==null?void 0:J.error)||((q=J[0])==null?void 0:q.error);if(de){be(xs,`RPC '${e}' stream ${o} received error:`,de);const pe=de.status;let he=function(C){const V=Lt[C];if(V!==void 0)return $j(V)}(pe),I=de.message;he===void 0&&(he=ie.INTERNAL,I="Unknown error status: "+pe+" with message "+de.message),A=!0,T.a_(new ve(he,I)),b.close()}else be(xs,`RPC '${e}' stream ${o} received:`,D),T.u_(D)}}),R(m,aj.STAT_EVENT,S=>{S.stat===wp.PROXY?be(xs,`RPC '${e}' stream ${o} detected buffering proxy`):S.stat===wp.NOPROXY&&be(xs,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{T.__()},0),T}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function Qg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bm(i){return new WI(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(e,t,r=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-r);o>0&&be("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw="PersistentStream";class nN{constructor(e,t,r,o,c,d,m,g){this.Mi=e,this.S_=r,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new sN(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ie.RESOURCE_EXHAUSTED?(Or(t.toString()),Or("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.D_===t&&this.G_(r,o)},r=>{e(()=>{const o=new ve(ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)})})}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{r(()=>this.z_(o))}),this.stream.onMessage(o=>{r(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return be(Fw,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(be(Fw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class G3 extends nN{constructor(e,t,r,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,d),this.serializer=c}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=JI(this.serializer,e),r=function(c){if(!("targetChange"in c))return Me.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Me.min():d.readTime?Xn(d.readTime):Me.min()}(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=Ip(this.serializer),t.addTarget=function(c,d){let m;const g=d.target;if(m=Tp(g)?{documents:t3(c,g)}:{query:s3(c,g).ft},m.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){m.resumeToken=Hj(c,d.resumeToken);const p=kp(c,d.expectedCount);p!==null&&(m.expectedCount=p)}else if(d.snapshotVersion.compareTo(Me.min())>0){m.readTime=Yh(c,d.snapshotVersion.toTimestamp());const p=kp(c,d.expectedCount);p!==null&&(m.expectedCount=p)}return m}(this.serializer,e);const r=r3(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=Ip(this.serializer),t.removeTarget=e,this.q_(t)}}class K3 extends nN{constructor(e,t,r,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return at(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,at(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){at(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=e3(e.writeResults,e.commitTime),r=Xn(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=Ip(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>ZI(this.serializer,r))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{}class W3 extends Q3{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ve(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Go(e,Cp(t,r),o,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ve(ie.UNKNOWN,c.toString())})}Ho(e,t,r,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,m])=>this.connection.Ho(e,Cp(t,r),o,d,m,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ve(ie.UNKNOWN,d.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Y3{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Or(t),this.aa=!1):be("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so="RemoteStore";class X3{constructor(e,t,r,o,c){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo(d=>{r.enqueueAndForget(async()=>{ao(this)&&(be(so,"Restarting streams for network reachability change."),await async function(g){const p=Ue(g);p.Ea.add(4),await Lu(p),p.Ra.set("Unknown"),p.Ea.delete(4),await wm(p)}(this))})}),this.Ra=new Y3(r,o)}}async function wm(i){if(ao(i))for(const e of i.da)await e(!0)}async function Lu(i){for(const e of i.da)await e(!1)}function rN(i,e){const t=Ue(i);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),I0(t)?R0(t):ql(t).O_()&&C0(t,e))}function k0(i,e){const t=Ue(i),r=ql(t);t.Ia.delete(e),r.O_()&&iN(t,e),t.Ia.size===0&&(r.O_()?r.L_():ao(t)&&t.Ra.set("Unknown"))}function C0(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ql(i).Y_(e)}function iN(i,e){i.Va.Ue(e),ql(i).Z_(e)}function R0(i){i.Va=new HI({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),ql(i).start(),i.Ra.ua()}function I0(i){return ao(i)&&!ql(i).x_()&&i.Ia.size>0}function ao(i){return Ue(i).Ea.size===0}function aN(i){i.Va=void 0}async function J3(i){i.Ra.set("Online")}async function Z3(i){i.Ia.forEach((e,t)=>{C0(i,e)})}async function e5(i,e){aN(i),I0(i)?(i.Ra.ha(e),R0(i)):i.Ra.set("Unknown")}async function t5(i,e,t){if(i.Ra.set("Online"),e instanceof Fj&&e.state===2&&e.cause)try{await async function(o,c){const d=c.cause;for(const m of c.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,d),o.Ia.delete(m),o.Va.removeTarget(m))}(i,e)}catch(r){be(so,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Jh(i,r)}else if(e instanceof kh?i.Va.Ze(e):e instanceof qj?i.Va.st(e):i.Va.tt(e),!t.isEqual(Me.min()))try{const r=await tN(i.localStore);t.compareTo(r)>=0&&await function(c,d){const m=c.Va.Tt(d);return m.targetChanges.forEach((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const y=c.Ia.get(p);y&&c.Ia.set(p,y.withResumeToken(g.resumeToken,d))}}),m.targetMismatches.forEach((g,p)=>{const y=c.Ia.get(g);if(!y)return;c.Ia.set(g,y.withResumeToken(ds.EMPTY_BYTE_STRING,y.snapshotVersion)),iN(c,g);const b=new Ai(y.target,g,p,y.sequenceNumber);C0(c,b)}),c.remoteSyncer.applyRemoteEvent(m)}(i,t)}catch(r){be(so,"Failed to raise snapshot:",r),await Jh(i,r)}}async function Jh(i,e,t){if(!$l(e))throw e;i.Ea.add(1),await Lu(i),i.Ra.set("Offline"),t||(t=()=>tN(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{be(so,"Retrying IndexedDB access"),await t(),i.Ea.delete(1),await wm(i)})}function oN(i,e){return e().catch(t=>Jh(i,t,e))}async function _m(i){const e=Ue(i),t=Wi(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:f0;for(;s5(e);)try{const o=await V3(e.localStore,r);if(o===null){e.Ta.length===0&&t.L_();break}r=o.batchId,n5(e,o)}catch(o){await Jh(e,o)}lN(e)&&cN(e)}function s5(i){return ao(i)&&i.Ta.length<10}function n5(i,e){i.Ta.push(e);const t=Wi(i);t.O_()&&t.X_&&t.ea(e.mutations)}function lN(i){return ao(i)&&!Wi(i).x_()&&i.Ta.length>0}function cN(i){Wi(i).start()}async function r5(i){Wi(i).ra()}async function i5(i){const e=Wi(i);for(const t of i.Ta)e.ea(t.mutations)}async function a5(i,e,t){const r=i.Ta.shift(),o=_0.from(r,e,t);await oN(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await _m(i)}async function o5(i,e){e&&Wi(i).X_&&await async function(r,o){if(function(d){return $I(d)&&d!==ie.ABORTED}(o.code)){const c=r.Ta.shift();Wi(r).B_(),await oN(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o)),await _m(r)}}(i,e),lN(i)&&cN(i)}async function Hw(i,e){const t=Ue(i);t.asyncQueue.verifyOperationInProgress(),be(so,"RemoteStore received new credentials");const r=ao(t);t.Ea.add(3),await Lu(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await wm(t)}async function l5(i,e){const t=Ue(i);e?(t.Ea.delete(2),await wm(t)):e||(t.Ea.add(2),await Lu(t),t.Ra.set("Unknown"))}function ql(i){return i.ma||(i.ma=function(t,r,o){const c=Ue(t);return c.sa(),new G3(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(i.datastore,i.asyncQueue,{Xo:J3.bind(null,i),t_:Z3.bind(null,i),r_:e5.bind(null,i),H_:t5.bind(null,i)}),i.da.push(async e=>{e?(i.ma.B_(),I0(i)?R0(i):i.Ra.set("Unknown")):(await i.ma.stop(),aN(i))})),i.ma}function Wi(i){return i.fa||(i.fa=function(t,r,o){const c=Ue(t);return c.sa(),new K3(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:r5.bind(null,i),r_:o5.bind(null,i),ta:i5.bind(null,i),na:a5.bind(null,i)}),i.da.push(async e=>{e?(i.fa.B_(),await _m(i)):(await i.fa.stop(),i.Ta.length>0&&(be(so,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))})),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e,t,r,o,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new Vi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,c){const d=Date.now()+r,m=new O0(e,t,d,o,c);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function P0(i,e){if(Or("AsyncQueue",`${e}: ${i}`),$l(i))return new ve(ie.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{static emptySet(e){return new Nl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Te.comparator(t.key,r.key):(t,r)=>Te.comparator(t.key,r.key),this.keyedMap=tu(),this.sortedSet=new St(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Nl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Nl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(){this.ga=new St(Te.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Re(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,r)=>{e.push(r)}),e}}class Ol{constructor(e,t,r,o,c,d,m,g,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,o,c){const d=[];return t.forEach(m=>{d.push({type:0,doc:m})}),new Ol(e,t,Nl.emptySet(t),d,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c5{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class u5{constructor(){this.queries=Kw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const o=Ue(t),c=o.queries;o.queries=Kw(),c.forEach((d,m)=>{for(const g of m.Sa)g.onError(r)})})(this,new ve(ie.ABORTED,"Firestore shutting down"))}}function Kw(){return new io(i=>Cj(i),gm)}async function uN(i,e){const t=Ue(i);let r=3;const o=e.query;let c=t.queries.get(o);c?!c.ba()&&e.Da()&&(r=2):(c=new c5,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await t.onListen(o,!0);break;case 1:c.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(d){const m=P0(d,`Initialization of query '${hl(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,c),c.Sa.push(e),e.va(t.onlineState),c.wa&&e.Fa(c.wa)&&D0(t)}async function dN(i,e){const t=Ue(i),r=e.query;let o=3;const c=t.queries.get(r);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function d5(i,e){const t=Ue(i);let r=!1;for(const o of e){const c=o.query,d=t.queries.get(c);if(d){for(const m of d.Sa)m.Fa(o)&&(r=!0);d.wa=o}}r&&D0(t)}function h5(i,e,t){const r=Ue(i),o=r.queries.get(e);if(o)for(const c of o.Sa)c.onError(t);r.queries.delete(e)}function D0(i){i.Ca.forEach(e=>{e.next()})}var Dp,Qw;(Qw=Dp||(Dp={})).Ma="default",Qw.Cache="cache";class hN{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Ol(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Ol.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Dp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e){this.key=e}}class fN{constructor(e){this.key=e}}class m5{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ze(),this.mutatedKeys=Ze(),this.eu=Rj(e),this.tu=new Nl(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new Gw,o=t?t.tu:this.tu;let c=t?t.mutatedKeys:this.mutatedKeys,d=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((y,b)=>{const j=o.get(y),A=pm(this.query,b)?b:null,T=!!j&&this.mutatedKeys.has(j.key),R=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let S=!1;j&&A?j.data.isEqual(A.data)?T!==R&&(r.track({type:3,doc:A}),S=!0):this.su(j,A)||(r.track({type:2,doc:A}),S=!0,(g&&this.eu(A,g)>0||p&&this.eu(A,p)<0)&&(m=!0)):!j&&A?(r.track({type:0,doc:A}),S=!0):j&&!A&&(r.track({type:1,doc:j}),S=!0,(g||p)&&(m=!0)),S&&(A?(d=d.add(A),c=R?c.add(y):c.delete(y)):(d=d.delete(y),c=c.delete(y)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const y=this.query.limitType==="F"?d.last():d.first();d=d.delete(y.key),c=c.delete(y.key),r.track({type:1,doc:y})}return{tu:d,iu:r,Cs:m,mutatedKeys:c}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort((y,b)=>function(A,T){const R=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re(20277,{Rt:S})}};return R(A)-R(T)}(y.type,b.type)||this.eu(y.doc,b.doc)),this.ou(r),o=o??!1;const m=t&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,p=g!==this.Za;return this.Za=g,d.length!==0||p?{snapshot:new Ol(this.query,e.tu,c,d,e.mutatedKeys,g===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Gw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ze(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const t=[];return e.forEach(r=>{this.Xa.has(r)||t.push(new fN(r))}),this.Xa.forEach(r=>{e.has(r)||t.push(new mN(r))}),t}cu(e){this.Ya=e.Qs,this.Xa=Ze();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Ol.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const M0="SyncEngine";class f5{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class g5{constructor(e){this.key=e,this.hu=!1}}class p5{constructor(e,t,r,o,c,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new io(m=>Cj(m),gm),this.Iu=new Map,this.Eu=new Set,this.du=new St(Te.comparator),this.Au=new Map,this.Ru=new S0,this.Vu={},this.mu=new Map,this.fu=Il.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function x5(i,e,t=!0){const r=bN(i);let o;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await gN(r,e,t,!0),o}async function y5(i,e){const t=bN(i);await gN(t,e,!0,!1)}async function gN(i,e,t,r){const o=await L3(i.localStore,Yn(e)),c=o.targetId,d=i.sharedClientState.addLocalQueryTarget(c,t);let m;return r&&(m=await v5(i,e,c,d==="current",o.resumeToken)),i.isPrimaryClient&&t&&rN(i.remoteStore,o),m}async function v5(i,e,t,r,o){i.pu=(b,j,A)=>async function(R,S,q,D){let J=S.view.ru(q);J.Cs&&(J=await zw(R.localStore,S.query,!1).then(({documents:I})=>S.view.ru(I,J)));const de=D&&D.targetChanges.get(S.targetId),pe=D&&D.targetMismatches.get(S.targetId)!=null,he=S.view.applyChanges(J,R.isPrimaryClient,de,pe);return Yw(R,S.targetId,he.au),he.snapshot}(i,b,j,A);const c=await zw(i.localStore,e,!0),d=new m5(e,c.Qs),m=d.ru(c.documents),g=Vu.createSynthesizedTargetChangeForCurrentChange(t,r&&i.onlineState!=="Offline",o),p=d.applyChanges(m,i.isPrimaryClient,g);Yw(i,t,p.au);const y=new f5(e,t,d);return i.Tu.set(e,y),i.Iu.has(t)?i.Iu.get(t).push(e):i.Iu.set(t,[e]),p.snapshot}async function b5(i,e,t){const r=Ue(i),o=r.Tu.get(e),c=r.Iu.get(o.targetId);if(c.length>1)return r.Iu.set(o.targetId,c.filter(d=>!gm(d,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Op(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),t&&k0(r.remoteStore,o.targetId),Mp(r,o.targetId)}).catch(Bl)):(Mp(r,o.targetId),await Op(r.localStore,o.targetId,!0))}async function w5(i,e){const t=Ue(i),r=t.Tu.get(e),o=t.Iu.get(r.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),k0(t.remoteStore,r.targetId))}async function _5(i,e,t){const r=k5(i);try{const o=await function(d,m){const g=Ue(d),p=wt.now(),y=m.reduce((A,T)=>A.add(T.key),Ze());let b,j;return g.persistence.runTransaction("Locally write mutations","readwrite",A=>{let T=Pr(),R=Ze();return g.Ns.getEntries(A,y).next(S=>{T=S,T.forEach((q,D)=>{D.isValidDocument()||(R=R.add(q))})}).next(()=>g.localDocuments.getOverlayedDocuments(A,T)).next(S=>{b=S;const q=[];for(const D of m){const J=VI(D,b.get(D.key).overlayedDocument);J!=null&&q.push(new Ji(D.key,J,_j(J.value.mapValue),En.exists(!0)))}return g.mutationQueue.addMutationBatch(A,p,q,m)}).next(S=>{j=S;const q=S.applyToLocalDocumentSet(b,R);return g.documentOverlayCache.saveOverlays(A,S.batchId,q)})}).then(()=>({batchId:j.batchId,changes:Oj(b)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(d,m,g){let p=d.Vu[d.currentUser.toKey()];p||(p=new St(Je)),p=p.insert(m,g),d.Vu[d.currentUser.toKey()]=p}(r,o.batchId,t),await Uu(r,o.changes),await _m(r.remoteStore)}catch(o){const c=P0(o,"Failed to persist write");t.reject(c)}}async function pN(i,e){const t=Ue(i);try{const r=await D3(t.localStore,e);e.targetChanges.forEach((o,c)=>{const d=t.Au.get(c);d&&(at(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?at(d.hu,14607):o.removedDocuments.size>0&&(at(d.hu,42227),d.hu=!1))}),await Uu(t,r,e)}catch(r){await Bl(r)}}function Ww(i,e,t){const r=Ue(i);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const o=[];r.Tu.forEach((c,d)=>{const m=d.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(d,m){const g=Ue(d);g.onlineState=m;let p=!1;g.queries.forEach((y,b)=>{for(const j of b.Sa)j.va(m)&&(p=!0)}),p&&D0(g)}(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function j5(i,e,t){const r=Ue(i);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Au.get(e),c=o&&o.key;if(c){let d=new St(Te.comparator);d=d.insert(c,vs.newNoDocument(c,Me.min()));const m=Ze().add(c),g=new vm(Me.min(),new Map,new St(Je),d,m);await pN(r,g),r.du=r.du.remove(c),r.Au.delete(e),V0(r)}else await Op(r.localStore,e,!1).then(()=>Mp(r,e,t)).catch(Bl)}async function N5(i,e){const t=Ue(i),r=e.batch.batchId;try{const o=await P3(t.localStore,e);yN(t,r,null),xN(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Uu(t,o)}catch(o){await Bl(o)}}async function S5(i,e,t){const r=Ue(i);try{const o=await function(d,m){const g=Ue(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return g.mutationQueue.lookupMutationBatch(p,m).next(b=>(at(b!==null,37113),y=b.keys(),g.mutationQueue.removeMutationBatch(p,b))).next(()=>g.mutationQueue.performConsistencyCheck(p)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(p,y,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>g.localDocuments.getDocuments(p,y))})}(r.localStore,e);yN(r,e,t),xN(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Uu(r,o)}catch(o){await Bl(o)}}function xN(i,e){(i.mu.get(e)||[]).forEach(t=>{t.resolve()}),i.mu.delete(e)}function yN(i,e,t){const r=Ue(i);let o=r.Vu[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(t?c.reject(t):c.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function Mp(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const r of i.Iu.get(e))i.Tu.delete(r),t&&i.Pu.yu(r,t);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach(r=>{i.Ru.containsKey(r)||vN(i,r)})}function vN(i,e){i.Eu.delete(e.path.canonicalString());const t=i.du.get(e);t!==null&&(k0(i.remoteStore,t),i.du=i.du.remove(e),i.Au.delete(t),V0(i))}function Yw(i,e,t){for(const r of t)r instanceof mN?(i.Ru.addReference(r.key,e),T5(i,r)):r instanceof fN?(be(M0,"Document no longer in limbo: "+r.key),i.Ru.removeReference(r.key,e),i.Ru.containsKey(r.key)||vN(i,r.key)):Re(19791,{wu:r})}function T5(i,e){const t=e.key,r=t.path.canonicalString();i.du.get(t)||i.Eu.has(r)||(be(M0,"New document in limbo: "+t),i.Eu.add(r),V0(i))}function V0(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const t=new Te(vt.fromString(e)),r=i.fu.next();i.Au.set(r,new g5(t)),i.du=i.du.insert(t,r),rN(i.remoteStore,new Ai(Yn(v0(t.path)),r,"TargetPurposeLimboResolution",hm.ce))}}async function Uu(i,e,t){const r=Ue(i),o=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach((m,g)=>{d.push(r.pu(g,e,t).then(p=>{var y;if((p||t)&&r.isPrimaryClient){const b=p?!p.fromCache:(y=t==null?void 0:t.targetChanges.get(g.targetId))==null?void 0:y.current;r.sharedClientState.updateQueryState(g.targetId,b?"current":"not-current")}if(p){o.push(p);const b=E0.As(g.targetId,p);c.push(b)}}))}),await Promise.all(d),r.Pu.H_(o),await async function(g,p){const y=Ue(g);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>ce.forEach(p,j=>ce.forEach(j.Es,A=>y.persistence.referenceDelegate.addReference(b,j.targetId,A)).next(()=>ce.forEach(j.ds,A=>y.persistence.referenceDelegate.removeReference(b,j.targetId,A)))))}catch(b){if(!$l(b))throw b;be(A0,"Failed to update sequence numbers: "+b)}for(const b of p){const j=b.targetId;if(!b.fromCache){const A=y.Ms.get(j),T=A.snapshotVersion,R=A.withLastLimboFreeSnapshotVersion(T);y.Ms=y.Ms.insert(j,R)}}}(r.localStore,c))}async function E5(i,e){const t=Ue(i);if(!t.currentUser.isEqual(e)){be(M0,"User change. New user:",e.toKey());const r=await eN(t.localStore,e);t.currentUser=e,function(c,d){c.mu.forEach(m=>{m.forEach(g=>{g.reject(new ve(ie.CANCELLED,d))})}),c.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Uu(t,r.Ls)}}function A5(i,e){const t=Ue(i),r=t.Au.get(e);if(r&&r.hu)return Ze().add(r.key);{let o=Ze();const c=t.Iu.get(e);if(!c)return o;for(const d of c){const m=t.Tu.get(d);o=o.unionWith(m.view.nu)}return o}}function bN(i){const e=Ue(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=pN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=A5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=j5.bind(null,e),e.Pu.H_=d5.bind(null,e.eventManager),e.Pu.yu=h5.bind(null,e.eventManager),e}function k5(i){const e=Ue(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=N5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=S5.bind(null,e),e}class Zh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=bm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return O3(this.persistence,new C3,e.initialUser,this.serializer)}Cu(e){return new Zj(T0.mi,this.serializer)}Du(e){return new z3}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zh.provider={build:()=>new Zh};class C5 extends Zh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){at(this.persistence.referenceDelegate instanceof Xh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new g3(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Ds.withCacheSize(this.cacheSizeBytes):Ds.DEFAULT;return new Zj(r=>Xh.mi(r,t),this.serializer)}}class Vp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Ww(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=E5.bind(null,this.syncEngine),await l5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new u5}()}createDatastore(e){const t=bm(e.databaseInfo.databaseId),r=function(c){return new H3(c)}(e.databaseInfo);return function(c,d,m,g){return new W3(c,d,m,g)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,o,c,d,m){return new X3(r,o,c,d,m)}(this.localStore,this.datastore,e.asyncQueue,t=>Ww(this.syncEngine,t,0),function(){return qw.v()?new qw:new B3}())}createSyncEngine(e,t){return function(o,c,d,m,g,p,y){const b=new p5(o,c,d,m,g,p);return y&&(b.gu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const c=Ue(o);be(so,"RemoteStore shutting down."),c.Ea.add(5),await Lu(c),c.Aa.shutdown(),c.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}Vp.provider={build:()=>new Vp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Or("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi="FirestoreClient";class R5{constructor(e,t,r,o,c){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=ys.UNAUTHENTICATED,this.clientId=m0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,async d=>{be(Yi,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(r,d=>(be(Yi,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=P0(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Wg(i,e){i.asyncQueue.verifyOperationInProgress(),be(Yi,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let r=t.initialUser;i.setCredentialChangeListener(async o=>{r.isEqual(o)||(await eN(e.localStore,o),r=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function Xw(i,e){i.asyncQueue.verifyOperationInProgress();const t=await I5(i);be(Yi,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(r=>Hw(e.remoteStore,r)),i.setAppCheckTokenChangeListener((r,o)=>Hw(e.remoteStore,o)),i._onlineComponents=e}async function I5(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){be(Yi,"Using user provided OfflineComponentProvider");try{await Wg(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===ie.FAILED_PRECONDITION||o.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Al("Error using user provided cache. Falling back to memory cache: "+t),await Wg(i,new Zh)}}else be(Yi,"Using default OfflineComponentProvider"),await Wg(i,new C5(void 0));return i._offlineComponents}async function _N(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(be(Yi,"Using user provided OnlineComponentProvider"),await Xw(i,i._uninitializedComponentsProvider._online)):(be(Yi,"Using default OnlineComponentProvider"),await Xw(i,new Vp))),i._onlineComponents}function O5(i){return _N(i).then(e=>e.syncEngine)}async function Lp(i){const e=await _N(i),t=e.eventManager;return t.onListen=x5.bind(null,e.syncEngine),t.onUnlisten=b5.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=y5.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=w5.bind(null,e.syncEngine),t}function P5(i,e,t={}){const r=new Vi;return i.asyncQueue.enqueueAndForget(async()=>function(c,d,m,g,p){const y=new wN({next:j=>{y.Nu(),d.enqueueAndForget(()=>dN(c,b)),j.fromCache&&g.source==="server"?p.reject(new ve(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(j)},error:j=>p.reject(j)}),b=new hN(m,y,{includeMetadataChanges:!0,qa:!0});return uN(c,b)}(await Lp(i),i.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN="firestore.googleapis.com",Zw=!0;class e_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ve(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=NN,this.ssl=Zw}else this.host=e.host,this.ssl=e.ssl??Zw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Jj;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<m3)throw new ve(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}XR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jN(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ve(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ve(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ve(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jm{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new e_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new e_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new BR;switch(r.type){case"firstParty":return new HR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ve(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=Jw.get(t);r&&(be("ComponentProvider","Removing Datastore"),Jw.delete(t),r.terminate())}(this),Promise.resolve()}}function D5(i,e,t,r={}){var p;i=Tn(i,jm);const o=Vl(e),c=i._getSettings(),d={...c,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${t}`;o&&(x1(`https://${m}`),y1("Firestore",!0)),c.host!==NN&&c.host!==m&&Al("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:m,ssl:o,emulatorOptions:r};if(!Ja(g,d)&&(i._setSettings(g),r.mockUserToken)){let y,b;if(typeof r.mockUserToken=="string")y=r.mockUserToken,b=ys.MOCK_USER;else{y=d4(r.mockUserToken,(p=i._app)==null?void 0:p.options.projectId);const j=r.mockUserToken.sub||r.mockUserToken.user_id;if(!j)throw new ve(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new ys(j)}i._authCredentials=new $R(new uj(y,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new oo(this.firestore,e,this._query)}}class Dt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Li(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dt(this.firestore,e,this._key)}toJSON(){return{type:Dt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Pu(t,Dt._jsonSchema))return new Dt(e,r||null,new Te(vt.fromString(t.referencePath)))}}Dt._jsonSchemaVersion="firestore/documentReference/1.0",Dt._jsonSchema={type:$t("string",Dt._jsonSchemaVersion),referencePath:$t("string")};class Li extends oo{constructor(e,t,r){super(e,t,v0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dt(this.firestore,null,new Te(e))}withConverter(e){return new Li(this.firestore,e,this._path)}}function t_(i,e,...t){if(i=ns(i),dj("collection","path",e),i instanceof jm){const r=vt.fromString(e,...t);return mw(r),new Li(i,null,r)}{if(!(i instanceof Dt||i instanceof Li))throw new ve(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(vt.fromString(e,...t));return mw(r),new Li(i.firestore,null,r)}}function Yg(i,e,...t){if(i=ns(i),arguments.length===1&&(e=m0.newId()),dj("doc","path",e),i instanceof jm){const r=vt.fromString(e,...t);return hw(r),new Dt(i,null,new Te(r))}{if(!(i instanceof Dt||i instanceof Li))throw new ve(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(vt.fromString(e,...t));return hw(r),new Dt(i.firestore,i instanceof Li?i.converter:null,new Te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_="AsyncQueue";class n_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new sN(this,"async_queue_retry"),this._c=()=>{const r=Qg();r&&be(s_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=Qg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Qg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new Vi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!$l(e))throw e;be(s_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Or("INTERNAL UNHANDLED ERROR: ",r_(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=O0.createAndSchedule(this,e,t,r,c=>this.hc(c));return this.tc.push(o),o}uc(){this.nc&&Re(47125,{Pc:r_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function r_(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i_(i){return function(t,r){if(typeof t!="object"||t===null)return!1;const o=t;for(const c of r)if(c in o&&typeof o[c]=="function")return!0;return!1}(i,["next","error","complete"])}class no extends jm{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new n_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new n_(e),this._firestoreClient=void 0,await e}}}function M5(i,e){const t=typeof i=="object"?i:_1(),r=typeof i=="string"?i:Fh,o=r0(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=c4("firestore");c&&D5(o,...c)}return o}function L0(i){if(i._terminated)throw new ve(ie.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||V5(i),i._firestoreClient}function V5(i){var r,o,c;const e=i._freezeSettings(),t=function(m,g,p,y){return new lI(m,g,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,jN(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)}(i._databaseId,((r=i._app)==null?void 0:r.options.appId)||"",i._persistenceKey,e);i._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((c=e.localCache)!=null&&c._onlineComponentProvider)&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new R5(i._authCredentials,i._appCheckCredentials,i._queue,t,i._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new cn(ds.fromBase64String(e))}catch(t){throw new ve(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new cn(ds.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:cn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Pu(e,cn._jsonSchema))return cn.fromBase64String(e.bytes)}}cn._jsonSchemaVersion="firestore/bytes/1.0",cn._jsonSchema={type:$t("string",cn._jsonSchemaVersion),bytes:$t("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ve(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cs(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ve(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ve(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Je(this._lat,e._lat)||Je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Jn._jsonSchemaVersion}}static fromJSON(e){if(Pu(e,Jn._jsonSchema))return new Jn(e.latitude,e.longitude)}}Jn._jsonSchemaVersion="firestore/geoPoint/1.0",Jn._jsonSchema={type:$t("string",Jn._jsonSchemaVersion),latitude:$t("number"),longitude:$t("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Zn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Pu(e,Zn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Zn(e.vectorValues);throw new ve(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Zn._jsonSchemaVersion="firestore/vectorValue/1.0",Zn._jsonSchema={type:$t("string",Zn._jsonSchemaVersion),vectorValues:$t("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5=/^__.*__$/;class U5{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ji(e,this.data,this.fieldMask,t,this.fieldTransforms):new Mu(e,this.data,t,this.fieldTransforms)}}class SN{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ji(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function TN(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re(40011,{Ac:i})}}class z0{constructor(e,t,r,o,c,d){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new z0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const t=(o=this.path)==null?void 0:o.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){var o;const t=(o=this.path)==null?void 0:o.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return em(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(TN(this.Ac)&&L5.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class z5{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||bm(e)}Cc(e,t,r,o=!1){return new z0({Ac:e,methodName:t,Dc:r,path:cs.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function B0(i){const e=i._freezeSettings(),t=bm(i._databaseId);return new z5(i._databaseId,!!e.ignoreUndefinedProperties,t)}function B5(i,e,t,r,o,c={}){const d=i.Cc(c.merge||c.mergeFields?2:0,e,t,o);$0("Data must be an object, but it was:",d,r);const m=EN(r,d);let g,p;if(c.merge)g=new Qs(d.fieldMask),p=d.fieldTransforms;else if(c.mergeFields){const y=[];for(const b of c.mergeFields){const j=Up(e,b,t);if(!d.contains(j))throw new ve(ie.INVALID_ARGUMENT,`Field '${j}' is specified in your field mask but missing from your input data.`);kN(y,j)||y.push(j)}g=new Qs(y),p=d.fieldTransforms.filter(b=>g.covers(b.field))}else g=null,p=d.fieldTransforms;return new U5(new Vs(m),g,p)}class Sm extends U0{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Sm}}function $5(i,e,t,r){const o=i.Cc(1,e,t);$0("Data must be an object, but it was:",o,r);const c=[],d=Vs.empty();Xi(r,(g,p)=>{const y=q0(e,g,t);p=ns(p);const b=o.yc(y);if(p instanceof Sm)c.push(y);else{const j=zu(p,b);j!=null&&(c.push(y),d.set(y,j))}});const m=new Qs(c);return new SN(d,m,o.fieldTransforms)}function q5(i,e,t,r,o,c){const d=i.Cc(1,e,t),m=[Up(e,r,t)],g=[o];if(c.length%2!=0)throw new ve(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let j=0;j<c.length;j+=2)m.push(Up(e,c[j])),g.push(c[j+1]);const p=[],y=Vs.empty();for(let j=m.length-1;j>=0;--j)if(!kN(p,m[j])){const A=m[j];let T=g[j];T=ns(T);const R=d.yc(A);if(T instanceof Sm)p.push(A);else{const S=zu(T,R);S!=null&&(p.push(A),y.set(A,S))}}const b=new Qs(p);return new SN(y,b,d.fieldTransforms)}function F5(i,e,t,r=!1){return zu(t,i.Cc(r?4:3,e))}function zu(i,e){if(AN(i=ns(i)))return $0("Unsupported field value:",e,i),EN(i,e);if(i instanceof U0)return function(r,o){if(!TN(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,o){const c=[];let d=0;for(const m of r){let g=zu(m,o.wc(d));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),d++}return{arrayValue:{values:c}}}(i,e)}return function(r,o){if((r=ns(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return RI(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=wt.fromDate(r);return{timestampValue:Yh(o.serializer,c)}}if(r instanceof wt){const c=new wt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Yh(o.serializer,c)}}if(r instanceof Jn)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof cn)return{bytesValue:Hj(o.serializer,r._byteString)};if(r instanceof Dt){const c=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:N0(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Zn)return function(d,m){return{mapValue:{fields:{[bj]:{stringValue:wj},[Hh]:{arrayValue:{values:d.toArray().map(p=>{if(typeof p!="number")throw m.Sc("VectorValues must only contain numeric values.");return b0(m.serializer,p)})}}}}}}(r,o);throw o.Sc(`Unsupported field value: ${dm(r)}`)}(i,e)}function EN(i,e){const t={};return fj(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xi(i,(r,o)=>{const c=zu(o,e.mc(r));c!=null&&(t[r]=c)}),{mapValue:{fields:t}}}function AN(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof wt||i instanceof Jn||i instanceof cn||i instanceof Dt||i instanceof U0||i instanceof Zn)}function $0(i,e,t){if(!AN(t)||!hj(t)){const r=dm(t);throw r==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+r)}}function Up(i,e,t){if((e=ns(e))instanceof Nm)return e._internalPath;if(typeof e=="string")return q0(i,e);throw em("Field path arguments must be of type string or ",i,!1,void 0,t)}const H5=new RegExp("[~\\*/\\[\\]]");function q0(i,e,t){if(e.search(H5)>=0)throw em(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Nm(...e.split("."))._internalPath}catch{throw em(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function em(i,e,t,r,o){const c=r&&!r.isEmpty(),d=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(c||d)&&(g+=" (found",c&&(g+=` in field ${r}`),d&&(g+=` in document ${o}`),g+=")"),new ve(ie.INVALID_ARGUMENT,m+i+g)}function kN(i,e){return i.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e,t,r,o,c){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new G5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(F0("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class G5 extends CN{data(){return super.data()}}function F0(i,e){return typeof e=="string"?q0(i,e):e instanceof Nm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ve(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class H0{}class K5 extends H0{}function Q5(i,e,...t){let r=[];e instanceof H0&&r.push(e),r=r.concat(t),function(c){const d=c.filter(g=>g instanceof G0).length,m=c.filter(g=>g instanceof Tm).length;if(d>1||d>0&&m>0)throw new ve(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)i=o._apply(i);return i}class Tm extends K5{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Tm(e,t,r)}_apply(e){const t=this._parse(e);return IN(e._query,t),new oo(e.firestore,e.converter,Ep(e._query,t))}_parse(e){const t=B0(e.firestore);return function(c,d,m,g,p,y,b){let j;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ve(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){o_(b,y);const T=[];for(const R of b)T.push(a_(g,c,R));j={arrayValue:{values:T}}}else j=a_(g,c,b)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||o_(b,y),j=F5(m,d,b,y==="in"||y==="not-in");return Bt.create(p,y,j)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function W5(i,e,t){const r=e,o=F0("where",i);return Tm._create(o,r,t)}class G0 extends H0{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new G0(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:kn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,c){let d=o;const m=c.getFlattenedFilters();for(const g of m)IN(d,g),d=Ep(d,g)}(e._query,t),new oo(e.firestore,e.converter,Ep(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function a_(i,e,t){if(typeof(t=ns(t))=="string"){if(t==="")throw new ve(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kj(e)&&t.indexOf("/")!==-1)throw new ve(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(vt.fromString(t));if(!Te.isDocumentKey(r))throw new ve(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ww(i,new Te(r))}if(t instanceof Dt)return ww(i,t._key);throw new ve(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dm(t)}.`)}function o_(i,e){if(!Array.isArray(i)||i.length===0)throw new ve(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function IN(i,e){const t=function(o,c){for(const d of o)for(const m of d.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ve(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Y5{convertValue(e,t="none"){switch(Qi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ki(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Re(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Xi(e,(o,c)=>{r[o]=this.convertValue(c,t)}),r}convertVectorValue(e){var r,o,c;const t=(c=(o=(r=e.fields)==null?void 0:r[Hh].arrayValue)==null?void 0:o.values)==null?void 0:c.map(d=>Pt(d.doubleValue));return new Zn(t)}convertGeoPoint(e){return new Jn(Pt(e.latitude),Pt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=fm(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(vu(e));default:return null}}convertTimestamp(e){const t=Gi(e);return new wt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=vt.fromString(e);at(Xj(r),9688,{name:e});const o=new bu(r.get(1),r.get(3)),c=new Te(r.popFirst(5));return o.isEqual(t)||Or(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X5(i,e,t){let r;return r=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,r}class nu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qa extends CN{constructor(e,t,r,o,c,d){super(e,t,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ch(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(F0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Qa._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Qa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qa._jsonSchema={type:$t("string",Qa._jsonSchemaVersion),bundleSource:$t("string","DocumentSnapshot"),bundleName:$t("string"),bundle:$t("string")};class Ch extends Qa{data(e={}){return super.data(e)}}class Wa{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new nu(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Ch(this._firestore,this._userDataWriter,r.key,r,new nu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ve(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(m=>{const g=new Ch(o._firestore,o._userDataWriter,m.doc.key,m.doc,new nu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>c||m.type!==3).map(m=>{const g=new Ch(o._firestore,o._userDataWriter,m.doc.key,m.doc,new nu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,y=-1;return m.type!==0&&(p=d.indexOf(m.doc.key),d=d.delete(m.doc.key)),m.type!==1&&(d=d.add(m.doc),y=d.indexOf(m.doc.key)),{type:J5(m.type),doc:g,oldIndex:p,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Wa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=m0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],o=[];return this.docs.forEach(c=>{c._document!==null&&(t.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function J5(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re(61501,{type:i})}}Wa._jsonSchemaVersion="firestore/querySnapshot/1.0",Wa._jsonSchema={type:$t("string",Wa._jsonSchemaVersion),bundleSource:$t("string","QuerySnapshot"),bundleName:$t("string"),bundle:$t("string")};class K0 extends Y5{constructor(e){super(),this.firestore=e}convertBytes(e){return new cn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Dt(this.firestore,null,t)}}function Z5(i){i=Tn(i,oo);const e=Tn(i.firestore,no),t=L0(e),r=new K0(e);return RN(i._query),P5(t,i._query).then(o=>new Wa(e,r,i,o))}function eO(i,e,t){i=Tn(i,Dt);const r=Tn(i.firestore,no),o=X5(i.converter,e,t);return Q0(r,[B5(B0(r),"setDoc",i._key,o,i.converter!==null,t).toMutation(i._key,En.none())])}function tO(i,e,t,...r){i=Tn(i,Dt);const o=Tn(i.firestore,no),c=B0(o);let d;return d=typeof(e=ns(e))=="string"||e instanceof Nm?q5(c,"updateDoc",i._key,e,t,r):$5(c,"updateDoc",i._key,e),Q0(o,[d.toMutation(i._key,En.exists(!0))])}function sO(i){return Q0(Tn(i.firestore,no),[new w0(i._key,En.none())])}function nO(i,...e){var g,p,y;i=ns(i);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||i_(e[r])||(t=e[r++]);const o={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(i_(e[r])){const b=e[r];e[r]=(g=b.next)==null?void 0:g.bind(b),e[r+1]=(p=b.error)==null?void 0:p.bind(b),e[r+2]=(y=b.complete)==null?void 0:y.bind(b)}let c,d,m;if(i instanceof Dt)d=Tn(i.firestore,no),m=v0(i._key.path),c={next:b=>{e[r]&&e[r](rO(d,i,b))},error:e[r+1],complete:e[r+2]};else{const b=Tn(i,oo);d=Tn(b.firestore,no),m=b._query;const j=new K0(d);c={next:A=>{e[r]&&e[r](new Wa(d,j,b,A))},error:e[r+1],complete:e[r+2]},RN(i._query)}return function(j,A,T,R){const S=new wN(R),q=new hN(A,S,T);return j.asyncQueue.enqueueAndForget(async()=>uN(await Lp(j),q)),()=>{S.Nu(),j.asyncQueue.enqueueAndForget(async()=>dN(await Lp(j),q))}}(L0(d),m,o,c)}function Q0(i,e){return function(r,o){const c=new Vi;return r.asyncQueue.enqueueAndForget(async()=>_5(await O5(r),o,c)),c.promise}(L0(i),e)}function rO(i,e,t){const r=t.docs.get(e._key),o=new K0(i);return new Qa(i,o,e._key,r,new nu(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){zl=o})(Ll),El(new Za("firestore",(r,{instanceIdentifier:o,options:c})=>{const d=r.getProvider("app").getImmediate(),m=new no(new qR(r.getProvider("auth-internal")),new GR(d,r.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ve(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bu(p.options.projectId,y)}(d,o),d);return c={useFetchStreams:t,...c},m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),Pi(lw,cw,e),Pi(lw,cw,"esm2020")})();const iO="modulepreload",aO=function(i){return"/"+i},l_={},Bu=function(e,t,r){let o=Promise.resolve();if(t&&t.length>0){let d=function(p){return Promise.all(p.map(y=>Promise.resolve(y).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),g=(m==null?void 0:m.nonce)||(m==null?void 0:m.getAttribute("nonce"));o=d(t.map(p=>{if(p=aO(p),p in l_)return;l_[p]=!0;const y=p.endsWith(".css"),b=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${b}`))return;const j=document.createElement("link");if(j.rel=y?"stylesheet":iO,y||(j.as="script"),j.crossOrigin="",j.href=p,g&&j.setAttribute("nonce",g),document.head.appendChild(j),y)return new Promise((A,T)=>{j.addEventListener("load",A),j.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${p}`)))})}))}function c(d){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=d,window.dispatchEvent(m),!m.defaultPrevented)throw d}return o.then(d=>{for(const m of d||[])m.status==="rejected"&&c(m.reason);return e().catch(c)})},oO=i=>{let e;return i?e=i:typeof fetch>"u"?e=(...t)=>Bu(async()=>{const{default:r}=await Promise.resolve().then(()=>Fl);return{default:r}},void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)};class W0 extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class c_ extends W0{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class u_ extends W0{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class d_ extends W0{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var zp;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(zp||(zp={}));var lO=function(i,e,t,r){function o(c){return c instanceof t?c:new t(function(d){d(c)})}return new(t||(t=Promise))(function(c,d){function m(y){try{p(r.next(y))}catch(b){d(b)}}function g(y){try{p(r.throw(y))}catch(b){d(b)}}function p(y){y.done?c(y.value):o(y.value).then(m,g)}p((r=r.apply(i,e||[])).next())})};class cO{constructor(e,{headers:t={},customFetch:r,region:o=zp.Any}={}){this.url=e,this.headers=t,this.region=o,this.fetch=oO(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return lO(this,arguments,void 0,function*(t,r={}){var o;try{const{headers:c,method:d,body:m,signal:g}=r;let p={},{region:y}=r;y||(y=this.region);const b=new URL(`${this.url}/${t}`);y&&y!=="any"&&(p["x-region"]=y,b.searchParams.set("forceFunctionRegion",y));let j;m&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)&&(typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",j=m):typeof m=="string"?(p["Content-Type"]="text/plain",j=m):typeof FormData<"u"&&m instanceof FormData?j=m:(p["Content-Type"]="application/json",j=JSON.stringify(m)));const A=yield this.fetch(b.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),c),body:j,signal:g}).catch(q=>{throw q.name==="AbortError"?q:new c_(q)}),T=A.headers.get("x-relay-error");if(T&&T==="true")throw new u_(A);if(!A.ok)throw new d_(A);let R=((o=A.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),S;return R==="application/json"?S=yield A.json():R==="application/octet-stream"?S=yield A.blob():R==="text/event-stream"?S=A:R==="multipart/form-data"?S=yield A.formData():S=yield A.text(),{data:S,error:null,response:A}}catch(c){return c instanceof Error&&c.name==="AbortError"?{data:null,error:new c_(c)}:{data:null,error:c,response:c instanceof d_||c instanceof u_?c.context:void 0}}})}}var ts={},el={},tl={},sl={},nl={},rl={},uO=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Pl=uO();const dO=Pl.fetch,ON=Pl.fetch.bind(Pl),PN=Pl.Headers,hO=Pl.Request,mO=Pl.Response,Fl=Object.freeze(Object.defineProperty({__proto__:null,Headers:PN,Request:hO,Response:mO,default:ON,fetch:dO},Symbol.toStringTag,{value:"Module"})),fO=ES(Fl);var xh={},h_;function DN(){if(h_)return xh;h_=1,Object.defineProperty(xh,"__esModule",{value:!0});class i extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return xh.default=i,xh}var m_;function MN(){if(m_)return rl;m_=1;var i=rl&&rl.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(rl,"__esModule",{value:!0});const e=i(fO),t=i(DN());class r{constructor(c){var d,m;this.shouldThrowOnError=!1,this.method=c.method,this.url=c.url,this.headers=new Headers(c.headers),this.schema=c.schema,this.body=c.body,this.shouldThrowOnError=(d=c.shouldThrowOnError)!==null&&d!==void 0?d:!1,this.signal=c.signal,this.isMaybeSingle=(m=c.isMaybeSingle)!==null&&m!==void 0?m:!1,c.fetch?this.fetch=c.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(c,d){return this.headers=new Headers(this.headers),this.headers.set(c,d),this}then(c,d){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const m=this.fetch;let g=m(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var y,b,j,A;let T=null,R=null,S=null,q=p.status,D=p.statusText;if(p.ok){if(this.method!=="HEAD"){const he=await p.text();he===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((y=this.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?R=he:R=JSON.parse(he))}const de=(b=this.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),pe=(j=p.headers.get("content-range"))===null||j===void 0?void 0:j.split("/");de&&pe&&pe.length>1&&(S=parseInt(pe[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(R)&&(R.length>1?(T={code:"PGRST116",details:`Results contain ${R.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},R=null,S=null,q=406,D="Not Acceptable"):R.length===1?R=R[0]:R=null)}else{const de=await p.text();try{T=JSON.parse(de),Array.isArray(T)&&p.status===404&&(R=[],T=null,q=200,D="OK")}catch{p.status===404&&de===""?(q=204,D="No Content"):T={message:de}}if(T&&this.isMaybeSingle&&(!((A=T==null?void 0:T.details)===null||A===void 0)&&A.includes("0 rows"))&&(T=null,q=200,D="OK"),T&&this.shouldThrowOnError)throw new t.default(T)}return{error:T,data:R,count:S,status:q,statusText:D}});return this.shouldThrowOnError||(g=g.catch(p=>{var y,b,j;return{error:{message:`${(y=p==null?void 0:p.name)!==null&&y!==void 0?y:"FetchError"}: ${p==null?void 0:p.message}`,details:`${(b=p==null?void 0:p.stack)!==null&&b!==void 0?b:""}`,hint:"",code:`${(j=p==null?void 0:p.code)!==null&&j!==void 0?j:""}`},data:null,count:null,status:0,statusText:""}})),g.then(c,d)}returns(){return this}overrideTypes(){return this}}return rl.default=r,rl}var f_;function VN(){if(f_)return nl;f_=1;var i=nl&&nl.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(nl,"__esModule",{value:!0});const e=i(MN());class t extends e.default{select(o){let c=!1;const d=(o??"*").split("").map(m=>/\s/.test(m)&&!c?"":(m==='"'&&(c=!c),m)).join("");return this.url.searchParams.set("select",d),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:c=!0,nullsFirst:d,foreignTable:m,referencedTable:g=m}={}){const p=g?`${g}.order`:"order",y=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${y?`${y},`:""}${o}.${c?"asc":"desc"}${d===void 0?"":d?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:c,referencedTable:d=c}={}){const m=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(m,`${o}`),this}range(o,c,{foreignTable:d,referencedTable:m=d}={}){const g=typeof m>"u"?"offset":`${m}.offset`,p=typeof m>"u"?"limit":`${m}.limit`;return this.url.searchParams.set(g,`${o}`),this.url.searchParams.set(p,`${c-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:c=!1,settings:d=!1,buffers:m=!1,wal:g=!1,format:p="text"}={}){var y;const b=[o?"analyze":null,c?"verbose":null,d?"settings":null,m?"buffers":null,g?"wal":null].filter(Boolean).join("|"),j=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${j}"; options=${b};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return nl.default=t,nl}var g_;function Y0(){if(g_)return sl;g_=1;var i=sl&&sl.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(sl,"__esModule",{value:!0});const e=i(VN());class t extends e.default{eq(o,c){return this.url.searchParams.append(o,`eq.${c}`),this}neq(o,c){return this.url.searchParams.append(o,`neq.${c}`),this}gt(o,c){return this.url.searchParams.append(o,`gt.${c}`),this}gte(o,c){return this.url.searchParams.append(o,`gte.${c}`),this}lt(o,c){return this.url.searchParams.append(o,`lt.${c}`),this}lte(o,c){return this.url.searchParams.append(o,`lte.${c}`),this}like(o,c){return this.url.searchParams.append(o,`like.${c}`),this}likeAllOf(o,c){return this.url.searchParams.append(o,`like(all).{${c.join(",")}}`),this}likeAnyOf(o,c){return this.url.searchParams.append(o,`like(any).{${c.join(",")}}`),this}ilike(o,c){return this.url.searchParams.append(o,`ilike.${c}`),this}ilikeAllOf(o,c){return this.url.searchParams.append(o,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(o,c){return this.url.searchParams.append(o,`ilike(any).{${c.join(",")}}`),this}is(o,c){return this.url.searchParams.append(o,`is.${c}`),this}in(o,c){const d=Array.from(new Set(c)).map(m=>typeof m=="string"&&new RegExp("[,()]").test(m)?`"${m}"`:`${m}`).join(",");return this.url.searchParams.append(o,`in.(${d})`),this}contains(o,c){return typeof c=="string"?this.url.searchParams.append(o,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(o,`cs.{${c.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(c)}`),this}containedBy(o,c){return typeof c=="string"?this.url.searchParams.append(o,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(o,`cd.{${c.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(c)}`),this}rangeGt(o,c){return this.url.searchParams.append(o,`sr.${c}`),this}rangeGte(o,c){return this.url.searchParams.append(o,`nxl.${c}`),this}rangeLt(o,c){return this.url.searchParams.append(o,`sl.${c}`),this}rangeLte(o,c){return this.url.searchParams.append(o,`nxr.${c}`),this}rangeAdjacent(o,c){return this.url.searchParams.append(o,`adj.${c}`),this}overlaps(o,c){return typeof c=="string"?this.url.searchParams.append(o,`ov.${c}`):this.url.searchParams.append(o,`ov.{${c.join(",")}}`),this}textSearch(o,c,{config:d,type:m}={}){let g="";m==="plain"?g="pl":m==="phrase"?g="ph":m==="websearch"&&(g="w");const p=d===void 0?"":`(${d})`;return this.url.searchParams.append(o,`${g}fts${p}.${c}`),this}match(o){return Object.entries(o).forEach(([c,d])=>{this.url.searchParams.append(c,`eq.${d}`)}),this}not(o,c,d){return this.url.searchParams.append(o,`not.${c}.${d}`),this}or(o,{foreignTable:c,referencedTable:d=c}={}){const m=d?`${d}.or`:"or";return this.url.searchParams.append(m,`(${o})`),this}filter(o,c,d){return this.url.searchParams.append(o,`${c}.${d}`),this}}return sl.default=t,sl}var p_;function LN(){if(p_)return tl;p_=1;var i=tl&&tl.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(tl,"__esModule",{value:!0});const e=i(Y0());class t{constructor(o,{headers:c={},schema:d,fetch:m}){this.url=o,this.headers=new Headers(c),this.schema=d,this.fetch=m}select(o,c){const{head:d=!1,count:m}=c??{},g=d?"HEAD":"GET";let p=!1;const y=(o??"*").split("").map(b=>/\s/.test(b)&&!p?"":(b==='"'&&(p=!p),b)).join("");return this.url.searchParams.set("select",y),m&&this.headers.append("Prefer",`count=${m}`),new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:c,defaultToNull:d=!0}={}){var m;const g="POST";if(c&&this.headers.append("Prefer",`count=${c}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const p=o.reduce((y,b)=>y.concat(Object.keys(b)),[]);if(p.length>0){const y=[...new Set(p)].map(b=>`"${b}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}upsert(o,{onConflict:c,ignoreDuplicates:d=!1,count:m,defaultToNull:g=!0}={}){var p;const y="POST";if(this.headers.append("Prefer",`resolution=${d?"ignore":"merge"}-duplicates`),c!==void 0&&this.url.searchParams.set("on_conflict",c),m&&this.headers.append("Prefer",`count=${m}`),g||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const b=o.reduce((j,A)=>j.concat(Object.keys(A)),[]);if(b.length>0){const j=[...new Set(b)].map(A=>`"${A}"`);this.url.searchParams.set("columns",j.join(","))}}return new e.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(o,{count:c}={}){var d;const m="PATCH";return c&&this.headers.append("Prefer",`count=${c}`),new e.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}delete({count:o}={}){var c;const d="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return tl.default=t,tl}var x_;function gO(){if(x_)return el;x_=1;var i=el&&el.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(el,"__esModule",{value:!0});const e=i(LN()),t=i(Y0());class r{constructor(c,{headers:d={},schema:m,fetch:g}={}){this.url=c,this.headers=new Headers(d),this.schemaName=m,this.fetch=g}from(c){const d=new URL(`${this.url}/${c}`);return new e.default(d,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new r(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,d={},{head:m=!1,get:g=!1,count:p}={}){var y;let b;const j=new URL(`${this.url}/rpc/${c}`);let A;m||g?(b=m?"HEAD":"GET",Object.entries(d).filter(([R,S])=>S!==void 0).map(([R,S])=>[R,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([R,S])=>{j.searchParams.append(R,S)})):(b="POST",A=d);const T=new Headers(this.headers);return p&&T.set("Prefer",`count=${p}`),new t.default({method:b,url:j,headers:T,schema:this.schemaName,body:A,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}}return el.default=r,el}var y_;function pO(){if(y_)return ts;y_=1;var i=ts&&ts.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(ts,"__esModule",{value:!0}),ts.PostgrestError=ts.PostgrestBuilder=ts.PostgrestTransformBuilder=ts.PostgrestFilterBuilder=ts.PostgrestQueryBuilder=ts.PostgrestClient=void 0;const e=i(gO());ts.PostgrestClient=e.default;const t=i(LN());ts.PostgrestQueryBuilder=t.default;const r=i(Y0());ts.PostgrestFilterBuilder=r.default;const o=i(VN());ts.PostgrestTransformBuilder=o.default;const c=i(MN());ts.PostgrestBuilder=c.default;const d=i(DN());return ts.PostgrestError=d.default,ts.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:c.default,PostgrestError:d.default},ts}var xO=pO();const yO=TS(xO),{PostgrestClient:vO,PostgrestQueryBuilder:PD,PostgrestFilterBuilder:DD,PostgrestTransformBuilder:MD,PostgrestBuilder:VD,PostgrestError:LD}=yO;class bO{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const t=process.versions;if(t&&t.node){const r=t.node,o=parseInt(r.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const r=this.getWebSocketConstructor();return new r(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const wO="2.75.0",_O=`realtime-js/${wO}`,jO="1.0.0",Bp=1e4,NO=1e3,SO=100;var hu;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(hu||(hu={}));var Qt;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(Qt||(Qt={}));var _n;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(_n||(_n={}));var $p;(function(i){i.websocket="websocket"})($p||($p={}));var $a;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})($a||($a={}));class TO{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const o=t.getUint8(1),c=t.getUint8(2);let d=this.HEADER_LENGTH+2;const m=r.decode(e.slice(d,d+o));d=d+o;const g=r.decode(e.slice(d,d+c));d=d+c;const p=JSON.parse(r.decode(e.slice(d,e.byteLength)));return{ref:null,topic:m,event:g,payload:p}}}class UN{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var yt;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(yt||(yt={}));const v_=(i,e,t={})=>{var r;const o=(r=t.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((c,d)=>(c[d]=EO(d,i,e,o),c),{}):{}},EO=(i,e,t,r)=>{const o=e.find(m=>m.name===i),c=o==null?void 0:o.type,d=t[i];return c&&!r.includes(c)?zN(c,d):qp(d)},zN=(i,e)=>{if(i.charAt(0)==="_"){const t=i.slice(1,i.length);return RO(e,t)}switch(i){case yt.bool:return AO(e);case yt.float4:case yt.float8:case yt.int2:case yt.int4:case yt.int8:case yt.numeric:case yt.oid:return kO(e);case yt.json:case yt.jsonb:return CO(e);case yt.timestamp:return IO(e);case yt.abstime:case yt.date:case yt.daterange:case yt.int4range:case yt.int8range:case yt.money:case yt.reltime:case yt.text:case yt.time:case yt.timestamptz:case yt.timetz:case yt.tsrange:case yt.tstzrange:return qp(e);default:return qp(e)}},qp=i=>i,AO=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},kO=i=>{if(typeof i=="string"){const e=parseFloat(i);if(!Number.isNaN(e))return e}return i},CO=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch(e){return console.log(`JSON parse error: ${e}`),i}return i},RO=(i,e)=>{if(typeof i!="string")return i;const t=i.length-1,r=i[t];if(i[0]==="{"&&r==="}"){let c;const d=i.slice(1,t);try{c=JSON.parse("["+d+"]")}catch{c=d?d.split(","):[]}return c.map(m=>zN(e,m))}return i},IO=i=>typeof i=="string"?i.replace(" ","T"):i,BN=i=>{let e=i;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Xg{constructor(e,t,r={},o=Bp){this.channel=e,this.event=t,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var b_;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(b_||(b_={}));class mu{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{const{onJoin:c,onLeave:d,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=mu.syncState(this.state,o,c,d),this.pendingDiffs.forEach(g=>{this.state=mu.syncDiff(this.state,g,c,d)}),this.pendingDiffs=[],m()}),this.channel._on(r.diff,{},o=>{const{onJoin:c,onLeave:d,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=mu.syncDiff(this.state,o,c,d),m())}),this.onJoin((o,c,d)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:c,newPresences:d})}),this.onLeave((o,c,d)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:c,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,o){const c=this.cloneDeep(e),d=this.transformState(t),m={},g={};return this.map(c,(p,y)=>{d[p]||(g[p]=y)}),this.map(d,(p,y)=>{const b=c[p];if(b){const j=y.map(S=>S.presence_ref),A=b.map(S=>S.presence_ref),T=y.filter(S=>A.indexOf(S.presence_ref)<0),R=b.filter(S=>j.indexOf(S.presence_ref)<0);T.length>0&&(m[p]=T),R.length>0&&(g[p]=R)}else m[p]=y}),this.syncDiff(c,{joins:m,leaves:g},r,o)}static syncDiff(e,t,r,o){const{joins:c,leaves:d}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(c,(m,g)=>{var p;const y=(p=e[m])!==null&&p!==void 0?p:[];if(e[m]=this.cloneDeep(g),y.length>0){const b=e[m].map(A=>A.presence_ref),j=y.filter(A=>b.indexOf(A.presence_ref)<0);e[m].unshift(...j)}r(m,y,g)}),this.map(d,(m,g)=>{let p=e[m];if(!p)return;const y=g.map(b=>b.presence_ref);p=p.filter(b=>y.indexOf(b.presence_ref)<0),e[m]=p,o(m,p,g),p.length===0&&delete e[m]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const o=e[r];return"metas"in o?t[r]=o.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):t[r]=o,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var w_;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(w_||(w_={}));var fu;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(fu||(fu={}));var Sr;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(Sr||(Sr={}));class X0{constructor(e,t={config:{}},r){var o,c;if(this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=Qt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Xg(this,_n.join,this.params,this.timeout),this.rejoinTimer=new UN(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Qt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Qt.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=Qt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Qt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=Qt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(_n.reply,{},(d,m)=>{this._trigger(this._replyEventName(m),d)}),this.presence=new mu(this),this.broadcastEndpointURL=BN(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var r,o,c;if(this.socket.isConnected()||this.socket.connect(),this.state==Qt.closed){const{config:{broadcast:d,presence:m,private:g}}=this.params,p=(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(A=>A.filter))!==null&&o!==void 0?o:[],y=!!this.bindings[fu.PRESENCE]&&this.bindings[fu.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,b={},j={broadcast:d,presence:Object.assign(Object.assign({},m),{enabled:y}),postgres_changes:p,private:g};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(A=>e==null?void 0:e(Sr.CHANNEL_ERROR,A)),this._onClose(()=>e==null?void 0:e(Sr.CLOSED)),this.updateJoinPayload(Object.assign({config:j},b)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:A})=>{var T;if(this.socket.setAuth(),A===void 0){e==null||e(Sr.SUBSCRIBED);return}else{const R=this.bindings.postgres_changes,S=(T=R==null?void 0:R.length)!==null&&T!==void 0?T:0,q=[];for(let D=0;D<S;D++){const J=R[D],{filter:{event:de,schema:pe,table:he,filter:I}}=J,k=A&&A[D];if(k&&k.event===de&&k.schema===pe&&k.table===he&&k.filter===I)q.push(Object.assign(Object.assign({},J),{id:k.id}));else{this.unsubscribe(),this.state=Qt.errored,e==null||e(Sr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=q,e&&e(Sr.SUBSCRIBED);return}}).receive("error",A=>{this.state=Qt.errored,e==null||e(Sr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(A).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Sr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this.state===Qt.joined&&e===fu.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,r)}async send(e,t={}){var r,o;if(!this._canPush()&&e.type==="broadcast"){const{event:c,payload:d}=e,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:d,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(r=t.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var d,m,g;const p=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((g=(m=(d=this.params)===null||d===void 0?void 0:d.config)===null||m===void 0?void 0:m.broadcast)===null||g===void 0)&&g.ack)&&c("ok"),p.receive("ok",()=>c("ok")),p.receive("error",()=>c("error")),p.receive("timeout",()=>c("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Qt.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(_n.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new Xg(this,_n.leave,{},e),r.receive("ok",()=>{t(),o("ok")}).receive("timeout",()=>{t(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Qt.closed,this.bindings={}}async _fetchWithTimeout(e,t,r){const o=new AbortController,c=setTimeout(()=>o.abort(),r),d=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:o.signal}));return clearTimeout(c),d}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Xg(this,e,t,r);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>SO){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var o,c;const d=e.toLocaleLowerCase(),{close:m,error:g,leave:p,join:y}=_n;if(r&&[m,g,p,y].indexOf(d)>=0&&r!==this._joinRef())return;let j=this._onMessage(d,t,r);if(t&&!j)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(A=>{var T,R,S;return((T=A.filter)===null||T===void 0?void 0:T.event)==="*"||((S=(R=A.filter)===null||R===void 0?void 0:R.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===d}).map(A=>A.callback(j,r)):(c=this.bindings[d])===null||c===void 0||c.filter(A=>{var T,R,S,q,D,J;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in A){const de=A.id,pe=(T=A.filter)===null||T===void 0?void 0:T.event;return de&&((R=t.ids)===null||R===void 0?void 0:R.includes(de))&&(pe==="*"||(pe==null?void 0:pe.toLocaleLowerCase())===((S=t.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const de=(D=(q=A==null?void 0:A.filter)===null||q===void 0?void 0:q.event)===null||D===void 0?void 0:D.toLocaleLowerCase();return de==="*"||de===((J=t==null?void 0:t.event)===null||J===void 0?void 0:J.toLocaleLowerCase())}else return A.type.toLocaleLowerCase()===d}).map(A=>{if(typeof j=="object"&&"ids"in j){const T=j.data,{schema:R,table:S,commit_timestamp:q,type:D,errors:J}=T;j=Object.assign(Object.assign({},{schema:R,table:S,commit_timestamp:q,eventType:D,new:{},old:{},errors:J}),this._getPayloadRecords(T))}A.callback(j,r)})}_isClosed(){return this.state===Qt.closed}_isJoined(){return this.state===Qt.joined}_isJoining(){return this.state===Qt.joining}_isLeaving(){return this.state===Qt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const o=e.toLocaleLowerCase(),c={type:o,filter:t,callback:r};return this.bindings[o]?this.bindings[o].push(c):this.bindings[o]=[c],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(o=>{var c;return!(((c=o.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===r&&X0.isEqual(o.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(_n.close,{},e)}_onError(e){this._on(_n.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Qt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=v_(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=v_(e.columns,e.old_record)),t}}const Jg=()=>{},yh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},OO=[1e3,2e3,5e3,1e4],PO=1e4,DO=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class MO{constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Bp,this.transport=null,this.heartbeatIntervalMs=yh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Jg,this.ref=0,this.reconnectTimer=null,this.logger=Jg,this.conn=null,this.sendBuffer=[],this.serializer=new TO,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let c;return o?c=o:typeof fetch>"u"?c=(...d)=>Bu(async()=>{const{default:m}=await Promise.resolve().then(()=>Fl);return{default:m}},void 0).then(({default:m})=>m(...d)).catch(m=>{throw new Error(`Failed to load @supabase/node-fetch: ${m.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):c=fetch,(...d)=>c(...d)},!(!((r=t==null?void 0:t.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${$p.websocket}`,this.httpEndpoint=BN(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t==null?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=bO.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:jO}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,t??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case hu.connecting:return $a.Connecting;case hu.open:return $a.Open;case hu.closing:return $a.Closing;default:return $a.Closed}}isConnected(){return this.connectionState()===$a.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const r=`realtime:${e}`,o=this.getChannels().find(c=>c.topic===r);if(o)return o;{const c=new X0(`realtime:${e}`,t,this);return this.channels.push(c),c}}push(e){const{topic:t,event:r,payload:o,ref:c}=e,d=()=>{this.encode(e,m=>{var g;(g=this.conn)===null||g===void 0||g.send(m)})};this.log("push",`${t} ${r} (${c})`,o),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(NO,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},yh.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:o,payload:c,ref:d}=t,m=d?`(${d})`:"",g=c.status||"";this.log("receive",`${g} ${r} ${o} ${m}`.trim(),c),this.channels.filter(p=>p._isMember(r)).forEach(p=>p._trigger(o,c,d)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(_n.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const r=e.match(/\?/)?"&":"?",o=new URLSearchParams(t);return`${e}${r}${o}`}_workerObjectUrl(e){let t;if(e)t=e;else{const r=new Blob([DO],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t;e?t=e:this.accessToken?t=await this.accessToken():t=this.accessTokenValue,this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(r=>{const o={access_token:t,version:_O};t&&r.updateJoinPayload(o),r.joinedOnce&&r._isJoined()&&r._push(_n.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(t)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new UN(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},yh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,r,o,c,d,m,g,p,y;if(this.transport=(t=e==null?void 0:e.transport)!==null&&t!==void 0?t:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Bp,this.heartbeatIntervalMs=(o=e==null?void 0:e.heartbeatIntervalMs)!==null&&o!==void 0?o:yh.HEARTBEAT_INTERVAL,this.worker=(c=e==null?void 0:e.worker)!==null&&c!==void 0?c:!1,this.accessToken=(d=e==null?void 0:e.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(m=e==null?void 0:e.heartbeatCallback)!==null&&m!==void 0?m:Jg,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=e==null?void 0:e.reconnectAfterMs)!==null&&g!==void 0?g:b=>OO[b-1]||PO,this.encode=(p=e==null?void 0:e.encode)!==null&&p!==void 0?p:(b,j)=>j(JSON.stringify(b)),this.decode=(y=e==null?void 0:e.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class J0 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function zt(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}class VO extends J0{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Fp extends J0{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var LO=function(i,e,t,r){function o(c){return c instanceof t?c:new t(function(d){d(c)})}return new(t||(t=Promise))(function(c,d){function m(y){try{p(r.next(y))}catch(b){d(b)}}function g(y){try{p(r.throw(y))}catch(b){d(b)}}function p(y){y.done?c(y.value):o(y.value).then(m,g)}p((r=r.apply(i,e||[])).next())})};const $N=i=>{let e;return i?e=i:typeof fetch>"u"?e=(...t)=>Bu(async()=>{const{default:r}=await Promise.resolve().then(()=>Fl);return{default:r}},void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},UO=()=>LO(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Bu(()=>Promise.resolve().then(()=>Fl),void 0)).Response:Response}),Hp=i=>{if(Array.isArray(i))return i.map(t=>Hp(t));if(typeof i=="function"||i!==Object(i))return i;const e={};return Object.entries(i).forEach(([t,r])=>{const o=t.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));e[o]=Hp(r)}),e},zO=i=>{if(typeof i!="object"||i===null)return!1;const e=Object.getPrototypeOf(i);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)};var lo=function(i,e,t,r){function o(c){return c instanceof t?c:new t(function(d){d(c)})}return new(t||(t=Promise))(function(c,d){function m(y){try{p(r.next(y))}catch(b){d(b)}}function g(y){try{p(r.throw(y))}catch(b){d(b)}}function p(y){y.done?c(y.value):o(y.value).then(m,g)}p((r=r.apply(i,e||[])).next())})};const Zg=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),BO=(i,e,t)=>lo(void 0,void 0,void 0,function*(){const r=yield UO();i instanceof r&&!(t!=null&&t.noResolveJson)?i.json().then(o=>{const c=i.status||500,d=(o==null?void 0:o.statusCode)||c+"";e(new VO(Zg(o),c,d))}).catch(o=>{e(new Fp(Zg(o),o))}):e(new Fp(Zg(i),i))}),$O=(i,e,t,r)=>{const o={method:i,headers:(e==null?void 0:e.headers)||{}};return i==="GET"||!r?o:(zO(r)?(o.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(r)):o.body=r,e!=null&&e.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),t))};function $u(i,e,t,r,o,c){return lo(this,void 0,void 0,function*(){return new Promise((d,m)=>{i(t,$O(e,r,o,c)).then(g=>{if(!g.ok)throw g;return r!=null&&r.noResolveJson?g:g.json()}).then(g=>d(g)).catch(g=>BO(g,m,r))})})}function tm(i,e,t,r){return lo(this,void 0,void 0,function*(){return $u(i,"GET",e,t,r)})}function Gn(i,e,t,r,o){return lo(this,void 0,void 0,function*(){return $u(i,"POST",e,r,o,t)})}function Gp(i,e,t,r,o){return lo(this,void 0,void 0,function*(){return $u(i,"PUT",e,r,o,t)})}function qO(i,e,t,r){return lo(this,void 0,void 0,function*(){return $u(i,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function qN(i,e,t,r,o){return lo(this,void 0,void 0,function*(){return $u(i,"DELETE",e,r,o,t)})}var FO=function(i,e,t,r){function o(c){return c instanceof t?c:new t(function(d){d(c)})}return new(t||(t=Promise))(function(c,d){function m(y){try{p(r.next(y))}catch(b){d(b)}}function g(y){try{p(r.throw(y))}catch(b){d(b)}}function p(y){y.done?c(y.value):o(y.value).then(m,g)}p((r=r.apply(i,e||[])).next())})};class HO{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}execute(){return FO(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(zt(e))return{data:null,error:e};throw e}})}}var GO=function(i,e,t,r){function o(c){return c instanceof t?c:new t(function(d){d(c)})}return new(t||(t=Promise))(function(c,d){function m(y){try{p(r.next(y))}catch(b){d(b)}}function g(y){try{p(r.throw(y))}catch(b){d(b)}}function p(y){y.done?c(y.value):o(y.value).then(m,g)}p((r=r.apply(i,e||[])).next())})};class KO{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}asStream(){return new HO(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.execute().then(e,t)}execute(){return GO(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(zt(e))return{data:null,error:e};throw e}})}}var Ps=function(i,e,t,r){function o(c){return c instanceof t?c:new t(function(d){d(c)})}return new(t||(t=Promise))(function(c,d){function m(y){try{p(r.next(y))}catch(b){d(b)}}function g(y){try{p(r.throw(y))}catch(b){d(b)}}function p(y){y.done?c(y.value):o(y.value).then(m,g)}p((r=r.apply(i,e||[])).next())})};const QO={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},__={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class WO{constructor(e,t={},r,o){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=$N(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,r,o){return Ps(this,void 0,void 0,function*(){try{let c;const d=Object.assign(Object.assign({},__),o);let m=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(d.upsert)});const g=d.metadata;typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),g&&c.append("metadata",this.encodeMetadata(g)),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",d.cacheControl),g&&c.append("metadata",this.encodeMetadata(g))):(c=r,m["cache-control"]=`max-age=${d.cacheControl}`,m["content-type"]=d.contentType,g&&(m["x-metadata"]=this.toBase64(this.encodeMetadata(g)))),o!=null&&o.headers&&(m=Object.assign(Object.assign({},m),o.headers));const p=this._removeEmptyFolders(t),y=this._getFinalPath(p),b=yield(e=="PUT"?Gp:Gn)(this.fetch,`${this.url}/object/${y}`,c,Object.assign({headers:m},d!=null&&d.duplex?{duplex:d.duplex}:{}));return{data:{path:p,id:b.Id,fullPath:b.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(zt(c))return{data:null,error:c};throw c}})}upload(e,t,r){return Ps(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,o){return Ps(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(e),d=this._getFinalPath(c),m=new URL(this.url+`/object/upload/sign/${d}`);m.searchParams.set("token",t);try{let g;const p=Object.assign({upsert:__.upsert},o),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&r instanceof Blob?(g=new FormData,g.append("cacheControl",p.cacheControl),g.append("",r)):typeof FormData<"u"&&r instanceof FormData?(g=r,g.append("cacheControl",p.cacheControl)):(g=r,y["cache-control"]=`max-age=${p.cacheControl}`,y["content-type"]=p.contentType);const b=yield Gp(this.fetch,m.toString(),g,{headers:y});return{data:{path:c,fullPath:b.Key},error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(zt(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(e,t){return Ps(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const o=Object.assign({},this.headers);t!=null&&t.upsert&&(o["x-upsert"]="true");const c=yield Gn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),d=new URL(this.url+c.url),m=d.searchParams.get("token");if(!m)throw new J0("No token returned by API");return{data:{signedUrl:d.toString(),path:e,token:m},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zt(r))return{data:null,error:r};throw r}})}update(e,t,r){return Ps(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return Ps(this,void 0,void 0,function*(){try{return{data:yield Gn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(zt(o))return{data:null,error:o};throw o}})}copy(e,t,r){return Ps(this,void 0,void 0,function*(){try{return{data:{path:(yield Gn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(zt(o))return{data:null,error:o};throw o}})}createSignedUrl(e,t,r){return Ps(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),c=yield Gn(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const d=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${d}`)},{data:c,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(zt(o))return{data:null,error:o};throw o}})}createSignedUrls(e,t,r){return Ps(this,void 0,void 0,function*(){try{const o=yield Gn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),c=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${c}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(zt(o))return{data:null,error:o};throw o}})}download(e,t){const o=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),d=c?`?${c}`:"",m=this._getFinalPath(e),g=()=>tm(this.fetch,`${this.url}/${o}/${m}${d}`,{headers:this.headers,noResolveJson:!0});return new KO(g,this.shouldThrowOnError)}info(e){return Ps(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const r=yield tm(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Hp(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zt(r))return{data:null,error:r};throw r}})}exists(e){return Ps(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield qO(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zt(r)&&r instanceof Fp){const o=r.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){const r=this._getFinalPath(e),o=[],c=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";c!==""&&o.push(c);const m=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",g=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});g!==""&&o.push(g);let p=o.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${m}/public/${r}${p}`)}}}remove(e){return Ps(this,void 0,void 0,function*(){try{return{data:yield qN(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(zt(t))return{data:null,error:t};throw t}})}list(e,t,r){return Ps(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},QO),t),{prefix:e||""});return{data:yield Gn(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(zt(o))return{data:null,error:o};throw o}})}listV2(e,t){return Ps(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Gn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},t),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zt(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const YO="2.75.0",XO={"X-Client-Info":`storage-js/${YO}`};var il=function(i,e,t,r){function o(c){return c instanceof t?c:new t(function(d){d(c)})}return new(t||(t=Promise))(function(c,d){function m(y){try{p(r.next(y))}catch(b){d(b)}}function g(y){try{p(r.throw(y))}catch(b){d(b)}}function p(y){y.done?c(y.value):o(y.value).then(m,g)}p((r=r.apply(i,e||[])).next())})};class JO{constructor(e,t={},r,o){this.shouldThrowOnError=!1;const c=new URL(e);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},XO),t),this.fetch=$N(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return il(this,void 0,void 0,function*(){try{return{data:yield tm(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(zt(e))return{data:null,error:e};throw e}})}getBucket(e){return il(this,void 0,void 0,function*(){try{return{data:yield tm(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(zt(t))return{data:null,error:t};throw t}})}createBucket(e){return il(this,arguments,void 0,function*(t,r={public:!1}){try{return{data:yield Gn(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(zt(o))return{data:null,error:o};throw o}})}updateBucket(e,t){return il(this,void 0,void 0,function*(){try{return{data:yield Gp(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(zt(r))return{data:null,error:r};throw r}})}emptyBucket(e){return il(this,void 0,void 0,function*(){try{return{data:yield Gn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(zt(t))return{data:null,error:t};throw t}})}deleteBucket(e){return il(this,void 0,void 0,function*(){try{return{data:yield qN(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(zt(t))return{data:null,error:t};throw t}})}}class ZO extends JO{constructor(e,t={},r,o){super(e,t,r,o)}from(e){return new WO(this.url,this.headers,e,this.fetch)}}const e6="2.75.0";let ru="";typeof Deno<"u"?ru="deno":typeof document<"u"?ru="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ru="react-native":ru="node";const t6={"X-Client-Info":`supabase-js-${ru}/${e6}`},s6={headers:t6},n6={schema:"public"},r6={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},i6={};var a6=function(i,e,t,r){function o(c){return c instanceof t?c:new t(function(d){d(c)})}return new(t||(t=Promise))(function(c,d){function m(y){try{p(r.next(y))}catch(b){d(b)}}function g(y){try{p(r.throw(y))}catch(b){d(b)}}function p(y){y.done?c(y.value):o(y.value).then(m,g)}p((r=r.apply(i,e||[])).next())})};const o6=i=>{let e;return i?e=i:typeof fetch>"u"?e=ON:e=fetch,(...t)=>e(...t)},l6=()=>typeof Headers>"u"?PN:Headers,c6=(i,e,t)=>{const r=o6(t),o=l6();return(c,d)=>a6(void 0,void 0,void 0,function*(){var m;const g=(m=yield e())!==null&&m!==void 0?m:i;let p=new o(d==null?void 0:d.headers);return p.has("apikey")||p.set("apikey",i),p.has("Authorization")||p.set("Authorization",`Bearer ${g}`),r(c,Object.assign(Object.assign({},d),{headers:p}))})};var u6=function(i,e,t,r){function o(c){return c instanceof t?c:new t(function(d){d(c)})}return new(t||(t=Promise))(function(c,d){function m(y){try{p(r.next(y))}catch(b){d(b)}}function g(y){try{p(r.throw(y))}catch(b){d(b)}}function p(y){y.done?c(y.value):o(y.value).then(m,g)}p((r=r.apply(i,e||[])).next())})};function d6(i){return i.endsWith("/")?i:i+"/"}function h6(i,e){var t,r;const{db:o,auth:c,realtime:d,global:m}=i,{db:g,auth:p,realtime:y,global:b}=e,j={db:Object.assign(Object.assign({},g),o),auth:Object.assign(Object.assign({},p),c),realtime:Object.assign(Object.assign({},y),d),storage:{},global:Object.assign(Object.assign(Object.assign({},b),m),{headers:Object.assign(Object.assign({},(t=b==null?void 0:b.headers)!==null&&t!==void 0?t:{}),(r=m==null?void 0:m.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>u6(this,void 0,void 0,function*(){return""})};return i.accessToken?j.accessToken=i.accessToken:delete j.accessToken,j}function m6(i){const e=i==null?void 0:i.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(d6(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const FN="2.75.0",gl=30*1e3,Kp=3,ep=Kp*gl,f6="http://localhost:9999",g6="supabase.auth.token",p6={"X-Client-Info":`gotrue-js/${FN}`},Qp="X-Supabase-Api-Version",HN={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},x6=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,y6=10*60*1e3;class Nu extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function Ae(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class v6 extends Nu{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}function b6(i){return Ae(i)&&i.name==="AuthApiError"}class qa extends Nu{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Zi extends Nu{constructor(e,t,r,o){super(e,r,o),this.name=t,this.status=r}}class _i extends Zi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function w6(i){return Ae(i)&&i.name==="AuthSessionMissingError"}class al extends Zi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class vh extends Zi{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class bh extends Zi{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function _6(i){return Ae(i)&&i.name==="AuthImplicitGrantRedirectError"}class j_ extends Zi{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Wp extends Zi{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function tp(i){return Ae(i)&&i.name==="AuthRetryableFetchError"}class N_ extends Zi{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class Yp extends Zi{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const sm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),S_=` 	
\r=`.split(""),j6=(()=>{const i=new Array(128);for(let e=0;e<i.length;e+=1)i[e]=-1;for(let e=0;e<S_.length;e+=1)i[S_[e].charCodeAt(0)]=-2;for(let e=0;e<sm.length;e+=1)i[sm[e].charCodeAt(0)]=e;return i})();function T_(i,e,t){if(i!==null)for(e.queue=e.queue<<8|i,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;t(sm[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;t(sm[r]),e.queuedBits-=6}}function GN(i,e,t){const r=j6[i];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function E_(i){const e=[],t=d=>{e.push(String.fromCodePoint(d))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},c=d=>{T6(d,r,t)};for(let d=0;d<i.length;d+=1)GN(i.charCodeAt(d),o,c);return e.join("")}function N6(i,e){if(i<=127){e(i);return}else if(i<=2047){e(192|i>>6),e(128|i&63);return}else if(i<=65535){e(224|i>>12),e(128|i>>6&63),e(128|i&63);return}else if(i<=1114111){e(240|i>>18),e(128|i>>12&63),e(128|i>>6&63),e(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function S6(i,e){for(let t=0;t<i.length;t+=1){let r=i.charCodeAt(t);if(r>55295&&r<=56319){const o=(r-55296)*1024&65535;r=(i.charCodeAt(t+1)-56320&65535|o)+65536,t+=1}N6(r,e)}}function T6(i,e,t){if(e.utf8seq===0){if(i<=127){t(i);return}for(let r=1;r<6;r+=1)if((i>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=i&31;else if(e.utf8seq===3)e.codepoint=i&15;else if(e.utf8seq===4)e.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|i&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function Sl(i){const e=[],t={queue:0,queuedBits:0},r=o=>{e.push(o)};for(let o=0;o<i.length;o+=1)GN(i.charCodeAt(o),t,r);return new Uint8Array(e)}function E6(i){const e=[];return S6(i,t=>e.push(t)),new Uint8Array(e)}function Ga(i){const e=[],t={queue:0,queuedBits:0},r=o=>{e.push(o)};return i.forEach(o=>T_(o,t,r)),T_(null,t,r),e.join("")}function A6(i){return Math.round(Date.now()/1e3)+i}function k6(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){const e=Math.random()*16|0;return(i=="x"?e:e&3|8).toString(16)})}const Gs=()=>typeof window<"u"&&typeof document<"u",La={tested:!1,writable:!1},KN=()=>{if(!Gs())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(La.tested)return La.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),La.tested=!0,La.writable=!0}catch{La.tested=!0,La.writable=!1}return La.writable};function C6(i){const e={},t=new URL(i);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((o,c)=>{e[c]=o})}catch{}return t.searchParams.forEach((r,o)=>{e[o]=r}),e}const QN=i=>{let e;return i?e=i:typeof fetch>"u"?e=(...t)=>Bu(async()=>{const{default:r}=await Promise.resolve().then(()=>Fl);return{default:r}},void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},R6=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",pl=async(i,e,t)=>{await i.setItem(e,JSON.stringify(t))},Ua=async(i,e)=>{const t=await i.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},wi=async(i,e)=>{await i.removeItem(e)};class Em{constructor(){this.promise=new Em.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Em.promiseConstructor=Promise;function sp(i){const e=i.split(".");if(e.length!==3)throw new Yp("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!x6.test(e[r]))throw new Yp("JWT not in base64url format");return{header:JSON.parse(E_(e[0])),payload:JSON.parse(E_(e[1])),signature:Sl(e[2]),raw:{header:e[0],payload:e[1]}}}async function I6(i){return await new Promise(e=>{setTimeout(()=>e(null),i)})}function O6(i,e){return new Promise((r,o)=>{(async()=>{for(let c=0;c<1/0;c++)try{const d=await i(c);if(!e(c,null,d)){r(d);return}}catch(d){if(!e(c,d)){o(d);return}}})()})}function P6(i){return("0"+i.toString(16)).substr(-2)}function D6(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length;let o="";for(let c=0;c<56;c++)o+=t.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(e),Array.from(e,P6).join("")}async function M6(i){const t=new TextEncoder().encode(i),r=await crypto.subtle.digest("SHA-256",t),o=new Uint8Array(r);return Array.from(o).map(c=>String.fromCharCode(c)).join("")}async function V6(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const t=await M6(i);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ol(i,e,t=!1){const r=D6();let o=r;t&&(o+="/PASSWORD_RECOVERY"),await pl(i,`${e}-code-verifier`,o);const c=await V6(r);return[c,r===c?"plain":"s256"]}const L6=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function U6(i){const e=i.headers.get(Qp);if(!e||!e.match(L6))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function z6(i){if(!i)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(i<=e)throw new Error("JWT has expired")}function B6(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const $6=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ll(i){if(!$6.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function np(){const i={};return new Proxy(i,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const r=t.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function A_(i){return JSON.parse(JSON.stringify(i))}var q6=function(i,e){var t={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&e.indexOf(r)<0&&(t[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(i);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(i,r[o])&&(t[r[o]]=i[r[o]]);return t};const Ba=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),F6=[502,503,504];async function k_(i){var e;if(!R6(i))throw new Wp(Ba(i),0);if(F6.includes(i.status))throw new Wp(Ba(i),i.status);let t;try{t=await i.json()}catch(c){throw new qa(Ba(c),c)}let r;const o=U6(i);if(o&&o.getTime()>=HN["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new N_(Ba(t),i.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new _i}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((c,d)=>c&&typeof d=="string",!0))throw new N_(Ba(t),i.status,t.weak_password.reasons);throw new v6(Ba(t),i.status||500,r)}const H6=(i,e,t,r)=>{const o={method:i,headers:(e==null?void 0:e.headers)||{}};return i==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),t))};async function Le(i,e,t,r){var o;const c=Object.assign({},r==null?void 0:r.headers);c[Qp]||(c[Qp]=HN["2024-01-01"].name),r!=null&&r.jwt&&(c.Authorization=`Bearer ${r.jwt}`);const d=(o=r==null?void 0:r.query)!==null&&o!==void 0?o:{};r!=null&&r.redirectTo&&(d.redirect_to=r.redirectTo);const m=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",g=await G6(i,e,t+m,{headers:c,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(g):{data:Object.assign({},g),error:null}}async function G6(i,e,t,r,o,c){const d=H6(e,r,o,c);let m;try{m=await i(t,Object.assign({},d))}catch(g){throw console.error(g),new Wp(Ba(g),0)}if(m.ok||await k_(m),r!=null&&r.noResolveJson)return m;try{return await m.json()}catch(g){await k_(g)}}function wn(i){var e;let t=null;W6(i)&&(t=Object.assign({},i),i.expires_at||(t.expires_at=A6(i.expires_in)));const r=(e=i.user)!==null&&e!==void 0?e:i;return{data:{session:t,user:r},error:null}}function C_(i){const e=wn(i);return!e.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(e.data.weak_password=i.weak_password),e}function Ei(i){var e;return{data:{user:(e=i.user)!==null&&e!==void 0?e:i},error:null}}function K6(i){return{data:i,error:null}}function Q6(i){const{action_link:e,email_otp:t,hashed_token:r,redirect_to:o,verification_type:c}=i,d=q6(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:e,email_otp:t,hashed_token:r,redirect_to:o,verification_type:c},g=Object.assign({},d);return{data:{properties:m,user:g},error:null}}function R_(i){return i}function W6(i){return i.access_token&&i.refresh_token&&i.expires_in}const rp=["global","local","others"];var Y6=function(i,e){var t={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&e.indexOf(r)<0&&(t[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(i);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(i,r[o])&&(t[r[o]]=i[r[o]]);return t};class X6{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=QN(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=rp[0]){if(rp.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${rp.join(", ")}`);try{return await Le(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,t={}){try{return await Le(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Ei})}catch(r){if(Ae(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=Y6(e,["options"]),o=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(o.new_email=r==null?void 0:r.newEmail,delete o.newEmail),await Le(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:Q6,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(Ae(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Le(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ei})}catch(t){if(Ae(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,o,c,d,m,g;try{const p={nextPage:null,lastPage:0,total:0},y=await Le(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(c=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:R_});if(y.error)throw y.error;const b=await y.json(),j=(d=y.headers.get("x-total-count"))!==null&&d!==void 0?d:0,A=(g=(m=y.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return A.length>0&&(A.forEach(T=>{const R=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(T.split(";")[1].split("=")[1]);p[`${S}Page`]=R}),p.total=parseInt(j)),{data:Object.assign(Object.assign({},b),p),error:null}}catch(p){if(Ae(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){ll(e);try{return await Le(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ei})}catch(t){if(Ae(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){ll(e);try{return await Le(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Ei})}catch(r){if(Ae(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,t=!1){ll(e);try{return await Le(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Ei})}catch(r){if(Ae(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){ll(e.userId);try{const{data:t,error:r}=await Le(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:t,error:r}}catch(t){if(Ae(t))return{data:null,error:t};throw t}}async _deleteFactor(e){ll(e.userId),ll(e.id);try{return{data:await Le(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(Ae(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,r,o,c,d,m,g;try{const p={nextPage:null,lastPage:0,total:0},y=await Le(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(c=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:R_});if(y.error)throw y.error;const b=await y.json(),j=(d=y.headers.get("x-total-count"))!==null&&d!==void 0?d:0,A=(g=(m=y.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return A.length>0&&(A.forEach(T=>{const R=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(T.split(";")[1].split("=")[1]);p[`${S}Page`]=R}),p.total=parseInt(j)),{data:Object.assign(Object.assign({},b),p),error:null}}catch(p){if(Ae(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(e){try{return await Le(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(Ae(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await Le(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(Ae(t))return{data:null,error:t};throw t}}async _deleteOAuthClient(e){try{return await Le(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(Ae(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await Le(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(Ae(t))return{data:null,error:t};throw t}}}function I_(i={}){return{getItem:e=>i[e]||null,setItem:(e,t)=>{i[e]=t},removeItem:e=>{delete i[e]}}}const cl={debug:!!(globalThis&&KN()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class WN extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class J6 extends WN{}async function Z6(i,e,t){cl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),cl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){cl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,o.name);try{return await t()}finally{cl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,o.name)}}else{if(e===0)throw cl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new J6(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(cl.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}function eP(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function YN(i){if(!/^0x[a-fA-F0-9]{40}$/.test(i))throw new Error(`@supabase/auth-js: Address "${i}" is invalid.`);return i.toLowerCase()}function tP(i){return parseInt(i,16)}function sP(i){const e=new TextEncoder().encode(i);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function nP(i){var e;const{chainId:t,domain:r,expirationTime:o,issuedAt:c=new Date,nonce:d,notBefore:m,requestId:g,resources:p,scheme:y,uri:b,version:j}=i;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(j!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${j}`);if(!((e=i.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${i.statement}`)}const A=YN(i.address),T=y?`${y}://${r}`:r,R=i.statement?`${i.statement}
`:"",S=`${T} wants you to sign in with your Ethereum account:
${A}

${R}`;let q=`URI: ${b}
Version: ${j}
Chain ID: ${t}${d?`
Nonce: ${d}`:""}
Issued At: ${c.toISOString()}`;if(o&&(q+=`
Expiration Time: ${o.toISOString()}`),m&&(q+=`
Not Before: ${m.toISOString()}`),g&&(q+=`
Request ID: ${g}`),p){let D=`
Resources:`;for(const J of p){if(!J||typeof J!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${J}`);D+=`
- ${J}`}q+=D}return`${S}
${q}`}class Ut extends Error{constructor({message:e,code:t,cause:r,name:o}){var c;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(c=o??(r instanceof Error?r.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=t}}class nm extends Ut{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function rP({error:i,options:e}){var t,r,o;const{publicKey:c}=e;if(!c)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ut({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else if(i.name==="ConstraintError"){if(((t=c.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new Ut({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:i});if(e.mediation==="conditional"&&((r=c.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Ut({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:i});if(((o=c.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Ut({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:i})}else{if(i.name==="InvalidStateError")return new Ut({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:i});if(i.name==="NotAllowedError")return new Ut({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="NotSupportedError")return c.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new Ut({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:i}):new Ut({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:i});if(i.name==="SecurityError"){const d=window.location.hostname;if(JN(d)){if(c.rp.id!==d)return new Ut({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new Ut({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new Ut({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:i})}else if(i.name==="UnknownError")return new Ut({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new Ut({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}function iP({error:i,options:e}){const{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ut({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else{if(i.name==="NotAllowedError")return new Ut({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="SecurityError"){const r=window.location.hostname;if(JN(r)){if(t.rpId!==r)return new Ut({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new Ut({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="UnknownError")return new Ut({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new Ut({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}var XN=function(i,e){var t={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&e.indexOf(r)<0&&(t[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(i);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(i,r[o])&&(t[r[o]]=i[r[o]]);return t};class aP{createNewAbortSignal(){if(this.controller){const t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const oP=new aP;function lP(i){if(!i)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(i);const{challenge:e,user:t,excludeCredentials:r}=i,o=XN(i,["challenge","user","excludeCredentials"]),c=Sl(e).buffer,d=Object.assign(Object.assign({},t),{id:Sl(t.id).buffer}),m=Object.assign(Object.assign({},o),{challenge:c,user:d});if(r&&r.length>0){m.excludeCredentials=new Array(r.length);for(let g=0;g<r.length;g++){const p=r[g];m.excludeCredentials[g]=Object.assign(Object.assign({},p),{id:Sl(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return m}function cP(i){if(!i)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(i);const{challenge:e,allowCredentials:t}=i,r=XN(i,["challenge","allowCredentials"]),o=Sl(e).buffer,c=Object.assign(Object.assign({},r),{challenge:o});if(t&&t.length>0){c.allowCredentials=new Array(t.length);for(let d=0;d<t.length;d++){const m=t[d];c.allowCredentials[d]=Object.assign(Object.assign({},m),{id:Sl(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return c}function uP(i){var e;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const t=i;return{id:i.id,rawId:i.id,response:{attestationObject:Ga(new Uint8Array(i.response.attestationObject)),clientDataJSON:Ga(new Uint8Array(i.response.clientDataJSON))},type:"public-key",clientExtensionResults:i.getClientExtensionResults(),authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function dP(i){var e;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const t=i,r=i.getClientExtensionResults(),o=i.response;return{id:i.id,rawId:i.id,response:{authenticatorData:Ga(new Uint8Array(o.authenticatorData)),clientDataJSON:Ga(new Uint8Array(o.clientDataJSON)),signature:Ga(new Uint8Array(o.signature)),userHandle:o.userHandle?Ga(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function JN(i){return i==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(i)}function O_(){var i,e;return!!(Gs()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((i=navigator==null?void 0:navigator.credentials)===null||i===void 0?void 0:i.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function hP(i){try{const e=await navigator.credentials.create(i);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new nm("Browser returned unexpected credential type",e)}:{data:null,error:new nm("Empty credential response",e)}}catch(e){return{data:null,error:rP({error:e,options:i})}}}async function mP(i){try{const e=await navigator.credentials.get(i);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new nm("Browser returned unexpected credential type",e)}:{data:null,error:new nm("Empty credential response",e)}}catch(e){return{data:null,error:iP({error:e,options:i})}}}const fP={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},gP={userVerification:"preferred",hints:["security-key"]};function rm(...i){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),t=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),r={};for(const o of i)if(o)for(const c in o){const d=o[c];if(d!==void 0)if(Array.isArray(d))r[c]=d;else if(t(d))r[c]=d;else if(e(d)){const m=r[c];e(m)?r[c]=rm(m,d):r[c]=rm(d)}else r[c]=d}return r}function pP(i,e){return rm(fP,i,e||{})}function xP(i,e){return rm(gP,i,e||{})}class yP{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:r,signal:o},c){try{const{data:d,error:m}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!d)return{data:null,error:m};const g=o??oP.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:p}=d.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${r}`),p.displayName||(p.displayName=p.name)}switch(d.webauthn.type){case"create":{const p=pP(d.webauthn.credential_options.publicKey,c==null?void 0:c.create),{data:y,error:b}=await hP({publicKey:p,signal:g});return y?{data:{factorId:e,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:y}},error:null}:{data:null,error:b}}case"request":{const p=xP(d.webauthn.credential_options.publicKey,c==null?void 0:c.request),{data:y,error:b}=await mP(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:p,signal:g}));return y?{data:{factorId:e,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:y}},error:null}:{data:null,error:b}}}}catch(d){return Ae(d)?{data:null,error:d}:{data:null,error:new qa("Unexpected error in challenge",d)}}}async _verify({challengeId:e,factorId:t,webauthn:r}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}},c){if(!t)return{data:null,error:new Nu("rpId is required for WebAuthn authentication")};try{if(!O_())return{data:null,error:new qa("Browser does not support WebAuthn",null)};const{data:d,error:m}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:r},signal:o},{request:c});if(!d)return{data:null,error:m};const{webauthn:g}=d;return this._verify({factorId:e,challengeId:d.challengeId,webauthn:{type:g.type,rpId:t,rpOrigins:r,credential_response:g.credential_response}})}catch(d){return Ae(d)?{data:null,error:d}:{data:null,error:new qa("Unexpected error in authenticate",d)}}}async _register({friendlyName:e,rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o},c){if(!t)return{data:null,error:new Nu("rpId is required for WebAuthn registration")};try{if(!O_())return{data:null,error:new qa("Browser does not support WebAuthn",null)};const{data:d,error:m}=await this._enroll({friendlyName:e});if(!d)return await this.client.mfa.listFactors().then(y=>{var b;return(b=y.data)===null||b===void 0?void 0:b.all.find(j=>j.factor_type==="webauthn"&&j.friendly_name===e&&j.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y==null?void 0:y.id}):void 0),{data:null,error:m};const{data:g,error:p}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:t,rpOrigins:r},signal:o},{create:c});return g?this._verify({factorId:d.id,challengeId:g.challengeId,webauthn:{rpId:t,rpOrigins:r,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:p}}catch(d){return Ae(d)?{data:null,error:d}:{data:null,error:new qa("Unexpected error in register",d)}}}}eP();const vP={url:f6,storageKey:g6,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:p6,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function P_(i,e,t){return await t()}const ul={};class Su{get jwks(){var e,t;return(t=(e=ul[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){ul[this.storageKey]=Object.assign(Object.assign({},ul[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=ul[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ul[this.storageKey]=Object.assign(Object.assign({},ul[this.storageKey]),{cachedAt:e})}constructor(e){var t,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Su.nextInstanceID,Su.nextInstanceID+=1,this.instanceID>0&&Gs()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},vP),e);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new X6({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=QN(o.fetch),this.lock=o.lock||P_,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:Gs()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=Z6:this.lock=P_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new yP(this)},this.persistSession?(o.storage?this.storage=o.storage:KN()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=I_(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=I_(this.memoryStorage)),Gs()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${FN}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=C6(window.location.href);let r="none";if(this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce"),Gs()&&this.detectSessionInUrl&&r!=="none"){const{data:o,error:c}=await this._getSessionFromURL(t,r);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),_6(c)){const g=(e=c.details)===null||e===void 0?void 0:e.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:d,redirectType:m}=o;return this._debug("#_initialize()","detected session in URL",d,"redirect type",m),await this._saveSession(d),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Ae(t)?{error:t}:{error:new qa("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,o;try{const c=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(o=e==null?void 0:e.options)===null||o===void 0?void 0:o.captchaToken}},xform:wn}),{data:d,error:m}=c;if(m||!d)return{data:{user:null,session:null},error:m};const g=d.session,p=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:p,session:g},error:null}}catch(c){if(Ae(c))return{data:{user:null,session:null},error:c};throw c}}async signUp(e){var t,r,o;try{let c;if("email"in e){const{email:y,password:b,options:j}=e;let A=null,T=null;this.flowType==="pkce"&&([A,T]=await ol(this.storage,this.storageKey)),c=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:j==null?void 0:j.emailRedirectTo,body:{email:y,password:b,data:(t=j==null?void 0:j.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:j==null?void 0:j.captchaToken},code_challenge:A,code_challenge_method:T},xform:wn})}else if("phone"in e){const{phone:y,password:b,options:j}=e;c=await Le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:b,data:(r=j==null?void 0:j.data)!==null&&r!==void 0?r:{},channel:(o=j==null?void 0:j.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:j==null?void 0:j.captchaToken}},xform:wn})}else throw new vh("You must provide either an email or phone number and a password");const{data:d,error:m}=c;if(m||!d)return{data:{user:null,session:null},error:m};const g=d.session,p=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:p,session:g},error:null}}catch(c){if(Ae(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithPassword(e){try{let t;if("email"in e){const{email:c,password:d,options:m}=e;t=await Le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:d,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:C_})}else if("phone"in e){const{phone:c,password:d,options:m}=e;t=await Le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:d,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:C_})}else throw new vh("You must provide either an email or phone number and a password");const{data:r,error:o}=t;return o?{data:{user:null,session:null},error:o}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new al}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:o})}catch(t){if(Ae(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,r,o,c;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(c=e.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,r,o,c,d,m,g,p,y,b,j;let A,T;if("message"in e)A=e.message,T=e.signature;else{const{chain:R,wallet:S,statement:q,options:D}=e;let J;if(Gs())if(typeof S=="object")J=S;else{const C=window;if("ethereum"in C&&typeof C.ethereum=="object"&&"request"in C.ethereum&&typeof C.ethereum.request=="function")J=C.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(D!=null&&D.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");J=S}const de=new URL((t=D==null?void 0:D.url)!==null&&t!==void 0?t:window.location.href),pe=await J.request({method:"eth_requestAccounts"}).then(C=>C).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!pe||pe.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const he=YN(pe[0]);let I=(r=D==null?void 0:D.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!I){const C=await J.request({method:"eth_chainId"});I=tP(C)}const k={domain:de.host,address:he,statement:q,uri:de.href,version:"1",chainId:I,nonce:(o=D==null?void 0:D.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(d=(c=D==null?void 0:D.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(m=D==null?void 0:D.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(g=D==null?void 0:D.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(p=D==null?void 0:D.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(y=D==null?void 0:D.signInWithEthereum)===null||y===void 0?void 0:y.resources};A=nP(k),T=await J.request({method:"personal_sign",params:[sP(A),he]})}try{const{data:R,error:S}=await Le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:A,signature:T},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(j=e.options)===null||j===void 0?void 0:j.captchaToken}}:null),xform:wn});if(S)throw S;return!R||!R.session||!R.user?{data:{user:null,session:null},error:new al}:(R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),{data:Object.assign({},R),error:S})}catch(R){if(Ae(R))return{data:{user:null,session:null},error:R};throw R}}async signInWithSolana(e){var t,r,o,c,d,m,g,p,y,b,j,A;let T,R;if("message"in e)T=e.message,R=e.signature;else{const{chain:S,wallet:q,statement:D,options:J}=e;let de;if(Gs())if(typeof q=="object")de=q;else{const he=window;if("solana"in he&&typeof he.solana=="object"&&("signIn"in he.solana&&typeof he.solana.signIn=="function"||"signMessage"in he.solana&&typeof he.solana.signMessage=="function"))de=he.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof q!="object"||!(J!=null&&J.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");de=q}const pe=new URL((t=J==null?void 0:J.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in de&&de.signIn){const he=await de.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},J==null?void 0:J.signInWithSolana),{version:"1",domain:pe.host,uri:pe.href}),D?{statement:D}:null));let I;if(Array.isArray(he)&&he[0]&&typeof he[0]=="object")I=he[0];else if(he&&typeof he=="object"&&"signedMessage"in he&&"signature"in he)I=he;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in I&&"signature"in I&&(typeof I.signedMessage=="string"||I.signedMessage instanceof Uint8Array)&&I.signature instanceof Uint8Array)T=typeof I.signedMessage=="string"?I.signedMessage:new TextDecoder().decode(I.signedMessage),R=I.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in de)||typeof de.signMessage!="function"||!("publicKey"in de)||typeof de!="object"||!de.publicKey||!("toBase58"in de.publicKey)||typeof de.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");T=[`${pe.host} wants you to sign in with your Solana account:`,de.publicKey.toBase58(),...D?["",D,""]:[""],"Version: 1",`URI: ${pe.href}`,`Issued At: ${(o=(r=J==null?void 0:J.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((c=J==null?void 0:J.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${J.signInWithSolana.notBefore}`]:[],...!((d=J==null?void 0:J.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${J.signInWithSolana.expirationTime}`]:[],...!((m=J==null?void 0:J.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${J.signInWithSolana.chainId}`]:[],...!((g=J==null?void 0:J.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${J.signInWithSolana.nonce}`]:[],...!((p=J==null?void 0:J.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${J.signInWithSolana.requestId}`]:[],...!((b=(y=J==null?void 0:J.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||b===void 0)&&b.length?["Resources",...J.signInWithSolana.resources.map(I=>`- ${I}`)]:[]].join(`
`);const he=await de.signMessage(new TextEncoder().encode(T),"utf8");if(!he||!(he instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");R=he}}try{const{data:S,error:q}=await Le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:T,signature:Ga(R)},!((j=e.options)===null||j===void 0)&&j.captchaToken?{gotrue_meta_security:{captcha_token:(A=e.options)===null||A===void 0?void 0:A.captchaToken}}:null),xform:wn});if(q)throw q;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new al}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:q})}catch(S){if(Ae(S))return{data:{user:null,session:null},error:S};throw S}}async _exchangeCodeForSession(e){const t=await Ua(this.storage,`${this.storageKey}-code-verifier`),[r,o]=(t??"").split("/");try{const{data:c,error:d}=await Le(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:wn});if(await wi(this.storage,`${this.storageKey}-code-verifier`),d)throw d;return!c||!c.session||!c.user?{data:{user:null,session:null,redirectType:null},error:new al}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:Object.assign(Object.assign({},c),{redirectType:o??null}),error:d})}catch(c){if(Ae(c))return{data:{user:null,session:null,redirectType:null},error:c};throw c}}async signInWithIdToken(e){try{const{options:t,provider:r,token:o,access_token:c,nonce:d}=e,m=await Le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:o,access_token:c,nonce:d,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:wn}),{data:g,error:p}=m;return p?{data:{user:null,session:null},error:p}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new al}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:g,error:p})}catch(t){if(Ae(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,r,o,c,d;try{if("email"in e){const{email:m,options:g}=e;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await ol(this.storage,this.storageKey));const{error:b}=await Le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(t=g==null?void 0:g.data)!==null&&t!==void 0?t:{},create_user:(r=g==null?void 0:g.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:p,code_challenge_method:y},redirectTo:g==null?void 0:g.emailRedirectTo});return{data:{user:null,session:null},error:b}}if("phone"in e){const{phone:m,options:g}=e,{data:p,error:y}=await Le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(o=g==null?void 0:g.data)!==null&&o!==void 0?o:{},create_user:(c=g==null?void 0:g.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},channel:(d=g==null?void 0:g.channel)!==null&&d!==void 0?d:"sms"}});return{data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:y}}throw new vh("You must provide either an email or phone number.")}catch(m){if(Ae(m))return{data:{user:null,session:null},error:m};throw m}}async verifyOtp(e){var t,r;try{let o,c;"options"in e&&(o=(t=e.options)===null||t===void 0?void 0:t.redirectTo,c=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:d,error:m}=await Le(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:c}}),redirectTo:o,xform:wn});if(m)throw m;if(!d)throw new Error("An error occurred on token verification.");const g=d.session,p=d.user;return g!=null&&g.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),{data:{user:p,session:g},error:null}}catch(o){if(Ae(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(e){var t,r,o;try{let c=null,d=null;return this.flowType==="pkce"&&([c,d]=await ol(this.storage,this.storageKey)),await Le(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&r!==void 0?r:void 0}),!((o=e==null?void 0:e.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:d}),headers:this.headers,xform:K6})}catch(c){if(Ae(c))return{data:null,error:c};throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new _i;const{error:o}=await Le(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:o}})}catch(e){if(Ae(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:r,type:o,options:c}=e,{error:d}=await Le(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}else if("phone"in e){const{phone:r,type:o,options:c}=e,{data:d,error:m}=await Le(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:m}}throw new vh("You must provide either an email or phone number and a type")}catch(t){if(Ae(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await r,await t()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=t();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await Ua(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<ep:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const d=await Ua(this.userStorage,this.storageKey+"-user");d!=null&&d.user?e.user=d.user:e.user=np()}if(this.storage.isServer&&e.user){let d=this.suppressGetSessionWarning;e=new Proxy(e,{get:(g,p,y)=>(!d&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),d=!0,this.suppressGetSessionWarning=!0),Reflect.get(g,p,y))})}return{data:{session:e},error:null}}const{data:o,error:c}=await this._callRefreshToken(e.refresh_token);return c?{data:{session:null},error:c}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ei}):await this._useSession(async t=>{var r,o,c;const{data:d,error:m}=t;if(m)throw m;return!(!((r=d.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new _i}:await Le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(o=d.session)===null||o===void 0?void 0:o.access_token)!==null&&c!==void 0?c:void 0,xform:Ei})})}catch(t){if(Ae(t))return w6(t)&&(await this._removeSession(),await wi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async r=>{const{data:o,error:c}=r;if(c)throw c;if(!o.session)throw new _i;const d=o.session;let m=null,g=null;this.flowType==="pkce"&&e.email!=null&&([m,g]=await ol(this.storage,this.storageKey));const{data:p,error:y}=await Le(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:m,code_challenge_method:g}),jwt:d.access_token,xform:Ei});if(y)throw y;return d.user=p.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),{data:{user:d.user},error:null}})}catch(r){if(Ae(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new _i;const t=Date.now()/1e3;let r=t,o=!0,c=null;const{payload:d}=sp(e.access_token);if(d.exp&&(r=d.exp,o=r<=t),o){const{data:m,error:g}=await this._callRefreshToken(e.refresh_token);if(g)return{data:{user:null,session:null},error:g};if(!m)return{data:{user:null,session:null},error:null};c=m}else{const{data:m,error:g}=await this._getUser(e.access_token);if(g)throw g;c={access_token:e.access_token,refresh_token:e.refresh_token,user:m.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return{data:{user:c.user,session:c},error:null}}catch(t){if(Ae(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:d,error:m}=t;if(m)throw m;e=(r=d.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new _i;const{data:o,error:c}=await this._callRefreshToken(e.refresh_token);return c?{data:{user:null,session:null},error:c}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(Ae(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!Gs())throw new bh("No browser detected.");if(e.error||e.error_description||e.error_code)throw new bh(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new j_("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new bh("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new j_("No code detected.");const{data:D,error:J}=await this._exchangeCodeForSession(e.code);if(J)throw J;const de=new URL(window.location.href);return de.searchParams.delete("code"),window.history.replaceState(window.history.state,"",de.toString()),{data:{session:D.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:o,access_token:c,refresh_token:d,expires_in:m,expires_at:g,token_type:p}=e;if(!c||!m||!d||!p)throw new bh("No session defined in URL");const y=Math.round(Date.now()/1e3),b=parseInt(m);let j=y+b;g&&(j=parseInt(g));const A=j-y;A*1e3<=gl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${A}s, should have been closer to ${b}s`);const T=j-b;y-T>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",T,j,y):y-T<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",T,j,y);const{data:R,error:S}=await this._getUser(c);if(S)throw S;const q={provider_token:r,provider_refresh_token:o,access_token:c,expires_in:b,expires_at:j,refresh_token:d,token_type:p,user:R.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:q,redirectType:e.type},error:null}}catch(r){if(Ae(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Ua(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;const{data:o,error:c}=t;if(c)return{error:c};const d=(r=o.session)===null||r===void 0?void 0:r.access_token;if(d){const{error:m}=await this.admin.signOut(d,e);if(m&&!(b6(m)&&(m.status===404||m.status===401||m.status===403)))return{error:m}}return e!=="others"&&(await this._removeSession(),await wi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=k6(),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,o;try{const{data:{session:c},error:d}=t;if(d)throw d;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",e,"session",c)}catch(c){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",c),console.error(c)}})}async resetPasswordForEmail(e,t={}){let r=null,o=null;this.flowType==="pkce"&&([r,o]=await ol(this.storage,this.storageKey,!0));try{return await Le(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:o,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(c){if(Ae(c))return{data:null,error:c};throw c}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(Ae(t))return{data:null,error:t};throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:r,error:o}=await this._useSession(async c=>{var d,m,g,p,y;const{data:b,error:j}=c;if(j)throw j;const A=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(d=e.options)===null||d===void 0?void 0:d.redirectTo,scopes:(m=e.options)===null||m===void 0?void 0:m.scopes,queryParams:(g=e.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await Le(this.fetch,"GET",A,{headers:this.headers,jwt:(y=(p=b.session)===null||p===void 0?void 0:p.access_token)!==null&&y!==void 0?y:void 0})});if(o)throw o;return Gs()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Ae(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var r;try{const{error:o,data:{session:c}}=t;if(o)throw o;const{options:d,provider:m,token:g,access_token:p,nonce:y}=e,b=await Le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=c==null?void 0:c.access_token)!==null&&r!==void 0?r:void 0,body:{provider:m,id_token:g,access_token:p,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:wn}),{data:j,error:A}=b;return A?{data:{user:null,session:null},error:A}:!j||!j.session||!j.user?{data:{user:null,session:null},error:new al}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("USER_UPDATED",j.session)),{data:j,error:A})}catch(o){if(Ae(o))return{data:{user:null,session:null},error:o};throw o}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,o;const{data:c,error:d}=t;if(d)throw d;return await Le(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(r=c.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0})})}catch(t){if(Ae(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const r=Date.now();return await O6(async o=>(o>0&&await I6(200*Math.pow(2,o-1)),this._debug(t,"refreshing attempt",o),await Le(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:wn})),(o,c)=>{const d=200*Math.pow(2,o);return c&&tp(c)&&Date.now()+d-r<gl})}catch(r){if(this._debug(t,"error",r),Ae(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),Gs()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const o=await Ua(this.storage,this.storageKey);if(o&&this.userStorage){let d=await Ua(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:o.user},await pl(this.userStorage,this.storageKey+"-user",d)),o.user=(e=d==null?void 0:d.user)!==null&&e!==void 0?e:np()}else if(o&&!o.user&&!o.user){const d=await Ua(this.storage,this.storageKey+"-user");d&&(d!=null&&d.user)?(o.user=d.user,await wi(this.storage,this.storageKey+"-user"),await pl(this.storage,this.storageKey,o)):o.user=np()}if(this._debug(r,"session from storage",o),!this._isValidSession(o)){this._debug(r,"session is not valid"),o!==null&&await this._removeSession();return}const c=((t=o.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<ep;if(this._debug(r,`session has${c?"":" not"} expired with margin of ${ep}s`),c){if(this.autoRefreshToken&&o.refresh_token){const{error:d}=await this._callRefreshToken(o.refresh_token);d&&(console.error(d),tp(d)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:m}=await this._getUser(o.access_token);!m&&(d!=null&&d.user)?(o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(r,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(r,"error",o),console.error(o);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new _i;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Em;const{data:c,error:d}=await this._refreshAccessToken(e);if(d)throw d;if(!c.session)throw new _i;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const m={data:c.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(c){if(this._debug(o,"error",c),Ae(c)){const d={data:null,error:c};return tp(c)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(d),d}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(c),c}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,t,r=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const c=[],d=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(e,t)}catch(g){c.push(g)}});if(await Promise.all(d),c.length>0){for(let m=0;m<c.length;m+=1)console.error(c[m]);throw c[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),r=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&t.user&&await pl(this.userStorage,this.storageKey+"-user",{user:t.user});const o=Object.assign({},t);delete o.user;const c=A_(o);await pl(this.storage,this.storageKey,c)}else{const o=A_(t);await pl(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await wi(this.storage,this.storageKey),await wi(this.storage,this.storageKey+"-code-verifier"),await wi(this.storage,this.storageKey+"-user"),this.userStorage&&await wi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Gs()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),gl);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((r.expires_at*1e3-e)/gl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${gl}ms, refresh threshold is ${Kp} ticks`),o<=Kp&&await this._callRefreshToken(r.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof WN)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Gs()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const o=[`provider=${encodeURIComponent(t)}`];if(r!=null&&r.redirectTo&&o.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&o.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[c,d]=await ol(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(d)}`});o.push(m.toString())}if(r!=null&&r.queryParams){const c=new URLSearchParams(r.queryParams);o.push(c.toString())}return r!=null&&r.skipBrowserRedirect&&o.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:o,error:c}=t;return c?{data:null,error:c}:await Le(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(Ae(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,o;const{data:c,error:d}=t;if(d)return{data:null,error:d};const m=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:g,error:p}=await Le(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(r=c==null?void 0:c.session)===null||r===void 0?void 0:r.access_token});return p?{data:null,error:p}:(e.factorType==="totp"&&g.type==="totp"&&(!((o=g==null?void 0:g.totp)===null||o===void 0)&&o.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),{data:g,error:null})})}catch(t){if(Ae(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:o,error:c}=t;if(c)return{data:null,error:c};const d=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?uP(e.webauthn.credential_response):dP(e.webauthn.credential_response)})}:{code:e.code}),{data:m,error:g}=await Le(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:d,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return g?{data:null,error:g}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),{data:m,error:g})})}catch(t){if(Ae(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:o,error:c}=t;if(c)return{data:null,error:c};const d=await Le(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});if(d.error)return d;const{data:m}=d;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:lP(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:cP(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(Ae(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const o={all:[],phone:[],totp:[],webauthn:[]};for(const c of(e=t==null?void 0:t.factors)!==null&&e!==void 0?e:[])o.all.push(c),c.status==="verified"&&o[c.factor_type].push(c);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,r;const{data:{session:o},error:c}=e;if(c)return{data:null,error:c};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=sp(o.access_token);let m=null;d.aal&&(m=d.aal);let g=m;((r=(t=o.user.factors)===null||t===void 0?void 0:t.filter(b=>b.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(g="aal2");const y=d.amr||[];return{data:{currentLevel:m,nextLevel:g,currentAuthenticationMethods:y},error:null}}))}async fetchJwk(e,t={keys:[]}){let r=t.keys.find(m=>m.kid===e);if(r)return r;const o=Date.now();if(r=this.jwks.keys.find(m=>m.kid===e),r&&this.jwks_cached_at+y6>o)return r;const{data:c,error:d}=await Le(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=o,r=c.keys.find(m=>m.kid===e),!r)?null:r}async getClaims(e,t={}){try{let r=e;if(!r){const{data:A,error:T}=await this.getSession();if(T||!A.session)return{data:null,error:T};r=A.session.access_token}const{header:o,payload:c,signature:d,raw:{header:m,payload:g}}=sp(r);t!=null&&t.allowExpired||z6(c.exp);const p=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,t!=null&&t.keys?{keys:t.keys}:t==null?void 0:t.jwks);if(!p){const{error:A}=await this.getUser(r);if(A)throw A;return{data:{claims:c,header:o,signature:d},error:null}}const y=B6(o.alg),b=await crypto.subtle.importKey("jwk",p,y,!0,["verify"]);if(!await crypto.subtle.verify(y,b,d,E6(`${m}.${g}`)))throw new Yp("Invalid JWT signature");return{data:{claims:c,header:o,signature:d},error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}}}Su.nextInstanceID=0;const bP=Su;class wP extends bP{constructor(e){super(e)}}var _P=function(i,e,t,r){function o(c){return c instanceof t?c:new t(function(d){d(c)})}return new(t||(t=Promise))(function(c,d){function m(y){try{p(r.next(y))}catch(b){d(b)}}function g(y){try{p(r.throw(y))}catch(b){d(b)}}function p(y){y.done?c(y.value):o(y.value).then(m,g)}p((r=r.apply(i,e||[])).next())})};class jP{constructor(e,t,r){var o,c,d;this.supabaseUrl=e,this.supabaseKey=t;const m=m6(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",m),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",m),this.storageUrl=new URL("storage/v1",m),this.functionsUrl=new URL("functions/v1",m);const g=`sb-${m.hostname.split(".")[0]}-auth-token`,p={db:n6,realtime:i6,auth:Object.assign(Object.assign({},r6),{storageKey:g}),global:s6},y=h6(r??{},p);this.storageKey=(o=y.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(c=y.global.headers)!==null&&c!==void 0?c:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(b,j)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(j)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((d=y.auth)!==null&&d!==void 0?d:{},this.headers,y.global.fetch),this.fetch=c6(t,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new vO(new URL("rest/v1",m).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new ZO(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new cO(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return _P(this,void 0,void 0,function*(){var e,t;if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(t=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:o,userStorage:c,storageKey:d,flowType:m,lock:g,debug:p},y,b){const j={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new wP({url:this.authUrl.href,headers:Object.assign(Object.assign({},j),y),storageKey:d,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:o,userStorage:c,flowType:m,lock:g,debug:p,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(A=>A.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new MO(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const NP=(i,e,t)=>new jP(i,e,t);function SP(){if(typeof window<"u"||typeof process>"u")return!1;const i=process.version;if(i==null)return!1;const e=i.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}SP()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const ft=(i,e,t,r={})=>({code:i,message:e,provider:t,context:r,timestamp:new Date().toISOString()});class TP{constructor(e){this.config=e,this.app=null,this.auth=null,this.db=null}async connect(){try{this.app=w1(this.config),this.auth=UR(this.app),this.db=M5(this.app),await new Promise(e=>{const t=EC(this.auth,r=>{t(),e(r)})}),console.log("✅ Firebase connected successfully")}catch(e){throw ft("FIREBASE_CONNECT_ERROR",`Failed to connect to Firebase: ${e.message}`,"firebase",{originalError:e})}}async signIn(){try{const e=await wC(this.auth);return sessionStorage.setItem("firebase_token",await e.user.getIdToken()),{user:e.user,token:await e.user.getIdToken()}}catch(e){throw ft("FIREBASE_AUTH_ERROR",`Firebase authentication failed: ${e.message}`,"firebase",{originalError:e})}}async signOut(){try{await AC(this.auth),sessionStorage.removeItem("firebase_token")}catch(e){throw ft("FIREBASE_SIGNOUT_ERROR",`Firebase sign out failed: ${e.message}`,"firebase",{originalError:e})}}currentUser(){return this.auth.currentUser}async read(e,t={}){try{let o=t_(this.db,e);if(t.where){const[d,m,g]=t.where;o=Q5(o,W5(d,m,g))}return(await Z5(o)).docs.map(d=>({id:d.id,...d.data()}))}catch(r){throw ft("FIREBASE_READ_ERROR",`Failed to read from ${e}: ${r.message}`,"firebase",{collectionPath:e,queryOptions:t,originalError:r})}}async write(e,t,r){try{const o=Yg(this.db,e,t);return await eO(o,{...r,updatedAt:new Date().toISOString()},{merge:!0}),{id:t,...r}}catch(o){throw ft("FIREBASE_WRITE_ERROR",`Failed to write to ${e}/${t}: ${o.message}`,"firebase",{collectionPath:e,docId:t,originalError:o})}}async update(e,t,r){try{const o=Yg(this.db,e,t);return await tO(o,{...r,updatedAt:new Date().toISOString()}),{id:t,...r}}catch(o){throw ft("FIREBASE_UPDATE_ERROR",`Failed to update ${e}/${t}: ${o.message}`,"firebase",{collectionPath:e,docId:t,originalError:o})}}async delete(e,t){try{const r=Yg(this.db,e,t);return await sO(r),{id:t,deleted:!0}}catch(r){throw ft("FIREBASE_DELETE_ERROR",`Failed to delete ${e}/${t}: ${r.message}`,"firebase",{collectionPath:e,docId:t,originalError:r})}}onSnapshot(e,t){try{const r=t_(this.db,e);return nO(r,o=>{const c=o.docs.map(d=>({id:d.id,...d.data()}));t(c,null)},o=>{t(null,ft("FIREBASE_SNAPSHOT_ERROR",`Snapshot error on ${e}: ${o.message}`,"firebase",{collectionPath:e,originalError:o}))})}catch(r){throw ft("FIREBASE_SNAPSHOT_SETUP_ERROR",`Failed to setup snapshot for ${e}: ${r.message}`,"firebase",{collectionPath:e,originalError:r})}}}class EP{constructor(e){this.config=e,this.client=null}async connect(){try{this.client=NP(this.config.url,this.config.anonKey),console.log("✅ Supabase connected successfully")}catch(e){throw ft("SUPABASE_CONNECT_ERROR",`Failed to connect to Supabase: ${e.message}`,"supabase",{originalError:e})}}async signIn(){try{const{data:e,error:t}=await this.client.auth.signInAnonymously();if(t)throw t;return sessionStorage.setItem("supabase_token",e.session.access_token),{user:e.user,token:e.session.access_token}}catch(e){throw ft("SUPABASE_AUTH_ERROR",`Supabase authentication failed: ${e.message}`,"supabase",{originalError:e})}}async signOut(){try{await this.client.auth.signOut(),sessionStorage.removeItem("supabase_token")}catch(e){throw ft("SUPABASE_SIGNOUT_ERROR",`Supabase sign out failed: ${e.message}`,"supabase",{originalError:e})}}async currentUser(){const{data:{user:e}}=await this.client.auth.getUser();return e}async read(e,t={}){try{let r=this.client.from(e).select("*");if(t.where){const[d,m,g]=t.where;switch(m){case"==":r=r.eq(d,g);break;case">":r=r.gt(d,g);break;case"<":r=r.lt(d,g);break;case">=":r=r.gte(d,g);break;case"<=":r=r.lte(d,g);break}}const{data:o,error:c}=await r;if(c)throw c;return o}catch(r){throw ft("SUPABASE_READ_ERROR",`Failed to read from ${e}: ${r.message}`,"supabase",{tableName:e,queryOptions:t,originalError:r})}}async write(e,t,r){try{const{data:o,error:c}=await this.client.from(e).upsert({id:t,...r,updated_at:new Date().toISOString()});if(c)throw c;return o}catch(o){throw ft("SUPABASE_WRITE_ERROR",`Failed to write to ${e}: ${o.message}`,"supabase",{tableName:e,docId:t,originalError:o})}}async update(e,t,r){try{const{data:o,error:c}=await this.client.from(e).update({...r,updated_at:new Date().toISOString()}).eq("id",t);if(c)throw c;return o}catch(o){throw ft("SUPABASE_UPDATE_ERROR",`Failed to update ${e}: ${o.message}`,"supabase",{tableName:e,docId:t,originalError:o})}}async delete(e,t){try{const{error:r}=await this.client.from(e).delete().eq("id",t);if(r)throw r;return{id:t,deleted:!0}}catch(r){throw ft("SUPABASE_DELETE_ERROR",`Failed to delete from ${e}: ${r.message}`,"supabase",{tableName:e,docId:t,originalError:r})}}onSnapshot(e,t){try{const r=this.client.channel(`${e}_changes`).on("postgres_changes",{event:"*",schema:"public",table:e},o=>{this.read(e).then(c=>t(c,null)).catch(c=>t(null,c))}).subscribe();return()=>{this.client.removeChannel(r)}}catch(r){throw ft("SUPABASE_SNAPSHOT_ERROR",`Failed to setup snapshot for ${e}: ${r.message}`,"supabase",{tableName:e,originalError:r})}}}class AP{constructor(e){this.config=e,this.endpoint=e.endpoint,this.key=e.key,this.databaseId=e.databaseId||"FineGuardDB",this.authenticated=!1}async connect(){try{const e=await fetch(`${this.endpoint}/dbs/${this.databaseId}/colls`,{method:"GET",headers:{Authorization:this.key,"x-ms-version":"2018-12-31","Content-Type":"application/json"}});if(!e.ok)throw new Error(`Azure connection failed: ${e.statusText}`);this.authenticated=!0,console.log("✅ Azure Cosmos DB connected successfully")}catch(e){throw ft("AZURE_CONNECT_ERROR",`Failed to connect to Azure Cosmos DB: ${e.message}`,"azure",{originalError:e})}}async signIn(){try{return sessionStorage.setItem("azure_token",this.key),{user:{id:"azure-user"},token:this.key}}catch(e){throw ft("AZURE_AUTH_ERROR",`Azure authentication failed: ${e.message}`,"azure",{originalError:e})}}async signOut(){sessionStorage.removeItem("azure_token"),this.authenticated=!1}currentUser(){return this.authenticated?{id:"azure-user"}:null}async read(e,t={}){try{let r="SELECT * FROM c";if(t.where){const[d,m,g]=t.where,p=m==="=="?"=":m,y=typeof g=="string"?`"${g}"`:g;r+=` WHERE c.${d} ${p} ${y}`}const o=await fetch(`${this.endpoint}/dbs/${this.databaseId}/colls/${e}/docs`,{method:"POST",headers:{Authorization:this.key,"x-ms-version":"2018-12-31","Content-Type":"application/query+json","x-ms-documentdb-isquery":"true"},body:JSON.stringify({query:r})});if(!o.ok)throw new Error(`Read failed: ${o.statusText}`);return(await o.json()).Documents||[]}catch(r){throw ft("AZURE_READ_ERROR",`Failed to read from ${e}: ${r.message}`,"azure",{containerName:e,queryOptions:t,originalError:r})}}async write(e,t,r){try{const o=await fetch(`${this.endpoint}/dbs/${this.databaseId}/colls/${e}/docs`,{method:"POST",headers:{Authorization:this.key,"x-ms-version":"2018-12-31","Content-Type":"application/json"},body:JSON.stringify({id:t,...r,_updatedAt:new Date().toISOString()})});if(!o.ok)throw new Error(`Write failed: ${o.statusText}`);return await o.json()}catch(o){throw ft("AZURE_WRITE_ERROR",`Failed to write to ${e}: ${o.message}`,"azure",{containerName:e,docId:t,originalError:o})}}async update(e,t,r){try{const o=await this.read(e,{where:["id","==",t]});if(!o||o.length===0)throw new Error("Document not found");const c=await fetch(`${this.endpoint}/dbs/${this.databaseId}/colls/${e}/docs/${t}`,{method:"PUT",headers:{Authorization:this.key,"x-ms-version":"2018-12-31","Content-Type":"application/json"},body:JSON.stringify({...o[0],...r,_updatedAt:new Date().toISOString()})});if(!c.ok)throw new Error(`Update failed: ${c.statusText}`);return await c.json()}catch(o){throw ft("AZURE_UPDATE_ERROR",`Failed to update ${e}: ${o.message}`,"azure",{containerName:e,docId:t,originalError:o})}}async delete(e,t){try{const r=await fetch(`${this.endpoint}/dbs/${this.databaseId}/colls/${e}/docs/${t}`,{method:"DELETE",headers:{Authorization:this.key,"x-ms-version":"2018-12-31"}});if(!r.ok)throw new Error(`Delete failed: ${r.statusText}`);return{id:t,deleted:!0}}catch(r){throw ft("AZURE_DELETE_ERROR",`Failed to delete from ${e}: ${r.message}`,"azure",{containerName:e,docId:t,originalError:r})}}onSnapshot(e,t){const r=setInterval(async()=>{try{const o=await this.read(e);t(o,null)}catch(o){t(null,o)}},5e3);return()=>clearInterval(r)}}const kP=i=>{let e;if(!i||!i.provider)throw ft("INVALID_CONFIG","Configuration must include a provider field","connector",{config:i});switch(i.provider){case"firebase":if(!i.firebaseConfig)throw ft("INVALID_CONFIG","Firebase provider requires firebaseConfig","connector",{config:i});e=new TP(i.firebaseConfig);break;case"supabase":if(!i.supabaseConfig)throw ft("INVALID_CONFIG","Supabase provider requires supabaseConfig","connector",{config:i});e=new EP(i.supabaseConfig);break;case"azure":if(!i.azureConfig)throw ft("INVALID_CONFIG","Azure provider requires azureConfig","connector",{config:i});e=new AP(i.azureConfig);break;default:throw ft("UNSUPPORTED_PROVIDER",`Provider "${i.provider}" is not supported`,"connector",{config:i})}return{async connect(){return await e.connect(),{auth:{signIn:()=>e.signIn(),signOut:()=>e.signOut(),currentUser:()=>e.currentUser()},db:{read:(t,r)=>e.read(t,r),write:(t,r,o)=>e.write(t,r,o),update:(t,r,o)=>e.update(t,r,o),delete:(t,r)=>e.delete(t,r),onSnapshot:(t,r)=>e.onSnapshot(t,r)}}},getProvider(){return i.provider}}},CP=()=>{const[i,e]=te.useState("firebase"),[t,r]=te.useState(null),[o,c]=te.useState(!1),[d,m]=te.useState(!1),[g,p]=te.useState(null),[y,b]=te.useState([]),[j,A]=te.useState([]),[T,R]=te.useState("companies"),[S,q]=te.useState(!1),[D,J]=te.useState(!1),[de,pe]=te.useState(null),[he,I]=te.useState({}),k={firebase:{provider:"firebase",firebaseConfig:{apiKey:"demo-api-key",authDomain:"fineguard-demo.firebaseapp.com",projectId:"fineguard-demo",storageBucket:"fineguard-demo.appspot.com",messagingSenderId:"123456789",appId:"1:123456789:web:abcdef"}},supabase:{provider:"supabase",supabaseConfig:{url:"https://your-project.supabase.co",anonKey:"your-anon-key-here"}},azure:{provider:"azure",azureConfig:{endpoint:"https://your-account.documents.azure.com:443/",key:"your-azure-key-here",databaseId:"FineGuardDB"}}},C=async()=>{m(!0),p(null);try{const B=k[i],me=kP(B),{auth:le,db:qe}=await me.connect();await le.signIn(),r({auth:le,db:qe}),c(!0),await V(qe)}catch(B){p(B.message||"Failed to connect to database"),console.error("Connection error:",B)}finally{m(!1)}},V=async B=>{try{const me=await B.read("companies"),le=await B.read("obligations");b(me||[]),A(le||[])}catch(me){console.error("Error loading data:",me),p("Failed to load data from database")}},M=async()=>{if(t)try{await t.auth.signOut(),r(null),c(!1),b([]),A([])}catch(B){console.error("Disconnect error:",B)}},z=()=>{I(T==="companies"?{name:"",companyNumber:"",address:"",riskLevel:"low",complianceScore:100}:{companyId:"",title:"",description:"",dueDate:"",status:"pending",penalty:0}),pe("new")},O=async()=>{if(t){m(!0);try{const B=T==="companies"?"companies":"obligations",me=de==="new"?`${Date.now()}`:de;await t.db.write(B,me,he),await V(t.db),pe(null),I({})}catch(B){p(`Failed to save: ${B.message}`)}finally{m(!1)}}},et=async B=>{if(!(!t||!confirm("Are you sure you want to delete this item?"))){m(!0);try{const me=T==="companies"?"companies":"obligations";await t.db.delete(me,B),await V(t.db)}catch(me){p(`Failed to delete: ${me.message}`)}finally{m(!1)}}},Be=B=>{pe(B.id),I(B)};return s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Admin Panel"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage database connections and data"})]}),s.jsx(Oe,{variant:o?"default":"secondary",className:"text-lg px-4 py-2",children:o?s.jsxs(s.Fragment,{children:[s.jsx(De,{className:"h-4 w-4 mr-2"})," Connected"]}):s.jsxs(s.Fragment,{children:[s.jsx(Zp,{className:"h-4 w-4 mr-2"})," Disconnected"]})})]}),s.jsxs(G,{children:[s.jsxs(re,{children:[s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(Ar,{className:"h-6 w-6"}),"Database Connection"]}),s.jsx(Fe,{children:"Choose your database provider and connect"})]}),s.jsxs(Q,{className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-4 items-center",children:[s.jsx("label",{className:"font-medium",children:"Provider:"}),s.jsxs("select",{value:i,onChange:B=>e(B.target.value),disabled:o,className:"px-4 py-2 border rounded-lg bg-background",children:[s.jsx("option",{value:"firebase",children:"Firebase"}),s.jsx("option",{value:"supabase",children:"Supabase"}),s.jsx("option",{value:"azure",children:"Azure Cosmos DB"})]}),o?s.jsx(F,{onClick:M,variant:"destructive",children:"Disconnect"}):s.jsxs(F,{onClick:C,disabled:d,className:"bg-gradient-to-r from-cyan-400 to-blue-500",children:[d?s.jsx(gu,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(Ar,{className:"h-4 w-4 mr-2"}),"Connect"]})]}),g&&s.jsxs("div",{className:"flex items-center gap-2 p-4 bg-red-50 dark:bg-red-950 border border-red-200 dark:border-red-800 rounded-lg",children:[s.jsx(Au,{className:"h-5 w-5 text-red-600"}),s.jsx("p",{className:"text-red-600 dark:text-red-400",children:g})]}),o&&s.jsxs("div",{className:"flex items-center gap-2 p-4 bg-green-50 dark:bg-green-950 border border-green-200 dark:border-green-800 rounded-lg",children:[s.jsx(De,{className:"h-5 w-5 text-green-600"}),s.jsxs("p",{className:"text-green-600 dark:text-green-400",children:["Connected to ",i.charAt(0).toUpperCase()+i.slice(1)]})]})]})]}),o&&s.jsxs(G,{children:[s.jsx(re,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(ws,{className:"h-6 w-6"}),"Data Management"]}),s.jsx(Fe,{children:"View and manage your compliance data"})]}),s.jsxs(F,{onClick:z,className:"bg-gradient-to-r from-cyan-400 to-blue-500",children:[s.jsx(ze,{className:"h-4 w-4 mr-2"}),"Add New"]})]})}),s.jsxs(Q,{children:[s.jsxs("div",{className:"flex gap-2 mb-6 border-b",children:[s.jsxs("button",{onClick:()=>R("companies"),className:`px-6 py-3 font-medium transition-colors ${T==="companies"?"border-b-2 border-cyan-400 text-cyan-400":"text-muted-foreground hover:text-foreground"}`,children:["Companies (",y.length,")"]}),s.jsxs("button",{onClick:()=>R("obligations"),className:`px-6 py-3 font-medium transition-colors ${T==="obligations"?"border-b-2 border-cyan-400 text-cyan-400":"text-muted-foreground hover:text-foreground"}`,children:["Obligations (",j.length,")"]}),s.jsx("button",{onClick:()=>R("ai-crm"),className:`px-6 py-3 font-medium transition-colors ${T==="ai-crm"?"border-b-2 border-cyan-400 text-cyan-400":"text-muted-foreground hover:text-foreground"}`,children:"AI CRM 🤖"}),s.jsx("button",{onClick:()=>R("marketing"),className:`px-6 py-3 font-medium transition-colors ${T==="marketing"?"border-b-2 border-cyan-400 text-cyan-400":"text-muted-foreground hover:text-foreground"}`,children:"Marketing 📧"})]}),s.jsx("div",{className:"space-y-4",children:T==="ai-crm"?s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"p-6 bg-gradient-to-br from-cyan-50 to-blue-50 dark:from-cyan-950 dark:to-blue-950 rounded-lg border-2 border-cyan-200 dark:border-cyan-800",children:[s.jsx("h3",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:"🤖 AI CRM Module"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Intelligent customer relationship management powered by AI. Automatically score leads, predict churn, and recommend next best actions."}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:[s.jsxs(G,{children:[s.jsx(re,{children:s.jsx(oe,{className:"text-lg",children:"AI Lead Scoring"})}),s.jsxs(Q,{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Automatically score and prioritize leads based on engagement, company data, and compliance history."}),s.jsx(F,{className:"w-full bg-gradient-to-r from-cyan-400 to-blue-500",children:"Enable AI Scoring"})]})]}),s.jsxs(G,{children:[s.jsx(re,{children:s.jsx(oe,{className:"text-lg",children:"Churn Prediction"})}),s.jsxs(Q,{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Predict which clients are at risk of leaving and receive proactive retention recommendations."}),s.jsx(F,{className:"w-full bg-gradient-to-r from-cyan-400 to-blue-500",children:"Enable Churn Detection"})]})]}),s.jsxs(G,{children:[s.jsx(re,{children:s.jsx(oe,{className:"text-lg",children:"Next Best Action"})}),s.jsxs(Q,{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"AI-powered recommendations for the best next step with each client based on their compliance status."}),s.jsx(F,{className:"w-full bg-gradient-to-r from-cyan-400 to-blue-500",children:"Enable NBA Engine"})]})]}),s.jsxs(G,{children:[s.jsx(re,{children:s.jsx(oe,{className:"text-lg",children:"Smart Segmentation"})}),s.jsxs(Q,{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Automatically segment clients by risk level, industry, compliance score, and engagement."}),s.jsx(F,{className:"w-full bg-gradient-to-r from-cyan-400 to-blue-500",children:"Configure Segments"})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-900 p-4 rounded-lg border",children:[s.jsx("h4",{className:"font-semibold mb-2",children:"🔐 Premium Feature"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["AI CRM features require a FineGuard Premium license.",s.jsx("a",{href:"/pricing",className:"text-cyan-500 hover:underline ml-1",children:"Upgrade now"})]})]})]})}):T==="marketing"?s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"p-6 bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-950 dark:to-pink-950 rounded-lg border-2 border-purple-200 dark:border-purple-800",children:[s.jsx("h3",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:"📧 Marketing Admin Module"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Automated marketing campaigns, email sequences, and client communications powered by AI copywriting."}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:[s.jsxs(G,{children:[s.jsx(re,{children:s.jsx(oe,{className:"text-lg",children:"Email Campaigns"})}),s.jsxs(Q,{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Create and send automated email campaigns to clients based on compliance deadlines and risk levels."}),s.jsx(F,{className:"w-full bg-gradient-to-r from-purple-400 to-pink-500",children:"Create Campaign"})]})]}),s.jsxs(G,{children:[s.jsx(re,{children:s.jsx(oe,{className:"text-lg",children:"AI Copywriting"})}),s.jsxs(Q,{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Generate professional email content automatically using AI, tailored to each client's situation."}),s.jsx(F,{className:"w-full bg-gradient-to-r from-purple-400 to-pink-500",children:"Enable AI Writer"})]})]}),s.jsxs(G,{children:[s.jsx(re,{children:s.jsx(oe,{className:"text-lg",children:"SMS & WhatsApp"})}),s.jsxs(Q,{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Send urgent compliance alerts via SMS and WhatsApp for critical deadlines."}),s.jsx(F,{className:"w-full bg-gradient-to-r from-purple-400 to-pink-500",children:"Configure Messaging"})]})]}),s.jsxs(G,{children:[s.jsx(re,{children:s.jsx(oe,{className:"text-lg",children:"Drip Sequences"})}),s.jsxs(Q,{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Set up automated email sequences for onboarding, reminders, and follow-ups."}),s.jsx(F,{className:"w-full bg-gradient-to-r from-purple-400 to-pink-500",children:"Create Sequence"})]})]}),s.jsxs(G,{children:[s.jsx(re,{children:s.jsx(oe,{className:"text-lg",children:"Analytics Dashboard"})}),s.jsxs(Q,{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Track email open rates, click-through rates, and campaign performance."}),s.jsx(F,{className:"w-full bg-gradient-to-r from-purple-400 to-pink-500",children:"View Analytics"})]})]}),s.jsxs(G,{children:[s.jsx(re,{children:s.jsx(oe,{className:"text-lg",children:"Template Library"})}),s.jsxs(Q,{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Access pre-built email templates for common compliance scenarios."}),s.jsx(F,{className:"w-full bg-gradient-to-r from-purple-400 to-pink-500",children:"Browse Templates"})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-900 p-4 rounded-lg border",children:[s.jsx("h4",{className:"font-semibold mb-2",children:"🔐 Premium Feature"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Marketing features require a FineGuard Premium license.",s.jsx("a",{href:"/pricing",className:"text-purple-500 hover:underline ml-1",children:"Upgrade now"})]})]})]})}):T==="companies"?y.length>0?y.map(B=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-lg",children:B.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["#",B.companyNumber]}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx(Oe,{variant:B.riskLevel==="critical"?"destructive":"default",children:B.riskLevel}),s.jsxs(Oe,{variant:"outline",children:[B.complianceScore,"% Compliance"]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{size:"sm",variant:"outline",onClick:()=>Be(B),children:s.jsx(ks,{className:"h-4 w-4"})}),s.jsx(F,{size:"sm",variant:"destructive",onClick:()=>et(B.id),children:s.jsx(kr,{className:"h-4 w-4"})})]})]},B.id)):s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No companies found"}):j.length>0?j.map(B=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-lg",children:B.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:B.companyName}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx(Oe,{variant:B.status==="overdue"?"destructive":"default",children:B.status}),s.jsxs(Oe,{variant:"outline",children:["Due: ",B.dueDate]}),B.penalty>0&&s.jsxs(Oe,{variant:"destructive",children:["£",B.penalty," penalty"]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{size:"sm",variant:"outline",onClick:()=>Be(B),children:s.jsx(ks,{className:"h-4 w-4"})}),s.jsx(F,{size:"sm",variant:"destructive",onClick:()=>et(B.id),children:s.jsx(kr,{className:"h-4 w-4"})})]})]},B.id)):s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No obligations found"})})]})]}),de&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:()=>pe(null),children:s.jsxs(G,{className:"max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:B=>B.stopPropagation(),children:[s.jsx(re,{children:s.jsxs(oe,{children:[de==="new"?"Add New":"Edit"," ",T==="companies"?"Company":"Obligation"]})}),s.jsxs(Q,{className:"space-y-4",children:[T==="companies"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Company Name"}),s.jsx("input",{type:"text",value:he.name||"",onChange:B=>I({...he,name:B.target.value}),className:"w-full p-2 border rounded-lg bg-background"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Company Number"}),s.jsx("input",{type:"text",value:he.companyNumber||"",onChange:B=>I({...he,companyNumber:B.target.value}),className:"w-full p-2 border rounded-lg bg-background"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Address"}),s.jsx("input",{type:"text",value:he.address||"",onChange:B=>I({...he,address:B.target.value}),className:"w-full p-2 border rounded-lg bg-background"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Risk Level"}),s.jsxs("select",{value:he.riskLevel||"low",onChange:B=>I({...he,riskLevel:B.target.value}),className:"w-full p-2 border rounded-lg bg-background",children:[s.jsx("option",{value:"low",children:"Low"}),s.jsx("option",{value:"medium",children:"Medium"}),s.jsx("option",{value:"high",children:"High"}),s.jsx("option",{value:"critical",children:"Critical"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Compliance Score"}),s.jsx("input",{type:"number",value:he.complianceScore||100,onChange:B=>I({...he,complianceScore:parseInt(B.target.value)}),className:"w-full p-2 border rounded-lg bg-background",min:"0",max:"100"})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Title"}),s.jsx("input",{type:"text",value:he.title||"",onChange:B=>I({...he,title:B.target.value}),className:"w-full p-2 border rounded-lg bg-background"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Description"}),s.jsx("textarea",{value:he.description||"",onChange:B=>I({...he,description:B.target.value}),className:"w-full p-2 border rounded-lg bg-background",rows:3})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Due Date"}),s.jsx("input",{type:"date",value:he.dueDate||"",onChange:B=>I({...he,dueDate:B.target.value}),className:"w-full p-2 border rounded-lg bg-background"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Status"}),s.jsxs("select",{value:he.status||"pending",onChange:B=>I({...he,status:B.target.value}),className:"w-full p-2 border rounded-lg bg-background",children:[s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"overdue",children:"Overdue"}),s.jsx("option",{value:"completed",children:"Completed"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Penalty (£)"}),s.jsx("input",{type:"number",value:he.penalty||0,onChange:B=>I({...he,penalty:parseInt(B.target.value)}),className:"w-full p-2 border rounded-lg bg-background",min:"0"})]})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsxs(F,{onClick:O,className:"flex-1 bg-gradient-to-r from-cyan-400 to-blue-500",children:[d?s.jsx(gu,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(De,{className:"h-4 w-4 mr-2"}),"Save"]}),s.jsx(F,{onClick:()=>pe(null),variant:"outline",className:"flex-1",children:"Cancel"})]})]})]})}),s.jsxs(G,{children:[s.jsxs(re,{children:[s.jsx(oe,{className:"flex items-center gap-2",children:"🤖 AI CRM Module"}),s.jsx(Fe,{children:"Intelligent customer relationship management powered by AI"})]}),s.jsxs(Q,{children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs(G,{children:[s.jsx(re,{children:s.jsx(oe,{className:"text-lg",children:"AI Lead Scoring"})}),s.jsxs(Q,{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Automatically score and prioritize leads based on engagement, company data, and compliance history."}),s.jsx(F,{className:"w-full bg-gradient-to-r from-cyan-400 to-blue-500",children:"Enable AI Scoring"})]})]}),s.jsxs(G,{children:[s.jsx(re,{children:s.jsx(oe,{className:"text-lg",children:"Churn Prediction"})}),s.jsxs(Q,{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Predict which clients are at risk of leaving and receive proactive retention recommendations."}),s.jsx(F,{className:"w-full bg-gradient-to-r from-cyan-400 to-blue-500",children:"Enable Churn Detection"})]})]}),s.jsxs(G,{children:[s.jsx(re,{children:s.jsx(oe,{className:"text-lg",children:"Next Best Action"})}),s.jsxs(Q,{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"AI-powered recommendations for the best next step with each client based on their compliance status."}),s.jsx(F,{className:"w-full bg-gradient-to-r from-cyan-400 to-blue-500",children:"Enable NBA Engine"})]})]}),s.jsxs(G,{children:[s.jsx(re,{children:s.jsx(oe,{className:"text-lg",children:"Smart Segmentation"})}),s.jsxs(Q,{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Automatically segment clients by risk level, industry, compliance score, and engagement."}),s.jsx(F,{className:"w-full bg-gradient-to-r from-cyan-400 to-blue-500",children:"Configure Segments"})]})]})]}),s.jsxs("div",{className:"mt-6 bg-muted p-4 rounded-lg border",children:[s.jsx("h4",{className:"font-semibold mb-2",children:"🔐 Premium Feature"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["AI CRM features require a FineGuard Premium license.",s.jsx("a",{href:"/pricing",className:"text-cyan-500 hover:underline ml-1",children:"Upgrade now"})]})]})]})]}),s.jsxs(G,{children:[s.jsxs(re,{children:[s.jsx(oe,{className:"flex items-center gap-2",children:"📧 Marketing Admin Module"}),s.jsx(Fe,{children:"Automated marketing campaigns and client communications"})]}),s.jsxs(Q,{children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs(G,{children:[s.jsx(re,{children:s.jsx(oe,{className:"text-lg",children:"Email Campaigns"})}),s.jsxs(Q,{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Create and send automated email campaigns to clients based on compliance deadlines and risk levels."}),s.jsx(F,{className:"w-full bg-gradient-to-r from-purple-400 to-pink-500",children:"Create Campaign"})]})]}),s.jsxs(G,{children:[s.jsx(re,{children:s.jsx(oe,{className:"text-lg",children:"AI Copywriting"})}),s.jsxs(Q,{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Generate professional email content automatically using AI, tailored to each client's situation."}),s.jsx(F,{className:"w-full bg-gradient-to-r from-purple-400 to-pink-500",children:"Enable AI Writer"})]})]}),s.jsxs(G,{children:[s.jsx(re,{children:s.jsx(oe,{className:"text-lg",children:"SMS & WhatsApp"})}),s.jsxs(Q,{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Send urgent compliance alerts via SMS and WhatsApp for critical deadlines."}),s.jsx(F,{className:"w-full bg-gradient-to-r from-purple-400 to-pink-500",children:"Configure Messaging"})]})]}),s.jsxs(G,{children:[s.jsx(re,{children:s.jsx(oe,{className:"text-lg",children:"Drip Sequences"})}),s.jsxs(Q,{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Set up automated email sequences for onboarding, reminders, and follow-ups."}),s.jsx(F,{className:"w-full bg-gradient-to-r from-purple-400 to-pink-500",children:"Create Sequence"})]})]}),s.jsxs(G,{children:[s.jsx(re,{children:s.jsx(oe,{className:"text-lg",children:"Analytics Dashboard"})}),s.jsxs(Q,{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Track email open rates, click-through rates, and campaign performance."}),s.jsx(F,{className:"w-full bg-gradient-to-r from-purple-400 to-pink-500",children:"View Analytics"})]})]}),s.jsxs(G,{children:[s.jsx(re,{children:s.jsx(oe,{className:"text-lg",children:"Template Library"})}),s.jsxs(Q,{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Access pre-built email templates for common compliance scenarios."}),s.jsx(F,{className:"w-full bg-gradient-to-r from-purple-400 to-pink-500",children:"Browse Templates"})]})]})]}),s.jsxs("div",{className:"mt-6 bg-muted p-4 rounded-lg border",children:[s.jsx("h4",{className:"font-semibold mb-2",children:"🔐 Premium Feature"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Marketing features require a FineGuard Premium license.",s.jsx("a",{href:"/pricing",className:"text-purple-500 hover:underline ml-1",children:"Upgrade now"})]})]})]})]})]})},Zc="2024-10-11",ip="https://api.company-information.service.gov.uk";function RP(){const[i,e]=te.useState(()=>sessionStorage.getItem("ch_api_key")||""),[t,r]=te.useState(!1),[o,c]=te.useState("Idle"),[d,m]=te.useState([]),[g,p]=te.useState({current:0,total:0}),y=te.useRef(!1),[b,j]=te.useState([]),[A,T]=te.useState(!1),[R,S]=te.useState(null),q=C=>{m(V=>[`[${new Date().toLocaleTimeString()}] ${C}`,...V.slice(0,199)])},D=C=>{e(C),sessionStorage.setItem("ch_api_key",C)},J=async(C,V=0)=>{const M=await fetch(`${ip}/search/companies?incorporated_from=${C}&incorporated_to=${C}&start_index=${V}`,{headers:{Authorization:`Basic ${btoa(i+":")}`,"Content-Type":"application/json"}});if(!M.ok)throw new Error(`API error: ${M.status} ${M.statusText}`);return await M.json()},de=async C=>{const V=await fetch(`${ip}/company/${C}`,{headers:{Authorization:`Basic ${btoa(i+":")}`,"Content-Type":"application/json"}});if(!V.ok)throw new Error(`Company profile error: ${V.status}`);return await V.json()},pe=async C=>{try{const V=await fetch(`${ip}/company/${C}/registered-office-address`,{headers:{Authorization:`Basic ${btoa(i+":")}`,"Content-Type":"application/json"}});return V.ok?await V.json():null}catch{return null}},he=async C=>{var V,M;try{const[z,O]=await Promise.all([de(C.company_number),pe(C.company_number)]),et=O?[O.address_line_1,O.address_line_2,O.locality,O.region,O.postal_code].filter(Boolean).join(", "):"Address not available";return{company_name:C.title,company_number:C.company_number,company_status:C.company_status,company_type:z==null?void 0:z.type,incorporation_date:C.date_of_creation,registered_address:et,accounts_due_date:((V=z==null?void 0:z.accounts)==null?void 0:V.next_due)||"Not available",cs_due_date:((M=z==null?void 0:z.confirmation_statement)==null?void 0:M.next_due)||"Not available",sic_codes:(z==null?void 0:z.sic_codes)||[],jurisdiction:(z==null?void 0:z.jurisdiction)||"england-wales",last_updated:new Date().toISOString()}}catch(z){return q(`Error processing company ${C.company_number}: ${z.message}`),null}},I=async()=>{if(!i){q("Companies House API Key is required to start.");return}r(!0),y.current=!1,m([]),p({current:0,total:0}),j([]);try{q(`Starting real data collection for companies incorporated on: ${Zc}`),c("Searching Companies House...");let C=0;const V=100;let M=0,z=0;const O=[];if(M=(await J(Zc,0)).total_results,p({current:0,total:M}),q(`Found ${M} companies incorporated on ${Zc}`),M===0){q("No companies found for the specified date."),r(!1),c("Idle");return}for(;C<M&&!y.current;){c(`Fetching companies ${C+1}-${Math.min(C+V,M)}...`);const B=await J(Zc,C);O.push(...B.items),C+=V,await new Promise(me=>setTimeout(me,200))}if(y.current){q("Agent paused by user."),c("Paused");return}c("Enriching company data...");const Be=[];for(const B of O){if(y.current){q("Agent paused by user."),c("Paused");return}try{const me=await he(B);me&&(Be.push(me),j([...Be])),z++,p({current:z,total:M}),z%10===0&&q(`Processed ${z}/${M} companies`),await new Promise(le=>setTimeout(le,100))}catch(me){q(`Failed to process company ${B.company_number}: ${me.message}`);continue}}q(`Successfully processed ${z} real companies from Companies House`),c("Finished")}catch(C){q(`Agent failed: ${C.message}`),c("Error")}finally{r(!1)}},k=()=>{y.current=!0};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(us,{className:"w-10 h-10 text-blue-600"}),s.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent",children:"Live Companies House Data"})]}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Fetch and analyze real-time company data directly from Companies House API"})]}),s.jsxs(G,{className:"mb-8",children:[s.jsxs(re,{children:[s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(Ar,{className:"w-6 h-6 text-blue-600"}),"Real Companies House Data Collector"]}),s.jsxs(Fe,{children:["This agent will fetch real company data from the Companies House API for companies incorporated on ",Zc,"."]})]}),s.jsxs(Q,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-semibold flex items-center gap-2 mb-2",children:[s.jsx(qE,{className:"w-4 h-4"}),"Companies House API Key"]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"password",value:i,onChange:C=>D(C.target.value),placeholder:"Enter your Companies House API key",className:"w-full p-3 border rounded-lg bg-background pr-10"}),i.length>0&&s.jsx(nE,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-green-500"})]}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Get your API key from: ",s.jsx("a",{href:"https://developer.company-information.service.gov.uk/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:"Companies House Developer Portal"})]})]}),s.jsx("div",{className:"flex items-center gap-4",children:t?s.jsxs(F,{onClick:k,className:"flex-1 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700",children:[s.jsx(mE,{className:"w-5 h-5 mr-2"})," Pause Collection"]}):s.jsxs(F,{onClick:I,disabled:!i,className:"flex-1 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700",children:[s.jsx(gE,{className:"w-5 h-5 mr-2"})," Start Live Data Collection"]})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center text-sm font-semibold mb-2",children:[s.jsxs("span",{children:["Status: ",s.jsx(Oe,{variant:"outline",children:o})]}),s.jsxs("span",{className:"text-gray-500",children:[g.current," / ",g.total]})]}),s.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3 overflow-hidden",children:s.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-cyan-500 h-3 rounded-full transition-all duration-500",style:{width:g.total>0?`${g.current/g.total*100}%`:"0%"}})})]}),s.jsx("div",{className:"bg-gray-900 text-green-400 font-mono text-xs rounded-lg p-4 h-48 overflow-y-auto",children:d.length>0?d.map((C,V)=>s.jsx("p",{className:"whitespace-pre-wrap",children:C},V)):s.jsx("p",{className:"text-gray-500",children:"Agent log will appear here..."})})]})]}),s.jsxs(G,{children:[s.jsxs(re,{children:[s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(ws,{className:"w-6 h-6 text-blue-600"}),"Live Company Database"]}),s.jsx(Fe,{children:"Real-time company data from Companies House"})]}),s.jsx(Q,{children:A?s.jsxs("div",{className:"text-center p-8",children:[s.jsx(YE,{className:"w-8 h-8 animate-spin mx-auto text-blue-500"}),s.jsx("p",{className:"text-gray-500 mt-2",children:"Loading company data..."})]}):R?s.jsx("div",{className:"p-4 bg-red-100 dark:bg-red-900/20 text-red-700 dark:text-red-400 rounded-lg text-center",children:R}):b.length===0?s.jsxs("div",{className:"text-center text-gray-500 p-8",children:[s.jsx(Ar,{className:"w-12 h-12 mx-auto text-gray-300 mb-2"}),s.jsx("p",{children:"No data yet. Start the agent to collect real company data."})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800 text-xs uppercase",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left",children:"Company Name & Number"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Status"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Registered Address"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"Accounts Due"}),s.jsx("th",{className:"px-4 py-3 text-left",children:"CS Due"})]})}),s.jsx("tbody",{children:b.map((C,V)=>s.jsxs("tr",{className:"border-b dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800",children:[s.jsxs("td",{className:"px-4 py-3",children:[s.jsx("div",{className:"font-medium",children:C.company_name}),s.jsx("div",{className:"font-mono text-xs text-gray-500",children:C.company_number})]}),s.jsx("td",{className:"px-4 py-3",children:s.jsx(Oe,{variant:C.company_status==="active"?"default":C.company_status==="dissolved"?"destructive":"secondary",children:C.company_status})}),s.jsx("td",{className:"px-4 py-3 text-xs max-w-xs truncate",title:C.registered_address,children:C.registered_address}),s.jsx("td",{className:"px-4 py-3 font-mono text-red-600 dark:text-red-400 font-bold text-xs",children:C.accounts_due_date}),s.jsx("td",{className:"px-4 py-3 font-mono text-blue-600 dark:text-blue-400 font-bold text-xs",children:C.cs_due_date})]},V))})]})})})]})]})})}const IP=({isOpen:i,onClose:e,onAuthSuccess:t})=>{const[r,o]=te.useState(!0),[c,d]=te.useState({email:"",password:"",name:"",confirmPassword:""}),[m,g]=te.useState(!1),[p,y]=te.useState(""),[b,j]=te.useState("");if(!i)return null;const A=async R=>{R.preventDefault(),y(""),j(""),g(!0);try{if(!r){if(c.password!==c.confirmPassword)throw new Error("Passwords do not match");if(c.password.length<6)throw new Error("Password must be at least 6 characters")}if(await new Promise(S=>setTimeout(S,1e3)),r){const S={email:c.email,name:c.email.split("@")[0],subscription:"free"};localStorage.setItem("fineguard_user",JSON.stringify(S)),j("Login successful!"),setTimeout(()=>{t(S),e()},1e3)}else{const S={email:c.email,name:c.name,subscription:"free"};localStorage.setItem("fineguard_user",JSON.stringify(S)),j("Account created successfully!"),setTimeout(()=>{t(S),e()},1e3)}}catch(S){y(S.message)}finally{g(!1)}},T=R=>{d({...c,[R.target.name]:R.target.value})};return s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-background border-2 border-cyan-400/30 rounded-3xl max-w-md w-full p-8 relative shadow-2xl",children:[s.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 hover:bg-muted rounded-full transition-colors",children:s.jsx(t0,{className:"h-5 w-5"})}),s.jsxs("div",{className:"text-center mb-6",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-cyan-400 to-blue-500 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-2xl",children:"🛡️"})}),s.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"FineGuard"})]}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:r?"Welcome Back":"Create Account"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:r?"Sign in to access your compliance dashboard":"Start protecting your business today"})]}),p&&s.jsx("div",{className:"mb-4 p-3 bg-red-500/10 border border-red-500/30 rounded-lg text-red-500 text-sm",children:p}),b&&s.jsxs("div",{className:"mb-4 p-3 bg-green-500/10 border border-green-500/30 rounded-lg text-green-500 text-sm flex items-center gap-2",children:[s.jsx(De,{className:"h-4 w-4"}),b]}),s.jsxs("form",{onSubmit:A,className:"space-y-4",children:[!r&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Full Name"}),s.jsxs("div",{className:"relative",children:[s.jsx(Xa,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),s.jsx("input",{type:"text",name:"name",value:c.name,onChange:T,className:"w-full pl-10 pr-4 py-3 border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-cyan-400",placeholder:"John Doe",required:!r})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ws,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),s.jsx("input",{type:"email",name:"email",value:c.email,onChange:T,className:"w-full pl-10 pr-4 py-3 border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-cyan-400",placeholder:"you@example.com",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(up,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),s.jsx("input",{type:"password",name:"password",value:c.password,onChange:T,className:"w-full pl-10 pr-4 py-3 border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-cyan-400",placeholder:"••••••••",required:!0})]})]}),!r&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Confirm Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(up,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),s.jsx("input",{type:"password",name:"confirmPassword",value:c.confirmPassword,onChange:T,className:"w-full pl-10 pr-4 py-3 border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-cyan-400",placeholder:"••••••••",required:!r})]})]}),s.jsx("button",{type:"submit",disabled:m,className:"w-full py-3 bg-gradient-to-r from-cyan-400 to-blue-500 text-white rounded-lg font-semibold hover:shadow-lg hover:scale-[1.02] transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:m?"Processing...":r?"Sign In":"Create Account"})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsx("button",{onClick:()=>{o(!r),y(""),j("")},className:"text-sm text-cyan-500 hover:underline",children:r?"Don't have an account? Sign up":"Already have an account? Sign in"})}),r&&s.jsx("div",{className:"mt-4 text-center",children:s.jsx("button",{className:"text-sm text-muted-foreground hover:text-cyan-500 transition-colors",children:"Forgot password?"})})]})})},OP=({user:i,onLogout:e,onUpgrade:t})=>{const o={free:{name:"Free",color:"text-gray-500",icon:"🆓"},starter:{name:"Starter",color:"text-blue-500",icon:"🌟",price:"£1"},pro:{name:"Pro",color:"text-purple-500",icon:"👑",price:"£15"},ultimate:{name:"Ultimate",color:"text-amber-500",icon:"💎",price:"£99"}}[i.subscription||"free"];return s.jsx("div",{className:"min-h-screen bg-background py-12 px-4",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsx("div",{className:"bg-gradient-to-r from-cyan-400 to-blue-500 rounded-3xl p-8 mb-8 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold mb-2",children:["Welcome back, ",i.name,"!"]}),s.jsx("p",{className:"text-white/80",children:"Manage your FineGuard subscription and settings"})]}),s.jsx("div",{className:"text-6xl",children:o.icon})]})}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"md:col-span-2 space-y-6",children:[s.jsxs("div",{className:"border-2 border-cyan-400/30 rounded-2xl p-6 bg-background/50 backdrop-blur",children:[s.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[s.jsx(kb,{className:"h-5 w-5 text-cyan-500"}),"Current Subscription"]}),s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:`text-2xl font-bold ${o.color} mb-1`,children:[o.name," Plan"]}),o.price&&s.jsxs("div",{className:"text-muted-foreground",children:[o.price,"/month"]})]}),i.subscription==="free"&&s.jsx("button",{onClick:t,className:"px-6 py-3 bg-gradient-to-r from-cyan-400 to-blue-500 text-white rounded-full font-semibold hover:shadow-lg hover:scale-105 transition-all",children:"Upgrade Now"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Your Features:"}),i.subscription==="free"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(De,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{children:"Up to 1 company"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(De,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{children:"Basic compliance tracking"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(zi,{className:"h-4 w-4"}),s.jsx("span",{children:"AI features not included"})]})]}):i.subscription==="starter"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(De,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{children:"Up to 1 company"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(De,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{children:"Email alerts"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(De,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{children:"AI compliance checklists"})]})]}):i.subscription==="pro"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(De,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{children:"Up to 5 companies"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(De,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{children:"AI-powered insights"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(De,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{children:"Priority support"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(De,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{children:"Risk scoring"})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(De,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{children:"Unlimited companies"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(De,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{children:"Dedicated account manager"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(De,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{children:"White-label option"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(De,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{children:"API access"})]})]})]})]}),s.jsxs("div",{className:"border-2 border-cyan-400/30 rounded-2xl p-6 bg-background/50 backdrop-blur",children:[s.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[s.jsx(Xa,{className:"h-5 w-5 text-cyan-500"}),"Account Details"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-muted-foreground",children:"Name"}),s.jsx("div",{className:"font-medium",children:i.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-muted-foreground",children:"Email"}),s.jsx("div",{className:"font-medium",children:i.email})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm text-muted-foreground",children:"Member Since"}),s.jsx("div",{className:"font-medium",children:new Date().toLocaleDateString()})]})]})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"border-2 border-cyan-400/30 rounded-2xl p-6 bg-background/50 backdrop-blur",children:[s.jsx("h2",{className:"text-lg font-bold mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("button",{className:"w-full p-3 text-left hover:bg-muted rounded-lg transition-colors flex items-center gap-3",children:[s.jsx(Ya,{className:"h-5 w-5 text-cyan-500"}),s.jsx("span",{children:"Billing & Payments"})]}),s.jsxs("button",{className:"w-full p-3 text-left hover:bg-muted rounded-lg transition-colors flex items-center gap-3",children:[s.jsx(qi,{className:"h-5 w-5 text-cyan-500"}),s.jsx("span",{children:"Account Settings"})]}),i.subscription!=="ultimate"&&s.jsxs("button",{onClick:t,className:"w-full p-3 text-left hover:bg-muted rounded-lg transition-colors flex items-center gap-3 border border-cyan-400/30",children:[s.jsx(kb,{className:"h-5 w-5 text-amber-500"}),s.jsx("span",{className:"text-cyan-500 font-semibold",children:"Upgrade Plan"})]}),s.jsxs("button",{onClick:e,className:"w-full p-3 text-left hover:bg-red-500/10 rounded-lg transition-colors flex items-center gap-3 text-red-500",children:[s.jsx(ZE,{className:"h-5 w-5"}),s.jsx("span",{children:"Sign Out"})]})]})]}),s.jsxs("div",{className:"border-2 border-cyan-400/30 rounded-2xl p-6 bg-background/50 backdrop-blur",children:[s.jsx("h2",{className:"text-lg font-bold mb-4",children:"Need Help?"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Our support team is here to help you with any questions."}),s.jsx("button",{className:"w-full py-2 bg-gradient-to-r from-cyan-400 to-blue-500 text-white rounded-lg font-semibold hover:shadow-lg transition-all",children:"Contact Support"})]})]})]})]})})},PP=()=>{const[i,e]=te.useState([]),[t,r]=te.useState([]),[o,c]=te.useState([]),[d,m]=te.useState("dashboard"),[g,p]=te.useState([]);te.useEffect(()=>{y(),b(),A()},[]);const y=()=>{r([{id:"companies-house",name:"Companies House API",status:"connected",icon:"🏢",lastSync:new Date().toISOString(),recordsSync:1247},{id:"hmrc",name:"HMRC Gateway",status:"connected",icon:"💷",lastSync:new Date().toISOString(),recordsSync:892},{id:"xero",name:"Xero Accounting",status:"connected",icon:"📊",lastSync:new Date().toISOString(),recordsSync:456},{id:"quickbooks",name:"QuickBooks",status:"ready",icon:"📗",lastSync:null,recordsSync:0},{id:"sendgrid",name:"SendGrid Email",status:"connected",icon:"📧",lastSync:new Date().toISOString(),recordsSync:3421},{id:"twilio",name:"Twilio SMS",status:"connected",icon:"📱",lastSync:new Date().toISOString(),recordsSync:234},{id:"openai",name:"OpenAI GPT-4",status:"connected",icon:"🤖",lastSync:new Date().toISOString(),recordsSync:5678},{id:"stripe",name:"Stripe Payments",status:"connected",icon:"💳",lastSync:new Date().toISOString(),recordsSync:189}])},b=()=>{e([{id:"lead-scorer",name:"AI Lead Scoring Agent",status:"running",type:"ai",icon:"🎯",tasksCompleted:342,accuracy:94.5,lastAction:"Scored 15 new leads",nextRun:"2 minutes"},{id:"churn-predictor",name:"Churn Prediction Agent",status:"running",type:"ai",icon:"⚠️",tasksCompleted:128,accuracy:91.2,lastAction:"Identified 3 at-risk clients",nextRun:"15 minutes"},{id:"compliance-monitor",name:"Compliance Monitoring Agent",status:"running",type:"automation",icon:"🛡️",tasksCompleted:1247,accuracy:99.8,lastAction:"Checked 45 deadlines",nextRun:"1 hour"},{id:"email-automation",name:"Email Campaign Agent",status:"running",type:"automation",icon:"📧",tasksCompleted:892,accuracy:87.3,lastAction:"Sent 23 reminder emails",nextRun:"30 minutes"},{id:"data-enrichment",name:"Data Enrichment Agent",status:"running",type:"automation",icon:"🔍",tasksCompleted:567,accuracy:96.1,lastAction:"Enriched 12 company profiles",nextRun:"5 minutes"},{id:"nba-engine",name:"Next Best Action Agent",status:"running",type:"ai",icon:"🎲",tasksCompleted:234,accuracy:88.9,lastAction:"Generated 8 recommendations",nextRun:"10 minutes"}]);const J=setInterval(()=>{j()},3e3);return()=>clearInterval(J)},j=()=>{const D=[{agent:"AI Lead Scoring Agent",action:"Scored lead: Tech Startup Ltd - Score: 85/100",type:"success"},{agent:"Churn Prediction Agent",action:"Alert: Global Solutions Ltd showing churn signals",type:"warning"},{agent:"Compliance Monitoring Agent",action:"Deadline approaching: Annual Accounts for 3 companies",type:"info"},{agent:"Email Campaign Agent",action:"Sent reminder email to Startup Ventures Ltd",type:"success"},{agent:"Data Enrichment Agent",action:"Updated company profile: New director added",type:"info"},{agent:"Next Best Action Agent",action:"Recommendation: Schedule call with high-value client",type:"success"}],J=D[Math.floor(Math.random()*D.length)];p(de=>[{...J,timestamp:new Date().toLocaleTimeString(),id:Date.now()},...de].slice(0,50))},A=()=>{c([{id:1,name:"Deadline Alert Workflow",trigger:"When deadline is 7 days away",actions:["Send email","Create task","Update CRM"],status:"active",runs:234},{id:2,name:"New Client Onboarding",trigger:"When new client is added",actions:["Send welcome email","Create checklist","Assign account manager"],status:"active",runs:45},{id:3,name:"High-Risk Client Alert",trigger:"When compliance score drops below 60%",actions:["Alert account manager","Generate mitigation plan","Schedule review"],status:"active",runs:12},{id:4,name:"Monthly Reporting",trigger:"First day of each month",actions:["Generate reports","Email to clients","Update dashboard"],status:"active",runs:6},{id:5,name:"Lead Nurture Sequence",trigger:"When lead score exceeds 70",actions:["Add to nurture campaign","Assign to sales","Send personalized email"],status:"active",runs:89}])},T=D=>{e(J=>J.map(de=>de.id===D?{...de,status:de.status==="running"?"paused":"running"}:de))},R=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[s.jsx(G,{children:s.jsx(Q,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Agents"}),s.jsx("p",{className:"text-3xl font-bold",children:i.filter(D=>D.status==="running").length})]}),s.jsx(Ka,{className:"h-10 w-10 text-cyan-500"})]})})}),s.jsx(G,{children:s.jsx(Q,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Tasks Today"}),s.jsx("p",{className:"text-3xl font-bold",children:"3,492"})]}),s.jsx(De,{className:"h-10 w-10 text-green-500"})]})})}),s.jsx(G,{children:s.jsx(Q,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg Accuracy"}),s.jsx("p",{className:"text-3xl font-bold",children:"93.2%"})]}),s.jsx(Ri,{className:"h-10 w-10 text-purple-500"})]})})}),s.jsx(G,{children:s.jsx(Q,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Connected Services"}),s.jsx("p",{className:"text-3xl font-bold",children:t.filter(D=>D.status==="connected").length})]}),s.jsx(Mg,{className:"h-10 w-10 text-blue-500"})]})})})]}),s.jsxs(G,{children:[s.jsxs(re,{children:[s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(Nn,{className:"h-5 w-5 text-cyan-500"}),"Active AI Agents"]}),s.jsx(Fe,{children:"Real-time monitoring of autonomous agents"})]}),s.jsx(Q,{children:s.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:i.map(D=>s.jsx(G,{className:"border-cyan-400/30",children:s.jsxs(Q,{className:"pt-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"text-3xl",children:D.icon}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold",children:D.name}),s.jsx(Oe,{variant:D.status==="running"?"default":"secondary",className:"mt-1",children:D.status==="running"?s.jsxs(s.Fragment,{children:[s.jsx(Nn,{className:"h-3 w-3 mr-1 animate-pulse"})," Running"]}):s.jsxs(s.Fragment,{children:[s.jsx(bl,{className:"h-3 w-3 mr-1"})," Paused"]})})]})]}),s.jsx(F,{size:"sm",variant:"outline",onClick:()=>T(D.id),children:D.status==="running"?s.jsx(bl,{className:"h-4 w-4"}):s.jsx(iu,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Tasks Completed:"}),s.jsx("span",{className:"font-semibold",children:D.tasksCompleted})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Accuracy:"}),s.jsxs("span",{className:"font-semibold text-green-500",children:[D.accuracy,"%"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Last Action:"}),s.jsx("span",{className:"font-semibold text-xs",children:D.lastAction})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Next Run:"}),s.jsx("span",{className:"font-semibold text-cyan-500",children:D.nextRun})]})]})]})},D.id))})})]}),s.jsxs(G,{children:[s.jsxs(re,{children:[s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(gu,{className:"h-5 w-5 text-cyan-500"}),"Live Agent Activity"]}),s.jsx(Fe,{children:"Real-time log of agent actions"})]}),s.jsx(Q,{children:s.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:g.map(D=>s.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-muted/50 hover:bg-muted transition-colors",children:[s.jsx("div",{className:`mt-1 ${D.type==="success"?"text-green-500":D.type==="warning"?"text-amber-500":"text-blue-500"}`,children:D.type==="success"?s.jsx(De,{className:"h-4 w-4"}):D.type==="warning"?s.jsx(zi,{className:"h-4 w-4"}):s.jsx(An,{className:"h-4 w-4"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-semibold text-sm",children:D.agent}),s.jsx("span",{className:"text-xs text-muted-foreground",children:D.timestamp})]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:D.action})]})]},D.id))})})]})]}),S=()=>s.jsx("div",{className:"space-y-6",children:s.jsxs(G,{children:[s.jsxs(re,{children:[s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(Mg,{className:"h-5 w-5 text-cyan-500"}),"Connected Services"]}),s.jsx(Fe,{children:"Manage integrations with external platforms"})]}),s.jsx(Q,{children:s.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:t.map(D=>s.jsx(G,{className:"border-cyan-400/30",children:s.jsxs(Q,{className:"pt-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"text-3xl",children:D.icon}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold",children:D.name}),s.jsx(Oe,{variant:D.status==="connected"?"default":"secondary",className:"mt-1",children:D.status==="connected"?s.jsxs(s.Fragment,{children:[s.jsx(De,{className:"h-3 w-3 mr-1"})," Connected"]}):s.jsxs(s.Fragment,{children:[s.jsx(An,{className:"h-3 w-3 mr-1"})," Ready"]})})]})]}),s.jsx(F,{size:"sm",variant:"outline",children:s.jsx(qi,{className:"h-4 w-4"})})]}),D.status==="connected"&&s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Last Sync:"}),s.jsx("span",{className:"font-semibold",children:new Date(D.lastSync).toLocaleTimeString()})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Records Synced:"}),s.jsx("span",{className:"font-semibold text-green-500",children:D.recordsSync.toLocaleString()})]})]})]})},D.id))})})]})}),q=()=>s.jsx("div",{className:"space-y-6",children:s.jsxs(G,{children:[s.jsxs(re,{children:[s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(Fa,{className:"h-5 w-5 text-cyan-500"}),"AI Automation Workflows"]}),s.jsx(Fe,{children:"Automated workflows powered by AI"})]}),s.jsxs(Q,{children:[s.jsx("div",{className:"space-y-4",children:o.map(D=>s.jsx(G,{className:"border-cyan-400/30",children:s.jsx(Q,{className:"pt-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("h4",{className:"font-semibold",children:D.name}),s.jsxs(Oe,{variant:"default",className:"bg-green-500",children:[s.jsx(Nn,{className:"h-3 w-3 mr-1"})," Active"]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Fa,{className:"h-4 w-4 text-amber-500"}),s.jsx("span",{className:"text-muted-foreground",children:"Trigger:"}),s.jsx("span",{className:"font-medium",children:D.trigger})]}),s.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[s.jsx(Rh,{className:"h-4 w-4 text-cyan-500 mt-0.5"}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Actions:"}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:D.actions.map((J,de)=>s.jsx(Oe,{variant:"outline",className:"text-xs",children:J},de))})]})]}),s.jsx("div",{className:"flex items-center gap-4 text-sm",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ui,{className:"h-4 w-4 text-purple-500"}),s.jsx("span",{className:"text-muted-foreground",children:"Runs:"}),s.jsx("span",{className:"font-semibold",children:D.runs})]})})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{size:"sm",variant:"outline",children:s.jsx(qi,{className:"h-4 w-4"})}),s.jsx(F,{size:"sm",variant:"outline",children:s.jsx(bl,{className:"h-4 w-4"})})]})]})})},D.id))}),s.jsxs(F,{className:"w-full mt-4 bg-gradient-to-r from-cyan-400 to-blue-500",children:[s.jsx(Fa,{className:"h-4 w-4 mr-2"}),"Create New Automation"]})]})]})});return s.jsx("div",{className:"min-h-screen bg-background py-8 px-4",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold mb-2 bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"Advanced CRM & AI Automation"}),s.jsx("p",{className:"text-muted-foreground",children:"Autonomous agents and intelligent workflows for compliance management"})]}),s.jsx("div",{className:"flex gap-2 mb-6 border-b",children:[{id:"dashboard",label:"Dashboard",icon:Nn},{id:"services",label:"Services",icon:Mg},{id:"automations",label:"Automations",icon:Fa}].map(D=>s.jsxs("button",{onClick:()=>m(D.id),className:`flex items-center gap-2 px-4 py-2 border-b-2 transition-colors ${d===D.id?"border-cyan-500 text-cyan-500":"border-transparent text-muted-foreground hover:text-foreground"}`,children:[s.jsx(D.icon,{className:"h-4 w-4"}),D.label]},D.id))}),d==="dashboard"&&s.jsx(R,{}),d==="services"&&s.jsx(S,{}),d==="automations"&&s.jsx(q,{})]})})};function DP(){const[i,e]=te.useState([{key:"COMPANIES_HOUSE_API_KEY",value:"elab6044-6d0a-4fec-83fe-dfee5e1d83c7",created_at:"2025-10-16T10:00:00",access_count:45,last_accessed:"2025-10-16T10:30:00",metadata:{service:"companies_house",description:"UK Companies House API access"}},{key:"SENDGRID_API_KEY",value:"SG.demo_key_replace_in_production",created_at:"2025-10-16T10:00:00",access_count:12,last_accessed:"2025-10-16T09:45:00",metadata:{service:"email",description:"SendGrid email delivery"}},{key:"TWILIO_SID",value:"AC_demo_sid_replace_in_production",created_at:"2025-10-16T10:00:00",access_count:8,last_accessed:"2025-10-16T09:30:00",metadata:{service:"sms",description:"Twilio SMS service"}},{key:"JWT_SECRET",value:"fineguard_jwt_secret_change_in_production_2025",created_at:"2025-10-16T10:00:00",access_count:156,last_accessed:"2025-10-16T10:35:00",metadata:{service:"auth",description:"JWT signing secret"}}]),[t,r]=te.useState(!1),[o,c]=te.useState({}),[d,m]=te.useState(null),[g,p]=te.useState({key:"",value:"",service:"",description:""}),[y]=te.useState([{timestamp:"2025-10-16T10:35:00",action:"GET",key:"JWT_SECRET",message:"Secret accessed by auth service"},{timestamp:"2025-10-16T10:30:00",action:"GET",key:"COMPANIES_HOUSE_API_KEY",message:"Secret accessed by Live Data agent"},{timestamp:"2025-10-16T10:00:00",action:"SET",key:"COMPANIES_HOUSE_API_KEY",message:"Secret stored"},{timestamp:"2025-10-16T09:45:00",action:"GET",key:"SENDGRID_API_KEY",message:"Secret accessed by email service"}]),b=()=>{g.key&&g.value&&(e([...i,{key:g.key,value:g.value,created_at:new Date().toISOString(),access_count:0,last_accessed:"Never",metadata:{service:g.service,description:g.description}}]),p({key:"",value:"",service:"",description:""}),r(!1))},j=S=>{confirm(`Are you sure you want to delete ${S}?`)&&e(i.filter(q=>q.key!==S))},A=S=>{c({...o,[S]:!o[S]})},T=(S,q)=>{navigator.clipboard.writeText(q),m(S),setTimeout(()=>m(null),2e3)},R=S=>({companies_house:"bg-purple-100 dark:bg-purple-900 text-purple-700 dark:text-purple-300",email:"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300",sms:"bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300",auth:"bg-yellow-100 dark:bg-yellow-900 text-yellow-700 dark:text-yellow-300"})[S]||"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300";return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800 py-8",children:[s.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[s.jsxs("div",{className:"bg-gradient-to-r from-cyan-500 to-blue-600 rounded-2xl p-8 mb-8 text-white",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx(As,{className:"w-12 h-12"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold",children:"Secret Vault"}),s.jsx("p",{className:"text-cyan-100",children:"Secure API Key Management with AES-256 Encryption"})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-6",children:[s.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg p-4",children:[s.jsx("div",{className:"text-3xl font-bold",children:i.length}),s.jsx("div",{className:"text-sm text-cyan-100",children:"Stored Secrets"})]}),s.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg p-4",children:[s.jsx("div",{className:"text-3xl font-bold",children:i.reduce((S,q)=>S+q.access_count,0)}),s.jsx("div",{className:"text-sm text-cyan-100",children:"Total Accesses"})]}),s.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg p-4",children:[s.jsx("div",{className:"text-3xl font-bold",children:"🔒 AES-256"}),s.jsx("div",{className:"text-sm text-cyan-100",children:"Encryption"})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6 mb-8",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold dark:text-white",children:"Secrets"}),s.jsxs("button",{onClick:()=>r(!0),className:"flex items-center gap-2 bg-gradient-to-r from-cyan-500 to-blue-600 text-white px-6 py-3 rounded-full hover:shadow-lg transition",children:[s.jsx(ze,{className:"w-5 h-5"}),"Add Secret"]})]}),s.jsx("div",{className:"space-y-4",children:i.map(S=>s.jsxs("div",{className:"border dark:border-gray-700 rounded-lg p-4 hover:shadow-md transition",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(Ph,{className:"w-5 h-5 text-cyan-500"}),s.jsx("span",{className:"font-mono font-bold dark:text-white",children:S.key}),s.jsx("span",{className:`text-xs px-2 py-1 rounded ${R(S.metadata.service)}`,children:S.metadata.service}),S.key==="COMPANIES_HOUSE_API_KEY"&&s.jsxs("span",{className:"text-xs bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300 px-2 py-1 rounded flex items-center gap-1",children:[s.jsx(Bi,{className:"w-3 h-3"}),"Active"]})]}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:S.metadata.description}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 dark:text-gray-400",children:[s.jsxs("span",{children:["Created: ",new Date(S.created_at).toLocaleDateString()]}),s.jsx("span",{children:"•"}),s.jsxs("span",{children:["Accessed: ",S.access_count," times"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>A(S.key),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition",title:"View secret",children:o[S.key]?s.jsx(t1,{className:"w-5 h-5"}):s.jsx(Eu,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>T(S.key,S.value),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition",title:"Copy to clipboard",children:d===S.key?s.jsx(Bi,{className:"w-5 h-5 text-green-500"}):s.jsx(e0,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>j(S.key),className:"p-2 hover:bg-red-100 dark:hover:bg-red-900 rounded-lg transition text-red-600",title:"Delete secret",children:s.jsx(kr,{className:"w-5 h-5"})})]})]}),o[S.key]&&s.jsx("div",{className:"mt-3 p-3 bg-gray-50 dark:bg-gray-900 rounded",children:s.jsx("span",{className:"font-mono text-sm dark:text-white break-all",children:S.value})})]},S.key))})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx(An,{className:"w-6 h-6 text-cyan-500"}),s.jsx("h2",{className:"text-2xl font-bold dark:text-white",children:"Audit Log"})]}),s.jsx("div",{className:"space-y-2",children:y.map((S,q)=>s.jsxs("div",{className:"flex items-center gap-4 p-3 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg transition",children:[s.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 w-40",children:new Date(S.timestamp).toLocaleString()}),s.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${S.action==="GET"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":S.action==="SET"?"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300":"bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300"}`,children:S.action}),s.jsx("span",{className:"font-mono text-sm dark:text-white w-64",children:S.key}),s.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 flex-1",children:S.message})]},q))})]})]}),t&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-8 max-w-md w-full mx-4",children:[s.jsx("h3",{className:"text-2xl font-bold mb-6 dark:text-white",children:"Add New Secret"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Secret Key"}),s.jsx("input",{type:"text",value:g.key,onChange:S=>p({...g,key:S.target.value}),placeholder:"API_KEY_NAME",className:"w-full px-4 py-3 border dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Secret Value"}),s.jsx("input",{type:"password",value:g.value,onChange:S=>p({...g,value:S.target.value}),placeholder:"••••••••••••",className:"w-full px-4 py-3 border dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Service"}),s.jsx("input",{type:"text",value:g.service,onChange:S=>p({...g,service:S.target.value}),placeholder:"email, sms, api, etc.",className:"w-full px-4 py-3 border dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2 dark:text-gray-300",children:"Description"}),s.jsx("input",{type:"text",value:g.description,onChange:S=>p({...g,description:S.target.value}),placeholder:"Brief description",className:"w-full px-4 py-3 border dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]})]}),s.jsxs("div",{className:"flex gap-3 mt-6",children:[s.jsx("button",{onClick:b,className:"flex-1 bg-gradient-to-r from-cyan-500 to-blue-600 text-white py-3 rounded-lg font-bold hover:shadow-lg transition",children:"Add Secret"}),s.jsx("button",{onClick:()=>r(!1),className:"flex-1 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 py-3 rounded-lg font-bold hover:bg-gray-300 dark:hover:bg-gray-600 transition",children:"Cancel"})]})]})})]})}function MP(){const[i,e]=te.useState({name:"",email:"",message:""}),[t,r]=te.useState({type:"",message:""}),[o,c]=te.useState(!1),d=async g=>{g.preventDefault(),c(!0),r({type:"",message:""}),setTimeout(()=>{const p=JSON.parse(localStorage.getItem("contact_submissions")||"[]");p.push({...i,timestamp:new Date().toISOString(),id:Date.now()}),localStorage.setItem("contact_submissions",JSON.stringify(p)),r({type:"success",message:"Thank you! We'll get back to you within 24 hours."}),e({name:"",email:"",message:""}),c(!1)},1e3)},m=g=>{e({...i,[g.target.name]:g.target.value})};return s.jsxs("form",{onSubmit:d,className:"space-y-6",children:[t.message&&s.jsxs("div",{className:`p-4 rounded-lg flex items-center gap-3 ${t.type==="success"?"bg-green-500/10 border border-green-500/20 text-green-600 dark:text-green-400":"bg-red-500/10 border border-red-500/20 text-red-600 dark:text-red-400"}`,children:[t.type==="success"?s.jsx(De,{className:"w-5 h-5"}):s.jsx(zi,{className:"w-5 h-5"}),s.jsx("span",{children:t.message})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium mb-2",children:"Name"}),s.jsx("input",{type:"text",id:"name",name:"name",value:i.name,onChange:m,required:!0,className:"w-full px-4 py-3 rounded-lg border border-border bg-background focus:outline-none focus:ring-2 focus:ring-cyan-500",placeholder:"John Smith"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium mb-2",children:"Email Address"}),s.jsx("input",{type:"email",id:"email",name:"email",value:i.email,onChange:m,required:!0,className:"w-full px-4 py-3 rounded-lg border border-border bg-background focus:outline-none focus:ring-2 focus:ring-cyan-500",placeholder:"john@example.com"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"message",className:"block text-sm font-medium mb-2",children:"Message"}),s.jsx("textarea",{id:"message",name:"message",value:i.message,onChange:m,required:!0,rows:5,className:"w-full px-4 py-3 rounded-lg border border-border bg-background focus:outline-none focus:ring-2 focus:ring-cyan-500 resize-none",placeholder:"How can we help you?"})]}),s.jsx("button",{type:"submit",disabled:o,className:"w-full px-6 py-3 bg-gradient-to-r from-cyan-500 to-blue-600 text-white rounded-lg font-semibold hover:scale-105 transition-transform disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:o?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Sending..."]}):s.jsxs(s.Fragment,{children:[s.jsx(NA,{className:"w-5 h-5"}),"Send Message"]})})]})}function VP({user:i,onUpdate:e}){const[t,r]=te.useState("account"),[o,c]=te.useState(!1),[d,m]=te.useState({name:(i==null?void 0:i.name)||"",email:(i==null?void 0:i.email)||"",company:(i==null?void 0:i.company)||"",phone:(i==null?void 0:i.phone)||"",notifications:{email:!0,sms:!1,push:!0},security:{twoFactor:!1,sessionTimeout:"30"}}),g=[{id:"account",label:"Account",icon:Xa},{id:"notifications",label:"Notifications",icon:Ks},{id:"security",label:"Security",icon:As},{id:"billing",label:"Billing",icon:Ya},{id:"api",label:"API Keys",icon:Ph}],p=()=>{const j={...i,...d};localStorage.setItem("fineguard_user",JSON.stringify(j)),e&&e(j),c(!0),setTimeout(()=>c(!1),3e3)},y=(j,A)=>{m(T=>({...T,[j]:A}))},b=(j,A,T)=>{m(R=>({...R,[j]:{...R[j],[A]:T}}))};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[s.jsx(qi,{className:"w-8 h-8 text-cyan-500"}),"Settings"]}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Manage your account settings and preferences"})]}),o&&s.jsxs(Oe,{className:"bg-green-500 text-white flex items-center gap-2",children:[s.jsx(De,{className:"w-4 h-4"}),"Saved Successfully"]})]}),s.jsx("div",{className:"flex gap-2 border-b overflow-x-auto",children:g.map(j=>{const A=j.icon;return s.jsxs("button",{onClick:()=>r(j.id),className:`flex items-center gap-2 px-4 py-3 border-b-2 transition-colors whitespace-nowrap ${t===j.id?"border-cyan-500 text-cyan-600 dark:text-cyan-400":"border-transparent hover:border-gray-300"}`,children:[s.jsx(A,{className:"w-4 h-4"}),j.label]},j.id)})}),s.jsxs("div",{className:"max-w-3xl",children:[t==="account"&&s.jsxs(G,{children:[s.jsxs(re,{children:[s.jsx(oe,{children:"Account Information"}),s.jsx(Fe,{children:"Update your personal details"})]}),s.jsxs(Q,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Full Name"}),s.jsx("input",{type:"text",value:d.name,onChange:j=>y("name",j.target.value),className:"w-full px-4 py-2 rounded-lg border border-border bg-background focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email Address"}),s.jsx("input",{type:"email",value:d.email,onChange:j=>y("email",j.target.value),className:"w-full px-4 py-2 rounded-lg border border-border bg-background focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Company Name"}),s.jsx("input",{type:"text",value:d.company,onChange:j=>y("company",j.target.value),className:"w-full px-4 py-2 rounded-lg border border-border bg-background focus:outline-none focus:ring-2 focus:ring-cyan-500",placeholder:"Your Company Ltd"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Phone Number"}),s.jsx("input",{type:"tel",value:d.phone,onChange:j=>y("phone",j.target.value),className:"w-full px-4 py-2 rounded-lg border border-border bg-background focus:outline-none focus:ring-2 focus:ring-cyan-500",placeholder:"+44 20 1234 5678"})]}),s.jsxs(F,{onClick:p,className:"w-full",children:[s.jsx(Vg,{className:"w-4 h-4 mr-2"}),"Save Changes"]})]})]}),t==="notifications"&&s.jsxs(G,{children:[s.jsxs(re,{children:[s.jsx(oe,{children:"Notification Preferences"}),s.jsx(Fe,{children:"Choose how you want to be notified"})]}),s.jsxs(Q,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Email Notifications"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive compliance alerts via email"})]}),s.jsx("input",{type:"checkbox",checked:d.notifications.email,onChange:j=>b("notifications","email",j.target.checked),className:"w-5 h-5"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"SMS Notifications"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive urgent alerts via SMS"})]}),s.jsx("input",{type:"checkbox",checked:d.notifications.sms,onChange:j=>b("notifications","sms",j.target.checked),className:"w-5 h-5"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Push Notifications"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive browser push notifications"})]}),s.jsx("input",{type:"checkbox",checked:d.notifications.push,onChange:j=>b("notifications","push",j.target.checked),className:"w-5 h-5"})]}),s.jsxs(F,{onClick:p,className:"w-full",children:[s.jsx(Vg,{className:"w-4 h-4 mr-2"}),"Save Preferences"]})]})]}),t==="security"&&s.jsxs(G,{children:[s.jsxs(re,{children:[s.jsx(oe,{children:"Security Settings"}),s.jsx(Fe,{children:"Manage your account security"})]}),s.jsxs(Q,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Two-Factor Authentication"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Add an extra layer of security"})]}),s.jsx("input",{type:"checkbox",checked:d.security.twoFactor,onChange:j=>b("security","twoFactor",j.target.checked),className:"w-5 h-5"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Session Timeout (minutes)"}),s.jsxs("select",{value:d.security.sessionTimeout,onChange:j=>b("security","sessionTimeout",j.target.value),className:"w-full px-4 py-2 rounded-lg border border-border bg-background focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[s.jsx("option",{value:"15",children:"15 minutes"}),s.jsx("option",{value:"30",children:"30 minutes"}),s.jsx("option",{value:"60",children:"1 hour"}),s.jsx("option",{value:"120",children:"2 hours"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Change Password"}),s.jsx(F,{variant:"outline",className:"w-full",children:"Change Password"})]}),s.jsxs(F,{onClick:p,className:"w-full",children:[s.jsx(Vg,{className:"w-4 h-4 mr-2"}),"Save Security Settings"]})]})]}),t==="billing"&&s.jsxs(G,{children:[s.jsxs(re,{children:[s.jsx(oe,{children:"Billing & Subscription"}),s.jsx(Fe,{children:"Manage your subscription and payment methods"})]}),s.jsxs(Q,{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-cyan-50 dark:bg-cyan-900/20 border border-cyan-200 dark:border-cyan-800 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("p",{className:"font-semibold",children:"Current Plan"}),s.jsx(Oe,{className:"bg-cyan-500 text-white",children:(i==null?void 0:i.subscription)||"Free"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:(i==null?void 0:i.subscription)==="free"?"Upgrade to unlock premium features":"Enjoy all premium features"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium mb-2",children:"Payment Method"}),s.jsxs("div",{className:"p-4 border rounded-lg flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ya,{className:"w-5 h-5 text-gray-400"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"•••• •••• •••• 4242"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Expires 12/25"})]})]}),s.jsx(F,{variant:"outline",size:"sm",children:"Update"})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium mb-2",children:"Billing History"}),s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"p-3 border rounded-lg flex items-center justify-between text-sm",children:[s.jsxs("span",{children:["Oct 2025 - ",(i==null?void 0:i.subscription)||"Free"," Plan"]}),s.jsxs("span",{className:"font-medium",children:["£",(i==null?void 0:i.subscription)==="ultimate"?"99.00":(i==null?void 0:i.subscription)==="pro"?"15.00":"0.00"]})]})})]})]})]}),t==="api"&&s.jsxs(G,{children:[s.jsxs(re,{children:[s.jsx(oe,{children:"API Keys"}),s.jsx(Fe,{children:"Manage your API keys for integrations"})]}),s.jsxs(Q,{className:"space-y-4",children:[s.jsx("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:s.jsxs("p",{className:"text-sm",children:[s.jsx("strong",{children:"⚠️ Keep your API keys secure!"})," Never share them publicly or commit them to version control."]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Production API Key"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"password",value:"fg_live_1234567890abcdef",readOnly:!0,className:"flex-1 px-4 py-2 rounded-lg border border-border bg-background"}),s.jsx(F,{variant:"outline",children:"Copy"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Test API Key"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"password",value:"fg_test_abcdef1234567890",readOnly:!0,className:"flex-1 px-4 py-2 rounded-lg border border-border bg-background"}),s.jsx(F,{variant:"outline",children:"Copy"})]})]}),s.jsxs(F,{variant:"outline",className:"w-full",children:[s.jsx(Ph,{className:"w-4 h-4 mr-2"}),"Generate New API Key"]})]})]})]})]})}function LP(){const i={totalCompanies:3,completedThisMonth:12,overdueItems:3,avgComplianceScore:62.7},e=[{month:"Jun",completed:8,overdue:2},{month:"Jul",completed:10,overdue:1},{month:"Aug",completed:12,overdue:3},{month:"Sep",completed:15,overdue:2},{month:"Oct",completed:12,overdue:3}],t=[{name:"Tech Innovations Ltd",score:65,trend:"up",change:"+5%"},{name:"Global Solutions Ltd",score:78,trend:"up",change:"+8%"},{name:"Startup Ventures Ltd",score:45,trend:"down",change:"-12%"}],r=[{task:"VAT Return",company:"Tech Innovations",daysLeft:5,priority:"high"},{task:"Confirmation Statement",company:"Global Solutions",daysLeft:15,priority:"medium"},{task:"Annual Accounts",company:"Startup Ventures",daysLeft:30,priority:"low"}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[s.jsx(Ui,{className:"w-8 h-8 text-cyan-500"}),"Analytics Dashboard"]}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Track your compliance performance and trends"})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[s.jsxs(G,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(oe,{className:"text-sm font-medium",children:"Total Companies"}),s.jsx(vl,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Q,{children:[s.jsx("div",{className:"text-2xl font-bold",children:i.totalCompanies}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Active monitoring"})]})]}),s.jsxs(G,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(oe,{className:"text-sm font-medium",children:"Completed This Month"}),s.jsx(De,{className:"h-4 w-4 text-green-600"})]}),s.jsxs(Q,{children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:i.completedThisMonth}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"+20% from last month"})]})]}),s.jsxs(G,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(oe,{className:"text-sm font-medium",children:"Overdue Items"}),s.jsx(Au,{className:"h-4 w-4 text-red-600"})]}),s.jsxs(Q,{children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:i.overdueItems}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Requires attention"})]})]}),s.jsxs(G,{children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(oe,{className:"text-sm font-medium",children:"Avg Compliance Score"}),s.jsx(Nn,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Q,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[i.avgComplianceScore,"%"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Overall health"})]})]})]}),s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[s.jsxs(G,{children:[s.jsxs(re,{children:[s.jsx(oe,{children:"Monthly Performance"}),s.jsx(Fe,{children:"Completed vs Overdue obligations"})]}),s.jsxs(Q,{children:[s.jsx("div",{className:"space-y-4",children:e.map((o,c)=>s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"font-medium",children:o.month}),s.jsxs("span",{className:"text-muted-foreground",children:[o.completed+o.overdue," total"]})]}),s.jsxs("div",{className:"flex gap-1 h-8",children:[s.jsx("div",{className:"bg-green-500 rounded flex items-center justify-center text-white text-xs font-medium",style:{width:`${o.completed/(o.completed+o.overdue)*100}%`},children:o.completed}),s.jsx("div",{className:"bg-red-500 rounded flex items-center justify-center text-white text-xs font-medium",style:{width:`${o.overdue/(o.completed+o.overdue)*100}%`},children:o.overdue})]})]},c))}),s.jsxs("div",{className:"flex gap-4 mt-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded"}),s.jsx("span",{children:"Completed"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-red-500 rounded"}),s.jsx("span",{children:"Overdue"})]})]})]})]}),s.jsxs(G,{children:[s.jsxs(re,{children:[s.jsx(oe,{children:"Company Performance"}),s.jsx(Fe,{children:"Compliance scores and trends"})]}),s.jsx(Q,{children:s.jsx("div",{className:"space-y-4",children:t.map((o,c)=>s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium text-sm",children:o.name}),s.jsxs("div",{className:"flex items-center gap-2",children:[o.trend==="up"?s.jsx(Ms,{className:"w-4 h-4 text-green-600"}):s.jsx(c1,{className:"w-4 h-4 text-red-600"}),s.jsx("span",{className:`text-sm font-medium ${o.trend==="up"?"text-green-600":"text-red-600"}`,children:o.change})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex-1 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full ${o.score>=70?"bg-green-500":o.score>=50?"bg-yellow-500":"bg-red-500"}`,style:{width:`${o.score}%`}})}),s.jsxs("span",{className:"text-sm font-medium w-12 text-right",children:[o.score,"%"]})]})]},c))})})]})]}),s.jsxs(G,{children:[s.jsxs(re,{children:[s.jsx(oe,{children:"Upcoming Deadlines"}),s.jsx(Fe,{children:"Next 30 days"})]}),s.jsx(Q,{children:s.jsx("div",{className:"space-y-3",children:r.map((o,c)=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-accent transition-colors",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:o.task}),s.jsx("p",{className:"text-sm text-muted-foreground",children:o.company})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-sm font-medium",children:[o.daysLeft," days"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"remaining"})]}),s.jsx(Oe,{className:o.priority==="high"?"bg-red-500":o.priority==="medium"?"bg-yellow-500":"bg-green-500",children:o.priority})]})]},c))})})]})]})}function UP({user:i}){const[e,t]=te.useState("Professional"),[r,o]=te.useState("monthly"),c={plan:"Professional",status:"Active",price:r==="monthly"?99:990,nextBillingDate:"2024-11-16",paymentMethod:"**** **** **** 4242"},d=[{name:"Starter",price:{monthly:29,annual:290},features:["5 Companies","2 Users","10GB Storage","Basic Compliance Tracking","Email Support","Monthly Reports"],color:"blue"},{name:"Professional",price:{monthly:99,annual:990},features:["25 Companies","5 Users","50GB Storage","Advanced Compliance Tracking","AI-Powered Insights","Priority Support","Custom Reports","API Access"],color:"purple",popular:!0},{name:"Enterprise",price:{monthly:299,annual:2990},features:["Unlimited Companies","Unlimited Users","500GB Storage","Full Compliance Suite","AI Automation","Dedicated Support","Custom Integration","SLA Guarantee","White Label Option"],color:"green"}],m=[{id:"INV-2024-001",date:"2024-10-16",amount:99,status:"Paid",description:"Professional Plan - October 2024"},{id:"INV-2024-002",date:"2024-09-16",amount:99,status:"Paid",description:"Professional Plan - September 2024"},{id:"INV-2024-003",date:"2024-08-16",amount:99,status:"Paid",description:"Professional Plan - August 2024"},{id:"INV-2024-004",date:"2024-07-16",amount:99,status:"Paid",description:"Professional Plan - July 2024"}],g=[{label:"Companies",current:18,limit:25,unit:""},{label:"Users",current:3,limit:5,unit:""},{label:"Storage",current:32,limit:50,unit:"GB"},{label:"API Calls",current:8420,limit:1e4,unit:""}],p=A=>{t(A),alert(`Upgrading to ${A} plan...`)},y=A=>{alert(`Downloading invoice ${A}...`)},b=()=>{alert("Opening payment method update form...")},j=()=>{confirm("Are you sure you want to cancel your subscription?")&&alert("Subscription cancellation initiated...")};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 p-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Billing & Subscription"}),s.jsx("p",{className:"text-gray-300",children:"Manage your subscription, invoices, and payment methods"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[s.jsxs(G,{className:"bg-white/10 backdrop-blur-lg border-white/20",children:[s.jsx(re,{children:s.jsxs(oe,{className:"text-white flex items-center gap-2",children:[s.jsx(Ya,{className:"w-5 h-5"}),"Current Plan"]})}),s.jsx(Q,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-3xl font-bold text-white",children:c.plan}),s.jsx(Oe,{className:"mt-2 bg-green-500/20 text-green-300 border-green-500/50",children:c.status})]}),s.jsxs("div",{className:"text-2xl font-bold text-purple-300",children:["£",c.price,s.jsxs("span",{className:"text-sm text-gray-400",children:["/",r==="monthly"?"mo":"yr"]})]}),s.jsxs("div",{className:"text-sm text-gray-300",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(us,{className:"w-4 h-4"}),"Next billing: ",c.nextBillingDate]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ya,{className:"w-4 h-4"}),c.paymentMethod]})]})]})})]}),s.jsxs(G,{className:"bg-white/10 backdrop-blur-lg border-white/20",children:[s.jsx(re,{children:s.jsxs(oe,{className:"text-white flex items-center gap-2",children:[s.jsx(er,{className:"w-5 h-5"}),"Billing Cycle"]})}),s.jsx(Q,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{onClick:()=>o("monthly"),className:`flex-1 ${r==="monthly"?"bg-purple-600 hover:bg-purple-700":"bg-white/10 hover:bg-white/20"}`,children:"Monthly"}),s.jsxs(F,{onClick:()=>o("annual"),className:`flex-1 ${r==="annual"?"bg-purple-600 hover:bg-purple-700":"bg-white/10 hover:bg-white/20"}`,children:["Annual",s.jsx(Oe,{className:"ml-2 bg-green-500 text-white text-xs",children:"Save 17%"})]})]}),s.jsx("div",{className:"text-sm text-gray-300",children:r==="annual"&&s.jsxs("div",{className:"p-3 bg-green-500/10 border border-green-500/30 rounded-lg",children:[s.jsx(De,{className:"w-4 h-4 inline mr-2 text-green-400"}),"Save £198 per year with annual billing"]})})]})})]}),s.jsxs(G,{className:"bg-white/10 backdrop-blur-lg border-white/20",children:[s.jsx(re,{children:s.jsxs(oe,{className:"text-white flex items-center gap-2",children:[s.jsx(ws,{className:"w-5 h-5"}),"Quick Actions"]})}),s.jsx(Q,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(F,{onClick:b,className:"w-full bg-white/10 hover:bg-white/20 text-white",children:"Update Payment Method"}),s.jsxs(F,{onClick:()=>y("latest"),className:"w-full bg-white/10 hover:bg-white/20 text-white",children:[s.jsx($i,{className:"w-4 h-4 mr-2"}),"Download Latest Invoice"]}),s.jsx(F,{onClick:j,className:"w-full bg-red-500/20 hover:bg-red-500/30 text-red-300 border border-red-500/50",children:"Cancel Subscription"})]})})]})]}),s.jsxs(G,{className:"bg-white/10 backdrop-blur-lg border-white/20 mb-8",children:[s.jsxs(re,{children:[s.jsx(oe,{className:"text-white",children:"Usage Statistics"}),s.jsx(Fe,{className:"text-gray-300",children:"Current usage vs plan limits"})]}),s.jsx(Q,{children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:g.map((A,T)=>{const R=A.current/A.limit*100,S=R>80;return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-white font-medium",children:A.label}),S&&s.jsx(zi,{className:"w-4 h-4 text-yellow-400"})]}),s.jsxs("div",{className:"text-2xl font-bold text-purple-300",children:[A.current.toLocaleString(),A.unit,s.jsxs("span",{className:"text-sm text-gray-400",children:[" / ",A.limit.toLocaleString(),A.unit]})]}),s.jsx("div",{className:"w-full bg-white/10 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full ${S?"bg-yellow-500":"bg-purple-500"}`,style:{width:`${Math.min(R,100)}%`}})}),s.jsxs("div",{className:"text-xs text-gray-400",children:[R.toFixed(0),"% used"]})]},T)})})})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Available Plans"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:d.map((A,T)=>s.jsxs(G,{className:`bg-white/10 backdrop-blur-lg border-white/20 ${A.popular?"ring-2 ring-purple-500":""} relative`,children:[A.popular&&s.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:s.jsx(Oe,{className:"bg-purple-600 text-white",children:"Most Popular"})}),s.jsxs(re,{children:[s.jsx(oe,{className:"text-white text-2xl",children:A.name}),s.jsxs("div",{className:"text-3xl font-bold text-purple-300",children:["£",A.price[r],s.jsxs("span",{className:"text-sm text-gray-400",children:["/",r==="monthly"?"mo":"yr"]})]})]}),s.jsxs(Q,{children:[s.jsx("ul",{className:"space-y-3 mb-6",children:A.features.map((R,S)=>s.jsxs("li",{className:"flex items-start gap-2 text-gray-300",children:[s.jsx(De,{className:"w-5 h-5 text-green-400 flex-shrink-0 mt-0.5"}),s.jsx("span",{children:R})]},S))}),s.jsx(F,{onClick:()=>p(A.name),className:`w-full ${e===A.name?"bg-gray-600 cursor-not-allowed":A.popular?"bg-purple-600 hover:bg-purple-700":"bg-white/10 hover:bg-white/20"} text-white`,disabled:e===A.name,children:e===A.name?"Current Plan":"Upgrade to "+A.name})]})]},T))})]}),s.jsxs(G,{className:"bg-white/10 backdrop-blur-lg border-white/20",children:[s.jsxs(re,{children:[s.jsx(oe,{className:"text-white",children:"Invoice History"}),s.jsx(Fe,{className:"text-gray-300",children:"View and download past invoices"})]}),s.jsx(Q,{children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-white/10",children:[s.jsx("th",{className:"text-left py-3 px-4 text-gray-300 font-medium",children:"Invoice ID"}),s.jsx("th",{className:"text-left py-3 px-4 text-gray-300 font-medium",children:"Date"}),s.jsx("th",{className:"text-left py-3 px-4 text-gray-300 font-medium",children:"Description"}),s.jsx("th",{className:"text-right py-3 px-4 text-gray-300 font-medium",children:"Amount"}),s.jsx("th",{className:"text-center py-3 px-4 text-gray-300 font-medium",children:"Status"}),s.jsx("th",{className:"text-center py-3 px-4 text-gray-300 font-medium",children:"Actions"})]})}),s.jsx("tbody",{children:m.map((A,T)=>s.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/5",children:[s.jsx("td",{className:"py-3 px-4 text-white font-mono",children:A.id}),s.jsx("td",{className:"py-3 px-4 text-gray-300",children:A.date}),s.jsx("td",{className:"py-3 px-4 text-gray-300",children:A.description}),s.jsxs("td",{className:"py-3 px-4 text-right text-white font-semibold",children:["£",A.amount]}),s.jsx("td",{className:"py-3 px-4 text-center",children:s.jsxs(Oe,{className:"bg-green-500/20 text-green-300 border-green-500/50",children:[s.jsx(De,{className:"w-3 h-3 mr-1"}),A.status]})}),s.jsx("td",{className:"py-3 px-4 text-center",children:s.jsxs(F,{onClick:()=>y(A.id),className:"bg-white/10 hover:bg-white/20 text-white text-sm",size:"sm",children:[s.jsx($i,{className:"w-4 h-4 mr-1"}),"Download"]})})]},T))})]})})})]})]})})}function zP(){const[i,e]=te.useState("all"),[t,r]=te.useState(""),o=[{id:1,type:"alert",title:"Compliance Deadline Approaching",message:"Annual Accounts Filing for Tech Innovations Ltd is due in 3 days",timestamp:"2024-10-16T10:30:00",read:!1,priority:"high",category:"compliance"},{id:2,type:"success",title:"Payment Received",message:"Subscription payment of £99 processed successfully",timestamp:"2024-10-16T09:15:00",read:!1,priority:"normal",category:"billing"},{id:3,type:"info",title:"New Company Added",message:"Enterprise Corp has been added to your portfolio",timestamp:"2024-10-16T08:45:00",read:!0,priority:"normal",category:"system"},{id:4,type:"alert",title:"High Churn Risk Detected",message:"AI Agent detected high churn risk for Startup Ventures Ltd",timestamp:"2024-10-15T16:20:00",read:!0,priority:"high",category:"ai"},{id:5,type:"success",title:"Obligation Completed",message:"VAT Return for Global Solutions Ltd has been filed",timestamp:"2024-10-15T14:10:00",read:!0,priority:"normal",category:"compliance"},{id:6,type:"info",title:"Data Enrichment Complete",message:"Companies House data updated for 5 companies",timestamp:"2024-10-15T12:00:00",read:!0,priority:"low",category:"data"},{id:7,type:"alert",title:"Storage Limit Warning",message:"You have used 80% of your storage allocation (40GB / 50GB)",timestamp:"2024-10-15T10:30:00",read:!0,priority:"medium",category:"system"},{id:8,type:"success",title:"Email Campaign Sent",message:"Monthly newsletter sent to 150 contacts with 42% open rate",timestamp:"2024-10-15T09:00:00",read:!0,priority:"normal",category:"marketing"}],[c,d]=te.useState(o),m={email:{compliance_alerts:!0,payment_updates:!0,system_updates:!1,marketing:!0,ai_insights:!0},push:{compliance_alerts:!0,payment_updates:!0,system_updates:!0,marketing:!1,ai_insights:!0},sms:{compliance_alerts:!0,payment_updates:!1,system_updates:!1,marketing:!1,ai_insights:!1}},g=q=>{switch(q){case"alert":return s.jsx(Au,{className:"w-5 h-5 text-yellow-400"});case"success":return s.jsx(De,{className:"w-5 h-5 text-green-400"});case"info":return s.jsx(cp,{className:"w-5 h-5 text-blue-400"});default:return s.jsx(Ks,{className:"w-5 h-5 text-gray-400"})}},p=q=>{switch(q){case"high":return"bg-red-500/20 text-red-300 border-red-500/50";case"medium":return"bg-yellow-500/20 text-yellow-300 border-yellow-500/50";case"low":return"bg-blue-500/20 text-blue-300 border-blue-500/50";default:return"bg-gray-500/20 text-gray-300 border-gray-500/50"}},y=q=>{d(c.map(D=>D.id===q?{...D,read:!0}:D))},b=()=>{d(c.map(q=>({...q,read:!0})))},j=q=>{d(c.filter(D=>D.id!==q))},A=q=>{alert(`Archiving notification ${q}...`)},T=c.filter(q=>!(i==="unread"&&q.read||i==="read"&&!q.read||t&&!q.title.toLowerCase().includes(t.toLowerCase())&&!q.message.toLowerCase().includes(t.toLowerCase()))),R=c.filter(q=>!q.read).length,S=q=>{const D=new Date(q),de=new Date-D,pe=Math.floor(de/6e4),he=Math.floor(de/36e5),I=Math.floor(de/864e5);return pe<60?`${pe} minutes ago`:he<24?`${he} hours ago`:I<7?`${I} days ago`:D.toLocaleDateString()};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 p-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-8 flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-4xl font-bold text-white mb-2 flex items-center gap-3",children:[s.jsx(Ks,{className:"w-10 h-10"}),"Notifications",R>0&&s.jsxs(Oe,{className:"bg-red-500 text-white",children:[R," New"]})]}),s.jsx("p",{className:"text-gray-300",children:"Stay updated with important alerts and updates"})]}),s.jsxs(F,{onClick:b,className:"bg-purple-600 hover:bg-purple-700 text-white",children:[s.jsx(De,{className:"w-4 h-4 mr-2"}),"Mark All as Read"]})]}),s.jsx(G,{className:"bg-white/10 backdrop-blur-lg border-white/20 mb-6",children:s.jsx(Q,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(im,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search notifications...",value:t,onChange:q=>r(q.target.value),className:"w-full pl-10 pr-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500"})]})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{onClick:()=>e("all"),className:`${i==="all"?"bg-purple-600":"bg-white/10"} hover:bg-purple-700 text-white`,children:"All"}),s.jsxs(F,{onClick:()=>e("unread"),className:`${i==="unread"?"bg-purple-600":"bg-white/10"} hover:bg-purple-700 text-white`,children:["Unread (",R,")"]}),s.jsx(F,{onClick:()=>e("read"),className:`${i==="read"?"bg-purple-600":"bg-white/10"} hover:bg-purple-700 text-white`,children:"Read"})]})]})})}),s.jsxs("div",{className:"space-y-4 mb-8",children:[T.map(q=>s.jsx(G,{className:`bg-white/10 backdrop-blur-lg border-white/20 ${q.read?"":"ring-2 ring-purple-500/50"}`,children:s.jsx(Q,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"flex-shrink-0 mt-1",children:g(q.type)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4 mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("h3",{className:"text-lg font-semibold text-white mb-1",children:[q.title,!q.read&&s.jsx(Oe,{className:"ml-2 bg-purple-500 text-white text-xs",children:"New"})]}),s.jsx("p",{className:"text-gray-300",children:q.message})]}),s.jsx(Oe,{className:p(q.priority),children:q.priority})]}),s.jsxs("div",{className:"flex items-center justify-between mt-4",children:[s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400",children:[s.jsx("span",{children:S(q.timestamp)}),s.jsx(Oe,{className:"bg-white/10 text-gray-300 border-white/20",children:q.category})]}),s.jsxs("div",{className:"flex gap-2",children:[!q.read&&s.jsxs(F,{onClick:()=>y(q.id),className:"bg-white/10 hover:bg-white/20 text-white text-sm",size:"sm",children:[s.jsx(Eu,{className:"w-4 h-4 mr-1"}),"Mark Read"]}),s.jsx(F,{onClick:()=>A(q.id),className:"bg-white/10 hover:bg-white/20 text-white text-sm",size:"sm",children:s.jsx(DT,{className:"w-4 h-4"})}),s.jsx(F,{onClick:()=>j(q.id),className:"bg-red-500/20 hover:bg-red-500/30 text-red-300 text-sm",size:"sm",children:s.jsx(kr,{className:"w-4 h-4"})})]})]})]})]})})},q.id)),T.length===0&&s.jsx(G,{className:"bg-white/10 backdrop-blur-lg border-white/20",children:s.jsxs(Q,{className:"p-12 text-center",children:[s.jsx(Ks,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No notifications found"}),s.jsx("p",{className:"text-gray-300",children:"You're all caught up!"})]})})]}),s.jsxs(G,{className:"bg-white/10 backdrop-blur-lg border-white/20",children:[s.jsxs(re,{children:[s.jsxs(oe,{className:"text-white flex items-center gap-2",children:[s.jsx(qi,{className:"w-5 h-5"}),"Notification Preferences"]}),s.jsx(Fe,{className:"text-gray-300",children:"Configure how you receive notifications"})]}),s.jsxs(Q,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-white/10",children:[s.jsx("th",{className:"text-left py-3 px-4 text-gray-300 font-medium",children:"Category"}),s.jsxs("th",{className:"text-center py-3 px-4 text-gray-300 font-medium",children:[s.jsx(Ws,{className:"w-5 h-5 inline mr-1"}),"Email"]}),s.jsxs("th",{className:"text-center py-3 px-4 text-gray-300 font-medium",children:[s.jsx(Ks,{className:"w-5 h-5 inline mr-1"}),"Push"]}),s.jsxs("th",{className:"text-center py-3 px-4 text-gray-300 font-medium",children:[s.jsx(ki,{className:"w-5 h-5 inline mr-1"}),"SMS"]})]})}),s.jsx("tbody",{children:Object.keys(m.email).map(q=>s.jsxs("tr",{className:"border-b border-white/5",children:[s.jsx("td",{className:"py-3 px-4 text-white capitalize",children:q.replace("_"," ")}),s.jsx("td",{className:"py-3 px-4 text-center",children:s.jsx("input",{type:"checkbox",checked:m.email[q],className:"w-5 h-5 rounded border-white/20 bg-white/10 text-purple-600 focus:ring-purple-500",readOnly:!0})}),s.jsx("td",{className:"py-3 px-4 text-center",children:s.jsx("input",{type:"checkbox",checked:m.push[q],className:"w-5 h-5 rounded border-white/20 bg-white/10 text-purple-600 focus:ring-purple-500",readOnly:!0})}),s.jsx("td",{className:"py-3 px-4 text-center",children:s.jsx("input",{type:"checkbox",checked:m.sms[q],className:"w-5 h-5 rounded border-white/20 bg-white/10 text-purple-600 focus:ring-purple-500",readOnly:!0})})]},q))})]})}),s.jsx("div",{className:"mt-6 flex justify-end",children:s.jsx(F,{className:"bg-purple-600 hover:bg-purple-700 text-white",children:"Save Preferences"})})]})]})]})})}function BP(){const[i,e]=te.useState(!1),[t,r]=te.useState(null),o=[{id:1,name:"Production API Key",key:"fg_prod_k3j4h5g6f7d8s9a0",created:"2024-01-15",lastUsed:"2024-10-16",requests:45230,status:"active",permissions:["read","write","delete"]},{id:2,name:"Development API Key",key:"fg_dev_a1b2c3d4e5f6g7h8",created:"2024-03-20",lastUsed:"2024-10-15",requests:12450,status:"active",permissions:["read","write"]},{id:3,name:"Testing API Key",key:"fg_test_x9y8z7w6v5u4t3s2",created:"2024-06-10",lastUsed:"2024-09-30",requests:3200,status:"inactive",permissions:["read"]}],c=[{method:"GET",path:"/api/v1/companies",description:"List all companies",requests:15420,avgResponseTime:45,successRate:99.8,rateLimit:"100/min"},{method:"POST",path:"/api/v1/companies",description:"Create new company",requests:892,avgResponseTime:120,successRate:98.5,rateLimit:"50/min"},{method:"GET",path:"/api/v1/companies/{id}",description:"Get company details",requests:23150,avgResponseTime:38,successRate:99.9,rateLimit:"100/min"},{method:"PUT",path:"/api/v1/companies/{id}",description:"Update company",requests:3420,avgResponseTime:95,successRate:99.2,rateLimit:"50/min"},{method:"DELETE",path:"/api/v1/companies/{id}",description:"Delete company",requests:234,avgResponseTime:52,successRate:100,rateLimit:"20/min"},{method:"GET",path:"/api/v1/obligations",description:"List obligations",requests:18920,avgResponseTime:62,successRate:99.5,rateLimit:"100/min"},{method:"POST",path:"/api/v1/obligations",description:"Create obligation",requests:1560,avgResponseTime:110,successRate:98.9,rateLimit:"50/min"},{method:"GET",path:"/api/v1/analytics",description:"Get analytics data",requests:5670,avgResponseTime:180,successRate:99.1,rateLimit:"30/min"}],d=[{id:1,name:"Slack Notifications",url:"https://hooks.slack.com/services/...",events:["obligation.overdue","payment.received"],status:"active",lastTriggered:"2024-10-16T10:30:00",successRate:99.5},{id:2,name:"CRM Integration",url:"https://api.crm.example.com/webhook",events:["company.created","company.updated"],status:"active",lastTriggered:"2024-10-16T09:15:00",successRate:98.2},{id:3,name:"Analytics Pipeline",url:"https://analytics.example.com/ingest",events:["*"],status:"inactive",lastTriggered:"2024-10-10T14:20:00",successRate:95.8}],m={totalRequests:71446,requestsToday:2340,avgResponseTime:78,successRate:99.3},g=T=>{switch(T){case"GET":return"bg-blue-500/20 text-blue-300 border-blue-500/50";case"POST":return"bg-green-500/20 text-green-300 border-green-500/50";case"PUT":return"bg-yellow-500/20 text-yellow-300 border-yellow-500/50";case"DELETE":return"bg-red-500/20 text-red-300 border-red-500/50";default:return"bg-gray-500/20 text-gray-300 border-gray-500/50"}},p=T=>{navigator.clipboard.writeText(T),alert("API key copied to clipboard!")},y=T=>{confirm("Are you sure you want to regenerate this API key? The old key will stop working immediately.")&&alert(`Regenerating API key ${T}...`)},b=T=>{confirm("Are you sure you want to revoke this API key?")&&alert(`Revoking API key ${T}...`)},j=()=>{alert("Creating new API key...")},A=T=>{r(T),alert(`Testing endpoint: ${T.method} ${T.path}`)};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 p-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("h1",{className:"text-4xl font-bold text-white mb-2 flex items-center gap-3",children:[s.jsx(Tl,{className:"w-10 h-10"}),"API Integration Manager"]}),s.jsx("p",{className:"text-gray-300",children:"Manage API keys, endpoints, and integrations"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx(G,{className:"bg-white/10 backdrop-blur-lg border-white/20",children:s.jsxs(Q,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(Nn,{className:"w-8 h-8 text-purple-400"}),s.jsx(Oe,{className:"bg-green-500/20 text-green-300 border-green-500/50",children:"Active"})]}),s.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:m.totalRequests.toLocaleString()}),s.jsx("div",{className:"text-sm text-gray-300",children:"Total Requests"})]})}),s.jsx(G,{className:"bg-white/10 backdrop-blur-lg border-white/20",children:s.jsxs(Q,{className:"p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx(Ui,{className:"w-8 h-8 text-blue-400"})}),s.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:m.requestsToday.toLocaleString()}),s.jsx("div",{className:"text-sm text-gray-300",children:"Requests Today"})]})}),s.jsx(G,{className:"bg-white/10 backdrop-blur-lg border-white/20",children:s.jsxs(Q,{className:"p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx(Nn,{className:"w-8 h-8 text-green-400"})}),s.jsxs("div",{className:"text-3xl font-bold text-white mb-1",children:[m.avgResponseTime,"ms"]}),s.jsx("div",{className:"text-sm text-gray-300",children:"Avg Response Time"})]})}),s.jsx(G,{className:"bg-white/10 backdrop-blur-lg border-white/20",children:s.jsxs(Q,{className:"p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx(De,{className:"w-8 h-8 text-green-400"})}),s.jsxs("div",{className:"text-3xl font-bold text-white mb-1",children:[m.successRate,"%"]}),s.jsx("div",{className:"text-sm text-gray-300",children:"Success Rate"})]})})]}),s.jsxs(G,{className:"bg-white/10 backdrop-blur-lg border-white/20 mb-8",children:[s.jsx(re,{children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs(oe,{className:"text-white flex items-center gap-2",children:[s.jsx(Ph,{className:"w-5 h-5"}),"API Keys"]}),s.jsx(Fe,{className:"text-gray-300",children:"Manage your API authentication keys"})]}),s.jsxs(F,{onClick:j,className:"bg-purple-600 hover:bg-purple-700 text-white",children:[s.jsx(ze,{className:"w-4 h-4 mr-2"}),"Create New Key"]})]})}),s.jsx(Q,{children:s.jsx("div",{className:"space-y-4",children:o.map(T=>s.jsx("div",{className:"p-4 bg-white/5 rounded-lg border border-white/10",children:s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:T.name}),s.jsx(Oe,{className:T.status==="active"?"bg-green-500/20 text-green-300 border-green-500/50":"bg-gray-500/20 text-gray-300 border-gray-500/50",children:T.status})]}),s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("code",{className:"px-3 py-1 bg-black/30 rounded text-purple-300 font-mono text-sm",children:i?T.key:"••••••••••••••••••••"}),s.jsx(F,{onClick:()=>e(!i),className:"bg-white/10 hover:bg-white/20 text-white",size:"sm",children:i?s.jsx(t1,{className:"w-4 h-4"}):s.jsx(Eu,{className:"w-4 h-4"})}),s.jsx(F,{onClick:()=>p(T.key),className:"bg-white/10 hover:bg-white/20 text-white",size:"sm",children:s.jsx(e0,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"flex gap-4 text-sm text-gray-300",children:[s.jsxs("span",{children:["Created: ",T.created]}),s.jsxs("span",{children:["Last used: ",T.lastUsed]}),s.jsxs("span",{children:["Requests: ",T.requests.toLocaleString()]})]}),s.jsx("div",{className:"flex gap-2 mt-2",children:T.permissions.map((R,S)=>s.jsx(Oe,{className:"bg-purple-500/20 text-purple-300 border-purple-500/50 text-xs",children:R},S))})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{onClick:()=>y(T.id),className:"bg-white/10 hover:bg-white/20 text-white",size:"sm",children:s.jsx(gu,{className:"w-4 h-4"})}),s.jsx(F,{onClick:()=>b(T.id),className:"bg-red-500/20 hover:bg-red-500/30 text-red-300",size:"sm",children:s.jsx(kr,{className:"w-4 h-4"})})]})]})},T.id))})})]}),s.jsxs(G,{className:"bg-white/10 backdrop-blur-lg border-white/20 mb-8",children:[s.jsxs(re,{children:[s.jsx(oe,{className:"text-white",children:"API Endpoints"}),s.jsx(Fe,{className:"text-gray-300",children:"Available API endpoints and their performance metrics"})]}),s.jsx(Q,{children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-white/10",children:[s.jsx("th",{className:"text-left py-3 px-4 text-gray-300 font-medium",children:"Method"}),s.jsx("th",{className:"text-left py-3 px-4 text-gray-300 font-medium",children:"Endpoint"}),s.jsx("th",{className:"text-left py-3 px-4 text-gray-300 font-medium",children:"Description"}),s.jsx("th",{className:"text-right py-3 px-4 text-gray-300 font-medium",children:"Requests"}),s.jsx("th",{className:"text-right py-3 px-4 text-gray-300 font-medium",children:"Avg Time"}),s.jsx("th",{className:"text-right py-3 px-4 text-gray-300 font-medium",children:"Success"}),s.jsx("th",{className:"text-center py-3 px-4 text-gray-300 font-medium",children:"Rate Limit"}),s.jsx("th",{className:"text-center py-3 px-4 text-gray-300 font-medium",children:"Actions"})]})}),s.jsx("tbody",{children:c.map((T,R)=>s.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/5",children:[s.jsx("td",{className:"py-3 px-4",children:s.jsx(Oe,{className:g(T.method),children:T.method})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("code",{className:"text-purple-300 font-mono text-sm",children:T.path})}),s.jsx("td",{className:"py-3 px-4 text-gray-300",children:T.description}),s.jsx("td",{className:"py-3 px-4 text-right text-white",children:T.requests.toLocaleString()}),s.jsxs("td",{className:"py-3 px-4 text-right text-white",children:[T.avgResponseTime,"ms"]}),s.jsxs("td",{className:"py-3 px-4 text-right text-white",children:[T.successRate,"%"]}),s.jsx("td",{className:"py-3 px-4 text-center",children:s.jsx(Oe,{className:"bg-blue-500/20 text-blue-300 border-blue-500/50",children:T.rateLimit})}),s.jsx("td",{className:"py-3 px-4 text-center",children:s.jsx(F,{onClick:()=>A(T),className:"bg-white/10 hover:bg-white/20 text-white text-sm",size:"sm",children:"Test"})})]},R))})]})})})]}),s.jsxs(G,{className:"bg-white/10 backdrop-blur-lg border-white/20",children:[s.jsx(re,{children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx(oe,{className:"text-white",children:"Webhooks"}),s.jsx(Fe,{className:"text-gray-300",children:"Configure webhook endpoints for event notifications"})]}),s.jsxs(F,{className:"bg-purple-600 hover:bg-purple-700 text-white",children:[s.jsx(ze,{className:"w-4 h-4 mr-2"}),"Add Webhook"]})]})}),s.jsx(Q,{children:s.jsx("div",{className:"space-y-4",children:d.map(T=>s.jsx("div",{className:"p-4 bg-white/5 rounded-lg border border-white/10",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:T.name}),s.jsx(Oe,{className:T.status==="active"?"bg-green-500/20 text-green-300 border-green-500/50":"bg-gray-500/20 text-gray-300 border-gray-500/50",children:T.status})]}),s.jsx("code",{className:"text-sm text-purple-300 font-mono",children:T.url}),s.jsx("div",{className:"flex gap-2 mt-3",children:T.events.map((R,S)=>s.jsx(Oe,{className:"bg-blue-500/20 text-blue-300 border-blue-500/50 text-xs",children:R},S))}),s.jsxs("div",{className:"flex gap-4 text-sm text-gray-300 mt-2",children:[s.jsxs("span",{children:["Last triggered: ",new Date(T.lastTriggered).toLocaleString()]}),s.jsxs("span",{children:["Success rate: ",T.successRate,"%"]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{className:"bg-white/10 hover:bg-white/20 text-white",size:"sm",children:"Edit"}),s.jsx(F,{className:"bg-red-500/20 hover:bg-red-500/30 text-red-300",size:"sm",children:s.jsx(kr,{className:"w-4 h-4"})})]})]})},T.id))})})]})]})})}function $P(){const[i,e]=te.useState(null),t=[{id:1,name:"Overdue Obligation Alert",description:"Automatically send alerts when obligations become overdue",status:"active",trigger:"obligation.overdue",actions:[{type:"email",target:"Company Contact",template:"Overdue Alert"},{type:"sms",target:"Account Manager",message:"Urgent: Overdue obligation"},{type:"slack",channel:"#compliance",message:"New overdue obligation"}],executions:342,successRate:98.5,lastRun:"2024-10-16T10:30:00",created:"2024-01-15"},{id:2,name:"New Company Onboarding",description:"Automated workflow for new company registration",status:"active",trigger:"company.created",actions:[{type:"database",action:"Enrich company data from Companies House"},{type:"email",target:"Welcome Email",template:"Welcome Template"},{type:"crm",action:"Create CRM record"},{type:"task",action:"Assign to account manager"}],executions:128,successRate:99.2,lastRun:"2024-10-16T09:15:00",created:"2024-02-20"},{id:3,name:"Weekly Compliance Report",description:"Generate and send weekly compliance summary",status:"active",trigger:"schedule.weekly",actions:[{type:"report",action:"Generate compliance report"},{type:"email",target:"All Managers",template:"Weekly Report"},{type:"database",action:"Archive report"}],executions:52,successRate:100,lastRun:"2024-10-14T09:00:00",created:"2024-03-10"},{id:4,name:"High Risk Company Alert",description:"Alert when AI detects high-risk company",status:"active",trigger:"ai.high_risk_detected",actions:[{type:"email",target:"Compliance Team",template:"Risk Alert"},{type:"slack",channel:"#risk-management",message:"High risk detected"},{type:"task",action:"Create review task"}],executions:45,successRate:97.8,lastRun:"2024-10-15T16:20:00",created:"2024-04-05"},{id:5,name:"Payment Received Workflow",description:"Process payment and update records",status:"active",trigger:"payment.received",actions:[{type:"database",action:"Update payment status"},{type:"email",target:"Customer",template:"Payment Confirmation"},{type:"invoice",action:"Generate receipt"}],executions:892,successRate:99.9,lastRun:"2024-10-16T11:45:00",created:"2024-01-20"},{id:6,name:"Churn Risk Mitigation",description:"Engage at-risk customers automatically",status:"paused",trigger:"ai.churn_risk_high",actions:[{type:"email",target:"Customer Success",template:"Churn Alert"},{type:"task",action:"Schedule check-in call"},{type:"crm",action:"Update customer status"}],executions:23,successRate:95.7,lastRun:"2024-10-10T14:30:00",created:"2024-05-15"}],r=[{id:"obligation.overdue",name:"Obligation Overdue",icon:zi,color:"red"},{id:"company.created",name:"Company Created",icon:ze,color:"green"},{id:"payment.received",name:"Payment Received",icon:De,color:"green"},{id:"ai.high_risk_detected",name:"AI Risk Detection",icon:zi,color:"yellow"},{id:"schedule.daily",name:"Daily Schedule",icon:An,color:"blue"},{id:"schedule.weekly",name:"Weekly Schedule",icon:An,color:"blue"}],o=[{id:"email",name:"Send Email",icon:Ws,color:"blue"},{id:"sms",name:"Send SMS",icon:ki,color:"green"},{id:"slack",name:"Slack Notification",icon:Ks,color:"purple"},{id:"database",name:"Database Action",icon:Ar,color:"yellow"},{id:"webhook",name:"Webhook",icon:Tl,color:"orange"}],c=b=>{switch(b){case"email":return s.jsx(Ws,{className:"w-4 h-4"});case"sms":return s.jsx(ki,{className:"w-4 h-4"});case"slack":return s.jsx(Ks,{className:"w-4 h-4"});case"database":return s.jsx(Ar,{className:"w-4 h-4"});case"webhook":return s.jsx(Tl,{className:"w-4 h-4"});default:return s.jsx(De,{className:"w-4 h-4"})}},d=b=>{alert(`Toggling workflow ${b}...`)},m=b=>{e(t.find(j=>j.id===b)),alert(`Editing workflow ${b}...`)},g=b=>{confirm("Are you sure you want to delete this workflow?")&&alert(`Deleting workflow ${b}...`)},p=b=>{alert(`Duplicating workflow ${b}...`)},y=()=>{alert("Opening workflow builder...")};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 p-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-8 flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-4xl font-bold text-white mb-2 flex items-center gap-3",children:[s.jsx(hp,{className:"w-10 h-10"}),"Workflow Automation"]}),s.jsx("p",{className:"text-gray-300",children:"Create and manage automated workflows for your compliance processes"})]}),s.jsxs(F,{onClick:y,className:"bg-purple-600 hover:bg-purple-700 text-white",children:[s.jsx(ze,{className:"w-4 h-4 mr-2"}),"Create Workflow"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsx(G,{className:"bg-white/10 backdrop-blur-lg border-white/20",children:s.jsxs(Q,{className:"p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx(hp,{className:"w-8 h-8 text-purple-400"})}),s.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:t.length}),s.jsx("div",{className:"text-sm text-gray-300",children:"Total Workflows"})]})}),s.jsx(G,{className:"bg-white/10 backdrop-blur-lg border-white/20",children:s.jsxs(Q,{className:"p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx(iu,{className:"w-8 h-8 text-green-400"})}),s.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:t.filter(b=>b.status==="active").length}),s.jsx("div",{className:"text-sm text-gray-300",children:"Active Workflows"})]})}),s.jsx(G,{className:"bg-white/10 backdrop-blur-lg border-white/20",children:s.jsxs(Q,{className:"p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx(De,{className:"w-8 h-8 text-blue-400"})}),s.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:t.reduce((b,j)=>b+j.executions,0).toLocaleString()}),s.jsx("div",{className:"text-sm text-gray-300",children:"Total Executions"})]})}),s.jsx(G,{className:"bg-white/10 backdrop-blur-lg border-white/20",children:s.jsxs(Q,{className:"p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx(De,{className:"w-8 h-8 text-green-400"})}),s.jsxs("div",{className:"text-3xl font-bold text-white mb-1",children:[(t.reduce((b,j)=>b+j.successRate,0)/t.length).toFixed(1),"%"]}),s.jsx("div",{className:"text-sm text-gray-300",children:"Avg Success Rate"})]})})]}),s.jsx("div",{className:"space-y-4 mb-8",children:t.map(b=>s.jsx(G,{className:"bg-white/10 backdrop-blur-lg border-white/20",children:s.jsx(Q,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h3",{className:"text-xl font-semibold text-white",children:b.name}),s.jsxs(Oe,{className:b.status==="active"?"bg-green-500/20 text-green-300 border-green-500/50":"bg-gray-500/20 text-gray-300 border-gray-500/50",children:[b.status==="active"?s.jsx(iu,{className:"w-3 h-3 mr-1"}):s.jsx(bl,{className:"w-3 h-3 mr-1"}),b.status]})]}),s.jsx("p",{className:"text-gray-300 mb-3",children:b.description}),s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Trigger:"}),s.jsx(Oe,{className:"bg-blue-500/20 text-blue-300 border-blue-500/50",children:b.trigger})]}),s.jsxs("div",{className:"mb-3",children:[s.jsxs("div",{className:"text-sm text-gray-400 mb-2",children:["Actions (",b.actions.length,"):"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:b.actions.map((j,A)=>s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-white/5 rounded-lg border border-white/10",children:[c(j.type),s.jsx("span",{className:"text-sm text-gray-300",children:j.target||j.action||j.message})]},A))})]}),s.jsxs("div",{className:"flex gap-6 text-sm text-gray-300",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Executions:"})," ",b.executions]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Success Rate:"})," ",b.successRate,"%"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Last Run:"})," ",new Date(b.lastRun).toLocaleString()]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Created:"})," ",b.created]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{onClick:()=>d(b.id),className:`${b.status==="active"?"bg-yellow-500/20 hover:bg-yellow-500/30 text-yellow-300":"bg-green-500/20 hover:bg-green-500/30 text-green-300"}`,size:"sm",children:b.status==="active"?s.jsx(bl,{className:"w-4 h-4"}):s.jsx(iu,{className:"w-4 h-4"})}),s.jsx(F,{onClick:()=>m(b.id),className:"bg-white/10 hover:bg-white/20 text-white",size:"sm",children:s.jsx(ks,{className:"w-4 h-4"})}),s.jsx(F,{onClick:()=>p(b.id),className:"bg-white/10 hover:bg-white/20 text-white",size:"sm",children:s.jsx(e0,{className:"w-4 h-4"})}),s.jsx(F,{onClick:()=>g(b.id),className:"bg-red-500/20 hover:bg-red-500/30 text-red-300",size:"sm",children:s.jsx(kr,{className:"w-4 h-4"})})]})]})})},b.id))}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(G,{className:"bg-white/10 backdrop-blur-lg border-white/20",children:[s.jsxs(re,{children:[s.jsx(oe,{className:"text-white",children:"Available Triggers"}),s.jsx(Fe,{className:"text-gray-300",children:"Events that can start a workflow"})]}),s.jsx(Q,{children:s.jsx("div",{className:"space-y-2",children:r.map(b=>{const j=b.icon;return s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/5 rounded-lg border border-white/10",children:[s.jsx(j,{className:`w-5 h-5 text-${b.color}-400`}),s.jsxs("div",{children:[s.jsx("div",{className:"text-white font-medium",children:b.name}),s.jsx("code",{className:"text-xs text-gray-400",children:b.id})]})]},b.id)})})})]}),s.jsxs(G,{className:"bg-white/10 backdrop-blur-lg border-white/20",children:[s.jsxs(re,{children:[s.jsx(oe,{className:"text-white",children:"Available Actions"}),s.jsx(Fe,{className:"text-gray-300",children:"Actions that can be performed in workflows"})]}),s.jsx(Q,{children:s.jsx("div",{className:"space-y-2",children:o.map(b=>{const j=b.icon;return s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white/5 rounded-lg border border-white/10",children:[s.jsx(j,{className:`w-5 h-5 text-${b.color}-400`}),s.jsxs("div",{children:[s.jsx("div",{className:"text-white font-medium",children:b.name}),s.jsx("code",{className:"text-xs text-gray-400",children:b.id})]})]},b.id)})})})]})]})]})})}function qP(){const[i,e]=te.useState(null),t=[{id:1,name:"Sarah Johnson",email:"sarah.johnson@fineguard.com",role:"Admin",department:"Compliance",status:"active",avatar:"SJ",joinedDate:"2024-01-15",lastActive:"2024-10-16T11:45:00",permissions:["read","write","delete","admin"],companiesAssigned:15,tasksCompleted:234},{id:2,name:"Michael Chen",email:"michael.chen@fineguard.com",role:"Manager",department:"Operations",status:"active",avatar:"MC",joinedDate:"2024-02-20",lastActive:"2024-10-16T10:30:00",permissions:["read","write","delete"],companiesAssigned:12,tasksCompleted:189},{id:3,name:"Emily Rodriguez",email:"emily.rodriguez@fineguard.com",role:"Analyst",department:"Compliance",status:"active",avatar:"ER",joinedDate:"2024-03-10",lastActive:"2024-10-16T09:15:00",permissions:["read","write"],companiesAssigned:8,tasksCompleted:156},{id:4,name:"David Thompson",email:"david.thompson@fineguard.com",role:"Analyst",department:"Risk Management",status:"active",avatar:"DT",joinedDate:"2024-04-05",lastActive:"2024-10-15T16:20:00",permissions:["read","write"],companiesAssigned:10,tasksCompleted:142},{id:5,name:"Lisa Anderson",email:"lisa.anderson@fineguard.com",role:"Viewer",department:"Finance",status:"active",avatar:"LA",joinedDate:"2024-05-15",lastActive:"2024-10-16T08:45:00",permissions:["read"],companiesAssigned:0,tasksCompleted:45},{id:6,name:"James Wilson",email:"james.wilson@fineguard.com",role:"Manager",department:"Compliance",status:"inactive",avatar:"JW",joinedDate:"2024-01-20",lastActive:"2024-09-30T14:30:00",permissions:["read","write"],companiesAssigned:5,tasksCompleted:98}],r=[{name:"Admin",description:"Full access to all features and settings",permissions:["read","write","delete","admin","billing"],color:"red",count:1},{name:"Manager",description:"Manage companies, users, and workflows",permissions:["read","write","delete","manage_users"],color:"purple",count:2},{name:"Analyst",description:"View and edit company data",permissions:["read","write"],color:"blue",count:2},{name:"Viewer",description:"Read-only access to data",permissions:["read"],color:"green",count:1}],o=[{id:1,user:"Sarah Johnson",action:"Updated compliance data",target:"Tech Innovations Ltd",timestamp:"2024-10-16T11:45:00",type:"update"},{id:2,user:"Michael Chen",action:"Added new company",target:"Enterprise Corp",timestamp:"2024-10-16T10:30:00",type:"create"},{id:3,user:"Emily Rodriguez",action:"Completed obligation",target:"VAT Return - Global Solutions Ltd",timestamp:"2024-10-16T09:15:00",type:"complete"},{id:4,user:"David Thompson",action:"Generated risk report",target:"Q3 2024 Risk Assessment",timestamp:"2024-10-15T16:20:00",type:"report"},{id:5,user:"Sarah Johnson",action:"Invited new user",target:"john.doe@fineguard.com",timestamp:"2024-10-15T14:10:00",type:"invite"}],c=b=>{switch(b){case"Admin":return"bg-red-500/20 text-red-300 border-red-500/50";case"Manager":return"bg-purple-500/20 text-purple-300 border-purple-500/50";case"Analyst":return"bg-blue-500/20 text-blue-300 border-blue-500/50";case"Viewer":return"bg-green-500/20 text-green-300 border-green-500/50";default:return"bg-gray-500/20 text-gray-300 border-gray-500/50"}},d=b=>{switch(b){case"create":return s.jsx(Rb,{className:"w-4 h-4 text-green-400"});case"update":return s.jsx(ks,{className:"w-4 h-4 text-blue-400"});case"complete":return s.jsx(De,{className:"w-4 h-4 text-green-400"});case"report":return s.jsx(ws,{className:"w-4 h-4 text-purple-400"});case"invite":return s.jsx(Ws,{className:"w-4 h-4 text-blue-400"});default:return s.jsx(An,{className:"w-4 h-4 text-gray-400"})}},m=b=>{const j=new Date(b),T=new Date-j,R=Math.floor(T/6e4),S=Math.floor(T/36e5),q=Math.floor(T/864e5);return R<60?`${R} minutes ago`:S<24?`${S} hours ago`:q<7?`${q} days ago`:j.toLocaleDateString()},g=()=>{alert("Opening user invitation form...")},p=b=>{e(t.find(j=>j.id===b)),alert(`Editing user ${b}...`)},y=b=>{confirm("Are you sure you want to remove this user?")&&alert(`Removing user ${b}...`)};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 p-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-8 flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-4xl font-bold text-white mb-2 flex items-center gap-3",children:[s.jsx(bs,{className:"w-10 h-10"}),"Team & Collaboration"]}),s.jsx("p",{className:"text-gray-300",children:"Manage team members, roles, and permissions"})]}),s.jsxs(F,{onClick:g,className:"bg-purple-600 hover:bg-purple-700 text-white",children:[s.jsx(Rb,{className:"w-4 h-4 mr-2"}),"Invite User"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsx(G,{className:"bg-white/10 backdrop-blur-lg border-white/20",children:s.jsxs(Q,{className:"p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx(bs,{className:"w-8 h-8 text-purple-400"})}),s.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:t.length}),s.jsx("div",{className:"text-sm text-gray-300",children:"Team Members"})]})}),s.jsx(G,{className:"bg-white/10 backdrop-blur-lg border-white/20",children:s.jsxs(Q,{className:"p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx(De,{className:"w-8 h-8 text-green-400"})}),s.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:t.filter(b=>b.status==="active").length}),s.jsx("div",{className:"text-sm text-gray-300",children:"Active Users"})]})}),s.jsx(G,{className:"bg-white/10 backdrop-blur-lg border-white/20",children:s.jsxs(Q,{className:"p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx(As,{className:"w-8 h-8 text-blue-400"})}),s.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:r.length}),s.jsx("div",{className:"text-sm text-gray-300",children:"Roles Defined"})]})}),s.jsx(G,{className:"bg-white/10 backdrop-blur-lg border-white/20",children:s.jsxs(Q,{className:"p-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx(ws,{className:"w-8 h-8 text-yellow-400"})}),s.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:t.reduce((b,j)=>b+j.tasksCompleted,0)}),s.jsx("div",{className:"text-sm text-gray-300",children:"Tasks Completed"})]})})]}),s.jsxs(G,{className:"bg-white/10 backdrop-blur-lg border-white/20 mb-8",children:[s.jsxs(re,{children:[s.jsx(oe,{className:"text-white",children:"Team Members"}),s.jsx(Fe,{className:"text-gray-300",children:"Manage your team members and their access"})]}),s.jsx(Q,{children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-white/10",children:[s.jsx("th",{className:"text-left py-3 px-4 text-gray-300 font-medium",children:"User"}),s.jsx("th",{className:"text-left py-3 px-4 text-gray-300 font-medium",children:"Role"}),s.jsx("th",{className:"text-left py-3 px-4 text-gray-300 font-medium",children:"Department"}),s.jsx("th",{className:"text-center py-3 px-4 text-gray-300 font-medium",children:"Status"}),s.jsx("th",{className:"text-right py-3 px-4 text-gray-300 font-medium",children:"Companies"}),s.jsx("th",{className:"text-right py-3 px-4 text-gray-300 font-medium",children:"Tasks"}),s.jsx("th",{className:"text-left py-3 px-4 text-gray-300 font-medium",children:"Last Active"}),s.jsx("th",{className:"text-center py-3 px-4 text-gray-300 font-medium",children:"Actions"})]})}),s.jsx("tbody",{children:t.map(b=>s.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/5",children:[s.jsx("td",{className:"py-3 px-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-600 flex items-center justify-center text-white font-semibold",children:b.avatar}),s.jsxs("div",{children:[s.jsx("div",{className:"text-white font-medium",children:b.name}),s.jsx("div",{className:"text-sm text-gray-400",children:b.email})]})]})}),s.jsx("td",{className:"py-3 px-4",children:s.jsx(Oe,{className:c(b.role),children:b.role})}),s.jsx("td",{className:"py-3 px-4 text-gray-300",children:b.department}),s.jsx("td",{className:"py-3 px-4 text-center",children:s.jsxs(Oe,{className:b.status==="active"?"bg-green-500/20 text-green-300 border-green-500/50":"bg-gray-500/20 text-gray-300 border-gray-500/50",children:[b.status==="active"?s.jsx(De,{className:"w-3 h-3 mr-1"}):s.jsx(Zp,{className:"w-3 h-3 mr-1"}),b.status]})}),s.jsx("td",{className:"py-3 px-4 text-right text-white",children:b.companiesAssigned}),s.jsx("td",{className:"py-3 px-4 text-right text-white",children:b.tasksCompleted}),s.jsx("td",{className:"py-3 px-4 text-gray-300 text-sm",children:m(b.lastActive)}),s.jsx("td",{className:"py-3 px-4 text-center",children:s.jsxs("div",{className:"flex gap-2 justify-center",children:[s.jsx(F,{onClick:()=>p(b.id),className:"bg-white/10 hover:bg-white/20 text-white",size:"sm",children:s.jsx(ks,{className:"w-4 h-4"})}),s.jsx(F,{onClick:()=>y(b.id),className:"bg-red-500/20 hover:bg-red-500/30 text-red-300",size:"sm",children:s.jsx(kr,{className:"w-4 h-4"})})]})})]},b.id))})]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(G,{className:"bg-white/10 backdrop-blur-lg border-white/20",children:[s.jsxs(re,{children:[s.jsx(oe,{className:"text-white",children:"Roles & Permissions"}),s.jsx(Fe,{className:"text-gray-300",children:"Defined roles and their access levels"})]}),s.jsx(Q,{children:s.jsx("div",{className:"space-y-4",children:r.map((b,j)=>s.jsxs("div",{className:"p-4 bg-white/5 rounded-lg border border-white/10",children:[s.jsx("div",{className:"flex items-start justify-between mb-2",children:s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:b.name}),s.jsxs(Oe,{className:"bg-purple-500/20 text-purple-300 border-purple-500/50",children:[b.count," ",b.count===1?"user":"users"]})]}),s.jsx("p",{className:"text-sm text-gray-300 mb-3",children:b.description})]})}),s.jsx("div",{className:"flex flex-wrap gap-2",children:b.permissions.map((A,T)=>s.jsx(Oe,{className:"bg-blue-500/20 text-blue-300 border-blue-500/50 text-xs",children:A},T))})]},j))})})]}),s.jsxs(G,{className:"bg-white/10 backdrop-blur-lg border-white/20",children:[s.jsxs(re,{children:[s.jsx(oe,{className:"text-white",children:"Recent Activity"}),s.jsx(Fe,{className:"text-gray-300",children:"Latest team member actions"})]}),s.jsx(Q,{children:s.jsx("div",{className:"space-y-4",children:o.map(b=>s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white/5 rounded-lg border border-white/10",children:[s.jsx("div",{className:"flex-shrink-0 mt-1",children:d(b.type)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-white font-medium mb-1",children:b.user}),s.jsxs("div",{className:"text-sm text-gray-300 mb-1",children:[b.action,": ",s.jsx("span",{className:"text-purple-300",children:b.target})]}),s.jsx("div",{className:"text-xs text-gray-400",children:m(b.timestamp)})]})]},b.id))})})]})]})]})})}function FP(){const[i,e]=te.useState(""),[t,r]=te.useState(null),o=[{q:"How do I add a new company?",a:'Navigate to the Dashboard, click the "Add New Company" button, and fill in the required details. The system will automatically enrich the company data from Companies House.'},{q:"What do the different risk levels mean?",a:"Risk levels (low, medium, high) are determined by our AI Lead Scoring Agent based on various factors including compliance history, company size, and industry. High-risk companies may require closer monitoring."},{q:"How can I customize my notification preferences?",a:'Go to the Notifications page and scroll down to "Notification Preferences". You can toggle email, push, and SMS notifications for different categories like compliance alerts, payment updates, and AI insights.'},{q:"How do I generate a new API key?",a:'Visit the API Manager page. Click the "Create New Key" button, give it a name, and set the desired permissions. The new key will be displayed for you to copy.'},{q:"Can I create custom automation workflows?",a:'Yes, on the Workflow Automation page, you can create custom workflows. Click "Create Workflow", choose a trigger (e.g., "Obligation Overdue"), and add a sequence of actions (e.g., "Send Email", "Create Task").'}],c=[{category:"Getting Started",articles:[{title:"Account Setup & Configuration",link:"#"},{title:"Adding Your First Company",link:"#"},{title:"Understanding the Dashboard",link:"#"},{title:"Navigating the Platform",link:"#"}]},{category:"Core Features",articles:[{title:"Compliance Management",link:"#"},{title:"AI-Powered Insights",link:"#"},{title:"Data Enrichment",link:"#"},{title:"Risk Assessment",link:"#"}]},{category:"Advanced Features",articles:[{title:"Billing & Subscriptions",link:"#"},{title:"Workflow Automation Builder",link:"#"},{title:"API Integration Guide",link:"#"},{title:"Team Management & Roles",link:"#"}]},{category:"Troubleshooting",articles:[{title:"Common Issues & Fixes",link:"#"},{title:"API Error Codes",link:"#"},{title:"Contacting Support",link:"#"}]}],d=m=>{r(t===m?null:m)};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 p-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"mb-8 text-center",children:[s.jsx(Oh,{className:"w-16 h-16 text-purple-400 mx-auto mb-4"}),s.jsx("h1",{className:"text-5xl font-bold text-white mb-2",children:"Help & Documentation"}),s.jsx("p",{className:"text-xl text-gray-300",children:"Your guide to mastering the FineGuard platform"})]}),s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"relative",children:[s.jsx(im,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-6 h-6 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search documentation & FAQs...",value:i,onChange:m=>e(m.target.value),className:"w-full pl-14 pr-4 py-4 bg-white/10 border border-white/20 rounded-lg text-white text-lg placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Frequently Asked Questions"}),o.map((m,g)=>s.jsxs(G,{className:"bg-white/10 backdrop-blur-lg border-white/20 overflow-hidden",children:[s.jsxs("div",{className:"p-4 flex justify-between items-center cursor-pointer hover:bg-white/5",onClick:()=>d(g),children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:m.q}),t===g?s.jsx(oE,{className:"w-5 h-5 text-gray-300"}):s.jsx(iE,{className:"w-5 h-5 text-gray-300"})]}),t===g&&s.jsx("div",{className:"p-4 border-t border-white/10",children:s.jsx("p",{className:"text-gray-300",children:m.a})})]},g))]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Documentation"}),c.map((m,g)=>s.jsxs(G,{className:"bg-white/10 backdrop-blur-lg border-white/20",children:[s.jsx(re,{children:s.jsxs(oe,{className:"text-white flex items-center gap-2",children:[s.jsx(qT,{className:"w-5 h-5"}),m.category]})}),s.jsx(Q,{children:s.jsx("ul",{className:"space-y-2",children:m.articles.map((p,y)=>s.jsx("li",{children:s.jsx("a",{href:p.link,className:"flex items-center gap-2 text-purple-300 hover:text-purple-400 transition-colors",children:s.jsx("span",{children:p.title})})},y))})})]},g))]})]}),s.jsxs(G,{className:"mt-8 bg-white/10 backdrop-blur-lg border-white/20",children:[s.jsxs(re,{children:[s.jsxs(oe,{className:"text-white flex items-center gap-2",children:[s.jsx(GE,{className:"w-6 h-6"}),"Need More Help?"]}),s.jsx(Fe,{className:"text-gray-300",children:"If you can't find what you're looking for, our support team is here to assist."})]}),s.jsx(Q,{children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-gray-300",children:"Contact us via email or live chat for personalized support."}),s.jsx("p",{className:"text-lg font-semibold text-white mt-2",children:"support@fineguard.com"})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs(F,{className:"bg-purple-600 hover:bg-purple-700 text-white",children:[s.jsx(Mail,{className:"w-4 h-4 mr-2"}),"Email Support"]}),s.jsxs(F,{className:"bg-white/10 hover:bg-white/20 text-white",children:[s.jsx(ki,{className:"w-4 h-4 mr-2"}),"Live Chat"]})]})]})})]})]})})}function HP({isOpen:i,onClose:e}){var R;const[t,r]=te.useState(1),[o,c]=te.useState({firstName:"",lastName:"",email:"",phone:"",company:"",serviceCategory:"",specificService:"",packageInterest:"",preferredDate:"",preferredTime:"",consultationType:"video",message:"",currentAccountant:!1,annualTurnover:"",employees:""}),[d,m]=te.useState(!1),g=[{id:"taxation",name:"Taxation Services"},{id:"financial",name:"Financial Planning"},{id:"company",name:"Company Secretarial & Legal"},{id:"consulting",name:"Business Consulting"},{id:"contracting",name:"Contracting Services"},{id:"cis",name:"Construction Industry Scheme"},{id:"payroll",name:"Payroll & Bookkeeping"}],p=[{id:"starter",name:"Starter Package (£99/month)"},{id:"professional",name:"Professional Package (£299/month)"},{id:"enterprise",name:"Enterprise Package (£799/month)"},{id:"custom",name:"Custom Solution"}],y=["09:00 AM","10:00 AM","11:00 AM","12:00 PM","01:00 PM","02:00 PM","03:00 PM","04:00 PM","05:00 PM"],b=(S,q)=>{c(D=>({...D,[S]:q}))},j=()=>{t<4&&r(t+1)},A=()=>{t>1&&r(t-1)},T=async()=>{try{const S=await fetch("http://localhost:8000/api/bookings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(S.ok){const q=await S.json();console.log("Booking confirmed:",q),m(!0)}else console.error("Booking failed:",S.statusText),m(!0)}catch(S){console.error("Booking error:",S),console.log("Booking submitted (offline mode):",o),m(!0)}};return i?d?s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsx(G,{className:"bg-white/10 backdrop-blur-lg border-white/20 max-w-md w-full",children:s.jsxs(Q,{className:"p-8 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(De,{className:"w-10 h-10 text-green-400"})}),s.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Booking Confirmed!"}),s.jsxs("p",{className:"text-gray-300 mb-6",children:["Thank you for booking a consultation with Devonshire Green. We've sent a confirmation email to ",s.jsx("strong",{children:o.email}),"."]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-4 mb-6 text-left",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(us,{className:"w-5 h-5 text-green-400"}),s.jsx("span",{className:"text-white font-semibold",children:"Consultation Details"})]}),s.jsxs("div",{className:"text-gray-300 text-sm space-y-1 ml-7",children:[s.jsxs("div",{children:["Date: ",o.preferredDate]}),s.jsxs("div",{children:["Time: ",o.preferredTime]}),s.jsxs("div",{children:["Type: ",o.consultationType==="video"?"Video Call":o.consultationType==="phone"?"Phone Call":"In-Person"]}),s.jsxs("div",{children:["Service: ",((R=g.find(S=>S.id===o.serviceCategory))==null?void 0:R.name)||"General Consultation"]})]})]}),s.jsx("p",{className:"text-sm text-gray-400 mb-6",children:"Our team will contact you shortly to confirm the details. You'll receive a calendar invite and meeting link (if applicable) via email."}),s.jsx(F,{onClick:()=>{m(!1),r(1),c({firstName:"",lastName:"",email:"",phone:"",company:"",serviceCategory:"",specificService:"",packageInterest:"",preferredDate:"",preferredTime:"",consultationType:"video",message:"",currentAccountant:!1,annualTurnover:"",employees:""}),e()},className:"w-full bg-green-600 hover:bg-green-700 text-white",children:"Close"})]})})}):s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4 overflow-y-auto",children:s.jsxs(G,{className:"bg-white/10 backdrop-blur-lg border-white/20 max-w-2xl w-full my-8",children:[s.jsxs(re,{className:"relative",children:[s.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:s.jsx(t0,{className:"w-6 h-6"})}),s.jsx(oe,{className:"text-white text-2xl",children:"Book Your Free Consultation"}),s.jsxs(Fe,{className:"text-gray-300",children:["Step ",t," of 4 - ",t===1?"Personal Information":t===2?"Service Selection":t===3?"Booking Details":"Additional Information"]}),s.jsx("div",{className:"flex gap-2 mt-4",children:[1,2,3,4].map(S=>s.jsx("div",{className:`flex-1 h-2 rounded-full ${S<=t?"bg-green-500":"bg-white/20"}`},S))})]}),s.jsxs(Q,{className:"p-6",children:[t===1&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[s.jsx(Xa,{className:"w-4 h-4 inline mr-1"}),"First Name *"]}),s.jsx("input",{type:"text",value:o.firstName,onChange:S=>b("firstName",S.target.value),className:"w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"John",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Last Name *"}),s.jsx("input",{type:"text",value:o.lastName,onChange:S=>b("lastName",S.target.value),className:"w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"Smith",required:!0})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[s.jsx(Ws,{className:"w-4 h-4 inline mr-1"}),"Email Address *"]}),s.jsx("input",{type:"email",value:o.email,onChange:S=>b("email",S.target.value),className:"w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"john.smith@example.com",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[s.jsx(Ci,{className:"w-4 h-4 inline mr-1"}),"Phone Number *"]}),s.jsx("input",{type:"tel",value:o.phone,onChange:S=>b("phone",S.target.value),className:"w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"07123 456789",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[s.jsx(vl,{className:"w-4 h-4 inline mr-1"}),"Company Name"]}),s.jsx("input",{type:"text",value:o.company,onChange:S=>b("company",S.target.value),className:"w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"Your Company Ltd"})]})]}),t===2&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Service Category *"}),s.jsxs("select",{value:o.serviceCategory,onChange:S=>b("serviceCategory",S.target.value),className:"w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-green-500",required:!0,children:[s.jsx("option",{value:"",className:"bg-slate-800",children:"Select a service category..."}),g.map(S=>s.jsx("option",{value:S.id,className:"bg-slate-800",children:S.name},S.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Package Interest"}),s.jsxs("select",{value:o.packageInterest,onChange:S=>b("packageInterest",S.target.value),className:"w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-green-500",children:[s.jsx("option",{value:"",className:"bg-slate-800",children:"Select a package..."}),p.map(S=>s.jsx("option",{value:S.id,className:"bg-slate-800",children:S.name},S.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Specific Service or Question"}),s.jsx("textarea",{value:o.specificService,onChange:S=>b("specificService",S.target.value),className:"w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-green-500 min-h-[100px]",placeholder:"Tell us what you're looking for..."})]})]}),t===3&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[s.jsx(us,{className:"w-4 h-4 inline mr-1"}),"Preferred Date *"]}),s.jsx("input",{type:"date",value:o.preferredDate,onChange:S=>b("preferredDate",S.target.value),min:new Date().toISOString().split("T")[0],className:"w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-green-500",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[s.jsx(An,{className:"w-4 h-4 inline mr-1"}),"Preferred Time *"]}),s.jsxs("select",{value:o.preferredTime,onChange:S=>b("preferredTime",S.target.value),className:"w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-green-500",required:!0,children:[s.jsx("option",{value:"",className:"bg-slate-800",children:"Select a time..."}),y.map(S=>s.jsx("option",{value:S,className:"bg-slate-800",children:S},S))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-3",children:"Consultation Type *"}),s.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{id:"video",label:"Video Call",icon:"📹"},{id:"phone",label:"Phone Call",icon:"📞"},{id:"in-person",label:"In-Person",icon:"🏢"}].map(S=>s.jsxs("button",{type:"button",onClick:()=>b("consultationType",S.id),className:`p-4 rounded-lg border-2 transition-all ${o.consultationType===S.id?"border-green-500 bg-green-500/20":"border-white/20 bg-white/5 hover:bg-white/10"}`,children:[s.jsx("div",{className:"text-2xl mb-1",children:S.icon}),s.jsx("div",{className:"text-white text-sm font-medium",children:S.label})]},S.id))})]})]}),t===4&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Annual Turnover"}),s.jsxs("select",{value:o.annualTurnover,onChange:S=>b("annualTurnover",S.target.value),className:"w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-green-500",children:[s.jsx("option",{value:"",className:"bg-slate-800",children:"Select range..."}),s.jsx("option",{value:"0-50k",className:"bg-slate-800",children:"£0 - £50,000"}),s.jsx("option",{value:"50k-100k",className:"bg-slate-800",children:"£50,000 - £100,000"}),s.jsx("option",{value:"100k-250k",className:"bg-slate-800",children:"£100,000 - £250,000"}),s.jsx("option",{value:"250k-500k",className:"bg-slate-800",children:"£250,000 - £500,000"}),s.jsx("option",{value:"500k-1m",className:"bg-slate-800",children:"£500,000 - £1,000,000"}),s.jsx("option",{value:"1m+",className:"bg-slate-800",children:"£1,000,000+"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Number of Employees"}),s.jsxs("select",{value:o.employees,onChange:S=>b("employees",S.target.value),className:"w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-green-500",children:[s.jsx("option",{value:"",className:"bg-slate-800",children:"Select range..."}),s.jsx("option",{value:"1-5",className:"bg-slate-800",children:"1-5"}),s.jsx("option",{value:"6-10",className:"bg-slate-800",children:"6-10"}),s.jsx("option",{value:"11-25",className:"bg-slate-800",children:"11-25"}),s.jsx("option",{value:"26-50",className:"bg-slate-800",children:"26-50"}),s.jsx("option",{value:"51-100",className:"bg-slate-800",children:"51-100"}),s.jsx("option",{value:"100+",className:"bg-slate-800",children:"100+"})]})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-2 text-gray-300 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:o.currentAccountant,onChange:S=>b("currentAccountant",S.target.checked),className:"w-4 h-4 rounded border-white/20 bg-white/10 text-green-600 focus:ring-green-500"}),s.jsx("span",{children:"I currently have an accountant"})]})}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:[s.jsx(ki,{className:"w-4 h-4 inline mr-1"}),"Additional Message"]}),s.jsx("textarea",{value:o.message,onChange:S=>b("message",S.target.value),className:"w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-green-500 min-h-[100px]",placeholder:"Any additional information you'd like to share..."})]})]}),s.jsxs("div",{className:"flex justify-between mt-8 pt-6 border-t border-white/20",children:[s.jsx(F,{onClick:A,disabled:t===1,className:"bg-white/10 hover:bg-white/20 text-white disabled:opacity-50 disabled:cursor-not-allowed",children:"Back"}),t<4?s.jsx(F,{onClick:j,className:"bg-green-600 hover:bg-green-700 text-white",children:"Next"}):s.jsx(F,{onClick:T,className:"bg-green-600 hover:bg-green-700 text-white",children:"Submit Booking"})]})]})]})}):null}class GP{constructor(){this.recommendations=[],this.confidence=0}analyzeCompany(e){const t=[];let r=0;const{companyNumber:o,riskLevel:c,complianceScore:d,overdueCount:m,obligationCount:g,annualTurnover:p,employees:y,industry:b,age:j,hasAccountant:A}=e,T=this.analyzeTaxNeeds(e);T>.6&&(t.push({service:"Taxation Services",priority:T>.8?"high":"medium",confidence:Math.round(T*100),reason:this.getTaxReason(e),suggestedActions:this.getTaxActions(e),estimatedSavings:this.estimateTaxSavings(e)}),r+=T);const R=this.analyzeComplianceNeeds(e);R>.5&&(t.push({service:"Company Secretarial & Legal",priority:R>.7?"high":"medium",confidence:Math.round(R*100),reason:this.getComplianceReason(e),suggestedActions:this.getComplianceActions(e),estimatedSavings:null}),r+=R);const S=this.analyzePayrollNeeds(e);S>.5&&(t.push({service:"Payroll & Bookkeeping",priority:S>.7?"high":"medium",confidence:Math.round(S*100),reason:this.getPayrollReason(e),suggestedActions:this.getPayrollActions(e),estimatedSavings:this.estimatePayrollSavings(e)}),r+=S);const q=this.analyzeConsultingNeeds(e);q>.6&&(t.push({service:"Business Consulting",priority:q>.8?"high":"medium",confidence:Math.round(q*100),reason:this.getConsultingReason(e),suggestedActions:this.getConsultingActions(e),estimatedSavings:null}),r+=q);const D=this.analyzeFinancialPlanningNeeds(e);return D>.5&&(t.push({service:"Financial Planning",priority:D>.7?"high":"medium",confidence:Math.round(D*100),reason:this.getFinancialReason(e),suggestedActions:this.getFinancialActions(e),estimatedSavings:this.estimateFinancialSavings(e)}),r+=D),t.sort((J,de)=>J.priority==="high"&&de.priority!=="high"?-1:J.priority!=="high"&&de.priority==="high"?1:de.confidence-J.confidence),this.recommendations=t,this.confidence=t.length>0?r/t.length:0,{recommendations:t,overallConfidence:Math.round(this.confidence*100),suggestedPackage:this.recommendPackage(e),estimatedMonthlySavings:this.calculateTotalSavings(t),nextSteps:this.generateNextSteps(t)}}analyzeTaxNeeds(e){let t=0;return e.annualTurnover>5e5?t+=.4:e.annualTurnover>25e4?t+=.3:e.annualTurnover>1e5&&(t+=.2),e.employees>25?t+=.2:e.employees>10?t+=.15:e.employees>5&&(t+=.1),e.complianceScore<70&&(t+=.2),e.overdueCount>2&&(t+=.15),e.hasAccountant||(t+=.25),Math.min(t,1)}analyzeComplianceNeeds(e){let t=0;return e.overdueCount>3?t+=.4:e.overdueCount>1?t+=.3:e.overdueCount>0&&(t+=.2),e.complianceScore<60?t+=.3:e.complianceScore<75&&(t+=.2),e.riskLevel==="high"?t+=.3:e.riskLevel==="medium"&&(t+=.15),e.obligationCount>10&&(t+=.15),Math.min(t,1)}analyzePayrollNeeds(e){let t=0;return e.employees>50?t+=.5:e.employees>25?t+=.4:e.employees>10?t+=.3:e.employees>5?t+=.2:e.employees>0&&(t+=.1),e.age<3&&e.employees>5&&(t+=.2),!e.hasAccountant&&e.employees>0&&(t+=.3),Math.min(t,1)}analyzeConsultingNeeds(e){let t=0;return e.riskLevel==="high"&&(t+=.4),e.complianceScore<65&&(t+=.3),e.annualTurnover>1e6&&(t+=.3),e.age<2&&(t+=.2),Math.min(t,1)}analyzeFinancialPlanningNeeds(e){let t=0;return e.annualTurnover>5e5&&(t+=.3),e.age>10&&(t+=.2),e.employees>25&&(t+=.2),e.complianceScore>80&&(t+=.2),Math.min(t,1)}recommendPackage(e){let t=0;return e.annualTurnover>1e6?t+=3:e.annualTurnover>5e5?t+=2:e.annualTurnover>1e5&&(t+=1),e.employees>50?t+=3:e.employees>25?t+=2:e.employees>10&&(t+=1),e.riskLevel==="high"&&(t+=2),e.complianceScore<70&&(t+=1),e.obligationCount>15&&(t+=1),t>=7?{package:"Enterprise",price:799,reason:"Your business complexity and size require comprehensive CFO-level support",confidence:95}:t>=4?{package:"Professional",price:299,reason:"Your growing business needs dedicated support and tax optimization",confidence:90}:{package:"Starter",price:99,reason:"Perfect starting point for your business accounting needs",confidence:85}}getTaxReason(e){return e.annualTurnover>5e5?`With annual turnover of £${(e.annualTurnover/1e3).toFixed(0)}k, strategic tax planning could save significant amounts`:e.hasAccountant?e.complianceScore<70?"Low compliance score indicates potential tax filing issues that need attention":"Proactive tax planning can optimize your tax position and ensure compliance":"Without professional tax advice, you may be missing valuable tax relief opportunities"}getComplianceReason(e){return e.overdueCount>2?`You have ${e.overdueCount} overdue obligations requiring immediate attention`:e.complianceScore<65?`Compliance score of ${e.complianceScore}% indicates significant risk exposure`:"Professional company secretarial services ensure you never miss a filing deadline"}getPayrollReason(e){return e.employees>25?`Managing payroll for ${e.employees} employees requires professional automation`:e.hasAccountant?"Outsourced payroll reduces errors and frees up your time for core business":"Professional payroll services save time and ensure HMRC compliance"}getConsultingReason(e){return e.riskLevel==="high"?"High risk level suggests strategic business consulting could improve operations":e.annualTurnover>1e6?"Your business size justifies strategic advisory to maximize growth":"Expert business consulting can identify growth opportunities and efficiency gains"}getFinancialReason(e){return e.age>10?"Established businesses benefit from succession and exit planning":e.annualTurnover>5e5?"Your turnover level creates opportunities for investment and wealth planning":"Financial planning ensures long-term security and tax-efficient growth"}getTaxActions(e){return["Book tax planning consultation","Review current tax position","Identify available tax reliefs","Optimize salary/dividend mix","Plan for upcoming tax deadlines"]}getComplianceActions(e){return["Clear overdue obligations","Set up filing calendar","Review statutory requirements","Implement compliance system","Schedule regular reviews"]}getPayrollActions(e){return["Audit current payroll process","Implement automated system","Ensure RTI compliance","Set up pension auto-enrolment","Review payroll tax efficiency"]}getConsultingActions(e){return["Business health assessment","Strategic planning session","Operational efficiency review","Growth opportunity analysis","Risk mitigation planning"]}getFinancialActions(e){return["Financial health check","Investment strategy review","Retirement planning","Estate protection planning","Tax-efficient wealth building"]}estimateTaxSavings(e){const t=e.annualTurnover||0,r=e.hasAccountant?.02:.05,o=t*r;return{annual:Math.round(o),monthly:Math.round(o/12),description:`Estimated ${(r*100).toFixed(0)}% of turnover through tax optimization`}}estimatePayrollSavings(e){const t=e.employees||0,r=t*25;return{annual:r*12,monthly:r,description:`Time savings from automated payroll for ${t} employees`}}estimateFinancialSavings(e){const r=(e.annualTurnover||0)*.03;return{annual:Math.round(r),monthly:Math.round(r/12),description:"Investment returns and tax-efficient wealth planning"}}calculateTotalSavings(e){return e.reduce((t,r)=>r.estimatedSavings?t+r.estimatedSavings.monthly:t,0)}generateNextSteps(e){const t=[];return e.length>0&&(t.push({step:1,action:"Book Free Consultation",description:"Schedule a complimentary consultation to discuss your needs",urgent:e.some(r=>r.priority==="high")}),t.push({step:2,action:"Service Assessment",description:"Devonshire Green will assess your specific requirements",urgent:!1}),t.push({step:3,action:"Tailored Proposal",description:"Receive a customized service proposal and pricing",urgent:!1}),t.push({step:4,action:"Onboarding",description:"Begin working with your dedicated account manager",urgent:!1})),t}recommendBookingTime(e=null){const t=new Date,r=[];for(let o=1;o<=5;o++){const c=new Date(t);if(c.setDate(c.getDate()+o),!(c.getDay()===0||c.getDay()===6)&&(r.push({date:c.toISOString().split("T")[0],time:"10:00 AM",score:.9,reason:"Popular time, high availability"}),r.push({date:c.toISOString().split("T")[0],time:"02:00 PM",score:.85,reason:"Afternoon slot, good availability"}),r.length>=6))break}return r.slice(0,6)}optimizeBookingTime(e,t=[]){const r=e.industry==="construction"?"early":"mid";return{recommendedSlots:{early:["09:00 AM","10:00 AM"],mid:["11:00 AM","02:00 PM"],late:["03:00 PM","04:00 PM"]}[r],reason:`Based on ${e.industry} industry patterns`,confidence:75}}}const KP=new GP;function QP({companyData:i,onBookConsultation:e}){const[t,r]=te.useState(null),[o,c]=te.useState(!0),[d,m]=te.useState(null);te.useEffect(()=>{i&&g()},[i]);const g=()=>{c(!0),setTimeout(()=>{const b=KP.analyzeCompany(i);r(b),c(!1)},800)};if(o)return s.jsx(G,{className:"bg-gradient-to-br from-purple-600/20 to-blue-600/20 backdrop-blur-lg border-purple-500/50",children:s.jsx(Q,{className:"p-8 text-center",children:s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(xl,{className:"w-16 h-16 text-purple-400 animate-pulse"}),s.jsx(Cb,{className:"w-8 h-8 text-blue-400 absolute -top-2 -right-2 animate-spin"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"AI Analysis in Progress"}),s.jsx("p",{className:"text-gray-300",children:"Analyzing your company data to provide personalized recommendations..."})]})]})})});if(!t||t.recommendations.length===0)return s.jsx(G,{className:"bg-white/10 backdrop-blur-lg border-white/20",children:s.jsxs(Q,{className:"p-6 text-center",children:[s.jsx(De,{className:"w-12 h-12 text-green-400 mx-auto mb-3"}),s.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"All Set!"}),s.jsx("p",{className:"text-gray-300",children:"Your company is in good shape. Browse our services to see how we can help you grow."})]})});const p=b=>{switch(b){case"high":return"bg-red-500/20 text-red-300 border-red-500/50";case"medium":return"bg-yellow-500/20 text-yellow-300 border-yellow-500/50";case"low":return"bg-blue-500/20 text-blue-300 border-blue-500/50";default:return"bg-gray-500/20 text-gray-300 border-gray-500/50"}},y=b=>{switch(b){case"high":return s.jsx(zi,{className:"w-4 h-4"});case"medium":return s.jsx(Ms,{className:"w-4 h-4"});default:return s.jsx(Ri,{className:"w-4 h-4"})}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(G,{className:"bg-gradient-to-br from-purple-600/20 to-blue-600/20 backdrop-blur-lg border-purple-500/50",children:[s.jsx(re,{children:s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"p-3 bg-purple-500/20 rounded-lg",children:s.jsx(xl,{className:"w-8 h-8 text-purple-400"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs(oe,{className:"text-white text-2xl flex items-center gap-2",children:["AI-Powered Recommendations",s.jsx(Cb,{className:"w-5 h-5 text-yellow-400"})]}),s.jsx(Fe,{className:"text-gray-300",children:"Based on analysis of your company data"})]}),s.jsxs(Oe,{className:"bg-purple-500/30 text-purple-200 border-purple-500/50 text-lg px-4 py-2",children:[t.overallConfidence,"% Confidence"]})]})}),s.jsxs(Q,{children:[s.jsx("div",{className:"bg-white/10 rounded-lg p-6 mb-6",children:s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("h3",{className:"text-xl font-bold text-white mb-2",children:["Recommended Package: ",t.suggestedPackage.package]}),s.jsx("p",{className:"text-gray-300 mb-3",children:t.suggestedPackage.reason}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"text-3xl font-bold text-green-300",children:["£",t.suggestedPackage.price,s.jsx("span",{className:"text-lg text-gray-400",children:"/month"})]}),t.estimatedMonthlySavings>0&&s.jsxs("div",{className:"flex items-center gap-2 text-green-300",children:[s.jsx(er,{className:"w-5 h-5"}),s.jsxs("span",{className:"text-sm",children:["Est. savings: £",t.estimatedMonthlySavings.toLocaleString(),"/month"]})]})]})]}),s.jsxs(F,{onClick:e,className:"bg-purple-600 hover:bg-purple-700 text-white",children:[s.jsx(us,{className:"w-4 h-4 mr-2"}),"Book Now"]})]})}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-white/5 rounded-lg p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:t.recommendations.length}),s.jsx("div",{className:"text-sm text-gray-400",children:"Services Recommended"})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-300 mb-1",children:t.recommendations.filter(b=>b.priority==="high").length}),s.jsx("div",{className:"text-sm text-gray-400",children:"High Priority"})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-4 text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-purple-300 mb-1",children:[t.overallConfidence,"%"]}),s.jsx("div",{className:"text-sm text-gray-400",children:"AI Confidence"})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-bold text-white",children:"Personalized Service Recommendations"}),t.recommendations.map((b,j)=>s.jsxs(G,{className:"bg-white/10 backdrop-blur-lg border-white/20 hover:bg-white/15 transition-all cursor-pointer",onClick:()=>m(d===j?null:j),children:[s.jsx(re,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h4",{className:"text-lg font-semibold text-white",children:b.service}),s.jsxs(Oe,{className:p(b.priority),children:[y(b.priority),s.jsxs("span",{className:"ml-1 capitalize",children:[b.priority," Priority"]})]}),s.jsxs(Oe,{className:"bg-blue-500/20 text-blue-300 border-blue-500/50",children:[b.confidence,"% Match"]})]}),s.jsx("p",{className:"text-gray-300",children:b.reason})]}),s.jsx(Rh,{className:`w-5 h-5 text-gray-400 transition-transform ${d===j?"rotate-90":""}`})]})}),d===j&&s.jsx(Q,{className:"pt-0",children:s.jsxs("div",{className:"border-t border-white/10 pt-4 space-y-4",children:[s.jsxs("div",{children:[s.jsx("h5",{className:"text-sm font-semibold text-white mb-2",children:"Suggested Actions:"}),s.jsx("ul",{className:"space-y-2",children:b.suggestedActions.map((A,T)=>s.jsxs("li",{className:"flex items-start gap-2 text-gray-300 text-sm",children:[s.jsx(De,{className:"w-4 h-4 text-green-400 flex-shrink-0 mt-0.5"}),s.jsx("span",{children:A})]},T))})]}),b.estimatedSavings&&s.jsxs("div",{className:"bg-green-500/10 border border-green-500/30 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(er,{className:"w-5 h-5 text-green-400"}),s.jsx("h5",{className:"text-sm font-semibold text-white",children:"Estimated Savings"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-2",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"text-2xl font-bold text-green-300",children:["£",b.estimatedSavings.monthly.toLocaleString()]}),s.jsx("div",{className:"text-xs text-gray-400",children:"Per Month"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-2xl font-bold text-green-300",children:["£",b.estimatedSavings.annual.toLocaleString()]}),s.jsx("div",{className:"text-xs text-gray-400",children:"Per Year"})]})]}),s.jsx("p",{className:"text-xs text-gray-400",children:b.estimatedSavings.description})]}),s.jsxs(F,{onClick:A=>{A.stopPropagation(),e()},className:"w-full bg-green-600 hover:bg-green-700 text-white",children:["Book Consultation for ",b.service,s.jsx(Rh,{className:"w-4 h-4 ml-2"})]})]})})]},j))]}),t.nextSteps&&t.nextSteps.length>0&&s.jsxs(G,{className:"bg-white/10 backdrop-blur-lg border-white/20",children:[s.jsxs(re,{children:[s.jsx(oe,{className:"text-white",children:"Your Next Steps"}),s.jsx(Fe,{className:"text-gray-300",children:"Follow these steps to get started with Devonshire Green"})]}),s.jsxs(Q,{children:[s.jsx("div",{className:"space-y-4",children:t.nextSteps.map((b,j)=>s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center ${b.urgent?"bg-red-500/20 text-red-300":"bg-blue-500/20 text-blue-300"} font-bold`,children:b.step}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("h5",{className:"text-white font-semibold mb-1 flex items-center gap-2",children:[b.action,b.urgent&&s.jsx(Oe,{className:"bg-red-500/20 text-red-300 text-xs",children:"Urgent"})]}),s.jsx("p",{className:"text-sm text-gray-400",children:b.description})]})]},j))}),s.jsxs(F,{onClick:e,className:"w-full mt-6 bg-purple-600 hover:bg-purple-700 text-white",children:[s.jsx(us,{className:"w-4 h-4 mr-2"}),"Start with Free Consultation"]})]})]})]})}function WP({companyData:i}){const[e,t]=te.useState("all"),[r,o]=te.useState(null),[c,d]=te.useState(!1),[m,g]=te.useState(!0),p=i||{companyNumber:"12345678",name:"Your Company",riskLevel:"medium",complianceScore:72,overdueCount:2,obligationCount:8,annualTurnover:35e4,employees:12,industry:"technology",age:3,hasAccountant:!1},y=[{id:"taxation",name:"Taxation Services",icon:Ih,color:"green",description:"Comprehensive tax planning and compliance services",services:["Tax Efficiency Planning","Personal & Corporate Tax Returns","Inheritance Tax Planning","Tax Strategy & Optimization","Entrepreneurs Relief","SEIS & EIS Investment Schemes"]},{id:"financial",name:"Financial Planning",icon:Ms,color:"blue",description:"Strategic financial planning for your future",services:["Investment Planning","Retirement Planning","Estate Protection","Corporate Financial Services","Banking & Mortgage Advice","Wealth Management"]},{id:"company",name:"Company Secretarial & Legal",icon:ws,color:"purple",description:"Company formation and legal compliance",services:["Company Formation","File Maintenance","Statutory Returns","Legal Document Preparation","Companies House Filings","Corporate Governance"]},{id:"consulting",name:"Business Consulting",icon:bs,color:"orange",description:"Expert business advisory and risk assessment",services:["Business Strategy Consulting","Acquisitions & Disposals","Exit Strategy Planning","Risk Assessment","Business Valuation","Growth Planning"]},{id:"contracting",name:"Contracting Services",icon:Tu,color:"indigo",description:"Specialized services for contractors",services:["Contractor Accounts","IR35 Contract Reviews","Professional Indemnity Insurance","Contractor Tax Planning","Limited Company Setup","Umbrella Company Advice"]},{id:"cis",name:"Construction Industry Scheme",icon:UE,color:"yellow",description:"CIS compliance and reporting",services:["HMRC CIS Reporting","CIS Registration","Public Liability Insurance","Indemnity Insurance","CIS Tax Returns","Subcontractor Verification"]},{id:"payroll",name:"Payroll & Bookkeeping",icon:er,color:"teal",description:"Complete payroll and bookkeeping solutions",services:["Payroll Cycle Submissions","Full Bookkeeping Services","PAYE & NI (RTI)","Auto-Enrolment Pensions","Management Accounts","VAT Returns"]}],b=[{name:"Starter",price:99,period:"month",description:"Perfect for small businesses and startups",features:["Basic bookkeeping (50 transactions/month)","Quarterly tax returns","Annual accounts preparation","Email support","Online portal access","Quarterly business review"],popular:!1,color:"blue"},{name:"Professional",price:299,period:"month",description:"Ideal for growing businesses",features:["Full bookkeeping service","Monthly management accounts","Tax planning & optimization","Payroll services (up to 10 employees)","Quarterly business review","Priority support","Dedicated account manager","VAT returns"],popular:!0,color:"green"},{name:"Enterprise",price:799,period:"month",description:"Comprehensive solution for established businesses",features:["Comprehensive accounting services","CFO advisory services","Advanced tax strategy & planning","Unlimited payroll","Company secretarial services","Monthly business review","Dedicated account manager","24/7 priority support","Business consulting included"],popular:!1,color:"purple"}],j=[{name:"Company Formation",price:150,description:"Complete company setup and registration"},{name:"IR35 Contract Review",price:250,description:"Comprehensive IR35 status assessment"},{name:"Business Valuation",price:500,description:"Professional business valuation report"},{name:"Exit Strategy Consultation",price:750,description:"Strategic exit planning and advice"},{name:"CIS Registration & Setup",price:200,description:"Complete CIS registration and setup"}],A=[{name:"Sarah Mitchell",company:"Tech Innovations Ltd",text:"Devonshire Green transformed our financial management. Their proactive approach saved us thousands in tax.",rating:5},{name:"James Thompson",company:"Thompson Construction",text:"Excellent CIS support and always available when we need them. Highly recommended!",rating:5},{name:"Emma Roberts",company:"Roberts Consulting",text:"Professional, knowledgeable, and always responsive. They handle everything so we can focus on our business.",rating:5}],T=D=>({green:"text-green-400",blue:"text-blue-400",purple:"text-purple-400",orange:"text-orange-400",indigo:"text-indigo-400",yellow:"text-yellow-400",teal:"text-teal-400"})[D]||"text-gray-400",R=e==="all"?y:y.filter(D=>D.id===e),S=()=>{d(!0)},q=D=>{o(D),alert(`Selected ${D} package. Proceeding to checkout...`)};return s.jsxs(s.Fragment,{children:[s.jsx(HP,{isOpen:c,onClose:()=>d(!1)}),s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-green-900 to-slate-900 p-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[m&&p&&s.jsx("div",{className:"mb-12",children:s.jsx(QP,{companyData:p,onBookConsultation:S})}),s.jsxs("div",{className:"text-center mb-12",children:[s.jsx(Oe,{className:"mb-4 bg-green-500/20 text-green-300 border-green-500/50 text-lg px-4 py-2",children:"Professional Accounting Services"}),s.jsx("h1",{className:"text-5xl font-bold text-white mb-4",children:"Devonshire Green Accountants"}),s.jsx("p",{className:"text-xl text-gray-300 mb-6 max-w-3xl mx-auto",children:"Over 90 years of combined professional experience serving businesses across Kent and beyond. Expert accounting, taxation, and financial planning services tailored to your needs."}),s.jsxs("div",{className:"flex justify-center gap-4",children:[s.jsxs(F,{onClick:S,className:"bg-green-600 hover:bg-green-700 text-white text-lg px-8 py-6",children:[s.jsx(us,{className:"w-5 h-5 mr-2"}),"Book Free Consultation"]}),s.jsxs(F,{className:"bg-white/10 hover:bg-white/20 text-white text-lg px-8 py-6",children:[s.jsx(Ci,{className:"w-5 h-5 mr-2"}),"Call 01959 565 772"]})]})]}),s.jsx(G,{className:"bg-white/10 backdrop-blur-lg border-white/20 mb-12",children:s.jsx(Q,{className:"p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-center",children:[s.jsxs("div",{className:"flex items-center justify-center gap-3",children:[s.jsx(sA,{className:"w-6 h-6 text-green-400"}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"text-sm text-gray-400",children:"Location"}),s.jsx("div",{className:"text-white font-medium",children:"Westerham, Kent TN16 1TW"})]})]}),s.jsxs("div",{className:"flex items-center justify-center gap-3",children:[s.jsx(Ci,{className:"w-6 h-6 text-green-400"}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"text-sm text-gray-400",children:"Phone"}),s.jsx("div",{className:"text-white font-medium",children:"01959 565 772"})]})]}),s.jsxs("div",{className:"flex items-center justify-center gap-3",children:[s.jsx(Ws,{className:"w-6 h-6 text-green-400"}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"text-sm text-gray-400",children:"Email"}),s.jsx("div",{className:"text-white font-medium",children:"admin@devonshiregreen.uk"})]})]})]})})}),s.jsxs("div",{className:"mb-12",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-6 text-center",children:"Our Services"}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-3 mb-8",children:[s.jsx(F,{onClick:()=>t("all"),className:`${e==="all"?"bg-green-600":"bg-white/10"} hover:bg-green-700 text-white`,children:"All Services"}),y.map(D=>s.jsx(F,{onClick:()=>t(D.id),className:`${e===D.id?"bg-green-600":"bg-white/10"} hover:bg-green-700 text-white`,children:D.name},D.id))]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:R.map(D=>{const J=D.icon;return s.jsxs(G,{className:"bg-white/10 backdrop-blur-lg border-white/20 hover:bg-white/15 transition-all",children:[s.jsxs(re,{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"p-3 bg-green-500/20 rounded-lg",children:s.jsx(J,{className:`w-8 h-8 ${T(D.color)}`})}),s.jsx(oe,{className:"text-white text-xl",children:D.name})]}),s.jsx(Fe,{className:"text-gray-300",children:D.description})]}),s.jsxs(Q,{children:[s.jsx("ul",{className:"space-y-2",children:D.services.map((de,pe)=>s.jsxs("li",{className:"flex items-start gap-2 text-gray-300",children:[s.jsx(De,{className:"w-5 h-5 text-green-400 flex-shrink-0 mt-0.5"}),s.jsx("span",{children:de})]},pe))}),s.jsxs(F,{onClick:S,className:"w-full mt-6 bg-green-600 hover:bg-green-700 text-white",children:["Learn More",s.jsx(Rh,{className:"w-4 h-4 ml-2"})]})]})]},D.id)})})]}),s.jsxs("div",{className:"mb-12",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-2 text-center",children:"Service Packages"}),s.jsx("p",{className:"text-gray-300 text-center mb-8",children:"Choose the package that fits your business needs"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:b.map((D,J)=>s.jsxs(G,{className:`bg-white/10 backdrop-blur-lg border-white/20 ${D.popular?"ring-2 ring-green-500":""} relative`,children:[D.popular&&s.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:s.jsx(Oe,{className:"bg-green-600 text-white",children:"Most Popular"})}),s.jsxs(re,{children:[s.jsx(oe,{className:"text-white text-2xl",children:D.name}),s.jsx(Fe,{className:"text-gray-300",children:D.description}),s.jsxs("div",{className:"mt-4",children:[s.jsxs("span",{className:"text-4xl font-bold text-green-300",children:["£",D.price]}),s.jsxs("span",{className:"text-gray-400",children:["/",D.period]})]})]}),s.jsxs(Q,{children:[s.jsx("ul",{className:"space-y-3 mb-6",children:D.features.map((de,pe)=>s.jsxs("li",{className:"flex items-start gap-2 text-gray-300",children:[s.jsx(De,{className:"w-5 h-5 text-green-400 flex-shrink-0 mt-0.5"}),s.jsx("span",{children:de})]},pe))}),s.jsxs(F,{onClick:()=>q(D.name),className:`w-full ${D.popular?"bg-green-600 hover:bg-green-700":"bg-white/10 hover:bg-white/20"} text-white`,children:["Select ",D.name]})]})]},J))})]}),s.jsxs(G,{className:"bg-white/10 backdrop-blur-lg border-white/20 mb-12",children:[s.jsxs(re,{children:[s.jsx(oe,{className:"text-white text-2xl",children:"Add-On Services"}),s.jsx(Fe,{className:"text-gray-300",children:"Pay-as-you-go services to complement your package"})]}),s.jsx(Q,{children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:j.map((D,J)=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-lg border border-white/10",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-white font-semibold",children:D.name}),s.jsx("p",{className:"text-sm text-gray-400",children:D.description})]}),s.jsxs("div",{className:"text-right ml-4",children:[s.jsxs("div",{className:"text-2xl font-bold text-green-300",children:["£",D.price]}),s.jsx(F,{className:"mt-2 bg-green-600 hover:bg-green-700 text-white text-sm",size:"sm",children:"Add"})]})]},J))})})]}),s.jsxs("div",{className:"mb-12",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-8 text-center",children:"What Our Clients Say"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:A.map((D,J)=>s.jsx(G,{className:"bg-white/10 backdrop-blur-lg border-white/20",children:s.jsxs(Q,{className:"p-6",children:[s.jsx("div",{className:"flex gap-1 mb-4",children:[...Array(D.rating)].map((de,pe)=>s.jsx(dp,{className:"w-5 h-5 text-yellow-400 fill-yellow-400"},pe))}),s.jsxs("p",{className:"text-gray-300 mb-4 italic",children:['"',D.text,'"']}),s.jsxs("div",{children:[s.jsx("div",{className:"text-white font-semibold",children:D.name}),s.jsx("div",{className:"text-sm text-gray-400",children:D.company})]})]})},J))})]}),s.jsx(G,{className:"bg-gradient-to-r from-green-600/20 to-green-800/20 backdrop-blur-lg border-green-500/50",children:s.jsxs(Q,{className:"p-12 text-center",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Ready to Transform Your Business Finances?"}),s.jsx("p",{className:"text-xl text-gray-300 mb-8 max-w-2xl mx-auto",children:"Book a complimentary consultation with our expert team. No obligation, just expert advice tailored to your business."}),s.jsxs("div",{className:"flex justify-center gap-4",children:[s.jsxs(F,{onClick:S,className:"bg-green-600 hover:bg-green-700 text-white text-lg px-8 py-6",children:[s.jsx(us,{className:"w-5 h-5 mr-2"}),"Book Free Consultation"]}),s.jsxs(F,{className:"bg-white/10 hover:bg-white/20 text-white text-lg px-8 py-6",children:[s.jsx(Ws,{className:"w-5 h-5 mr-2"}),"Email Us"]})]})]})})]})})]})}const YP=()=>{const[i,e]=te.useState("pipeline"),[t,r]=te.useState([]),[o,c]=te.useState([]),[d,m]=te.useState(null),[g,p]=te.useState(!0);te.useEffect(()=>{setTimeout(()=>{r([{leadId:"LEAD-001",companyName:"Tech Innovations Ltd",contactEmail:"john@techinnovations.com",status:"new",priority:"high",leadScore:85,potentialValue:9588,recommendedServices:["Taxation Services","Financial Planning"],createdAt:"2024-10-15T10:30:00",nextFollowUpDate:"2024-10-17T09:00:00"},{leadId:"LEAD-002",companyName:"Construction Services Ltd",contactEmail:"sarah@construction.com",status:"contacted",priority:"medium",leadScore:67,potentialValue:3588,recommendedServices:["CIS Reporting","Payroll"],createdAt:"2024-10-14T14:20:00",nextFollowUpDate:"2024-10-18T14:00:00"},{leadId:"LEAD-003",companyName:"Retail Solutions Ltd",contactEmail:"mike@retail.com",status:"qualified",priority:"high",leadScore:78,potentialValue:3588,recommendedServices:["Bookkeeping","VAT Returns"],createdAt:"2024-10-13T11:45:00",nextFollowUpDate:"2024-10-16T10:00:00"}]),c([{opportunityId:"OPP-001",companyName:"Tech Innovations Ltd",package:"Enterprise",annualValue:9588,probability:80,expectedValue:7670,stage:"proposal",expectedCloseDate:"2024-11-15"},{opportunityId:"OPP-002",companyName:"Retail Solutions Ltd",package:"Professional",annualValue:3588,probability:65,expectedValue:2332,stage:"negotiation",expectedCloseDate:"2024-10-30"}]),m({totalLeads:12,totalOpportunities:5,conversionRate:41.7,averageLeadScore:68.5,winRate:35,averageDealSize:5250,pipelineVelocity:28,totalPipelineValue:45e3,expectedRevenue:28500}),p(!1)},500)},[]);const y=R=>({new:"bg-blue-100 text-blue-800",contacted:"bg-purple-100 text-purple-800",qualified:"bg-green-100 text-green-800",proposal_sent:"bg-yellow-100 text-yellow-800",negotiation:"bg-orange-100 text-orange-800",won:"bg-emerald-100 text-emerald-800",lost:"bg-red-100 text-red-800"})[R]||"bg-gray-100 text-gray-800",b=R=>({high:"text-red-600",medium:"text-yellow-600",low:"text-green-600"})[R]||"text-gray-600",j=({icon:R,label:S,value:q,change:D,trend:J})=>s.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 border border-white/20",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"p-3 bg-gradient-to-br from-green-400/20 to-emerald-500/20 rounded-lg",children:s.jsx(R,{className:"w-6 h-6 text-green-300"})}),D&&s.jsxs("div",{className:`flex items-center gap-1 text-sm ${J==="up"?"text-green-400":"text-red-400"}`,children:[J==="up"?s.jsx(X_,{className:"w-4 h-4"}):s.jsx(Y_,{className:"w-4 h-4"}),s.jsxs("span",{children:[D,"%"]})]})]}),s.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:q}),s.jsx("div",{className:"text-sm text-gray-300",children:S})]}),A=({lead:R})=>s.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 border border-white/20 hover:border-green-400/50 transition-all",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(WT,{className:"w-5 h-5 text-green-400"}),s.jsx("h3",{className:"text-lg font-semibold text-white",children:R.companyName})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-300",children:[s.jsx(Ws,{className:"w-4 h-4"}),s.jsx("span",{children:R.contactEmail})]})]}),s.jsxs("div",{className:"flex flex-col items-end gap-2",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${y(R.status)}`,children:R.status.replace("_"," ").toUpperCase()}),s.jsxs("div",{className:`flex items-center gap-1 ${b(R.priority)}`,children:[s.jsx(zi,{className:"w-4 h-4"}),s.jsx("span",{className:"text-xs font-medium",children:R.priority.toUpperCase()})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Lead Score"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex-1 bg-white/10 rounded-full h-2",children:s.jsx("div",{className:"bg-gradient-to-r from-green-400 to-emerald-500 h-2 rounded-full",style:{width:`${R.leadScore}%`}})}),s.jsx("span",{className:"text-sm font-semibold text-white",children:R.leadScore})]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Potential Value"}),s.jsxs("div",{className:"text-lg font-bold text-green-400",children:["£",R.potentialValue.toLocaleString(),"/yr"]})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("div",{className:"text-xs text-gray-400 mb-2",children:"Recommended Services"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:R.recommendedServices.map((S,q)=>s.jsx("span",{className:"px-2 py-1 bg-green-400/20 text-green-300 rounded text-xs",children:S},q))})]}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-white/10",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[s.jsx(us,{className:"w-4 h-4"}),s.jsxs("span",{children:["Follow-up: ",new Date(R.nextFollowUpDate).toLocaleDateString()]})]}),s.jsx("button",{className:"px-4 py-2 bg-gradient-to-r from-green-400 to-emerald-500 text-white rounded-lg text-sm font-medium hover:shadow-lg hover:shadow-green-500/50 transition-all",children:"View Details"})]})]}),T=({opp:R})=>s.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 border border-white/20 hover:border-green-400/50 transition-all",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:R.companyName}),s.jsxs("span",{className:"px-3 py-1 bg-gradient-to-r from-green-400/20 to-emerald-500/20 text-green-300 rounded-full text-xs font-medium",children:[R.package," Package"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-2xl font-bold text-green-400",children:["£",R.annualValue.toLocaleString()]}),s.jsx("div",{className:"text-xs text-gray-400",children:"Annual Value"})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Probability"}),s.jsxs("div",{className:"text-lg font-semibold text-white",children:[R.probability,"%"]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Expected"}),s.jsxs("div",{className:"text-lg font-semibold text-emerald-400",children:["£",R.expectedValue.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Stage"}),s.jsx("div",{className:"text-sm font-medium text-white capitalize",children:R.stage})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-white/10",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[s.jsx(Ri,{className:"w-4 h-4"}),s.jsxs("span",{children:["Close: ",new Date(R.expectedCloseDate).toLocaleDateString()]})]}),s.jsx("button",{className:"px-4 py-2 bg-gradient-to-r from-green-400 to-emerald-500 text-white rounded-lg text-sm font-medium hover:shadow-lg hover:shadow-green-500/50 transition-all",children:"Manage"})]})]});return g?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-green-900 to-emerald-900 p-8",children:s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsx("div",{className:"text-white text-xl",children:"Loading CRM Dashboard..."})})}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-green-900 to-emerald-900 p-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"CRM Dashboard"}),s.jsx("p",{className:"text-gray-300",children:"Manage leads, opportunities, and sales pipeline"})]}),d&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx(j,{icon:bs,label:"Total Leads",value:d.totalLeads,change:12,trend:"up"}),s.jsx(j,{icon:Ri,label:"Opportunities",value:d.totalOpportunities,change:8,trend:"up"}),s.jsx(j,{icon:er,label:"Pipeline Value",value:`£${(d.totalPipelineValue/1e3).toFixed(0)}k`,change:15,trend:"up"}),s.jsx(j,{icon:Ms,label:"Conversion Rate",value:`${d.conversionRate}%`,change:5,trend:"up"})]}),s.jsxs("div",{className:"flex gap-4 mb-6",children:[s.jsx("button",{onClick:()=>e("pipeline"),className:`px-6 py-3 rounded-lg font-medium transition-all ${i==="pipeline"?"bg-gradient-to-r from-green-400 to-emerald-500 text-white shadow-lg":"bg-white/10 text-gray-300 hover:bg-white/20"}`,children:"Lead Pipeline"}),s.jsx("button",{onClick:()=>e("opportunities"),className:`px-6 py-3 rounded-lg font-medium transition-all ${i==="opportunities"?"bg-gradient-to-r from-green-400 to-emerald-500 text-white shadow-lg":"bg-white/10 text-gray-300 hover:bg-white/20"}`,children:"Opportunities"}),s.jsx("button",{onClick:()=>e("analytics"),className:`px-6 py-3 rounded-lg font-medium transition-all ${i==="analytics"?"bg-gradient-to-r from-green-400 to-emerald-500 text-white shadow-lg":"bg-white/10 text-gray-300 hover:bg-white/20"}`,children:"Analytics"})]}),i==="pipeline"&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h2",{className:"text-2xl font-bold text-white",children:["Lead Pipeline (",t.length,")"]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("button",{className:"px-4 py-2 bg-white/10 text-white rounded-lg hover:bg-white/20 transition-all flex items-center gap-2",children:[s.jsx(s1,{className:"w-4 h-4"}),"Filter"]}),s.jsxs("button",{className:"px-4 py-2 bg-white/10 text-white rounded-lg hover:bg-white/20 transition-all flex items-center gap-2",children:[s.jsx(im,{className:"w-4 h-4"}),"Search"]}),s.jsxs("button",{className:"px-4 py-2 bg-gradient-to-r from-green-400 to-emerald-500 text-white rounded-lg hover:shadow-lg transition-all flex items-center gap-2",children:[s.jsx(ze,{className:"w-4 h-4"}),"New Lead"]})]})]}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:t.map(R=>s.jsx(A,{lead:R},R.leadId))})]}),i==="opportunities"&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h2",{className:"text-2xl font-bold text-white",children:["Opportunities (",o.length,")"]}),s.jsxs("button",{className:"px-4 py-2 bg-gradient-to-r from-green-400 to-emerald-500 text-white rounded-lg hover:shadow-lg transition-all flex items-center gap-2",children:[s.jsx(ze,{className:"w-4 h-4"}),"New Opportunity"]})]}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:o.map(R=>s.jsx(T,{opp:R},R.opportunityId))})]}),i==="analytics"&&d&&s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Sales Analytics"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 border border-white/20",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(J_,{className:"w-8 h-8 text-green-400"}),s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Win Rate"})]}),s.jsxs("div",{className:"text-3xl font-bold text-green-400 mb-2",children:[d.winRate,"%"]}),s.jsx("div",{className:"text-sm text-gray-300",children:"Of opportunities closed successfully"})]}),s.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 border border-white/20",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(er,{className:"w-8 h-8 text-emerald-400"}),s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Avg Deal Size"})]}),s.jsxs("div",{className:"text-3xl font-bold text-emerald-400 mb-2",children:["£",d.averageDealSize.toLocaleString()]}),s.jsx("div",{className:"text-sm text-gray-300",children:"Average annual contract value"})]}),s.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 border border-white/20",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(An,{className:"w-8 h-8 text-blue-400"}),s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Pipeline Velocity"})]}),s.jsxs("div",{className:"text-3xl font-bold text-blue-400 mb-2",children:[d.pipelineVelocity," days"]}),s.jsx("div",{className:"text-sm text-gray-300",children:"Average time to close"})]}),s.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 border border-white/20",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(Ms,{className:"w-8 h-8 text-purple-400"}),s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Avg Lead Score"})]}),s.jsx("div",{className:"text-3xl font-bold text-purple-400 mb-2",children:d.averageLeadScore}),s.jsx("div",{className:"text-sm text-gray-300",children:"Out of 100 points"})]}),s.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 border border-white/20",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(Ri,{className:"w-8 h-8 text-yellow-400"}),s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Expected Revenue"})]}),s.jsxs("div",{className:"text-3xl font-bold text-yellow-400 mb-2",children:["£",(d.expectedRevenue/1e3).toFixed(0),"k"]}),s.jsx("div",{className:"text-sm text-gray-300",children:"Weighted by probability"})]}),s.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 border border-white/20",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(Bi,{className:"w-8 h-8 text-green-400"}),s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Conversion Rate"})]}),s.jsxs("div",{className:"text-3xl font-bold text-green-400 mb-2",children:[d.conversionRate,"%"]}),s.jsx("div",{className:"text-sm text-gray-300",children:"Leads to opportunities"})]})]})]})]})},XP=()=>{const[i,e]=te.useState("30d"),[t,r]=te.useState(!1),o={revenue:{current:125e3,growth:27.6,trend:"up",forecast:145e3},leads:{total:48,new:12,trend:"up",growth:15.4},opportunities:{total:15,won:3,winRate:60},pipeline:{totalValue:78500,expectedValue:52340,velocity:28,stages:[{name:"Discovery",count:4,value:18e3},{name:"Proposal",count:3,value:22500},{name:"Negotiation",count:3,value:38e3}]},performance:{avgResponseTime:2.4,customerSatisfaction:4.8,retentionRate:94.5,churnRate:5.5},topServices:[{name:"Taxation Services",revenue:45e3,count:12,growth:22},{name:"Financial Planning",revenue:32e3,count:8,growth:18},{name:"Payroll Services",revenue:28e3,count:15,growth:12},{name:"Company Secretarial",revenue:2e4,count:6,growth:8}],monthlyTrend:[{month:"Jan",revenue:85e3,leads:32,opportunities:12},{month:"Feb",revenue:92e3,leads:38,opportunities:14},{month:"Mar",revenue:98e3,leads:42,opportunities:13},{month:"Apr",revenue:105e3,leads:45,opportunities:15},{month:"May",revenue:115e3,leads:48,opportunities:16},{month:"Jun",revenue:125e3,leads:52,opportunities:18}]},c=({icon:m,label:g,value:p,change:y,trend:b,subtitle:j})=>s.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 border border-white/20 hover:border-green-400/50 transition-all",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsx("div",{className:"p-3 bg-gradient-to-br from-green-400/20 to-emerald-500/20 rounded-lg",children:s.jsx(m,{className:"w-6 h-6 text-green-300"})}),y!==void 0&&s.jsxs("div",{className:`flex items-center gap-1 px-2 py-1 rounded-full text-sm font-medium ${b==="up"?"bg-green-500/20 text-green-300":b==="down"?"bg-red-500/20 text-red-300":"bg-gray-500/20 text-gray-300"}`,children:[b==="up"&&s.jsx(X_,{className:"w-4 h-4"}),b==="down"&&s.jsx(Y_,{className:"w-4 h-4"}),b==="stable"&&s.jsx(uA,{className:"w-4 h-4"}),s.jsxs("span",{children:[Math.abs(y),"%"]})]})]}),s.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:p}),s.jsx("div",{className:"text-sm text-gray-300",children:g}),j&&s.jsx("div",{className:"text-xs text-gray-400 mt-1",children:j})]}),d=({label:m,value:g,max:p,color:y="green"})=>{const b=g/p*100;return s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[s.jsx("span",{className:"text-gray-300",children:m}),s.jsxs("span",{className:"text-white font-semibold",children:[g," / ",p]})]}),s.jsx("div",{className:"w-full bg-white/10 rounded-full h-2",children:s.jsx("div",{className:`bg-gradient-to-r from-${y}-400 to-${y}-500 h-2 rounded-full transition-all duration-500`,style:{width:`${b}%`}})})]})};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-green-900 to-emerald-900 p-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Enhanced Analytics"}),s.jsx("p",{className:"text-gray-300",children:"Comprehensive business intelligence and insights"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs("select",{value:i,onChange:m=>e(m.target.value),className:"px-4 py-2 bg-white/10 text-white rounded-lg border border-white/20 focus:outline-none focus:border-green-400",children:[s.jsx("option",{value:"7d",children:"Last 7 days"}),s.jsx("option",{value:"30d",children:"Last 30 days"}),s.jsx("option",{value:"90d",children:"Last 90 days"}),s.jsx("option",{value:"1y",children:"Last year"})]}),s.jsxs("button",{className:"px-4 py-2 bg-white/10 text-white rounded-lg hover:bg-white/20 transition-all flex items-center gap-2",children:[s.jsx(gu,{className:"w-4 h-4"}),"Refresh"]}),s.jsxs("button",{className:"px-4 py-2 bg-gradient-to-r from-green-400 to-emerald-500 text-white rounded-lg hover:shadow-lg transition-all flex items-center gap-2",children:[s.jsx($i,{className:"w-4 h-4"}),"Export"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx(c,{icon:er,label:"Total Revenue",value:`£${(o.revenue.current/1e3).toFixed(0)}k`,change:o.revenue.growth,trend:o.revenue.trend,subtitle:`Forecast: £${(o.revenue.forecast/1e3).toFixed(0)}k`}),s.jsx(c,{icon:bs,label:"Total Leads",value:o.leads.total,change:o.leads.growth,trend:o.leads.trend,subtitle:`${o.leads.new} new this month`}),s.jsx(c,{icon:Ri,label:"Win Rate",value:`${o.opportunities.winRate}%`,change:8.5,trend:"up",subtitle:`${o.opportunities.won} won / ${o.opportunities.total} total`}),s.jsx(c,{icon:An,label:"Pipeline Velocity",value:`${o.pipeline.velocity} days`,change:12,trend:"down",subtitle:"Average time to close"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 border border-white/20",children:[s.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[s.jsx(Ui,{className:"w-6 h-6 text-green-400"}),"Pipeline by Stage"]}),o.pipeline.stages.map((m,g)=>s.jsx(d,{label:m.name,value:m.count,max:10,color:"green"},g)),s.jsx("div",{className:"mt-6 pt-6 border-t border-white/20",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Total Pipeline Value"}),s.jsxs("div",{className:"text-2xl font-bold text-green-400",children:["£",(o.pipeline.totalValue/1e3).toFixed(0),"k"]})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Expected Value"}),s.jsxs("div",{className:"text-2xl font-bold text-emerald-400",children:["£",(o.pipeline.expectedValue/1e3).toFixed(0),"k"]})]})]})})]}),s.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 border border-white/20",children:[s.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[s.jsx(e1,{className:"w-6 h-6 text-green-400"}),"Top Services"]}),o.topServices.map((m,g)=>s.jsxs("div",{className:"mb-4 pb-4 border-b border-white/10 last:border-0",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-white font-medium",children:m.name}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-green-400 font-bold",children:["£",(m.revenue/1e3).toFixed(0),"k"]}),s.jsxs("span",{className:"text-xs text-gray-400",children:["(",m.count," clients)"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex-1 bg-white/10 rounded-full h-2",children:s.jsx("div",{className:"bg-gradient-to-r from-green-400 to-emerald-500 h-2 rounded-full",style:{width:`${m.revenue/45e3*100}%`}})}),s.jsxs("span",{className:`text-xs font-medium ${m.growth>15?"text-green-400":"text-yellow-400"}`,children:["+",m.growth,"%"]})]})]},g))]})]}),s.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 border border-white/20 mb-8",children:[s.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[s.jsx(ZT,{className:"w-6 h-6 text-green-400"}),"6-Month Trend"]}),s.jsx("div",{className:"grid grid-cols-6 gap-4",children:o.monthlyTrend.map((m,g)=>s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-sm text-gray-400 mb-2",children:m.month}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-3 mb-2",children:[s.jsxs("div",{className:"text-lg font-bold text-green-400",children:["£",(m.revenue/1e3).toFixed(0),"k"]}),s.jsx("div",{className:"text-xs text-gray-400",children:"Revenue"})]}),s.jsxs("div",{className:"text-sm text-white",children:[m.leads," leads"]}),s.jsxs("div",{className:"text-xs text-gray-400",children:[m.opportunities," opps"]})]},g))})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 border border-white/20",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(Nn,{className:"w-8 h-8 text-blue-400"}),s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Response Time"})]}),s.jsxs("div",{className:"text-3xl font-bold text-blue-400 mb-2",children:[o.performance.avgResponseTime,"h"]}),s.jsx("div",{className:"text-sm text-gray-300",children:"Average response time"})]}),s.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 border border-white/20",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(J_,{className:"w-8 h-8 text-yellow-400"}),s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Satisfaction"})]}),s.jsxs("div",{className:"text-3xl font-bold text-yellow-400 mb-2",children:[o.performance.customerSatisfaction,"/5.0"]}),s.jsx("div",{className:"text-sm text-gray-300",children:"Customer satisfaction score"})]}),s.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 border border-white/20",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(Ms,{className:"w-8 h-8 text-green-400"}),s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Retention"})]}),s.jsxs("div",{className:"text-3xl font-bold text-green-400 mb-2",children:[o.performance.retentionRate,"%"]}),s.jsx("div",{className:"text-sm text-gray-300",children:"Customer retention rate"})]}),s.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-xl p-6 border border-white/20",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(c1,{className:"w-8 h-8 text-red-400"}),s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Churn"})]}),s.jsxs("div",{className:"text-3xl font-bold text-red-400 mb-2",children:[o.performance.churnRate,"%"]}),s.jsx("div",{className:"text-sm text-gray-300",children:"Monthly churn rate"})]})]})]})},JP=()=>{const[i,e]=te.useState("team"),[t,r]=te.useState(null),[o,c]=te.useState({category:"bookkeeping",priority:"medium",complexity:"medium",estimatedHours:2,description:""}),[d,m]=te.useState(null),g=[{id:"JA-001",name:"Sarah Mitchell",type:"junior_accountant",avatar:"👩‍💼",specialties:["Bookkeeping","Payroll","Data Entry"],availability:"Mon-Fri 9am-5pm",capacity:20,costPerHour:35,accuracy:95,speedMultiplier:1,email:"sarah.mitchell@devonshiregreen.uk",phone:"01959 565 772",tasksCompleted:342,rating:4.7},{id:"SA-001",name:"Michael Roberts",type:"senior_accountant",avatar:"👨‍💼",specialties:["Tax Returns","Financial Planning","Consulting"],availability:"Mon-Fri 9am-6pm",capacity:15,costPerHour:75,accuracy:98,speedMultiplier:1.5,qualifications:["ACCA","15 years experience"],email:"michael.roberts@devonshiregreen.uk",phone:"01959 565 772",tasksCompleted:567,rating:4.9},{id:"CA-001",name:"David Patterson",type:"chartered_accountant",avatar:"👔",specialties:["Audit","Financial Planning","Consulting","Tax Planning"],availability:"Mon-Fri 9am-7pm",capacity:10,costPerHour:150,accuracy:99.5,speedMultiplier:2,qualifications:["FCA","25 years experience","Partner"],email:"david.patterson@devonshiregreen.uk",phone:"01959 565 772",tasksCompleted:892,rating:5},{id:"TS-001",name:"Rachel Green",type:"tax_specialist",avatar:"📊",specialties:["Tax Returns","Tax Planning","Inheritance Tax","Capital Gains"],availability:"Mon-Fri 9am-6pm",capacity:12,costPerHour:120,accuracy:99,speedMultiplier:1.8,qualifications:["CTA","ATT","18 years experience"],email:"rachel.green@devonshiregreen.uk",phone:"01959 565 772",tasksCompleted:445,rating:4.9}],p=[{category:"Bookkeeping",icon:"📚",aiSupported:!0,startingPrice:150,services:["Transaction recording","Bank reconciliation","Accounts payable/receivable"]},{category:"Tax Returns",icon:"📋",aiSupported:!1,startingPrice:250,services:["Personal tax returns","Corporate tax returns","Tax planning"]},{category:"Payroll",icon:"💰",aiSupported:!0,startingPrice:100,services:["Payroll processing","RTI submissions","PAYE/NI calculations"]},{category:"VAT",icon:"🧾",aiSupported:!0,startingPrice:120,services:["VAT returns","VAT registration","Making Tax Digital compliance"]},{category:"Audit",icon:"🔍",aiSupported:!1,startingPrice:1500,services:["Statutory audit","Internal audit","Compliance audit"]},{category:"Financial Planning",icon:"📈",aiSupported:!1,startingPrice:500,services:["Business planning","Cash flow forecasting","Investment advice"]}],y={totalCapacity:1067,aiCapacity:1e3,humanCapacity:67,currentTasks:234,utilization:21.9,availableSlots:833,teamSize:5,aiAccountants:1,humanAccountants:4},b=()=>{const R=o.estimatedHours*75,S=R-0;m({ai:{cost:0,time:(o.estimatedHours/10).toFixed(1)+" hours",accountant:"FineGuard AI Assistant"},human:{cost:R,time:o.estimatedHours+" hours",accountant:"Michael Roberts"},savings:S,savingsPercentage:100,recommendation:o.complexity==="high"?"human":"ai"})},j=T=>({ai_assistant:"from-purple-500 to-blue-500",junior_accountant:"from-green-500 to-teal-500",senior_accountant:"from-blue-500 to-indigo-500",chartered_accountant:"from-indigo-500 to-purple-500",tax_specialist:"from-orange-500 to-red-500"})[T]||"from-gray-500 to-gray-600",A=T=>({ai_assistant:{label:"AI Assistant",color:"bg-purple-500"},junior_accountant:{label:"Junior",color:"bg-green-500"},senior_accountant:{label:"Senior",color:"bg-blue-500"},chartered_accountant:{label:"Chartered",color:"bg-indigo-500"},tax_specialist:{label:"Tax Specialist",color:"bg-orange-500"}})[T]||{label:"Accountant",color:"bg-gray-500"};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 p-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("h1",{className:"text-4xl font-bold text-white mb-2 flex items-center gap-3",children:[s.jsx(bs,{className:"w-10 h-10 text-purple-400"}),"Accountant Team"]}),s.jsx("p",{className:"text-gray-300",children:"AI-powered automation meets human expertise"})]}),s.jsx("div",{className:"flex gap-4 mb-8",children:[{id:"team",label:"Team",icon:bs},{id:"services",label:"Services",icon:Tu},{id:"assign",label:"Assign Task",icon:Ri},{id:"capacity",label:"Capacity",icon:Ui}].map(T=>s.jsxs("button",{onClick:()=>e(T.id),className:`px-6 py-3 rounded-xl font-medium transition-all flex items-center gap-2 ${i===T.id?"bg-gradient-to-r from-purple-500 to-blue-500 text-white shadow-lg":"bg-white/10 text-gray-300 hover:bg-white/20"}`,children:[s.jsx(T.icon,{className:"w-5 h-5"}),T.label]},T.id))}),i==="team"&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(T=>{const R=A(T.type);return s.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20 hover:border-purple-400/50 transition-all cursor-pointer",onClick:()=>r(T),children:[s.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[s.jsx("div",{className:`w-16 h-16 rounded-full bg-gradient-to-br ${j(T.type)} flex items-center justify-center text-3xl`,children:T.avatar}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:T.name}),s.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium text-white ${R.color}`,children:R.label})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[s.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[s.jsx("div",{className:"text-gray-400 text-xs mb-1",children:"Accuracy"}),s.jsxs("div",{className:"text-white font-bold",children:[T.accuracy,"%"]})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[s.jsx("div",{className:"text-gray-400 text-xs mb-1",children:"Rating"}),s.jsxs("div",{className:"text-white font-bold flex items-center gap-1",children:["⭐ ",T.rating]})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[s.jsx("div",{className:"text-gray-400 text-xs mb-1",children:"Tasks Done"}),s.jsx("div",{className:"text-white font-bold",children:T.tasksCompleted.toLocaleString()})]}),s.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[s.jsx("div",{className:"text-gray-400 text-xs mb-1",children:"Cost/Hour"}),s.jsx("div",{className:"text-white font-bold",children:T.costPerHour===0?"Free":`£${T.costPerHour}`})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("div",{className:"text-gray-400 text-xs mb-2",children:"Specialties"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:T.specialties.slice(0,3).map((S,q)=>s.jsx("span",{className:"px-2 py-1 bg-purple-500/20 text-purple-300 rounded text-xs",children:S},q))})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-300",children:[s.jsx(An,{className:"w-4 h-4"}),T.availability]}),T.email&&s.jsxs("div",{className:"mt-4 pt-4 border-t border-white/10 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-300",children:[s.jsx(Ws,{className:"w-4 h-4"}),T.email]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-300",children:[s.jsx(Ci,{className:"w-4 h-4"}),T.phone]})]})]},T.id)})}),i==="services"&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map((T,R)=>s.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-6 border border-white/20 hover:border-purple-400/50 transition-all",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"text-4xl",children:T.icon}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-white",children:T.category}),s.jsxs("div",{className:"text-sm text-gray-400",children:["From £",T.startingPrice,"/month"]})]})]}),T.aiSupported&&s.jsxs("div",{className:"bg-purple-500/20 text-purple-300 px-3 py-1 rounded-full text-xs font-medium flex items-center gap-1",children:[s.jsx(Ka,{className:"w-3 h-3"}),"AI"]})]}),s.jsx("ul",{className:"space-y-2",children:T.services.map((S,q)=>s.jsxs("li",{className:"flex items-start gap-2 text-gray-300 text-sm",children:[s.jsx(Bi,{className:"w-4 h-4 text-green-400 mt-0.5 flex-shrink-0"}),S]},q))}),s.jsx("button",{className:"w-full mt-4 bg-gradient-to-r from-purple-500 to-blue-500 text-white py-2 rounded-lg font-medium hover:shadow-lg transition-all",children:"Request Service"})]},R))}),i==="assign"&&s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-8 border border-white/20",children:[s.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[s.jsx(Ri,{className:"w-6 h-6 text-purple-400"}),"Assign New Task"]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2 font-medium",children:"Service Category"}),s.jsxs("select",{value:o.category,onChange:T=>c({...o,category:T.target.value}),className:"w-full bg-white/5 border border-white/20 rounded-lg px-4 py-3 text-white",children:[s.jsx("option",{value:"bookkeeping",children:"Bookkeeping"}),s.jsx("option",{value:"tax_returns",children:"Tax Returns"}),s.jsx("option",{value:"payroll",children:"Payroll"}),s.jsx("option",{value:"vat",children:"VAT"}),s.jsx("option",{value:"audit",children:"Audit"}),s.jsx("option",{value:"financial_planning",children:"Financial Planning"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2 font-medium",children:"Priority"}),s.jsxs("select",{value:o.priority,onChange:T=>c({...o,priority:T.target.value}),className:"w-full bg-white/5 border border-white/20 rounded-lg px-4 py-3 text-white",children:[s.jsx("option",{value:"low",children:"Low"}),s.jsx("option",{value:"medium",children:"Medium"}),s.jsx("option",{value:"high",children:"High"}),s.jsx("option",{value:"urgent",children:"Urgent"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2 font-medium",children:"Complexity"}),s.jsxs("select",{value:o.complexity,onChange:T=>c({...o,complexity:T.target.value}),className:"w-full bg-white/5 border border-white/20 rounded-lg px-4 py-3 text-white",children:[s.jsx("option",{value:"low",children:"Low"}),s.jsx("option",{value:"medium",children:"Medium"}),s.jsx("option",{value:"high",children:"High"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2 font-medium",children:"Estimated Hours"}),s.jsx("input",{type:"number",value:o.estimatedHours,onChange:T=>c({...o,estimatedHours:parseFloat(T.target.value)}),className:"w-full bg-white/5 border border-white/20 rounded-lg px-4 py-3 text-white",min:"0.5",step:"0.5"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-white mb-2 font-medium",children:"Task Description"}),s.jsx("textarea",{value:o.description,onChange:T=>c({...o,description:T.target.value}),className:"w-full bg-white/5 border border-white/20 rounded-lg px-4 py-3 text-white h-32",placeholder:"Describe the task in detail..."})]}),s.jsxs("button",{onClick:b,className:"w-full bg-gradient-to-r from-blue-500 to-purple-500 text-white py-3 rounded-lg font-medium hover:shadow-lg transition-all flex items-center justify-center gap-2",children:[s.jsx(er,{className:"w-5 h-5"}),"Calculate Cost Comparison"]}),d&&s.jsxs("div",{className:"mt-6 p-6 bg-gradient-to-r from-purple-500/20 to-blue-500/20 rounded-xl border border-purple-400/30",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Cost Comparison"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[s.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(Ka,{className:"w-5 h-5 text-purple-400"}),s.jsx("span",{className:"font-bold text-white",children:"AI Assistant"})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-300",children:"Cost:"}),s.jsxs("span",{className:"text-white font-bold",children:["£",d.ai.cost]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-300",children:"Time:"}),s.jsx("span",{className:"text-white font-bold",children:d.ai.time})]})]})]}),s.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(Xa,{className:"w-5 h-5 text-blue-400"}),s.jsx("span",{className:"font-bold text-white",children:"Human Accountant"})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-300",children:"Cost:"}),s.jsxs("span",{className:"text-white font-bold",children:["£",d.human.cost]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-300",children:"Time:"}),s.jsx("span",{className:"text-white font-bold",children:d.human.time})]})]})]})]}),s.jsx("div",{className:"bg-green-500/20 border border-green-400/30 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-green-300 font-medium",children:"Potential Savings with AI:"}),s.jsxs("span",{className:"text-green-400 font-bold text-xl",children:["£",d.savings," (",d.savingsPercentage,"%)"]})]})}),s.jsx("div",{className:"mt-4 p-4 bg-white/10 rounded-lg",children:s.jsxs("div",{className:"flex items-center gap-2 text-white",children:[s.jsx(Fa,{className:"w-5 h-5 text-yellow-400"}),s.jsx("span",{className:"font-bold",children:"Recommendation:"}),s.jsx("span",{className:"capitalize",children:d.recommendation})]})}),s.jsxs("button",{className:"w-full mt-4 bg-gradient-to-r from-green-500 to-emerald-500 text-white py-3 rounded-lg font-medium hover:shadow-lg transition-all",children:["Assign to ",d.recommendation==="ai"?"AI Assistant":"Human Accountant"]})]})]})]})}),i==="capacity"&&s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-8 border border-white/20",children:[s.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center gap-2",children:[s.jsx(Ui,{className:"w-6 h-6 text-purple-400"}),"Team Capacity & Utilization"]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[s.jsxs("div",{className:"bg-gradient-to-br from-purple-500/20 to-blue-500/20 rounded-xl p-4 border border-purple-400/30",children:[s.jsx("div",{className:"text-gray-300 text-sm mb-1",children:"Total Capacity"}),s.jsx("div",{className:"text-white text-2xl font-bold",children:y.totalCapacity}),s.jsx("div",{className:"text-gray-400 text-xs",children:"tasks/day"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-green-500/20 to-emerald-500/20 rounded-xl p-4 border border-green-400/30",children:[s.jsx("div",{className:"text-gray-300 text-sm mb-1",children:"Current Tasks"}),s.jsx("div",{className:"text-white text-2xl font-bold",children:y.currentTasks}),s.jsx("div",{className:"text-gray-400 text-xs",children:"active"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-orange-500/20 to-red-500/20 rounded-xl p-4 border border-orange-400/30",children:[s.jsx("div",{className:"text-gray-300 text-sm mb-1",children:"Utilization"}),s.jsxs("div",{className:"text-white text-2xl font-bold",children:[y.utilization,"%"]}),s.jsx("div",{className:"text-gray-400 text-xs",children:"of capacity"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-blue-500/20 to-indigo-500/20 rounded-xl p-4 border border-blue-400/30",children:[s.jsx("div",{className:"text-gray-300 text-sm mb-1",children:"Available"}),s.jsx("div",{className:"text-white text-2xl font-bold",children:y.availableSlots}),s.jsx("div",{className:"text-gray-400 text-xs",children:"slots"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Capacity Breakdown"}),s.jsxs("div",{className:"bg-white/5 rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ka,{className:"w-5 h-5 text-purple-400"}),s.jsx("span",{className:"text-white font-medium",children:"AI Assistant Capacity"})]}),s.jsxs("span",{className:"text-white font-bold",children:[y.aiCapacity," tasks/day"]})]}),s.jsx("div",{className:"w-full bg-white/10 rounded-full h-3",children:s.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-blue-500 h-3 rounded-full",style:{width:"23%"}})}),s.jsx("div",{className:"text-gray-400 text-sm mt-1",children:"23% utilized (230 tasks)"})]}),s.jsxs("div",{className:"bg-white/5 rounded-xl p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(bs,{className:"w-5 h-5 text-blue-400"}),s.jsx("span",{className:"text-white font-medium",children:"Human Accountants Capacity"})]}),s.jsxs("span",{className:"text-white font-bold",children:[y.humanCapacity," tasks/day"]})]}),s.jsx("div",{className:"w-full bg-white/10 rounded-full h-3",children:s.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-500 h-3 rounded-full",style:{width:"6%"}})}),s.jsx("div",{className:"text-gray-400 text-sm mt-1",children:"6% utilized (4 tasks)"})]})]}),s.jsxs("div",{className:"mt-8 grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-white/5 rounded-xl p-4 text-center",children:[s.jsx("div",{className:"text-3xl mb-2",children:"🤖"}),s.jsx("div",{className:"text-white font-bold text-xl",children:y.aiAccountants}),s.jsx("div",{className:"text-gray-400 text-sm",children:"AI Assistant"})]}),s.jsxs("div",{className:"bg-white/5 rounded-xl p-4 text-center",children:[s.jsx("div",{className:"text-3xl mb-2",children:"👥"}),s.jsx("div",{className:"text-white font-bold text-xl",children:y.humanAccountants}),s.jsx("div",{className:"text-gray-400 text-sm",children:"Human Accountants"})]}),s.jsxs("div",{className:"bg-white/5 rounded-xl p-4 text-center",children:[s.jsx("div",{className:"text-3xl mb-2",children:"🎯"}),s.jsx("div",{className:"text-white font-bold text-xl",children:y.teamSize}),s.jsx("div",{className:"text-gray-400 text-sm",children:"Total Team"})]})]})]})})]})})},ZP=()=>{const[i,e]=te.useState("month"),[t,r]=te.useState("all"),o=[{id:1,name:"Monthly Financial Report",type:"financial",date:"2024-10-01",size:"2.4 MB",status:"ready",description:"Complete financial overview for October 2024"},{id:2,name:"Compliance Status Report",type:"compliance",date:"2024-10-15",size:"1.8 MB",status:"ready",description:"Current compliance obligations and status"},{id:3,name:"Tax Summary Q3 2024",type:"tax",date:"2024-09-30",size:"3.1 MB",status:"ready",description:"Quarterly tax summary and projections"},{id:4,name:"Payroll Report October",type:"payroll",date:"2024-10-31",size:"1.2 MB",status:"processing",description:"Monthly payroll summary and analysis"}],c=[{value:"all",label:"All Reports",icon:ws},{value:"financial",label:"Financial",icon:er},{value:"compliance",label:"Compliance",icon:Ms},{value:"tax",label:"Tax",icon:e1},{value:"payroll",label:"Payroll",icon:Ui}],d=t==="all"?o:o.filter(m=>m.type===t);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Reports"}),s.jsx("p",{className:"text-muted-foreground",children:"Generate and download business reports"})]}),s.jsxs(F,{children:[s.jsx(ws,{className:"mr-2 h-4 w-4"}),"Generate New Report"]})]}),s.jsxs(G,{children:[s.jsx(re,{children:s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(s1,{className:"h-5 w-5"}),"Filters"]})}),s.jsx(Q,{children:s.jsx("div",{className:"flex gap-4",children:s.jsx("div",{className:"flex gap-2",children:c.map(m=>s.jsxs(F,{variant:t===m.value?"default":"outline",onClick:()=>r(m.value),size:"sm",children:[s.jsx(m.icon,{className:"mr-2 h-4 w-4"}),m.label]},m.value))})})})]}),s.jsx("div",{className:"grid gap-4",children:d.map(m=>s.jsx(G,{children:s.jsx(Q,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-primary/10 rounded-lg",children:s.jsx(ws,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg",children:m.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:m.description}),s.jsxs("div",{className:"flex gap-4 mt-2 text-sm text-muted-foreground",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(us,{className:"h-3 w-3"}),m.date]}),s.jsx("span",{children:m.size}),s.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${m.status==="ready"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:m.status})]})]})]}),s.jsxs(F,{disabled:m.status!=="ready",children:[s.jsx($i,{className:"mr-2 h-4 w-4"}),"Download"]})]})})},m.id))})]})},eD=()=>{const[i,e]=te.useState(""),[t,r]=te.useState("all"),o=[{id:"all",name:"All Documents",count:24},{id:"contracts",name:"Contracts",count:8},{id:"invoices",name:"Invoices",count:12},{id:"reports",name:"Reports",count:4}],d=[{id:1,name:"Service Agreement 2024.pdf",folder:"contracts",size:"245 KB",date:"2024-10-15",type:"pdf"},{id:2,name:"Invoice INV-001.pdf",folder:"invoices",size:"128 KB",date:"2024-10-14",type:"pdf"},{id:3,name:"Monthly Report Sept.xlsx",folder:"reports",size:"512 KB",date:"2024-10-01",type:"excel"}].filter(m=>(t==="all"||m.folder===t)&&m.name.toLowerCase().includes(i.toLowerCase()));return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Documents"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your business documents"})]}),s.jsxs(F,{children:[s.jsx(BA,{className:"mr-2 h-4 w-4"}),"Upload Document"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsxs(G,{className:"md:col-span-1",children:[s.jsx(re,{children:s.jsx(oe,{className:"text-lg",children:"Folders"})}),s.jsx(Q,{className:"space-y-2",children:o.map(m=>s.jsxs(F,{variant:t===m.id?"default":"ghost",className:"w-full justify-start",onClick:()=>r(m.id),children:[s.jsx(DE,{className:"mr-2 h-4 w-4"}),m.name,s.jsx("span",{className:"ml-auto text-xs",children:m.count})]},m.id))})]}),s.jsxs("div",{className:"md:col-span-3 space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(im,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx("input",{type:"text",placeholder:"Search documents...",className:"w-full pl-10 pr-4 py-2 border rounded-lg",value:i,onChange:m=>e(m.target.value)})]}),s.jsx("div",{className:"grid gap-4",children:d.map(m=>s.jsx(G,{children:s.jsx(Q,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-primary/10 rounded",children:s.jsx(ws,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:m.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[m.size," • ",m.date]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{size:"sm",variant:"ghost",children:s.jsx(Eu,{className:"h-4 w-4"})}),s.jsx(F,{size:"sm",variant:"ghost",children:s.jsx($i,{className:"h-4 w-4"})}),s.jsx(F,{size:"sm",variant:"ghost",children:s.jsx(kr,{className:"h-4 w-4"})})]})]})})},m.id))})]})]})]})},tD=()=>{const i=[{id:1,title:"Tax Filing Deadline",date:"2024-10-31",time:"17:00",type:"deadline"},{id:2,title:"Client Meeting - ABC Ltd",date:"2024-10-18",time:"14:00",type:"meeting"},{id:3,title:"Payroll Processing",date:"2024-10-25",time:"09:00",type:"task"}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Calendar"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage appointments and deadlines"})]}),s.jsxs(F,{children:[s.jsx(ze,{className:"mr-2 h-4 w-4"}),"Add Event"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:s.jsxs(G,{className:"md:col-span-2",children:[s.jsx(re,{children:s.jsx(oe,{children:"Upcoming Events"})}),s.jsx(Q,{className:"space-y-4",children:i.map(e=>s.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-lg",children:[s.jsx(us,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold",children:e.title}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx(An,{className:"inline h-3 w-3 mr-1"}),e.date," at ",e.time]})]})]},e.id))})]})})]})},sD=()=>{const i=[{id:1,title:"Review Q3 financial statements",status:"pending",priority:"high",due:"2024-10-20"},{id:2,title:"Update client database",status:"in_progress",priority:"medium",due:"2024-10-22"},{id:3,title:"Prepare tax documents",status:"completed",priority:"high",due:"2024-10-15"}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Tasks"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your to-do list"})]}),s.jsxs(F,{children:[s.jsx(ze,{className:"mr-2 h-4 w-4"}),"New Task"]})]}),s.jsxs(G,{children:[s.jsx(re,{children:s.jsx(oe,{children:"All Tasks"})}),s.jsx(Q,{className:"space-y-3",children:i.map(e=>s.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-lg",children:[e.status==="completed"?s.jsx(Bi,{className:"h-5 w-5 text-green-500"}):s.jsx(yE,{className:"h-5 w-5 text-gray-400"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:`font-semibold ${e.status==="completed"?"line-through text-muted-foreground":""}`,children:e.title}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx(us,{className:"inline h-3 w-3 mr-1"}),"Due: ",e.due]})]}),s.jsx("span",{className:`px-3 py-1 rounded-full text-xs ${e.priority==="high"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:e.priority})]},e.id))})]})]})},nD=()=>{const i=[{id:"INV-001",client:"ABC Ltd",amount:2500,status:"paid",date:"2024-10-01"},{id:"INV-002",client:"XYZ Corp",amount:3200,status:"pending",date:"2024-10-10"},{id:"INV-003",client:"Tech Solutions",amount:1800,status:"overdue",date:"2024-09-25"}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Invoices"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage client invoices"})]}),s.jsxs(F,{children:[s.jsx(ze,{className:"mr-2 h-4 w-4"}),"Create Invoice"]})]}),s.jsxs(G,{children:[s.jsx(re,{children:s.jsx(oe,{children:"Recent Invoices"})}),s.jsx(Q,{children:s.jsx("div",{className:"space-y-3",children:i.map(e=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(ws,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:e.id}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.client," • ",e.date]})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("span",{className:"font-semibold",children:["£",e.amount.toLocaleString()]}),s.jsx("span",{className:`px-3 py-1 rounded-full text-xs ${e.status==="paid"?"bg-green-100 text-green-700":e.status==="pending"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:e.status}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(F,{size:"sm",variant:"ghost",children:s.jsx(Eu,{className:"h-4 w-4"})}),s.jsx(F,{size:"sm",variant:"ghost",children:s.jsx($i,{className:"h-4 w-4"})})]})]})]},e.id))})})]})]})},rD=()=>{const i=[{id:1,name:"ABC Ltd",contact:"John Smith",email:"john@abc.com",phone:"020 1234 5678",status:"active"},{id:2,name:"XYZ Corp",contact:"Jane Doe",email:"jane@xyz.com",phone:"020 8765 4321",status:"active"},{id:3,name:"Tech Solutions",contact:"Bob Wilson",email:"bob@tech.com",phone:"020 5555 1234",status:"inactive"}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Clients"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage your client database"})]}),s.jsxs(F,{children:[s.jsx(ze,{className:"mr-2 h-4 w-4"}),"Add Client"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(e=>s.jsxs(G,{children:[s.jsx(re,{children:s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(vl,{className:"h-5 w-5"}),e.name]})}),s.jsxs(Q,{className:"space-y-2",children:[s.jsxs("p",{className:"text-sm",children:[s.jsx("strong",{children:"Contact:"})," ",e.contact]}),s.jsxs("p",{className:"text-sm flex items-center gap-2",children:[s.jsx(Ws,{className:"h-4 w-4"}),e.email]}),s.jsxs("p",{className:"text-sm flex items-center gap-2",children:[s.jsx(Ci,{className:"h-4 w-4"}),e.phone]}),s.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs ${e.status==="active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:e.status})]})]},e.id))})]})},iD=()=>{const i=[{id:1,name:"Q4 Tax Planning",client:"ABC Ltd",progress:75,status:"in_progress",deadline:"2024-12-15"},{id:2,name:"Annual Audit 2024",client:"XYZ Corp",progress:30,status:"in_progress",deadline:"2024-11-30"},{id:3,name:"Payroll Setup",client:"Tech Solutions",progress:100,status:"completed",deadline:"2024-10-01"}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Projects"}),s.jsx("p",{className:"text-muted-foreground",children:"Track project progress"})]}),s.jsxs(F,{children:[s.jsx(ze,{className:"mr-2 h-4 w-4"}),"New Project"]})]}),s.jsx("div",{className:"grid gap-4",children:i.map(e=>s.jsx(G,{children:s.jsxs(Q,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Tu,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg",children:e.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.client})]})]}),s.jsx("span",{className:`px-3 py-1 rounded-full text-xs ${e.status==="completed"?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}`,children:e.status.replace("_"," ")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Progress"}),s.jsxs("span",{children:[e.progress,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-primary h-2 rounded-full",style:{width:`${e.progress}%`}})}),s.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[s.jsx(us,{className:"h-3 w-3"}),"Deadline: ",e.deadline]})]})]})},e.id))})]})},aD=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Integrations"}),s.jsx("p",{className:"text-muted-foreground",children:"Connect third-party services"})]}),s.jsxs(F,{children:[s.jsx(ze,{className:"mr-2 h-4 w-4"}),"Add New"]})]}),s.jsxs(G,{children:[s.jsx(re,{children:s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(l1,{className:"h-5 w-5"}),"Integrations Overview"]})}),s.jsx(Q,{children:s.jsx("p",{className:"text-muted-foreground",children:"Connect third-party services. Full functionality coming soon."})})]})]}),oD=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"AuditLog"}),s.jsx("p",{className:"text-muted-foreground",children:"View security and activity logs"})]}),s.jsxs(F,{children:[s.jsx(ze,{className:"mr-2 h-4 w-4"}),"Add New"]})]}),s.jsxs(G,{children:[s.jsx(re,{children:s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(As,{className:"h-5 w-5"}),"AuditLog Overview"]})}),s.jsx(Q,{children:s.jsx("p",{className:"text-muted-foreground",children:"View security and activity logs. Full functionality coming soon."})})]})]}),lD=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Support"}),s.jsx("p",{className:"text-muted-foreground",children:"Get help and support"})]}),s.jsxs(F,{children:[s.jsx(ze,{className:"mr-2 h-4 w-4"}),"Add New"]})]}),s.jsxs(G,{children:[s.jsx(re,{children:s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(Oh,{className:"h-5 w-5"}),"Support Overview"]})}),s.jsx(Q,{children:s.jsx("p",{className:"text-muted-foreground",children:"Get help and support. Full functionality coming soon."})})]})]}),cD=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"KnowledgeBase"}),s.jsx("p",{className:"text-muted-foreground",children:"Browse documentation"})]}),s.jsxs(F,{children:[s.jsx(ze,{className:"mr-2 h-4 w-4"}),"Add New"]})]}),s.jsxs(G,{children:[s.jsx(re,{children:s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(Z_,{className:"h-5 w-5"}),"KnowledgeBase Overview"]})}),s.jsx(Q,{children:s.jsx("p",{className:"text-muted-foreground",children:"Browse documentation. Full functionality coming soon."})})]})]}),uD=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Training"}),s.jsx("p",{className:"text-muted-foreground",children:"Access training materials"})]}),s.jsxs(F,{children:[s.jsx(ze,{className:"mr-2 h-4 w-4"}),"Add New"]})]}),s.jsxs(G,{children:[s.jsx(re,{children:s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(n1,{className:"h-5 w-5"}),"Training Overview"]})}),s.jsx(Q,{children:s.jsx("p",{className:"text-muted-foreground",children:"Access training materials. Full functionality coming soon."})})]})]}),dD=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"ComplianceDashboard"}),s.jsx("p",{className:"text-muted-foreground",children:"Monitor compliance status"})]}),s.jsxs(F,{children:[s.jsx(ze,{className:"mr-2 h-4 w-4"}),"Add New"]})]}),s.jsxs(G,{children:[s.jsx(re,{children:s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(Bi,{className:"h-5 w-5"}),"ComplianceDashboard Overview"]})}),s.jsx(Q,{children:s.jsx("p",{className:"text-muted-foreground",children:"Monitor compliance status. Full functionality coming soon."})})]})]}),hD=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"TaxPlanning"}),s.jsx("p",{className:"text-muted-foreground",children:"Plan tax strategy"})]}),s.jsxs(F,{children:[s.jsx(ze,{className:"mr-2 h-4 w-4"}),"Add New"]})]}),s.jsxs(G,{children:[s.jsx(re,{children:s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(Ih,{className:"h-5 w-5"}),"TaxPlanning Overview"]})}),s.jsx(Q,{children:s.jsx("p",{className:"text-muted-foreground",children:"Plan tax strategy. Full functionality coming soon."})})]})]}),mD=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Payroll"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage payroll"})]}),s.jsxs(F,{children:[s.jsx(ze,{className:"mr-2 h-4 w-4"}),"Add New"]})]}),s.jsxs(G,{children:[s.jsx(re,{children:s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(bs,{className:"h-5 w-5"}),"Payroll Overview"]})}),s.jsx(Q,{children:s.jsx("p",{className:"text-muted-foreground",children:"Manage payroll. Full functionality coming soon."})})]})]}),fD=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Marketing"}),s.jsx("p",{className:"text-muted-foreground",children:"Marketing campaigns"})]}),s.jsxs(F,{children:[s.jsx(ze,{className:"mr-2 h-4 w-4"}),"Add New"]})]}),s.jsxs(G,{children:[s.jsx(re,{children:s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(i1,{className:"h-5 w-5"}),"Marketing Overview"]})}),s.jsx(Q,{children:s.jsx("p",{className:"text-muted-foreground",children:"Marketing campaigns. Full functionality coming soon."})})]})]}),gD=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Sales"}),s.jsx("p",{className:"text-muted-foreground",children:"Sales pipeline"})]}),s.jsxs(F,{children:[s.jsx(ze,{className:"mr-2 h-4 w-4"}),"Add New"]})]}),s.jsxs(G,{children:[s.jsx(re,{children:s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(Ms,{className:"h-5 w-5"}),"Sales Overview"]})}),s.jsx(Q,{children:s.jsx("p",{className:"text-muted-foreground",children:"Sales pipeline. Full functionality coming soon."})})]})]}),pD=()=>{const[i,e]=te.useState("profile"),t={name:"John Smith",email:"john.smith@example.com",phone:"+44 20 1234 5678",location:"London, UK",role:"Business Owner",company:"ABC Ltd"},r=[{id:1,action:"Logged in",timestamp:"2024-10-16 09:30",ip:"192.168.1.1"},{id:2,action:"Updated profile",timestamp:"2024-10-15 14:20",ip:"192.168.1.1"},{id:3,action:"Generated report",timestamp:"2024-10-15 11:45",ip:"192.168.1.1"}],o=()=>{switch(i){case"profile":return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Full Name"}),s.jsx("input",{type:"text",defaultValue:t.name,className:"w-full p-3 border rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),s.jsx("input",{type:"email",defaultValue:t.email,className:"w-full p-3 border rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Phone"}),s.jsx("input",{type:"tel",defaultValue:t.phone,className:"w-full p-3 border rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Location"}),s.jsx("input",{type:"text",defaultValue:t.location,className:"w-full p-3 border rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Role"}),s.jsx("input",{type:"text",defaultValue:t.role,className:"w-full p-3 border rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Company"}),s.jsx("input",{type:"text",defaultValue:t.company,className:"w-full p-3 border rounded-lg"})]})]}),s.jsx(F,{children:"Save Changes"})]});case"activity":return s.jsx("div",{className:"space-y-4",children:r.map(c=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Nn,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:c.action}),s.jsx("p",{className:"text-sm text-muted-foreground",children:c.timestamp})]})]}),s.jsx("span",{className:"text-sm text-muted-foreground",children:c.ip})]},c.id))});case"preferences":return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ks,{className:"h-5 w-5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:"Email Notifications"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive email updates"})]})]}),s.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-5 h-5"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ks,{className:"h-5 w-5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:"Push Notifications"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive push notifications"})]})]}),s.jsx("input",{type:"checkbox",defaultChecked:!0,className:"w-5 h-5"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(up,{className:"h-5 w-5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:"Two-Factor Authentication"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Extra security for your account"})]})]}),s.jsx(F,{size:"sm",children:"Enable"})]})]});case"billing":return s.jsxs("div",{className:"space-y-6",children:[s.jsxs(G,{children:[s.jsx(re,{children:s.jsx(oe,{children:"Current Plan"})}),s.jsx(Q,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:"Professional"}),s.jsx("p",{className:"text-muted-foreground",children:"£299/month"})]}),s.jsx(F,{children:"Upgrade"})]})})]}),s.jsxs(G,{children:[s.jsx(re,{children:s.jsx(oe,{children:"Payment Method"})}),s.jsx(Q,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ya,{className:"h-5 w-5"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:"•••• •••• •••• 4242"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Expires 12/25"})]})]})})]})]});default:return null}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-20 h-20 bg-primary rounded-full flex items-center justify-center text-white text-2xl font-bold",children:t.name.split(" ").map(c=>c[0]).join("")}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:t.name}),s.jsx("p",{className:"text-muted-foreground",children:t.email})]})]}),s.jsxs("div",{className:"flex gap-2 border-b",children:[s.jsx("button",{onClick:()=>e("profile"),className:`px-4 py-2 font-medium ${i==="profile"?"border-b-2 border-primary text-primary":"text-muted-foreground"}`,children:"Profile"}),s.jsx("button",{onClick:()=>e("activity"),className:`px-4 py-2 font-medium ${i==="activity"?"border-b-2 border-primary text-primary":"text-muted-foreground"}`,children:"Activity"}),s.jsx("button",{onClick:()=>e("preferences"),className:`px-4 py-2 font-medium ${i==="preferences"?"border-b-2 border-primary text-primary":"text-muted-foreground"}`,children:"Preferences"}),s.jsx("button",{onClick:()=>e("billing"),className:`px-4 py-2 font-medium ${i==="billing"?"border-b-2 border-primary text-primary":"text-muted-foreground"}`,children:"Billing"})]}),s.jsx(G,{children:s.jsx(Q,{className:"p-6",children:o()})})]})},xD=()=>{const[i,e]=te.useState("overview"),t={totalUsers:1247,activeUsers:892,totalCompanies:543,systemHealth:98.5},r=[{id:1,name:"John Smith",email:"john@example.com",role:"admin",status:"active",lastLogin:"2024-10-16 09:30"},{id:2,name:"Jane Doe",email:"jane@example.com",role:"user",status:"active",lastLogin:"2024-10-16 08:15"},{id:3,name:"Bob Wilson",email:"bob@example.com",role:"user",status:"inactive",lastLogin:"2024-10-10 14:20"}],o=[{id:1,type:"info",message:"System backup completed",timestamp:"2024-10-16 03:00"},{id:2,type:"warning",message:"High CPU usage detected",timestamp:"2024-10-16 02:45"},{id:3,type:"error",message:"Database connection timeout",timestamp:"2024-10-15 23:30"}],c=()=>{switch(i){case"overview":return s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(G,{children:s.jsx(Q,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Users"}),s.jsx("p",{className:"text-3xl font-bold",children:t.totalUsers})]}),s.jsx(bs,{className:"h-8 w-8 text-primary"})]})})}),s.jsx(G,{children:s.jsx(Q,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Users"}),s.jsx("p",{className:"text-3xl font-bold",children:t.activeUsers})]}),s.jsx(Bi,{className:"h-8 w-8 text-green-500"})]})})}),s.jsx(G,{children:s.jsx(Q,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Companies"}),s.jsx("p",{className:"text-3xl font-bold",children:t.totalCompanies})]}),s.jsx(Ar,{className:"h-8 w-8 text-blue-500"})]})})}),s.jsx(G,{children:s.jsx(Q,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"System Health"}),s.jsxs("p",{className:"text-3xl font-bold",children:[t.systemHealth,"%"]})]}),s.jsx(Nn,{className:"h-8 w-8 text-purple-500"})]})})})]});case"users":return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"User Management"}),s.jsx(F,{children:"Add User"})]}),r.map(d=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-10 h-10 bg-primary rounded-full flex items-center justify-center text-white font-bold",children:d.name.split(" ").map(m=>m[0]).join("")}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:d.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:d.email})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-xs ${d.role==="admin"?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:d.role}),s.jsx("span",{className:`px-3 py-1 rounded-full text-xs ${d.status==="active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:d.status}),s.jsx(F,{size:"sm",variant:"ghost",children:"Edit"})]})]},d.id))]});case"settings":return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Site Name"}),s.jsx("input",{type:"text",defaultValue:"FineGuard",className:"w-full p-3 border rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Admin Email"}),s.jsx("input",{type:"email",defaultValue:"admin@fineguard.com",className:"w-full p-3 border rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Max Upload Size (MB)"}),s.jsx("input",{type:"number",defaultValue:"50",className:"w-full p-3 border rounded-lg"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Session Timeout (minutes)"}),s.jsx("input",{type:"number",defaultValue:"30",className:"w-full p-3 border rounded-lg"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:"Maintenance Mode"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Temporarily disable site access"})]}),s.jsx("input",{type:"checkbox",className:"w-5 h-5"})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:"Debug Mode"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Show detailed error messages"})]}),s.jsx("input",{type:"checkbox",className:"w-5 h-5"})]})]}),s.jsx(F,{children:"Save Settings"})]});case"logs":return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"System Logs"}),s.jsx(F,{size:"sm",children:"Clear Logs"})]}),o.map(d=>s.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-lg",children:[d.type==="info"&&s.jsx(Bi,{className:"h-5 w-5 text-blue-500"}),d.type==="warning"&&s.jsx(Au,{className:"h-5 w-5 text-yellow-500"}),d.type==="error"&&s.jsx(Zp,{className:"h-5 w-5 text-red-500"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-semibold",children:d.message}),s.jsx("p",{className:"text-sm text-muted-foreground",children:d.timestamp})]}),s.jsx("span",{className:`px-3 py-1 rounded-full text-xs ${d.type==="info"?"bg-blue-100 text-blue-700":d.type==="warning"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:d.type})]},d.id))]});default:return null}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(As,{className:"h-8 w-8 text-primary"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Admin Control Panel"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage system settings and users"})]})]}),s.jsxs("div",{className:"flex gap-2 border-b",children:[s.jsx("button",{onClick:()=>e("overview"),className:`px-4 py-2 font-medium ${i==="overview"?"border-b-2 border-primary text-primary":"text-muted-foreground"}`,children:"Overview"}),s.jsx("button",{onClick:()=>e("users"),className:`px-4 py-2 font-medium ${i==="users"?"border-b-2 border-primary text-primary":"text-muted-foreground"}`,children:"Users"}),s.jsx("button",{onClick:()=>e("settings"),className:`px-4 py-2 font-medium ${i==="settings"?"border-b-2 border-primary text-primary":"text-muted-foreground"}`,children:"Settings"}),s.jsx("button",{onClick:()=>e("logs"),className:`px-4 py-2 font-medium ${i==="logs"?"border-b-2 border-primary text-primary":"text-muted-foreground"}`,children:"Logs"})]}),s.jsx("div",{children:c()})]})},yD=()=>{const[i,e]=te.useState("agents"),t=[{id:1,name:"Compliance Monitor",status:"active",tasks:247,accuracy:99.8},{id:2,name:"Data Enrichment",status:"active",tasks:156,accuracy:96.1},{id:3,name:"Lead Scoring",status:"paused",tasks:89,accuracy:94.5}],r=[{id:1,agent:"Compliance Monitor",task:"Check company filings",status:"completed",time:"2m 15s"},{id:2,agent:"Data Enrichment",task:"Enrich contact data",status:"running",time:"1m 30s"},{id:3,agent:"Lead Scoring",task:"Score new leads",status:"queued",time:"-"}],o=[{id:1,agent:"Compliance Monitor",action:"Processed 45 companies",timestamp:"10 minutes ago"},{id:2,agent:"Data Enrichment",action:"Enriched 23 contacts",timestamp:"25 minutes ago"},{id:3,agent:"Lead Scoring",action:"Scored 12 leads",timestamp:"1 hour ago"}],c=[{command:"agent.start(name)",description:"Start an AI agent"},{command:"agent.stop(name)",description:"Stop an AI agent"},{command:"agent.status(name)",description:"Get agent status"},{command:"agent.logs(name)",description:"View agent logs"}],d=()=>{switch(i){case"agents":return s.jsx("div",{className:"grid gap-4",children:t.map(m=>s.jsx(G,{children:s.jsx(Q,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Ka,{className:"h-8 w-8 text-primary"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg",children:m.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[m.tasks," tasks completed"]})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Accuracy"}),s.jsxs("p",{className:"font-semibold",children:[m.accuracy,"%"]})]}),s.jsx("span",{className:`px-3 py-1 rounded-full text-xs ${m.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:m.status}),s.jsx(F,{size:"sm",variant:"ghost",children:m.status==="active"?s.jsx(bl,{className:"h-4 w-4"}):s.jsx(iu,{className:"h-4 w-4"})}),s.jsx(F,{size:"sm",variant:"ghost",children:s.jsx(qi,{className:"h-4 w-4"})})]})]})})},m.id))});case"tasks":return s.jsx("div",{className:"space-y-4",children:r.map(m=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(QE,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:m.task}),s.jsx("p",{className:"text-sm text-muted-foreground",children:m.agent})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:m.time}),s.jsx("span",{className:`px-3 py-1 rounded-full text-xs ${m.status==="completed"?"bg-green-100 text-green-700":m.status==="running"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:m.status})]})]},m.id))});case"activities":return s.jsx("div",{className:"space-y-4",children:o.map(m=>s.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-lg",children:[s.jsx(Nn,{className:"h-5 w-5 text-primary"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-semibold",children:m.action}),s.jsx("p",{className:"text-sm text-muted-foreground",children:m.agent})]}),s.jsx("span",{className:"text-sm text-muted-foreground",children:m.timestamp})]},m.id))});case"commands":return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-gray-900 text-green-400 p-4 rounded-lg font-mono text-sm",children:[s.jsx("p",{children:"$ agent --help"}),s.jsx("p",{className:"mt-2 text-gray-400",children:"Available commands:"})]}),c.map((m,g)=>s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsx("p",{className:"font-mono text-sm font-semibold",children:m.command}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:m.description})]},g))]});default:return null}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ka,{className:"h-8 w-8 text-primary"}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"AI Agent Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage and monitor AI agents"})]})]}),s.jsx("div",{className:"flex gap-2 border-b",children:["agents","tasks","activities","commands"].map(m=>s.jsx("button",{onClick:()=>e(m),className:`px-4 py-2 font-medium capitalize ${i===m?"border-b-2 border-primary text-primary":"text-muted-foreground"}`,children:m},m))}),s.jsx("div",{children:d()})]})},vD=()=>{const i=[{title:"Public Pages",icon:r1,pages:["Home","About","How It Works","Features","Pricing","Testimonials","Contact"]},{title:"Dashboard",icon:As,pages:["Dashboard","Analytics","Enhanced Analytics","Compliance Dashboard"]},{title:"CRM & Sales",icon:bs,pages:["CRM","CRM Dashboard","Clients","Leads","Sales","Marketing"]},{title:"Accounting",icon:ws,pages:["Accounting Services","Accountant Team","Invoices","Tax Planning","Payroll"]},{title:"Project Management",icon:Tu,pages:["Projects","Tasks","Calendar","Workflows","Reports"]},{title:"Administration",icon:qi,pages:["Admin","Settings","Team","User Profile","Admin Control Panel","Audit Log"]},{title:"Tools & Features",icon:As,pages:["Vault","Documents","Integrations","API Manager","AI Agents","Notifications","Billing","Help","Support","Knowledge Base","Training"]}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Site Map"}),s.jsx("p",{className:"text-muted-foreground",children:"Complete navigation structure"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map((e,t)=>s.jsxs(G,{children:[s.jsx(re,{children:s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(e.icon,{className:"h-5 w-5"}),e.title]})}),s.jsx(Q,{children:s.jsx("ul",{className:"space-y-2",children:e.pages.map((r,o)=>s.jsxs("li",{className:"text-sm text-muted-foreground hover:text-primary cursor-pointer",children:["• ",r]},o))})})]},t))}),s.jsxs(G,{children:[s.jsx(re,{children:s.jsx(oe,{children:"Total Pages: 42+"})}),s.jsx(Q,{children:s.jsx("p",{className:"text-muted-foreground",children:"Complete enterprise platform with all features accessible through intuitive navigation."})})]})]})},bD=()=>{const[i,e]=te.useState([{id:1,name:"Sample Item 1",status:"active",created:"2024-10-16"},{id:2,name:"Sample Item 2",status:"active",created:"2024-10-15"},{id:3,name:"Sample Item 3",status:"inactive",created:"2024-10-14"}]);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"EmailTemplates"}),s.jsx("p",{className:"text-muted-foreground",children:"Create and manage email templates"})]}),s.jsxs(F,{children:[s.jsx(ze,{className:"mr-2 h-4 w-4"}),"Create New"]})]}),s.jsx("div",{className:"grid gap-4",children:i.map(t=>s.jsx(G,{children:s.jsx(Q,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Ws,{className:"h-8 w-8 text-primary"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg",children:t.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Created: ",t.created]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-xs ${t.status==="active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:t.status}),s.jsx(F,{size:"sm",variant:"ghost",children:s.jsx(ks,{className:"h-4 w-4"})}),s.jsx(F,{size:"sm",variant:"ghost",children:s.jsx(sr,{className:"h-4 w-4"})})]})]})})},t.id))}),s.jsxs(G,{children:[s.jsx(re,{children:s.jsx(oe,{children:"Quick Start"})}),s.jsxs(Q,{children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:'Create and manage email templates. Click "Create New" to get started.'}),s.jsxs(F,{children:[s.jsx(ze,{className:"mr-2 h-4 w-4"}),"Create Your First Item"]})]})]})]})},wD=()=>{const[i,e]=te.useState([{id:1,name:"Sample Item 1",status:"active",created:"2024-10-16"},{id:2,name:"Sample Item 2",status:"active",created:"2024-10-15"},{id:3,name:"Sample Item 3",status:"inactive",created:"2024-10-14"}]);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"AutomationRules"}),s.jsx("p",{className:"text-muted-foreground",children:"Build automation workflows"})]}),s.jsxs(F,{children:[s.jsx(ze,{className:"mr-2 h-4 w-4"}),"Create New"]})]}),s.jsx("div",{className:"grid gap-4",children:i.map(t=>s.jsx(G,{children:s.jsx(Q,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Fa,{className:"h-8 w-8 text-primary"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg",children:t.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Created: ",t.created]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-xs ${t.status==="active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:t.status}),s.jsx(F,{size:"sm",variant:"ghost",children:s.jsx(ks,{className:"h-4 w-4"})}),s.jsx(F,{size:"sm",variant:"ghost",children:s.jsx(sr,{className:"h-4 w-4"})})]})]})})},t.id))}),s.jsxs(G,{children:[s.jsx(re,{children:s.jsx(oe,{children:"Quick Start"})}),s.jsxs(Q,{children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:'Build automation workflows. Click "Create New" to get started.'}),s.jsxs(F,{children:[s.jsx(ze,{className:"mr-2 h-4 w-4"}),"Create Your First Item"]})]})]})]})},_D=()=>{const[i,e]=te.useState([{id:1,name:"Sample Item 1",status:"active",created:"2024-10-16"},{id:2,name:"Sample Item 2",status:"active",created:"2024-10-15"},{id:3,name:"Sample Item 3",status:"inactive",created:"2024-10-14"}]);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"DataImportExport"}),s.jsx("p",{className:"text-muted-foreground",children:"Import and export data"})]}),s.jsxs(F,{children:[s.jsx(ze,{className:"mr-2 h-4 w-4"}),"Create New"]})]}),s.jsx("div",{className:"grid gap-4",children:i.map(t=>s.jsx(G,{children:s.jsx(Q,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx($i,{className:"h-8 w-8 text-primary"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg",children:t.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Created: ",t.created]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-xs ${t.status==="active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:t.status}),s.jsx(F,{size:"sm",variant:"ghost",children:s.jsx(ks,{className:"h-4 w-4"})}),s.jsx(F,{size:"sm",variant:"ghost",children:s.jsx(sr,{className:"h-4 w-4"})})]})]})})},t.id))}),s.jsxs(G,{children:[s.jsx(re,{children:s.jsx(oe,{children:"Quick Start"})}),s.jsxs(Q,{children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:'Import and export data. Click "Create New" to get started.'}),s.jsxs(F,{children:[s.jsx(ze,{className:"mr-2 h-4 w-4"}),"Create Your First Item"]})]})]})]})},jD=()=>{const[i,e]=te.useState([{id:1,name:"Sample Item 1",status:"active",created:"2024-10-16"},{id:2,name:"Sample Item 2",status:"active",created:"2024-10-15"},{id:3,name:"Sample Item 3",status:"inactive",created:"2024-10-14"}]);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"BackupRestore"}),s.jsx("p",{className:"text-muted-foreground",children:"Backup and restore system"})]}),s.jsxs(F,{children:[s.jsx(ze,{className:"mr-2 h-4 w-4"}),"Create New"]})]}),s.jsx("div",{className:"grid gap-4",children:i.map(t=>s.jsx(G,{children:s.jsx(Q,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Ar,{className:"h-8 w-8 text-primary"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg",children:t.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Created: ",t.created]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-xs ${t.status==="active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:t.status}),s.jsx(F,{size:"sm",variant:"ghost",children:s.jsx(ks,{className:"h-4 w-4"})}),s.jsx(F,{size:"sm",variant:"ghost",children:s.jsx(sr,{className:"h-4 w-4"})})]})]})})},t.id))}),s.jsxs(G,{children:[s.jsx(re,{children:s.jsx(oe,{children:"Quick Start"})}),s.jsxs(Q,{children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:'Backup and restore system. Click "Create New" to get started.'}),s.jsxs(F,{children:[s.jsx(ze,{className:"mr-2 h-4 w-4"}),"Create Your First Item"]})]})]})]})},ND=()=>{const[i,e]=te.useState([{id:1,name:"Sample Item 1",status:"active",created:"2024-10-16"},{id:2,name:"Sample Item 2",status:"active",created:"2024-10-15"},{id:3,name:"Sample Item 3",status:"inactive",created:"2024-10-14"}]);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"APIDocumentation"}),s.jsx("p",{className:"text-muted-foreground",children:"API documentation and examples"})]}),s.jsxs(F,{children:[s.jsx(ze,{className:"mr-2 h-4 w-4"}),"Create New"]})]}),s.jsx("div",{className:"grid gap-4",children:i.map(t=>s.jsx(G,{children:s.jsx(Q,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Tl,{className:"h-8 w-8 text-primary"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg",children:t.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Created: ",t.created]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-xs ${t.status==="active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:t.status}),s.jsx(F,{size:"sm",variant:"ghost",children:s.jsx(ks,{className:"h-4 w-4"})}),s.jsx(F,{size:"sm",variant:"ghost",children:s.jsx(sr,{className:"h-4 w-4"})})]})]})})},t.id))}),s.jsxs(G,{children:[s.jsx(re,{children:s.jsx(oe,{children:"Quick Start"})}),s.jsxs(Q,{children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:'API documentation and examples. Click "Create New" to get started.'}),s.jsxs(F,{children:[s.jsx(ze,{className:"mr-2 h-4 w-4"}),"Create Your First Item"]})]})]})]})},SD=()=>{const[i,e]=te.useState([{id:1,name:"Sample Item 1",status:"active",created:"2024-10-16"},{id:2,name:"Sample Item 2",status:"active",created:"2024-10-15"},{id:3,name:"Sample Item 3",status:"inactive",created:"2024-10-14"}]);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"WebhooksManager"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage webhook endpoints"})]}),s.jsxs(F,{children:[s.jsx(ze,{className:"mr-2 h-4 w-4"}),"Create New"]})]}),s.jsx("div",{className:"grid gap-4",children:i.map(t=>s.jsx(G,{children:s.jsx(Q,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(u1,{className:"h-8 w-8 text-primary"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg",children:t.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Created: ",t.created]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-xs ${t.status==="active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:t.status}),s.jsx(F,{size:"sm",variant:"ghost",children:s.jsx(ks,{className:"h-4 w-4"})}),s.jsx(F,{size:"sm",variant:"ghost",children:s.jsx(sr,{className:"h-4 w-4"})})]})]})})},t.id))}),s.jsxs(G,{children:[s.jsx(re,{children:s.jsx(oe,{children:"Quick Start"})}),s.jsxs(Q,{children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:'Manage webhook endpoints. Click "Create New" to get started.'}),s.jsxs(F,{children:[s.jsx(ze,{className:"mr-2 h-4 w-4"}),"Create Your First Item"]})]})]})]})},TD=()=>{const[i,e]=te.useState([{id:1,name:"Sample Item 1",status:"active",created:"2024-10-16"},{id:2,name:"Sample Item 2",status:"active",created:"2024-10-15"},{id:3,name:"Sample Item 3",status:"inactive",created:"2024-10-14"}]);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"CustomFields"}),s.jsx("p",{className:"text-muted-foreground",children:"Create custom fields"})]}),s.jsxs(F,{children:[s.jsx(ze,{className:"mr-2 h-4 w-4"}),"Create New"]})]}),s.jsx("div",{className:"grid gap-4",children:i.map(t=>s.jsx(G,{children:s.jsx(Q,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(qi,{className:"h-8 w-8 text-primary"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg",children:t.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Created: ",t.created]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-xs ${t.status==="active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:t.status}),s.jsx(F,{size:"sm",variant:"ghost",children:s.jsx(ks,{className:"h-4 w-4"})}),s.jsx(F,{size:"sm",variant:"ghost",children:s.jsx(sr,{className:"h-4 w-4"})})]})]})})},t.id))}),s.jsxs(G,{children:[s.jsx(re,{children:s.jsx(oe,{children:"Quick Start"})}),s.jsxs(Q,{children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:'Create custom fields. Click "Create New" to get started.'}),s.jsxs(F,{children:[s.jsx(ze,{className:"mr-2 h-4 w-4"}),"Create Your First Item"]})]})]})]})},ED=()=>{const[i,e]=te.useState([{id:1,name:"Sample Item 1",status:"active",created:"2024-10-16"},{id:2,name:"Sample Item 2",status:"active",created:"2024-10-15"},{id:3,name:"Sample Item 3",status:"inactive",created:"2024-10-14"}]);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"ReportsBuilder"}),s.jsx("p",{className:"text-muted-foreground",children:"Build custom reports"})]}),s.jsxs(F,{children:[s.jsx(ze,{className:"mr-2 h-4 w-4"}),"Create New"]})]}),s.jsx("div",{className:"grid gap-4",children:i.map(t=>s.jsx(G,{children:s.jsx(Q,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(ws,{className:"h-8 w-8 text-primary"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg",children:t.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Created: ",t.created]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-xs ${t.status==="active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:t.status}),s.jsx(F,{size:"sm",variant:"ghost",children:s.jsx(ks,{className:"h-4 w-4"})}),s.jsx(F,{size:"sm",variant:"ghost",children:s.jsx(sr,{className:"h-4 w-4"})})]})]})})},t.id))}),s.jsxs(G,{children:[s.jsx(re,{children:s.jsx(oe,{children:"Quick Start"})}),s.jsxs(Q,{children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:'Build custom reports. Click "Create New" to get started.'}),s.jsxs(F,{children:[s.jsx(ze,{className:"mr-2 h-4 w-4"}),"Create Your First Item"]})]})]})]})},AD=()=>{const[i,e]=te.useState([{id:1,name:"Sample Item 1",status:"active",created:"2024-10-16"},{id:2,name:"Sample Item 2",status:"active",created:"2024-10-15"},{id:3,name:"Sample Item 3",status:"inactive",created:"2024-10-14"}]);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"DashboardBuilder"}),s.jsx("p",{className:"text-muted-foreground",children:"Build custom dashboards"})]}),s.jsxs(F,{children:[s.jsx(ze,{className:"mr-2 h-4 w-4"}),"Create New"]})]}),s.jsx("div",{className:"grid gap-4",children:i.map(t=>s.jsx(G,{children:s.jsx(Q,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(o1,{className:"h-8 w-8 text-primary"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg",children:t.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Created: ",t.created]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-xs ${t.status==="active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:t.status}),s.jsx(F,{size:"sm",variant:"ghost",children:s.jsx(ks,{className:"h-4 w-4"})}),s.jsx(F,{size:"sm",variant:"ghost",children:s.jsx(sr,{className:"h-4 w-4"})})]})]})})},t.id))}),s.jsxs(G,{children:[s.jsx(re,{children:s.jsx(oe,{children:"Quick Start"})}),s.jsxs(Q,{children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:'Build custom dashboards. Click "Create New" to get started.'}),s.jsxs(F,{children:[s.jsx(ze,{className:"mr-2 h-4 w-4"}),"Create Your First Item"]})]})]})]})},kD=()=>{const[i,e]=te.useState([{id:1,name:"Sample Item 1",status:"active",created:"2024-10-16"},{id:2,name:"Sample Item 2",status:"active",created:"2024-10-15"},{id:3,name:"Sample Item 3",status:"inactive",created:"2024-10-14"}]);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"WhiteLabel"}),s.jsx("p",{className:"text-muted-foreground",children:"White label settings"})]}),s.jsxs(F,{children:[s.jsx(ze,{className:"mr-2 h-4 w-4"}),"Create New"]})]}),s.jsx("div",{className:"grid gap-4",children:i.map(t=>s.jsx(G,{children:s.jsx(Q,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(a1,{className:"h-8 w-8 text-primary"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg",children:t.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Created: ",t.created]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-xs ${t.status==="active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:t.status}),s.jsx(F,{size:"sm",variant:"ghost",children:s.jsx(ks,{className:"h-4 w-4"})}),s.jsx(F,{size:"sm",variant:"ghost",children:s.jsx(sr,{className:"h-4 w-4"})})]})]})})},t.id))}),s.jsxs(G,{children:[s.jsx(re,{children:s.jsx(oe,{children:"Quick Start"})}),s.jsxs(Q,{children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:'White label settings. Click "Create New" to get started.'}),s.jsxs(F,{children:[s.jsx(ze,{className:"mr-2 h-4 w-4"}),"Create Your First Item"]})]})]})]})},CD={companies:[{id:1,name:"Tech Innovations Ltd",companyNumber:"12345678",address:"123 Business Park, London, SW1A 1AA",riskLevel:"high",complianceScore:65,overdueCount:2,obligationCount:8},{id:2,name:"Global Solutions Ltd",companyNumber:"87654321",address:"456 Enterprise Road, Manchester, M1 1AB",riskLevel:"medium",complianceScore:78,overdueCount:0,obligationCount:6},{id:3,name:"Startup Ventures Ltd",companyNumber:"11223344",address:"789 Innovation Street, Bristol, BS1 1CD",riskLevel:"critical",complianceScore:45,overdueCount:3,obligationCount:5}],obligations:[{id:1,companyId:1,companyName:"Tech Innovations Ltd",title:"Annual Accounts Filing",description:"Submit annual financial statements to Companies House",dueDate:"2024-03-15",status:"overdue",penalty:1500,daysOverdue:45,phoneNumber:"+447912345678"},{id:2,companyId:1,companyName:"Tech Innovations Ltd",title:"Confirmation Statement",description:"Annual confirmation of company details",dueDate:"2024-04-20",status:"pending",penalty:0,daysOverdue:0,phoneNumber:"+447912345678"},{id:3,companyId:2,companyName:"Global Solutions Ltd",title:"VAT Return",description:"Quarterly VAT submission to HMRC",dueDate:"2024-05-10",status:"pending",penalty:0,daysOverdue:0,phoneNumber:"+447987654321"},{id:4,companyId:3,companyName:"Startup Ventures Ltd",title:"Corporation Tax",description:"Corporation tax payment and filing",dueDate:"2024-02-28",status:"overdue",penalty:2500,daysOverdue:62,phoneNumber:"+447445566778"},{id:5,companyId:3,companyName:"Startup Ventures Ltd",title:"Annual Accounts Filing",description:"Submit annual financial statements",dueDate:"2024-01-31",status:"overdue",penalty:1800,daysOverdue:90,phoneNumber:"+447445566778"}]};function RD(){const[i,e]=te.useState(!1),[t,r]=te.useState("home"),[o,c]=te.useState(!1),[d,m]=te.useState(CD),[g,p]=te.useState(null),[y,b]=te.useState(null),[j,A]=te.useState(!1),[T,R]=te.useState({title:"",content:"",loading:!1}),[S,q]=te.useState(!1),[D,J]=te.useState(null);te.useEffect(()=>{const L=localStorage.getItem("fineguard_user");L&&J(JSON.parse(L))},[]),te.useEffect(()=>{i?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[i]);const de=L=>{const fe={day:"numeric",month:"short",year:"numeric"};return new Date(L).toLocaleDateString("en-GB",fe)},pe=L=>{const fe=new Date,Ne=new Date(L)-fe;return Math.ceil(Ne/(1e3*60*60*24))},he=L=>{switch(L){case"low":return"bg-green-500";case"medium":return"bg-blue-500";case"high":return"bg-orange-500";case"critical":return"bg-red-600";default:return"bg-gray-500"}},I=L=>{switch(L){case"completed":return"bg-green-500";case"overdue":return"bg-red-600";case"pending":return"bg-blue-500";default:return"bg-gray-500"}},k={overdueCount:d.obligations.filter(L=>L.status==="overdue").length,totalCompanies:d.companies.length,avgScore:(d.companies.reduce((L,fe)=>L+fe.complianceScore,0)/d.companies.length).toFixed(1),penaltyRisk:d.obligations.filter(L=>L.status==="overdue").reduce((L,fe)=>L+fe.penalty,0)},C=L=>{m(fe=>({...fe,obligations:fe.obligations.map(Ee=>Ee.id===L?{...Ee,status:"completed",penalty:0}:Ee),companies:fe.companies.map(Ee=>{const Ne=fe.obligations.find(Ke=>Ke.id===L);return Ee.id===(Ne==null?void 0:Ne.companyId)?{...Ee,complianceScore:Math.min(100,Ee.complianceScore+5)}:Ee})})),b(null)},V=L=>{A(!0),R({title:`AI Mitigation Plan for ${L.name}`,content:"",loading:!0}),setTimeout(()=>{R({title:`AI Mitigation Plan for ${L.name}`,loading:!1,content:`
**Current Risk Level:** ${L.riskLevel.toUpperCase()}
**Generated:** ${new Date().toLocaleDateString()}

### Immediate Actions Required:
1. **Review Overdue Filings** - Address all overdue obligations within 7 days
2. **Engage Compliance Officer** - Assign dedicated resource for monitoring
3. **Implement Early Warning System** - Set up 30-day advance reminders

### Strategic Recommendations:
- Conduct comprehensive compliance audit
- Implement automated tracking system
- Schedule quarterly compliance reviews
- Establish escalation procedures for high-risk items

### Priority Timeline:
- **Week 1:** Clear all critical overdue items
- **Month 1:** Implement monitoring system
- **Quarter 1:** Achieve 85%+ compliance score
        `})},2e3)},M=L=>{A(!0),R({title:`AI Compliance Checklist: ${L.title}`,content:"",loading:!0}),setTimeout(()=>{R({title:`AI Compliance Checklist: ${L.title}`,loading:!1,content:`
### Pre-Submission Requirements:
- Verify company details are up to date
- Gather all required financial documents
- Review previous year's filing for consistency
- Confirm director approvals obtained

### Submission Steps:
1. **Document Preparation** - Ensure all statements are signed
2. **Online Portal Login** - Use Companies House WebFiling service
3. **Data Entry** - Input financial figures accurately
4. **Document Upload** - Attach signed PDF copies
5. **Final Review** - Verify all information before submission
6. **Confirmation** - Save submission reference number

### Post-Submission Actions:
- File confirmation email in company records
- Update internal compliance tracking system
- Schedule reminder for next filing period
- Notify relevant stakeholders of completion
        `})},1500)},z=[...d.obligations].sort((L,fe)=>L.status==="overdue"&&fe.status!=="overdue"?-1:fe.status==="overdue"&&L.status!=="overdue"?1:new Date(L.dueDate)-new Date(fe.dueDate)),O=[{id:"home",label:"Home",icon:r1},{id:"about",label:"About",icon:cp},{id:"how-it-works",label:"How It Works",icon:uh},{id:"features",label:"Features",icon:dp},{id:"pricing",label:"Pricing",icon:er},{id:"testimonials",label:"Testimonials",icon:ki},{id:"contact",label:"Contact",icon:Ci},{id:"dashboard",label:"Dashboard",icon:As},{id:"crm",label:"CRM",icon:bs},{id:"admin",label:"Admin",icon:uh},{id:"live-data",label:"Live Data",icon:us},{id:"vault",label:"Vault",icon:As},{id:"settings",label:"Settings",icon:uh},{id:"analytics",label:"Analytics",icon:Ms},{id:"billing",label:"Billing",icon:Ya},{id:"notifications",label:"Notifications",icon:Ks},{id:"api-manager",label:"API Manager",icon:Tl},{id:"workflows",label:"Workflows",icon:hp},{id:"team",label:"Team",icon:bs},{id:"help",label:"Help",icon:Oh},{id:"accounting",label:"Accounting Services",icon:Ih},{id:"crm-dashboard",label:"CRM Dashboard",icon:Ms},{id:"enhanced-analytics",label:"Enhanced Analytics",icon:Ui},{id:"accountant-team",label:"Accountant Team",icon:bs},{id:"reports",label:"Reports",icon:ws},{id:"documents",label:"Documents",icon:OE},{id:"calendar",label:"Calendar",icon:us},{id:"tasks",label:"Tasks",icon:kA},{id:"invoices",label:"Invoices",icon:ws},{id:"clients",label:"Clients",icon:bs},{id:"projects",label:"Projects",icon:Tu},{id:"integrations",label:"Integrations",icon:l1},{id:"audit-log",label:"Audit Log",icon:As},{id:"support",label:"Support",icon:Oh},{id:"knowledge-base",label:"Knowledge Base",icon:Z_},{id:"training",label:"Training",icon:n1},{id:"compliance-dashboard",label:"Compliance Dashboard",icon:De},{id:"tax-planning",label:"Tax Planning",icon:Ih},{id:"payroll",label:"Payroll",icon:bs},{id:"marketing",label:"Marketing",icon:i1},{id:"sales",label:"Sales",icon:Ms},{id:"user-profile",label:"User Profile",icon:Xa},{id:"admin-control",label:"Admin Control",icon:As},{id:"ai-agents",label:"AI Agents",icon:Ka},{id:"site-map",label:"Site Map",icon:rA},{id:"email-templates",label:"Email Templates",icon:Ws},{id:"automation-rules",label:"Automation Rules",icon:Fa},{id:"data-import-export",label:"Data Import/Export",icon:$i},{id:"backup-restore",label:"Backup & Restore",icon:Ar},{id:"api-docs",label:"API Documentation",icon:Tl},{id:"webhooks",label:"Webhooks",icon:u1},{id:"custom-fields",label:"Custom Fields",icon:uh},{id:"reports-builder",label:"Reports Builder",icon:ws},{id:"dashboard-builder",label:"Dashboard Builder",icon:o1},{id:"white-label",label:"White Label",icon:a1}],et=()=>{switch(t){case"home":return s.jsx(Be,{});case"about":return s.jsx(B,{});case"how-it-works":return s.jsx(me,{});case"features":return s.jsx(le,{});case"pricing":return s.jsx(qe,{});case"testimonials":return s.jsx(U,{});case"contact":return s.jsx(ue,{});case"dashboard":return s.jsx(ye,{});case"admin":return s.jsx(CP,{});case"live-data":return s.jsx(RP,{});case"crm":return s.jsx(PP,{});case"vault":return s.jsx(DP,{});case"settings":return s.jsx(VP,{user:D,onUpdate:L=>J(L)});case"analytics":return s.jsx(LP,{});case"billing":return s.jsx(UP,{user:D});case"notifications":return s.jsx(zP,{});case"api-manager":return s.jsx(BP,{});case"workflows":return s.jsx($P,{});case"team":return s.jsx(qP,{});case"help":return s.jsx(FP,{});case"accounting":return s.jsx(WP,{});case"crm-dashboard":return s.jsx(YP,{});case"enhanced-analytics":return s.jsx(XP,{});case"accountant-team":return s.jsx(JP,{});case"reports":return s.jsx(ZP,{});case"documents":return s.jsx(eD,{});case"calendar":return s.jsx(tD,{});case"tasks":return s.jsx(sD,{});case"invoices":return s.jsx(nD,{});case"clients":return s.jsx(rD,{});case"projects":return s.jsx(iD,{});case"integrations":return s.jsx(aD,{});case"audit-log":return s.jsx(oD,{});case"support":return s.jsx(lD,{});case"knowledge-base":return s.jsx(cD,{});case"training":return s.jsx(uD,{});case"compliance-dashboard":return s.jsx(dD,{});case"tax-planning":return s.jsx(hD,{});case"payroll":return s.jsx(mD,{});case"marketing":return s.jsx(fD,{});case"sales":return s.jsx(gD,{});case"user-profile":return s.jsx(pD,{});case"admin-control":return s.jsx(xD,{});case"ai-agents":return s.jsx(yD,{});case"site-map":return s.jsx(vD,{});case"email-templates":return s.jsx(bD,{});case"automation-rules":return s.jsx(wD,{});case"data-import-export":return s.jsx(_D,{});case"backup-restore":return s.jsx(jD,{});case"api-docs":return s.jsx(ND,{});case"webhooks":return s.jsx(SD,{});case"custom-fields":return s.jsx(TD,{});case"reports-builder":return s.jsx(ED,{});case"dashboard-builder":return s.jsx(AD,{});case"white-label":return s.jsx(kD,{});case"member":return D?s.jsx(OP,{user:D,onLogout:()=>{localStorage.removeItem("fineguard_user"),J(null),r("home")},onUpgrade:()=>r("pricing")}):s.jsx(Be,{});default:return s.jsx(Be,{})}},Be=()=>s.jsxs("div",{className:"space-y-16",children:[s.jsxs("section",{className:"relative min-h-[600px] flex items-center justify-center overflow-hidden rounded-2xl",children:[s.jsx("img",{src:Ib,alt:"FineGuard Workshop",className:"absolute inset-0 w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-900/40 to-purple-900/30"}),s.jsxs("div",{className:"relative z-10 text-center text-white px-4 max-w-4xl",children:[s.jsx("h1",{className:"text-5xl md:text-7xl font-bold mb-6 animate-fade-in",children:"Welcome to FineGuard"}),s.jsx("p",{className:"text-xl md:text-2xl mb-8 opacity-90",children:"Where paperwork has personality and compliance is effortless"}),s.jsxs("div",{className:"flex gap-4 justify-center flex-wrap",children:[s.jsx(F,{size:"lg",className:"bg-gradient-to-r from-cyan-400 to-blue-500 text-white border-0 rounded-full px-10 py-6 text-lg font-semibold hover:shadow-2xl hover:shadow-cyan-400/40 transition-all hover:scale-105",onClick:()=>r("dashboard"),children:"Get Started"}),s.jsx(F,{size:"lg",className:"border-2 border-cyan-400/50 bg-white/10 backdrop-blur-md text-white hover:bg-white/20 rounded-full px-10 py-6 text-lg font-semibold transition-all hover:scale-105",onClick:()=>r("how-it-works"),children:"Learn More"})]})]})]}),s.jsxs("section",{className:"container mx-auto px-4",children:[s.jsx("h2",{className:"text-4xl font-bold text-center mb-12",children:"Why Choose FineGuard?"}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[s.jsxs(G,{className:"hover:shadow-xl transition-shadow",children:[s.jsxs(re,{children:[s.jsx(As,{className:"h-12 w-12 text-blue-600 mb-4"}),s.jsx(oe,{children:"AI-Powered Protection"})]}),s.jsx(Q,{children:s.jsx("p",{className:"text-muted-foreground",children:"FineGuard AI, monitors deadlines 24/7 so you never miss a filing."})})]}),s.jsxs(G,{className:"hover:shadow-xl transition-shadow",children:[s.jsxs(re,{children:[s.jsx(Ks,{className:"h-12 w-12 text-orange-600 mb-4"}),s.jsx(oe,{children:"Smart Reminders"})]}),s.jsx(Q,{children:s.jsx("p",{className:"text-muted-foreground",children:"Get timely notifications before deadlines with actionable compliance checklists."})})]}),s.jsxs(G,{className:"hover:shadow-xl transition-shadow",children:[s.jsxs(re,{children:[s.jsx(Ms,{className:"h-12 w-12 text-green-600 mb-4"}),s.jsx(oe,{children:"Peace of Mind"})]}),s.jsx(Q,{children:s.jsx("p",{className:"text-muted-foreground",children:"Focus on growing your business while we handle compliance automatically."})})]})]})]}),s.jsx("section",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx("h2",{className:"text-4xl font-bold text-center mb-4",children:"See FineGuard in Action"}),s.jsx("p",{className:"text-center text-muted-foreground mb-8 text-lg",children:"Watch how FineGuard protects your business from compliance penalties"}),s.jsx("div",{className:"relative rounded-2xl overflow-hidden shadow-2xl border-4 border-cyan-400/30",children:s.jsxs("video",{controls:!0,className:"w-full",poster:Ib,children:[s.jsx("source",{src:"/demo-video.mov",type:"video/quicktime"}),s.jsx("source",{src:"/demo-video.mp4",type:"video/mp4"}),"Your browser does not support the video tag."]})})]})}),s.jsx("section",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white py-16 rounded-2xl mx-4",children:s.jsxs("div",{className:"container mx-auto px-4 text-center",children:[s.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Ready to protect your business?"}),s.jsx("p",{className:"text-xl mb-8 opacity-90",children:"Join thousands of UK businesses using FineGuard"}),s.jsx(F,{size:"lg",className:"bg-white/90 backdrop-blur-md text-blue-900 hover:bg-white rounded-full px-10 py-6 text-lg font-semibold hover:shadow-2xl hover:scale-105 transition-all",onClick:()=>r("pricing"),children:"View Pricing Plans"})]})})]}),B=()=>s.jsxs("div",{className:"space-y-12",children:[s.jsxs("section",{className:"relative min-h-[400px] flex items-center justify-center overflow-hidden rounded-2xl",children:[s.jsx("img",{src:WA,alt:"FineGuard AI Guardian",className:"absolute inset-0 w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-blue-900/30 to-purple-900/30"}),s.jsxs("div",{className:"relative z-10 text-center text-white px-4",children:[s.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-4",children:"The Story of Protection"}),s.jsx("p",{className:"text-xl opacity-90",children:"Giving peace of mind to UK founders"})]})]}),s.jsx("section",{className:"container mx-auto px-4 max-w-4xl",children:s.jsx(G,{children:s.jsxs(Q,{className:"p-8 space-y-6",children:[s.jsx("h2",{className:"text-3xl font-bold",children:"Our Mission"}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"FineGuard was born from a simple truth: small business owners shouldn't lose sleep over compliance deadlines. Every day, brilliant entrepreneurs face the burden of paperwork, filings, and regulations that distract from what they do best—building amazing businesses."}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"That's where FineGuard comes in. Our AI guardian watches over your compliance obligations 24/7, ensuring you never miss a deadline, never face unnecessary penalties, and always stay protected. From Companies House filings to HMRC submissions, we've got you covered."}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mt-8",children:[s.jsxs("div",{className:"p-6 bg-blue-50 dark:bg-blue-950/20 rounded-lg",children:[s.jsx("h3",{className:"text-xl font-bold mb-2",children:"10,000+"}),s.jsx("p",{className:"text-muted-foreground",children:"Businesses Protected"})]}),s.jsxs("div",{className:"p-6 bg-green-50 dark:bg-green-950/20 rounded-lg",children:[s.jsx("h3",{className:"text-xl font-bold mb-2",children:"£2.5M+"}),s.jsx("p",{className:"text-muted-foreground",children:"Penalties Prevented"})]})]})]})})})]}),me=()=>s.jsxs("div",{className:"space-y-12",children:[s.jsxs("section",{className:"relative min-h-[400px] flex items-center justify-center overflow-hidden rounded-2xl",children:[s.jsx("img",{src:YA,alt:"Engine Room",className:"absolute inset-0 w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-teal-900/30 to-blue-900/30"}),s.jsxs("div",{className:"relative z-10 text-center text-white px-4",children:[s.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-4",children:"Inside the System"}),s.jsx("p",{className:"text-xl opacity-90",children:"How FineGuard keeps you compliant"})]})]}),s.jsx("section",{className:"container mx-auto px-4 max-w-5xl",children:s.jsx("div",{className:"space-y-8",children:[{step:1,title:"Connect Your Business",description:"Simply add your company number and we'll sync with Companies House and HMRC to identify all your obligations."},{step:2,title:"FineGuard Monitors Everything",description:"Our AI guardian tracks every deadline, regulation change, and filing requirement specific to your business."},{step:3,title:"Smart Reminders",description:"Get timely notifications via email, SMS, and dashboard alerts with AI-generated compliance checklists."},{step:4,title:"Stay Protected",description:"Never miss a deadline again. Focus on growth while we handle the compliance burden automatically."}].map(L=>s.jsx(G,{className:"hover:shadow-lg transition-shadow",children:s.jsxs(Q,{className:"p-8 flex gap-6 items-start",children:[s.jsx("div",{className:"flex-shrink-0 w-16 h-16 bg-blue-600 text-white rounded-full flex items-center justify-center text-2xl font-bold",children:L.step}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-bold mb-2",children:L.title}),s.jsx("p",{className:"text-lg text-muted-foreground",children:L.description})]})]})},L.step))})})]}),le=()=>s.jsxs("div",{className:"space-y-12",children:[s.jsxs("section",{className:"relative min-h-[400px] flex items-center justify-center overflow-hidden rounded-2xl",children:[s.jsx("img",{src:XA,alt:"Features",className:"absolute inset-0 w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-blue-900/30 to-indigo-900/30"}),s.jsxs("div",{className:"relative z-10 text-center text-white px-4",children:[s.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-4",children:"Never Miss a Deadline"}),s.jsx("p",{className:"text-xl opacity-90",children:"Powerful features for complete peace of mind"})]})]}),s.jsx("section",{className:"container mx-auto px-4",children:s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[{icon:As,title:"AI Guardian",desc:"FineGuard monitors your obligations 24/7"},{icon:Ks,title:"Smart Alerts",desc:"Multi-channel notifications (email, SMS, dashboard)"},{icon:us,title:"Deadline Tracking",desc:"Never miss Companies House or HMRC filings"},{icon:xl,title:"AI Checklists",desc:"Step-by-step compliance guidance"},{icon:Ms,title:"Risk Scoring",desc:"Real-time compliance health monitoring"},{icon:De,title:"Auto-Sync",desc:"Automatic updates from official sources"}].map((L,fe)=>s.jsxs(G,{className:"hover:shadow-xl transition-all hover:-translate-y-1",children:[s.jsxs(re,{children:[s.jsx(L.icon,{className:"h-12 w-12 text-blue-600 mb-4"}),s.jsx(oe,{children:L.title})]}),s.jsx(Q,{children:s.jsx("p",{className:"text-muted-foreground",children:L.desc})})]},fe))})})]}),qe=()=>s.jsxs("div",{className:"space-y-12",children:[s.jsxs("section",{className:"relative min-h-[400px] flex items-center justify-center overflow-hidden rounded-2xl",children:[s.jsx("img",{src:JA,alt:"Pricing",className:"absolute inset-0 w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-purple-900/30 to-blue-900/30"}),s.jsxs("div",{className:"relative z-10 text-center text-white px-4",children:[s.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-4",children:"Protection for Every Dream"}),s.jsx("p",{className:"text-xl opacity-90",children:"Transparent pricing, no hidden fees"})]})]}),s.jsx("section",{className:"container mx-auto px-4",children:s.jsx("div",{className:"grid md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:[{name:"Starter",price:"£1",period:"/month",features:["1 company","Basic deadline tracking","Email notifications","Compliance dashboard","Monthly reports"]},{name:"Pro",price:"£15",period:"/month",popular:!0,features:["Up to 5 companies","AI-powered insights","Email alerts","Priority support","AI compliance checklists","Risk scoring"]},{name:"Ultimate",price:"£99",period:"/month",features:["Unlimited companies","Dedicated account manager","White-label option","API access","Custom integrations","24/7 phone support"]}].map(L=>s.jsxs(G,{className:`hover:shadow-2xl transition-all ${L.popular?"border-blue-600 border-2 scale-105":""}`,children:[L.popular&&s.jsx("div",{className:"bg-blue-600 text-white text-center py-2 rounded-t-lg font-semibold",children:"Most Popular"}),s.jsxs(re,{className:"text-center",children:[s.jsx(oe,{className:"text-2xl",children:L.name}),s.jsxs("div",{className:"mt-4",children:[s.jsx("span",{className:"text-5xl font-bold",children:L.price}),s.jsx("span",{className:"text-muted-foreground",children:L.period})]})]}),s.jsxs(Q,{children:[s.jsx("ul",{className:"space-y-3",children:L.features.map((fe,Ee)=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(De,{className:"h-5 w-5 text-green-600 flex-shrink-0 mt-0.5"}),s.jsx("span",{children:fe})]},Ee))}),s.jsx(F,{className:"w-full mt-6",variant:L.popular?"default":"outline",children:"Get Started"})]})]},L.name))})})]}),U=()=>s.jsxs("div",{className:"space-y-12",children:[s.jsxs("section",{className:"relative min-h-[400px] flex items-center justify-center overflow-hidden rounded-2xl",children:[s.jsx("img",{src:ZA,alt:"Testimonials",className:"absolute inset-0 w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-orange-900/30 to-blue-900/30"}),s.jsxs("div",{className:"relative z-10 text-center text-white px-4",children:[s.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-4",children:"Voices of Relief"}),s.jsx("p",{className:"text-xl opacity-90",children:"Trusted by UK businesses nationwide"})]})]}),s.jsx("section",{className:"container mx-auto px-4",children:s.jsx("div",{className:"grid md:grid-cols-2 gap-8 max-w-5xl mx-auto",children:[{name:"Sarah Mitchell",role:"Bakery Owner, London",quote:"FineGuard saved me from a £1,500 penalty. FineGuard reminded me about my accounts filing just in time!"},{name:"James Chen",role:"Tech Startup Founder",quote:"As a first-time founder, compliance was overwhelming. FineGuard made it effortless."},{name:"Emma Thompson",role:"Design Studio Director",quote:"The AI checklists are brilliant. I know exactly what to do for each filing."},{name:"David Patel",role:"Coffee Shop Chain Owner",quote:"Managing 3 companies was a nightmare. Now FineGuard handles everything automatically."}].map((L,fe)=>s.jsx(G,{className:"hover:shadow-xl transition-shadow",children:s.jsxs(Q,{className:"p-8",children:[s.jsx("div",{className:"flex items-center gap-2 mb-4 text-yellow-500",children:[...Array(5)].map((Ee,Ne)=>s.jsx(dp,{className:"h-5 w-5 fill-current"},Ne))}),s.jsxs("p",{className:"text-lg mb-4 italic",children:['"',L.quote,'"']}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:L.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:L.role})]})]})},fe))})})]}),ue=()=>s.jsxs("div",{className:"space-y-12",children:[s.jsxs("section",{className:"relative min-h-[400px] flex items-center justify-center overflow-hidden rounded-2xl",children:[s.jsx("img",{src:e4,alt:"Contact",className:"absolute inset-0 w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-blue-900/30 to-indigo-900/30"}),s.jsxs("div",{className:"relative z-10 text-center text-white px-4",children:[s.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-4",children:"Reach Out Anytime"}),s.jsx("p",{className:"text-xl opacity-90",children:"We're here to help"})]})]}),s.jsx("section",{className:"container mx-auto px-4 max-w-4xl",children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[s.jsxs(G,{children:[s.jsxs(re,{children:[s.jsx(oe,{children:"Get in Touch"}),s.jsx(Fe,{children:"Fill out the form and we'll respond within 24 hours"})]}),s.jsx(Q,{children:s.jsx(MP,{})})]}),s.jsxs(G,{children:[s.jsx(re,{children:s.jsx(oe,{children:"Contact Information"})}),s.jsxs(Q,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Ci,{className:"h-5 w-5 text-blue-600 mt-1"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:"Phone"}),s.jsx("p",{className:"text-muted-foreground",children:"+44 20 1234 5678"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(ki,{className:"h-5 w-5 text-blue-600 mt-1"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:"Email"}),s.jsx("p",{className:"text-muted-foreground",children:"hello@fineguard.co.uk"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(vl,{className:"h-5 w-5 text-blue-600 mt-1"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold",children:"Address"}),s.jsxs("p",{className:"text-muted-foreground",children:["123 Compliance Street",s.jsx("br",{}),"London, SW1A 1AA"]})]})]})]})]})]})})]}),ye=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[s.jsxs(G,{className:"hover:shadow-lg transition-shadow",children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(oe,{className:"text-sm font-medium",children:"Overdue Items"}),s.jsx(Au,{className:"h-4 w-4 text-red-600"})]}),s.jsxs(Q,{children:[s.jsx("div",{className:"text-3xl font-bold text-red-600",children:k.overdueCount}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Requires immediate attention"})]})]}),s.jsxs(G,{className:"hover:shadow-lg transition-shadow",children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(oe,{className:"text-sm font-medium",children:"Total Companies"}),s.jsx(vl,{className:"h-4 w-4 text-blue-600"})]}),s.jsxs(Q,{children:[s.jsx("div",{className:"text-3xl font-bold",children:k.totalCompanies}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Active monitoring"})]})]}),s.jsxs(G,{className:"hover:shadow-lg transition-shadow",children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(oe,{className:"text-sm font-medium",children:"Avg Compliance"}),s.jsx(Ms,{className:"h-4 w-4 text-green-600"})]}),s.jsxs(Q,{children:[s.jsxs("div",{className:"text-3xl font-bold",children:[k.avgScore,"%"]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Overall health score"})]})]}),s.jsxs(G,{className:"hover:shadow-lg transition-shadow",children:[s.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(oe,{className:"text-sm font-medium",children:"Penalty Risk"}),s.jsx(Ks,{className:"h-4 w-4 text-orange-600"})]}),s.jsxs(Q,{children:[s.jsxs("div",{className:"text-3xl font-bold text-orange-600",children:["£",k.penaltyRisk.toLocaleString()]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Potential exposure"})]})]})]}),s.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[s.jsxs(G,{children:[s.jsxs(re,{children:[s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(vl,{className:"h-5 w-5"}),"Companies"]}),s.jsx(Fe,{children:"Manage your registered companies"})]}),s.jsx(Q,{className:"space-y-3",children:d.companies.map(L=>s.jsxs("div",{onClick:()=>p(L),className:"p-4 border rounded-lg hover:shadow-md transition-all cursor-pointer bg-card",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h3",{className:"font-semibold text-lg",children:L.name}),s.jsx(Oe,{className:`${he(L.riskLevel)} text-white`,children:L.riskLevel.toUpperCase()})]}),s.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[s.jsxs("div",{children:["#",L.companyNumber]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{children:["Compliance: ",L.complianceScore,"%"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("i",{className:"fas fa-tasks text-xs"}),L.obligationCount," obligations"]})]}),L.overdueCount>0&&s.jsxs(Oe,{variant:"destructive",className:"mt-2",children:[L.overdueCount," overdue"]})]})]},L.id))})]}),s.jsxs(G,{children:[s.jsxs(re,{children:[s.jsxs(oe,{className:"flex items-center gap-2",children:[s.jsx(us,{className:"h-5 w-5"}),"Obligations"]}),s.jsx(Fe,{children:"Track compliance deadlines"})]}),s.jsx(Q,{className:"space-y-3",children:z.map(L=>{const fe=pe(L.dueDate);return s.jsxs("div",{onClick:()=>b(L),className:`p-4 border rounded-lg hover:shadow-md transition-all cursor-pointer ${L.status==="overdue"?"border-red-500 bg-red-50 dark:bg-red-950/20":L.status==="completed"?"border-green-500 bg-green-50 dark:bg-green-950/20":"bg-card"}`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold",children:L.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:L.companyName})]}),s.jsx(Oe,{className:`${I(L.status)} text-white text-xs`,children:L.status==="overdue"?`${L.daysOverdue}d overdue`:L.status.toUpperCase()})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("i",{className:"fas fa-calendar-alt text-xs"}),de(L.dueDate),L.status==="pending"&&` (in ${fe} days)`]}),L.penalty>0&&L.status!=="completed"&&s.jsxs("span",{className:"font-semibold text-red-600",children:[s.jsx("i",{className:"fas fa-bell text-xs"})," £",L.penalty.toLocaleString()]})]})]},L.id)})})]})]})]});return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsxs("header",{className:"sticky top-0 z-50 w-full",children:[s.jsx("div",{className:"mx-4 mt-4 rounded-full border border-cyan-400/30 bg-background/40 backdrop-blur-xl shadow-lg shadow-cyan-500/20",children:s.jsxs("div",{className:"container flex h-20 items-center justify-between px-6",children:[s.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",onClick:()=>r("home"),children:[s.jsxs("div",{className:"relative",children:[s.jsx(As,{className:"h-10 w-10 text-cyan-400"}),s.jsx("div",{className:"absolute inset-0 blur-lg bg-cyan-400/30"})]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"FineGuard"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"by FineGuard"})]})]}),s.jsx("nav",{className:"hidden md:flex items-center gap-3",children:O.map(L=>s.jsx("button",{onClick:()=>r(L.id),className:`px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 ${t===L.id?"bg-cyan-400/20 text-cyan-400 shadow-lg shadow-cyan-400/20 border border-cyan-400/30":"text-foreground/70 hover:text-foreground hover:bg-white/10"}`,children:L.label},L.id))}),s.jsxs("div",{className:"flex items-center gap-3",children:[D?s.jsx("div",{className:"hidden md:flex items-center gap-2",children:s.jsxs(F,{size:"sm",variant:"outline",className:"rounded-full border-cyan-400/30",onClick:()=>r("member"),children:[s.jsx(Xa,{className:"h-4 w-4 mr-2"}),D.name]})}):s.jsxs(F,{size:"sm",className:"hidden md:flex bg-gradient-to-r from-cyan-400 to-blue-500 text-white border-0 rounded-full px-6 hover:shadow-lg hover:shadow-cyan-400/30 transition-all",onClick:()=>q(!0),children:[s.jsx(De,{className:"h-4 w-4 mr-2"}),"Sign Up"]}),s.jsx(F,{variant:"ghost",size:"icon",onClick:()=>e(!i),className:"rounded-full hover:bg-white/10",children:i?s.jsx(OA,{className:"h-5 w-5"}):s.jsx(hA,{className:"h-5 w-5"})}),s.jsx(F,{variant:"ghost",size:"icon",className:"md:hidden rounded-full hover:bg-white/10",onClick:()=>c(!o),children:o?s.jsx(t0,{className:"h-5 w-5"}):s.jsx(oA,{className:"h-5 w-5"})})]})]})}),o&&s.jsx("div",{className:"md:hidden border-t bg-background",children:s.jsx("nav",{className:"container px-4 py-4 space-y-2",children:O.map(L=>s.jsxs("button",{onClick:()=>{r(L.id),c(!1)},className:`w-full flex items-center gap-2 px-3 py-2 rounded-lg transition-colors ${t===L.id?"bg-blue-100 dark:bg-blue-950 text-blue-600":"hover:bg-muted"}`,children:[s.jsx(L.icon,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm font-medium",children:L.label})]},L.id))})})]}),s.jsx("main",{className:"container mx-auto p-4 md:p-6",children:et()}),g&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:()=>p(null),children:s.jsxs(G,{className:"max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:L=>L.stopPropagation(),children:[s.jsx(re,{children:s.jsxs(oe,{className:"flex items-center justify-between",children:[s.jsx("span",{children:g.name}),s.jsx(F,{variant:"ghost",size:"icon",onClick:()=>p(null),children:s.jsx("i",{className:"fas fa-times"})})]})}),s.jsxs(Q,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Company Number"}),s.jsx("p",{className:"font-semibold",children:g.companyNumber})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Risk Level"}),s.jsx(Oe,{className:`${he(g.riskLevel)} text-white`,children:g.riskLevel.toUpperCase()})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Address"}),s.jsx("p",{children:g.address})]})]}),(g.riskLevel==="critical"||g.riskLevel==="high")&&s.jsxs(F,{className:"w-full",onClick:()=>V(g),children:[s.jsx(xl,{className:"mr-2 h-4 w-4"}),"AI Mitigation Plan"]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Obligations"}),s.jsx("div",{className:"space-y-2",children:d.obligations.filter(L=>L.companyId===g.id).map(L=>s.jsxs("div",{className:"p-3 border rounded-lg text-sm",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-medium",children:L.title}),s.jsx(Oe,{className:`${I(L.status)} text-white text-xs`,children:L.status})]}),s.jsxs("p",{className:"text-muted-foreground text-xs mt-1",children:["Due: ",de(L.dueDate)]})]},L.id))})]})]})]})}),y&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:()=>b(null),children:s.jsxs(G,{className:"max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:L=>L.stopPropagation(),children:[s.jsxs(re,{children:[s.jsxs(oe,{className:"flex items-center justify-between",children:[s.jsx("span",{children:y.title}),s.jsx(F,{variant:"ghost",size:"icon",onClick:()=>b(null),children:s.jsx("i",{className:"fas fa-times"})})]}),s.jsx(Fe,{children:y.companyName})]}),s.jsxs(Q,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-muted rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),s.jsx(Oe,{className:`${I(y.status)} text-white mt-1`,children:y.status.toUpperCase()})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Due Date"}),s.jsx("p",{className:"font-semibold",children:de(y.dueDate)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Potential Penalty"}),s.jsxs("p",{className:`font-semibold ${y.penalty>0&&y.status!=="completed"?"text-red-600":"text-green-600"}`,children:["£",y.penalty.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Days ",y.status==="overdue"?"Overdue":"Until Due"]}),s.jsx("p",{className:"font-semibold",children:y.status==="overdue"?y.daysOverdue:pe(y.dueDate)})]})]}),s.jsxs(F,{className:"w-full",onClick:()=>M(y),children:[s.jsx(xl,{className:"mr-2 h-4 w-4"}),"AI Compliance Checklist"]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Description"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:y.description})]}),s.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[s.jsx(F,{variant:"outline",onClick:()=>b(null),className:"flex-1",children:"Close"}),y.status!=="completed"&&s.jsxs(F,{onClick:()=>C(y.id),className:"flex-1 bg-green-600 hover:bg-green-700",children:[s.jsx(De,{className:"mr-2 h-4 w-4"}),"Mark Complete"]})]})]})]})}),j&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:()=>A(!1),children:s.jsxs(G,{className:"max-w-3xl w-full max-h-[90vh] overflow-y-auto",onClick:L=>L.stopPropagation(),children:[s.jsx(re,{children:s.jsxs(oe,{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(xl,{className:"h-5 w-5 text-purple-600"}),T.title]}),s.jsx(F,{variant:"ghost",size:"icon",onClick:()=>A(!1),children:s.jsx("i",{className:"fas fa-times"})})]})}),s.jsx(Q,{children:T.loading?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Analyzing compliance data..."})]}):s.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none",children:T.content.split(`
`).map((L,fe)=>L.startsWith("###")?s.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:L.replace("###","").trim()},fe):L.startsWith("**")?s.jsx("p",{className:"font-semibold my-2",children:L.replace(/\*\*/g,"")},fe):L.startsWith("-")?s.jsx("li",{className:"ml-4",children:L.replace("-","").trim()},fe):L.match(/^\d+\./)?s.jsx("p",{className:"my-1",children:L},fe):L.trim()?s.jsx("p",{className:"my-2",children:L},fe):null)})})]})}),s.jsx("footer",{className:"mt-16 mb-4",children:s.jsx("div",{className:"mx-4 rounded-3xl border border-cyan-400/30 bg-background/40 backdrop-blur-xl shadow-lg shadow-cyan-500/20 p-8",children:s.jsxs("div",{className:"container mx-auto",children:[s.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx(As,{className:"h-12 w-12 text-cyan-400"}),s.jsx("div",{className:"absolute inset-0 blur-lg bg-cyan-400/30"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"FineGuard"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"by FineGuard"})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-6 text-sm",children:[s.jsx("button",{onClick:()=>r("home"),className:"text-foreground/70 hover:text-cyan-400 transition-colors",children:"Home"}),s.jsx("button",{onClick:()=>r("about"),className:"text-foreground/70 hover:text-cyan-400 transition-colors",children:"About"}),s.jsx("button",{onClick:()=>r("pricing"),className:"text-foreground/70 hover:text-cyan-400 transition-colors",children:"Pricing"}),s.jsx("button",{onClick:()=>r("contact"),className:"text-foreground/70 hover:text-cyan-400 transition-colors",children:"Contact"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("a",{href:"#",className:"text-foreground/70 hover:text-cyan-400 transition-colors",children:s.jsx(ki,{className:"h-5 w-5"})}),s.jsx("a",{href:"#",className:"text-foreground/70 hover:text-cyan-400 transition-colors",children:s.jsx(Ci,{className:"h-5 w-5"})}),s.jsx("a",{href:"#",className:"text-foreground/70 hover:text-cyan-400 transition-colors",children:s.jsx(cp,{className:"h-5 w-5"})})]})]}),s.jsx("div",{className:"mt-6 pt-6 border-t border-cyan-400/20 text-center",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"© 2024 FineGuard. All rights reserved."})})]})})}),s.jsx(IP,{isOpen:S,onClose:()=>q(!1),onAuthSuccess:L=>{J(L),r("member")}})]})}VS.createRoot(document.getElementById("root")).render(s.jsx(te.StrictMode,{children:s.jsx(RD,{})}));
