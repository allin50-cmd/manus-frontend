(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function jS(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function OS(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var t=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(s){var a=Object.getOwnPropertyDescriptor(r,s);Object.defineProperty(t,s,a.get?a:{enumerable:!0,get:function(){return r[s]}})}),t}var Hm={exports:{}},vc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T0;function DS(){if(T0)return vc;T0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:r,type:s,key:u,ref:a!==void 0?a:null,props:l}}return vc.Fragment=e,vc.jsx=t,vc.jsxs=t,vc}var S0;function PS(){return S0||(S0=1,Hm.exports=DS()),Hm.exports}var m=PS(),Fm={exports:{}},Ue={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A0;function MS(){if(A0)return Ue;A0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.iterator;function T(P){return P===null||typeof P!="object"?null:(P=E&&P[E]||P["@@iterator"],typeof P=="function"?P:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,q={};function z(P,se,he){this.props=P,this.context=se,this.refs=q,this.updater=he||I}z.prototype.isReactComponent={},z.prototype.setState=function(P,se){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,se,"setState")},z.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function re(){}re.prototype=z.prototype;function J(P,se,he){this.props=P,this.context=se,this.refs=q,this.updater=he||I}var Y=J.prototype=new re;Y.constructor=J,L(Y,z.prototype),Y.isPureReactComponent=!0;var le=Array.isArray,ce={H:null,A:null,T:null,S:null,V:null},oe=Object.prototype.hasOwnProperty;function C(P,se,he,D,ae,we){return he=we.ref,{$$typeof:r,type:P,key:se,ref:he!==void 0?he:null,props:we}}function A(P,se){return C(P.type,se,void 0,void 0,void 0,P.props)}function R(P){return typeof P=="object"&&P!==null&&P.$$typeof===r}function O(P){var se={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(he){return se[he]})}var j=/\/+/g;function M(P,se){return typeof P=="object"&&P!==null&&P.key!=null?O(""+P.key):se.toString(36)}function N(){}function We(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(N,N):(P.status="pending",P.then(function(se){P.status==="pending"&&(P.status="fulfilled",P.value=se)},function(se){P.status==="pending"&&(P.status="rejected",P.reason=se)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function Ve(P,se,he,D,ae){var we=typeof P;(we==="undefined"||we==="boolean")&&(P=null);var _e=!1;if(P===null)_e=!0;else switch(we){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(P.$$typeof){case r:case e:_e=!0;break;case _:return _e=P._init,Ve(_e(P._payload),se,he,D,ae)}}if(_e)return ae=ae(P),_e=D===""?"."+M(P,0):D,le(ae)?(he="",_e!=null&&(he=_e.replace(j,"$&/")+"/"),Ve(ae,se,he,"",function(cn){return cn})):ae!=null&&(R(ae)&&(ae=A(ae,he+(ae.key==null||P&&P.key===ae.key?"":(""+ae.key).replace(j,"$&/")+"/")+_e)),se.push(ae)),1;_e=0;var $e=D===""?".":D+":";if(le(P))for(var et=0;et<P.length;et++)D=P[et],we=$e+M(D,et),_e+=Ve(D,se,he,we,ae);else if(et=T(P),typeof et=="function")for(P=et.call(P),et=0;!(D=P.next()).done;)D=D.value,we=$e+M(D,et++),_e+=Ve(D,se,he,we,ae);else if(we==="object"){if(typeof P.then=="function")return Ve(We(P),se,he,D,ae);throw se=String(P),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return _e}function V(P,se,he){if(P==null)return P;var D=[],ae=0;return Ve(P,D,"","",function(we){return se.call(he,we,ae++)}),D}function ie(P){if(P._status===-1){var se=P._result;se=se(),se.then(function(he){(P._status===0||P._status===-1)&&(P._status=1,P._result=he)},function(he){(P._status===0||P._status===-1)&&(P._status=2,P._result=he)}),P._status===-1&&(P._status=0,P._result=se)}if(P._status===1)return P._result.default;throw P._result}var te=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function Le(){}return Ue.Children={map:V,forEach:function(P,se,he){V(P,function(){se.apply(this,arguments)},he)},count:function(P){var se=0;return V(P,function(){se++}),se},toArray:function(P){return V(P,function(se){return se})||[]},only:function(P){if(!R(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Ue.Component=z,Ue.Fragment=t,Ue.Profiler=a,Ue.PureComponent=J,Ue.StrictMode=s,Ue.Suspense=g,Ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ce,Ue.__COMPILER_RUNTIME={__proto__:null,c:function(P){return ce.H.useMemoCache(P)}},Ue.cache=function(P){return function(){return P.apply(null,arguments)}},Ue.cloneElement=function(P,se,he){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var D=L({},P.props),ae=P.key,we=void 0;if(se!=null)for(_e in se.ref!==void 0&&(we=void 0),se.key!==void 0&&(ae=""+se.key),se)!oe.call(se,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&se.ref===void 0||(D[_e]=se[_e]);var _e=arguments.length-2;if(_e===1)D.children=he;else if(1<_e){for(var $e=Array(_e),et=0;et<_e;et++)$e[et]=arguments[et+2];D.children=$e}return C(P.type,ae,void 0,void 0,we,D)},Ue.createContext=function(P){return P={$$typeof:u,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:l,_context:P},P},Ue.createElement=function(P,se,he){var D,ae={},we=null;if(se!=null)for(D in se.key!==void 0&&(we=""+se.key),se)oe.call(se,D)&&D!=="key"&&D!=="__self"&&D!=="__source"&&(ae[D]=se[D]);var _e=arguments.length-2;if(_e===1)ae.children=he;else if(1<_e){for(var $e=Array(_e),et=0;et<_e;et++)$e[et]=arguments[et+2];ae.children=$e}if(P&&P.defaultProps)for(D in _e=P.defaultProps,_e)ae[D]===void 0&&(ae[D]=_e[D]);return C(P,we,void 0,void 0,null,ae)},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(P){return{$$typeof:f,render:P}},Ue.isValidElement=R,Ue.lazy=function(P){return{$$typeof:_,_payload:{_status:-1,_result:P},_init:ie}},Ue.memo=function(P,se){return{$$typeof:y,type:P,compare:se===void 0?null:se}},Ue.startTransition=function(P){var se=ce.T,he={};ce.T=he;try{var D=P(),ae=ce.S;ae!==null&&ae(he,D),typeof D=="object"&&D!==null&&typeof D.then=="function"&&D.then(Le,te)}catch(we){te(we)}finally{ce.T=se}},Ue.unstable_useCacheRefresh=function(){return ce.H.useCacheRefresh()},Ue.use=function(P){return ce.H.use(P)},Ue.useActionState=function(P,se,he){return ce.H.useActionState(P,se,he)},Ue.useCallback=function(P,se){return ce.H.useCallback(P,se)},Ue.useContext=function(P){return ce.H.useContext(P)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(P,se){return ce.H.useDeferredValue(P,se)},Ue.useEffect=function(P,se,he){var D=ce.H;if(typeof he=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return D.useEffect(P,se)},Ue.useId=function(){return ce.H.useId()},Ue.useImperativeHandle=function(P,se,he){return ce.H.useImperativeHandle(P,se,he)},Ue.useInsertionEffect=function(P,se){return ce.H.useInsertionEffect(P,se)},Ue.useLayoutEffect=function(P,se){return ce.H.useLayoutEffect(P,se)},Ue.useMemo=function(P,se){return ce.H.useMemo(P,se)},Ue.useOptimistic=function(P,se){return ce.H.useOptimistic(P,se)},Ue.useReducer=function(P,se,he){return ce.H.useReducer(P,se,he)},Ue.useRef=function(P){return ce.H.useRef(P)},Ue.useState=function(P){return ce.H.useState(P)},Ue.useSyncExternalStore=function(P,se,he){return ce.H.useSyncExternalStore(P,se,he)},Ue.useTransition=function(){return ce.H.useTransition()},Ue.version="19.1.0",Ue}var R0;function dp(){return R0||(R0=1,Fm.exports=MS()),Fm.exports}var ye=dp(),Gm={exports:{}},bc={},Km={exports:{}},Qm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N0;function VS(){return N0||(N0=1,function(r){function e(V,ie){var te=V.length;V.push(ie);e:for(;0<te;){var Le=te-1>>>1,P=V[Le];if(0<a(P,ie))V[Le]=ie,V[te]=P,te=Le;else break e}}function t(V){return V.length===0?null:V[0]}function s(V){if(V.length===0)return null;var ie=V[0],te=V.pop();if(te!==ie){V[0]=te;e:for(var Le=0,P=V.length,se=P>>>1;Le<se;){var he=2*(Le+1)-1,D=V[he],ae=he+1,we=V[ae];if(0>a(D,te))ae<P&&0>a(we,D)?(V[Le]=we,V[ae]=te,Le=ae):(V[Le]=D,V[he]=te,Le=he);else if(ae<P&&0>a(we,te))V[Le]=we,V[ae]=te,Le=ae;else break e}}return ie}function a(V,ie){var te=V.sortIndex-ie.sortIndex;return te!==0?te:V.id-ie.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();r.unstable_now=function(){return u.now()-f}}var g=[],y=[],_=1,E=null,T=3,I=!1,L=!1,q=!1,z=!1,re=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function le(V){for(var ie=t(y);ie!==null;){if(ie.callback===null)s(y);else if(ie.startTime<=V)s(y),ie.sortIndex=ie.expirationTime,e(g,ie);else break;ie=t(y)}}function ce(V){if(q=!1,le(V),!L)if(t(g)!==null)L=!0,oe||(oe=!0,M());else{var ie=t(y);ie!==null&&Ve(ce,ie.startTime-V)}}var oe=!1,C=-1,A=5,R=-1;function O(){return z?!0:!(r.unstable_now()-R<A)}function j(){if(z=!1,oe){var V=r.unstable_now();R=V;var ie=!0;try{e:{L=!1,q&&(q=!1,J(C),C=-1),I=!0;var te=T;try{t:{for(le(V),E=t(g);E!==null&&!(E.expirationTime>V&&O());){var Le=E.callback;if(typeof Le=="function"){E.callback=null,T=E.priorityLevel;var P=Le(E.expirationTime<=V);if(V=r.unstable_now(),typeof P=="function"){E.callback=P,le(V),ie=!0;break t}E===t(g)&&s(g),le(V)}else s(g);E=t(g)}if(E!==null)ie=!0;else{var se=t(y);se!==null&&Ve(ce,se.startTime-V),ie=!1}}break e}finally{E=null,T=te,I=!1}ie=void 0}}finally{ie?M():oe=!1}}}var M;if(typeof Y=="function")M=function(){Y(j)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,We=N.port2;N.port1.onmessage=j,M=function(){We.postMessage(null)}}else M=function(){re(j,0)};function Ve(V,ie){C=re(function(){V(r.unstable_now())},ie)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(V){V.callback=null},r.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<V?Math.floor(1e3/V):5},r.unstable_getCurrentPriorityLevel=function(){return T},r.unstable_next=function(V){switch(T){case 1:case 2:case 3:var ie=3;break;default:ie=T}var te=T;T=ie;try{return V()}finally{T=te}},r.unstable_requestPaint=function(){z=!0},r.unstable_runWithPriority=function(V,ie){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var te=T;T=V;try{return ie()}finally{T=te}},r.unstable_scheduleCallback=function(V,ie,te){var Le=r.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?Le+te:Le):te=Le,V){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=te+P,V={id:_++,callback:ie,priorityLevel:V,startTime:te,expirationTime:P,sortIndex:-1},te>Le?(V.sortIndex=te,e(y,V),t(g)===null&&V===t(y)&&(q?(J(C),C=-1):q=!0,Ve(ce,te-Le))):(V.sortIndex=P,e(g,V),L||I||(L=!0,oe||(oe=!0,M()))),V},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(V){var ie=T;return function(){var te=T;T=ie;try{return V.apply(this,arguments)}finally{T=te}}}}(Qm)),Qm}var C0;function US(){return C0||(C0=1,Km.exports=VS()),Km.exports}var Ym={exports:{}},fn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I0;function LS(){if(I0)return fn;I0=1;var r=dp();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)y+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(g,y,_){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:E==null?null:""+E,children:g,containerInfo:y,implementation:_}}var u=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,fn.createPortal=function(g,y){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return l(g,y,null,_)},fn.flushSync=function(g){var y=u.T,_=s.p;try{if(u.T=null,s.p=2,g)return g()}finally{u.T=y,s.p=_,s.d.f()}},fn.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},fn.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},fn.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var _=y.as,E=f(_,y.crossOrigin),T=typeof y.integrity=="string"?y.integrity:void 0,I=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;_==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:E,integrity:T,fetchPriority:I}):_==="script"&&s.d.X(g,{crossOrigin:E,integrity:T,fetchPriority:I,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},fn.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var _=f(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},fn.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var _=y.as,E=f(_,y.crossOrigin);s.d.L(g,_,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},fn.preloadModule=function(g,y){if(typeof g=="string")if(y){var _=f(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},fn.requestFormReset=function(g){s.d.r(g)},fn.unstable_batchedUpdates=function(g,y){return g(y)},fn.useFormState=function(g,y,_){return u.H.useFormState(g,y,_)},fn.useFormStatus=function(){return u.H.useHostTransitionStatus()},fn.version="19.1.0",fn}var k0;function zS(){if(k0)return Ym.exports;k0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Ym.exports=LS(),Ym.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j0;function BS(){if(j0)return bc;j0=1;var r=US(),e=dp(),t=zS();function s(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var i=n,o=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(o=i.return),n=i.return;while(n)}return i.tag===3?o:null}function u(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function f(n){if(l(n)!==n)throw Error(s(188))}function g(n){var i=n.alternate;if(!i){if(i=l(n),i===null)throw Error(s(188));return i!==n?null:n}for(var o=n,c=i;;){var d=o.return;if(d===null)break;var p=d.alternate;if(p===null){if(c=d.return,c!==null){o=c;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===o)return f(d),n;if(p===c)return f(d),i;p=p.sibling}throw Error(s(188))}if(o.return!==c.return)o=d,c=p;else{for(var w=!1,x=d.child;x;){if(x===o){w=!0,o=d,c=p;break}if(x===c){w=!0,c=d,o=p;break}x=x.sibling}if(!w){for(x=p.child;x;){if(x===o){w=!0,o=p,c=d;break}if(x===c){w=!0,c=p,o=d;break}x=x.sibling}if(!w)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?n:i}function y(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=y(n),i!==null)return i;n=n.sibling}return null}var _=Object.assign,E=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),re=Symbol.for("react.provider"),J=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function M(n){return n===null||typeof n!="object"?null:(n=j&&n[j]||n["@@iterator"],typeof n=="function"?n:null)}var N=Symbol.for("react.client.reference");function We(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===N?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case L:return"Fragment";case z:return"Profiler";case q:return"StrictMode";case ce:return"Suspense";case oe:return"SuspenseList";case R:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case I:return"Portal";case Y:return(n.displayName||"Context")+".Provider";case J:return(n._context.displayName||"Context")+".Consumer";case le:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case C:return i=n.displayName||null,i!==null?i:We(n.type)||"Memo";case A:i=n._payload,n=n._init;try{return We(n(i))}catch{}}return null}var Ve=Array.isArray,V=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},Le=[],P=-1;function se(n){return{current:n}}function he(n){0>P||(n.current=Le[P],Le[P]=null,P--)}function D(n,i){P++,Le[P]=n.current,n.current=i}var ae=se(null),we=se(null),_e=se(null),$e=se(null);function et(n,i){switch(D(_e,i),D(we,n),D(ae,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?Jv(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=Jv(i),n=Zv(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}he(ae),D(ae,n)}function cn(){he(ae),he(we),he(_e)}function _s(n){n.memoizedState!==null&&D($e,n);var i=ae.current,o=Zv(i,n.type);i!==o&&(D(we,n),D(ae,o))}function vs(n){we.current===n&&(he(ae),he(we)),$e.current===n&&(he($e),mc._currentValue=te)}var es=Object.prototype.hasOwnProperty,ki=r.unstable_scheduleCallback,Ma=r.unstable_cancelCallback,Hd=r.unstable_shouldYield,ml=r.unstable_requestPaint,xn=r.unstable_now,lu=r.unstable_getCurrentPriorityLevel,zt=r.unstable_ImmediatePriority,Kt=r.unstable_UserBlockingPriority,Hs=r.unstable_NormalPriority,Fd=r.unstable_LowPriority,gl=r.unstable_IdlePriority,Gd=r.log,ji=r.unstable_setDisableYieldValue,wr=null,un=null;function Bn(n){if(typeof Gd=="function"&&ji(n),un&&typeof un.setStrictMode=="function")try{un.setStrictMode(wr,n)}catch{}}var _n=Math.clz32?Math.clz32:uu,Kd=Math.log,cu=Math.LN2;function uu(n){return n>>>=0,n===0?32:31-(Kd(n)/cu|0)|0}var bs=256,Er=4194304;function ts(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function qn(n,i,o){var c=n.pendingLanes;if(c===0)return 0;var d=0,p=n.suspendedLanes,w=n.pingedLanes;n=n.warmLanes;var x=c&134217727;return x!==0?(c=x&~p,c!==0?d=ts(c):(w&=x,w!==0?d=ts(w):o||(o=x&~n,o!==0&&(d=ts(o))))):(x=c&~p,x!==0?d=ts(x):w!==0?d=ts(w):o||(o=c&~n,o!==0&&(d=ts(o)))),d===0?0:i!==0&&i!==d&&(i&p)===0&&(p=d&-d,o=i&-i,p>=o||p===32&&(o&4194048)!==0)?i:d}function xr(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function Va(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pl(){var n=bs;return bs<<=1,(bs&4194048)===0&&(bs=256),n}function Tr(){var n=Er;return Er<<=1,(Er&62914560)===0&&(Er=4194304),n}function Ua(n){for(var i=[],o=0;31>o;o++)i.push(n);return i}function Tt(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function hu(n,i,o,c,d,p){var w=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var x=n.entanglements,k=n.expirationTimes,F=n.hiddenUpdates;for(o=w&~o;0<o;){var W=31-_n(o),ee=1<<W;x[W]=0,k[W]=-1;var G=F[W];if(G!==null)for(F[W]=null,W=0;W<G.length;W++){var K=G[W];K!==null&&(K.lane&=-536870913)}o&=~ee}c!==0&&Sr(n,c,0),p!==0&&d===0&&n.tag!==0&&(n.suspendedLanes|=p&~(w&~i))}function Sr(n,i,o){n.pendingLanes|=i,n.suspendedLanes&=~i;var c=31-_n(i);n.entangledLanes|=i,n.entanglements[c]=n.entanglements[c]|1073741824|o&4194090}function Ar(n,i){var o=n.entangledLanes|=i;for(n=n.entanglements;o;){var c=31-_n(o),d=1<<c;d&i|n[c]&i&&(n[c]|=i),o&=~d}}function yl(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function _l(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Fs(){var n=ie.p;return n!==0?n:(n=window.event,n===void 0?32:_0(n.type))}function Qd(n,i){var o=ie.p;try{return ie.p=n,i()}finally{ie.p=o}}var ws=Math.random().toString(36).slice(2),St="__reactFiber$"+ws,tn="__reactProps$"+ws,Gs="__reactContainer$"+ws,Oi="__reactEvents$"+ws,Di="__reactListeners$"+ws,Yd="__reactHandles$"+ws,ns="__reactResources$"+ws,Rr="__reactMarker$"+ws;function La(n){delete n[St],delete n[tn],delete n[Oi],delete n[Di],delete n[Yd]}function Es(n){var i=n[St];if(i)return i;for(var o=n.parentNode;o;){if(i=o[Gs]||o[St]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(n=s0(n);n!==null;){if(o=n[St])return o;n=s0(n)}return i}n=o,o=n.parentNode}return null}function xs(n){if(n=n[St]||n[Gs]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function Nr(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(s(33))}function Cr(n){var i=n[ns];return i||(i=n[ns]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function At(n){n[Rr]=!0}var du=new Set,Pi={};function Ts(n,i){Ss(n,i),Ss(n+"Capture",i)}function Ss(n,i){for(Pi[n]=i,n=0;n<i.length;n++)du.add(i[n])}var Mi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),As={},za={};function Wd(n){return es.call(za,n)?!0:es.call(As,n)?!1:Mi.test(n)?za[n]=!0:(As[n]=!0,!1)}function Vi(n,i,o){if(Wd(i))if(o===null)n.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+o)}}function Ui(n,i,o){if(o===null)n.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+o)}}function $n(n,i,o,c){if(c===null)n.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(i,o,""+c)}}var Li,Ba;function Ks(n){if(Li===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);Li=i&&i[1]||"",Ba=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Li+n+Ba}var qa=!1;function $a(n,i){if(!n||qa)return"";qa=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(K){var G=K}Reflect.construct(n,[],ee)}else{try{ee.call()}catch(K){G=K}n.call(ee.prototype)}}else{try{throw Error()}catch(K){G=K}(ee=n())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(K){if(K&&G&&typeof K.stack=="string")return[K.stack,G.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=c.DetermineComponentFrameRoot(),w=p[0],x=p[1];if(w&&x){var k=w.split(`
`),F=x.split(`
`);for(d=c=0;c<k.length&&!k[c].includes("DetermineComponentFrameRoot");)c++;for(;d<F.length&&!F[d].includes("DetermineComponentFrameRoot");)d++;if(c===k.length||d===F.length)for(c=k.length-1,d=F.length-1;1<=c&&0<=d&&k[c]!==F[d];)d--;for(;1<=c&&0<=d;c--,d--)if(k[c]!==F[d]){if(c!==1||d!==1)do if(c--,d--,0>d||k[c]!==F[d]){var W=`
`+k[c].replace(" at new "," at ");return n.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",n.displayName)),W}while(1<=c&&0<=d);break}}}finally{qa=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?Ks(o):""}function Xd(n){switch(n.tag){case 26:case 27:case 5:return Ks(n.type);case 16:return Ks("Lazy");case 13:return Ks("Suspense");case 19:return Ks("SuspenseList");case 0:case 15:return $a(n.type,!1);case 11:return $a(n.type.render,!1);case 1:return $a(n.type,!0);case 31:return Ks("Activity");default:return""}}function ss(n){try{var i="";do i+=Xd(n),n=n.return;while(n);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function vt(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ir(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function zi(n){var i=Ir(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),c=""+n[i];if(!n.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,p=o.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return d.call(this)},set:function(w){c=""+w,p.call(this,w)}}),Object.defineProperty(n,i,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function kr(n){n._valueTracker||(n._valueTracker=zi(n))}function at(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var o=i.getValue(),c="";return n&&(c=Ir(n)?n.checked?"true":"false":n.value),n=c,n!==o?(i.setValue(n),!0):!1}function Qs(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Bi=/[\n"\\]/g;function Qt(n){return n.replace(Bi,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function vl(n,i,o,c,d,p,w,x){n.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.type=w:n.removeAttribute("type"),i!=null?w==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+vt(i)):n.value!==""+vt(i)&&(n.value=""+vt(i)):w!=="submit"&&w!=="reset"||n.removeAttribute("value"),i!=null?wl(n,w,vt(i)):o!=null?wl(n,w,vt(o)):c!=null&&n.removeAttribute("value"),d==null&&p!=null&&(n.defaultChecked=!!p),d!=null&&(n.checked=d&&typeof d!="function"&&typeof d!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?n.name=""+vt(x):n.removeAttribute("name")}function bl(n,i,o,c,d,p,w,x){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(n.type=p),i!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||i!=null))return;o=o!=null?""+vt(o):"",i=i!=null?""+vt(i):o,x||i===n.value||(n.value=i),n.defaultValue=i}c=c??d,c=typeof c!="function"&&typeof c!="symbol"&&!!c,n.checked=x?n.checked:!!c,n.defaultChecked=!!c,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(n.name=w)}function wl(n,i,o){i==="number"&&Qs(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function jr(n,i,o,c){if(n=n.options,i){i={};for(var d=0;d<o.length;d++)i["$"+o[d]]=!0;for(o=0;o<n.length;o++)d=i.hasOwnProperty("$"+n[o].value),n[o].selected!==d&&(n[o].selected=d),d&&c&&(n[o].defaultSelected=!0)}else{for(o=""+vt(o),i=null,d=0;d<n.length;d++){if(n[d].value===o){n[d].selected=!0,c&&(n[d].defaultSelected=!0);return}i!==null||n[d].disabled||(i=n[d])}i!==null&&(i.selected=!0)}}function fu(n,i,o){if(i!=null&&(i=""+vt(i),i!==n.value&&(n.value=i),o==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=o!=null?""+vt(o):""}function mu(n,i,o,c){if(i==null){if(c!=null){if(o!=null)throw Error(s(92));if(Ve(c)){if(1<c.length)throw Error(s(93));c=c[0]}o=c}o==null&&(o=""),i=o}o=vt(i),n.defaultValue=o,c=n.textContent,c===o&&c!==""&&c!==null&&(n.value=c)}function Hn(n,i){if(i){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=i;return}}n.textContent=i}var Ys=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function El(n,i,o){var c=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":c?n.setProperty(i,o):typeof o!="number"||o===0||Ys.has(i)?i==="float"?n.cssFloat=o:n[i]=(""+o).trim():n[i]=o+"px"}function xl(n,i,o){if(i!=null&&typeof i!="object")throw Error(s(62));if(n=n.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?n.setProperty(c,""):c==="float"?n.cssFloat="":n[c]="");for(var d in i)c=i[d],i.hasOwnProperty(d)&&o[d]!==c&&El(n,d,c)}else for(var p in i)i.hasOwnProperty(p)&&El(n,p,i[p])}function Ha(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rs(n){return pu.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Tl=null;function Sl(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Or=null,vn=null;function yu(n){var i=xs(n);if(i&&(n=i.stateNode)){var o=n[tn]||null;e:switch(n=i.stateNode,i.type){case"input":if(vl(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Qt(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var c=o[i];if(c!==n&&c.form===n.form){var d=c[tn]||null;if(!d)throw Error(s(90));vl(c,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<o.length;i++)c=o[i],c.form===n.form&&at(c)}break e;case"textarea":fu(n,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&jr(n,!!o.multiple,i,!1)}}}var qi=!1;function $i(n,i,o){if(qi)return n(i,o);qi=!0;try{var c=n(i);return c}finally{if(qi=!1,(Or!==null||vn!==null)&&(ah(),Or&&(i=Or,n=vn,vn=Or=null,yu(i),n)))for(i=0;i<n.length;i++)yu(n[i])}}function Dr(n,i){var o=n.stateNode;if(o===null)return null;var c=o[tn]||null;if(c===null)return null;o=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(s(231,i,typeof o));return o}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ws=!1;if(bn)try{var Pr={};Object.defineProperty(Pr,"passive",{get:function(){Ws=!0}}),window.addEventListener("test",Pr,Pr),window.removeEventListener("test",Pr,Pr)}catch{Ws=!1}var Fn=null,dt=null,Fa=null;function _u(){if(Fa)return Fa;var n,i=dt,o=i.length,c,d="value"in Fn?Fn.value:Fn.textContent,p=d.length;for(n=0;n<o&&i[n]===d[n];n++);var w=o-n;for(c=1;c<=w&&i[o-c]===d[p-c];c++);return Fa=d.slice(n,1<c?1-c:void 0)}function Hi(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Fi(){return!0}function Al(){return!1}function Bt(n){function i(o,c,d,p,w){this._reactName=o,this._targetInst=d,this.type=c,this.nativeEvent=p,this.target=w,this.currentTarget=null;for(var x in n)n.hasOwnProperty(x)&&(o=n[x],this[x]=o?o(p):p[x]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Fi:Al,this.isPropagationStopped=Al,this}return _(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Fi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Fi)},persist:function(){},isPersistent:Fi}),i}var hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gi=Bt(hn),Ki=_({},hn,{view:0,detail:0}),Qi=Bt(Ki),Ga,Yi,Rs,Wi=_({},Ki,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ya,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Rs&&(Rs&&n.type==="mousemove"?(Ga=n.screenX-Rs.screenX,Yi=n.screenY-Rs.screenY):Yi=Ga=0,Rs=n),Ga)},movementY:function(n){return"movementY"in n?n.movementY:Yi}}),Xi=Bt(Wi),Jd=_({},Wi,{dataTransfer:0}),vu=Bt(Jd),Ji=_({},Ki,{relatedTarget:0}),Ka=Bt(Ji),bu=_({},hn,{animationName:0,elapsedTime:0,pseudoElement:0}),Rl=Bt(bu),Nl=_({},hn,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),wu=Bt(Nl),Qa=_({},hn,{data:0}),Cl=Bt(Qa),Eu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xs={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tu(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=xu[n])?!!i[n]:!1}function Ya(){return Tu}var Su=_({},Ki,{key:function(n){if(n.key){var i=Eu[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Hi(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Xs[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ya,charCode:function(n){return n.type==="keypress"?Hi(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Hi(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Wa=Bt(Su),wn=_({},Wi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Il=Bt(wn),Au=_({},Ki,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ya}),Mr=Bt(Au),h=_({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0}),v=Bt(h),b=_({},Wi,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),S=Bt(b),H=_({},hn,{newState:0,oldState:0}),Q=Bt(H),ue=[9,13,27,32],je=bn&&"CompositionEvent"in window,pt=null;bn&&"documentMode"in document&&(pt=document.documentMode);var st=bn&&"TextEvent"in window&&!pt,Rt=bn&&(!je||pt&&8<pt&&11>=pt),kn=" ",Ns=!1;function is(n,i){switch(n){case"keyup":return ue.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function as(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var os=!1;function kl(n,i){switch(n){case"compositionend":return as(i);case"keypress":return i.which!==32?null:(Ns=!0,kn);case"textInput":return n=i.data,n===kn&&Ns?null:n;default:return null}}function i1(n,i){if(os)return n==="compositionend"||!je&&is(n,i)?(n=_u(),Fa=dt=Fn=null,os=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Rt&&i.locale!=="ko"?null:i.data;default:return null}}var a1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dy(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!a1[n.type]:i==="textarea"}function fy(n,i,o,c){Or?vn?vn.push(c):vn=[c]:Or=c,i=dh(i,"onChange"),0<i.length&&(o=new Gi("onChange","change",null,o,c),n.push({event:o,listeners:i}))}var jl=null,Ol=null;function o1(n){Kv(n,0)}function Ru(n){var i=Nr(n);if(at(i))return n}function my(n,i){if(n==="change")return i}var gy=!1;if(bn){var Zd;if(bn){var ef="oninput"in document;if(!ef){var py=document.createElement("div");py.setAttribute("oninput","return;"),ef=typeof py.oninput=="function"}Zd=ef}else Zd=!1;gy=Zd&&(!document.documentMode||9<document.documentMode)}function yy(){jl&&(jl.detachEvent("onpropertychange",_y),Ol=jl=null)}function _y(n){if(n.propertyName==="value"&&Ru(Ol)){var i=[];fy(i,Ol,n,Sl(n)),$i(o1,i)}}function l1(n,i,o){n==="focusin"?(yy(),jl=i,Ol=o,jl.attachEvent("onpropertychange",_y)):n==="focusout"&&yy()}function c1(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ru(Ol)}function u1(n,i){if(n==="click")return Ru(i)}function h1(n,i){if(n==="input"||n==="change")return Ru(i)}function d1(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var jn=typeof Object.is=="function"?Object.is:d1;function Dl(n,i){if(jn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var o=Object.keys(n),c=Object.keys(i);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var d=o[c];if(!es.call(i,d)||!jn(n[d],i[d]))return!1}return!0}function vy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function by(n,i){var o=vy(n);n=0;for(var c;o;){if(o.nodeType===3){if(c=n+o.textContent.length,n<=i&&c>=i)return{node:o,offset:i-n};n=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=vy(o)}}function wy(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?wy(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Ey(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=Qs(n.document);i instanceof n.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)n=i.contentWindow;else break;i=Qs(n.document)}return i}function tf(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var f1=bn&&"documentMode"in document&&11>=document.documentMode,Xa=null,nf=null,Pl=null,sf=!1;function xy(n,i,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;sf||Xa==null||Xa!==Qs(c)||(c=Xa,"selectionStart"in c&&tf(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Pl&&Dl(Pl,c)||(Pl=c,c=dh(nf,"onSelect"),0<c.length&&(i=new Gi("onSelect","select",null,i,o),n.push({event:i,listeners:c}),i.target=Xa)))}function Zi(n,i){var o={};return o[n.toLowerCase()]=i.toLowerCase(),o["Webkit"+n]="webkit"+i,o["Moz"+n]="moz"+i,o}var Ja={animationend:Zi("Animation","AnimationEnd"),animationiteration:Zi("Animation","AnimationIteration"),animationstart:Zi("Animation","AnimationStart"),transitionrun:Zi("Transition","TransitionRun"),transitionstart:Zi("Transition","TransitionStart"),transitioncancel:Zi("Transition","TransitionCancel"),transitionend:Zi("Transition","TransitionEnd")},rf={},Ty={};bn&&(Ty=document.createElement("div").style,"AnimationEvent"in window||(delete Ja.animationend.animation,delete Ja.animationiteration.animation,delete Ja.animationstart.animation),"TransitionEvent"in window||delete Ja.transitionend.transition);function ea(n){if(rf[n])return rf[n];if(!Ja[n])return n;var i=Ja[n],o;for(o in i)if(i.hasOwnProperty(o)&&o in Ty)return rf[n]=i[o];return n}var Sy=ea("animationend"),Ay=ea("animationiteration"),Ry=ea("animationstart"),m1=ea("transitionrun"),g1=ea("transitionstart"),p1=ea("transitioncancel"),Ny=ea("transitionend"),Cy=new Map,af="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");af.push("scrollEnd");function ls(n,i){Cy.set(n,i),Ts(i,[n])}var Iy=new WeakMap;function Gn(n,i){if(typeof n=="object"&&n!==null){var o=Iy.get(n);return o!==void 0?o:(i={value:n,source:i,stack:ss(i)},Iy.set(n,i),i)}return{value:n,source:i,stack:ss(i)}}var Kn=[],Za=0,of=0;function Nu(){for(var n=Za,i=of=Za=0;i<n;){var o=Kn[i];Kn[i++]=null;var c=Kn[i];Kn[i++]=null;var d=Kn[i];Kn[i++]=null;var p=Kn[i];if(Kn[i++]=null,c!==null&&d!==null){var w=c.pending;w===null?d.next=d:(d.next=w.next,w.next=d),c.pending=d}p!==0&&ky(o,d,p)}}function Cu(n,i,o,c){Kn[Za++]=n,Kn[Za++]=i,Kn[Za++]=o,Kn[Za++]=c,of|=c,n.lanes|=c,n=n.alternate,n!==null&&(n.lanes|=c)}function lf(n,i,o,c){return Cu(n,i,o,c),Iu(n)}function eo(n,i){return Cu(n,null,null,i),Iu(n)}function ky(n,i,o){n.lanes|=o;var c=n.alternate;c!==null&&(c.lanes|=o);for(var d=!1,p=n.return;p!==null;)p.childLanes|=o,c=p.alternate,c!==null&&(c.childLanes|=o),p.tag===22&&(n=p.stateNode,n===null||n._visibility&1||(d=!0)),n=p,p=p.return;return n.tag===3?(p=n.stateNode,d&&i!==null&&(d=31-_n(o),n=p.hiddenUpdates,c=n[d],c===null?n[d]=[i]:c.push(i),i.lane=o|536870912),p):null}function Iu(n){if(50<ac)throw ac=0,mm=null,Error(s(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var to={};function y1(n,i,o,c){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(n,i,o,c){return new y1(n,i,o,c)}function cf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Js(n,i){var o=n.alternate;return o===null?(o=On(n.tag,i,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=i,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,i=n.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function jy(n,i){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,i=o.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function ku(n,i,o,c,d,p){var w=0;if(c=n,typeof n=="function")cf(n)&&(w=1);else if(typeof n=="string")w=vS(n,o,ae.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case R:return n=On(31,o,i,d),n.elementType=R,n.lanes=p,n;case L:return ta(o.children,d,p,i);case q:w=8,d|=24;break;case z:return n=On(12,o,i,d|2),n.elementType=z,n.lanes=p,n;case ce:return n=On(13,o,i,d),n.elementType=ce,n.lanes=p,n;case oe:return n=On(19,o,i,d),n.elementType=oe,n.lanes=p,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case re:case Y:w=10;break e;case J:w=9;break e;case le:w=11;break e;case C:w=14;break e;case A:w=16,c=null;break e}w=29,o=Error(s(130,n===null?"null":typeof n,"")),c=null}return i=On(w,o,i,d),i.elementType=n,i.type=c,i.lanes=p,i}function ta(n,i,o,c){return n=On(7,n,c,i),n.lanes=o,n}function uf(n,i,o){return n=On(6,n,null,i),n.lanes=o,n}function hf(n,i,o){return i=On(4,n.children!==null?n.children:[],n.key,i),i.lanes=o,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var no=[],so=0,ju=null,Ou=0,Qn=[],Yn=0,na=null,Zs=1,er="";function sa(n,i){no[so++]=Ou,no[so++]=ju,ju=n,Ou=i}function Oy(n,i,o){Qn[Yn++]=Zs,Qn[Yn++]=er,Qn[Yn++]=na,na=n;var c=Zs;n=er;var d=32-_n(c)-1;c&=~(1<<d),o+=1;var p=32-_n(i)+d;if(30<p){var w=d-d%5;p=(c&(1<<w)-1).toString(32),c>>=w,d-=w,Zs=1<<32-_n(i)+d|o<<d|c,er=p+n}else Zs=1<<p|o<<d|c,er=n}function df(n){n.return!==null&&(sa(n,1),Oy(n,1,0))}function ff(n){for(;n===ju;)ju=no[--so],no[so]=null,Ou=no[--so],no[so]=null;for(;n===na;)na=Qn[--Yn],Qn[Yn]=null,er=Qn[--Yn],Qn[Yn]=null,Zs=Qn[--Yn],Qn[Yn]=null}var En=null,Et=null,tt=!1,ra=null,Cs=!1,mf=Error(s(519));function ia(n){var i=Error(s(418,""));throw Ul(Gn(i,n)),mf}function Dy(n){var i=n.stateNode,o=n.type,c=n.memoizedProps;switch(i[St]=n,i[tn]=c,o){case"dialog":Ge("cancel",i),Ge("close",i);break;case"iframe":case"object":case"embed":Ge("load",i);break;case"video":case"audio":for(o=0;o<lc.length;o++)Ge(lc[o],i);break;case"source":Ge("error",i);break;case"img":case"image":case"link":Ge("error",i),Ge("load",i);break;case"details":Ge("toggle",i);break;case"input":Ge("invalid",i),bl(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),kr(i);break;case"select":Ge("invalid",i);break;case"textarea":Ge("invalid",i),mu(i,c.value,c.defaultValue,c.children),kr(i)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||c.suppressHydrationWarning===!0||Xv(i.textContent,o)?(c.popover!=null&&(Ge("beforetoggle",i),Ge("toggle",i)),c.onScroll!=null&&Ge("scroll",i),c.onScrollEnd!=null&&Ge("scrollend",i),c.onClick!=null&&(i.onclick=fh),i=!0):i=!1,i||ia(n)}function Py(n){for(En=n.return;En;)switch(En.tag){case 5:case 13:Cs=!1;return;case 27:case 3:Cs=!0;return;default:En=En.return}}function Ml(n){if(n!==En)return!1;if(!tt)return Py(n),tt=!0,!1;var i=n.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||Im(n.type,n.memoizedProps)),o=!o),o&&Et&&ia(n),Py(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(o=n.data,o==="/$"){if(i===0){Et=us(n.nextSibling);break e}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++;n=n.nextSibling}Et=null}}else i===27?(i=Et,Jr(n.type)?(n=Dm,Dm=null,Et=n):Et=i):Et=En?us(n.stateNode.nextSibling):null;return!0}function Vl(){Et=En=null,tt=!1}function My(){var n=ra;return n!==null&&(An===null?An=n:An.push.apply(An,n),ra=null),n}function Ul(n){ra===null?ra=[n]:ra.push(n)}var gf=se(null),aa=null,tr=null;function Vr(n,i,o){D(gf,i._currentValue),i._currentValue=o}function nr(n){n._currentValue=gf.current,he(gf)}function pf(n,i,o){for(;n!==null;){var c=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),n===o)break;n=n.return}}function yf(n,i,o,c){var d=n.child;for(d!==null&&(d.return=n);d!==null;){var p=d.dependencies;if(p!==null){var w=d.child;p=p.firstContext;e:for(;p!==null;){var x=p;p=d;for(var k=0;k<i.length;k++)if(x.context===i[k]){p.lanes|=o,x=p.alternate,x!==null&&(x.lanes|=o),pf(p.return,o,n),c||(w=null);break e}p=x.next}}else if(d.tag===18){if(w=d.return,w===null)throw Error(s(341));w.lanes|=o,p=w.alternate,p!==null&&(p.lanes|=o),pf(w,o,n),w=null}else w=d.child;if(w!==null)w.return=d;else for(w=d;w!==null;){if(w===n){w=null;break}if(d=w.sibling,d!==null){d.return=w.return,w=d;break}w=w.return}d=w}}function Ll(n,i,o,c){n=null;for(var d=i,p=!1;d!==null;){if(!p){if((d.flags&524288)!==0)p=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var w=d.alternate;if(w===null)throw Error(s(387));if(w=w.memoizedProps,w!==null){var x=d.type;jn(d.pendingProps.value,w.value)||(n!==null?n.push(x):n=[x])}}else if(d===$e.current){if(w=d.alternate,w===null)throw Error(s(387));w.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(n!==null?n.push(mc):n=[mc])}d=d.return}n!==null&&yf(i,n,o,c),i.flags|=262144}function Du(n){for(n=n.firstContext;n!==null;){if(!jn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function oa(n){aa=n,tr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function dn(n){return Vy(aa,n)}function Pu(n,i){return aa===null&&oa(n),Vy(n,i)}function Vy(n,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},tr===null){if(n===null)throw Error(s(308));tr=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else tr=tr.next=i;return o}var _1=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(o,c){n.push(c)}};this.abort=function(){i.aborted=!0,n.forEach(function(o){return o()})}},v1=r.unstable_scheduleCallback,b1=r.unstable_NormalPriority,qt={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _f(){return{controller:new _1,data:new Map,refCount:0}}function zl(n){n.refCount--,n.refCount===0&&v1(b1,function(){n.controller.abort()})}var Bl=null,vf=0,ro=0,io=null;function w1(n,i){if(Bl===null){var o=Bl=[];vf=0,ro=wm(),io={status:"pending",value:void 0,then:function(c){o.push(c)}}}return vf++,i.then(Uy,Uy),i}function Uy(){if(--vf===0&&Bl!==null){io!==null&&(io.status="fulfilled");var n=Bl;Bl=null,ro=0,io=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function E1(n,i){var o=[],c={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return n.then(function(){c.status="fulfilled",c.value=i;for(var d=0;d<o.length;d++)(0,o[d])(i)},function(d){for(c.status="rejected",c.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),c}var Ly=V.S;V.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&w1(n,i),Ly!==null&&Ly(n,i)};var la=se(null);function bf(){var n=la.current;return n!==null?n:ft.pooledCache}function Mu(n,i){i===null?D(la,la.current):D(la,i.pool)}function zy(){var n=bf();return n===null?null:{parent:qt._currentValue,pool:n}}var ql=Error(s(460)),By=Error(s(474)),Vu=Error(s(542)),wf={then:function(){}};function qy(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Uu(){}function $y(n,i,o){switch(o=n[o],o===void 0?n.push(i):o!==i&&(i.then(Uu,Uu),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Fy(n),n;default:if(typeof i.status=="string")i.then(Uu,Uu);else{if(n=ft,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=i,n.status="pending",n.then(function(c){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=c}},function(c){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Fy(n),n}throw $l=i,ql}}var $l=null;function Hy(){if($l===null)throw Error(s(459));var n=$l;return $l=null,n}function Fy(n){if(n===ql||n===Vu)throw Error(s(483))}var Ur=!1;function Ef(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xf(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Lr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function zr(n,i,o){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(rt&2)!==0){var d=c.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),c.pending=i,i=Iu(n),ky(n,null,o),i}return Cu(n,c,i,o),Iu(n)}function Hl(n,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var c=i.lanes;c&=n.pendingLanes,o|=c,i.lanes=o,Ar(n,o)}}function Tf(n,i){var o=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var d=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var w={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?d=p=w:p=p.next=w,o=o.next}while(o!==null);p===null?d=p=i:p=p.next=i}else d=p=i;o={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:c.shared,callbacks:c.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=i:n.next=i,o.lastBaseUpdate=i}var Sf=!1;function Fl(){if(Sf){var n=io;if(n!==null)throw n}}function Gl(n,i,o,c){Sf=!1;var d=n.updateQueue;Ur=!1;var p=d.firstBaseUpdate,w=d.lastBaseUpdate,x=d.shared.pending;if(x!==null){d.shared.pending=null;var k=x,F=k.next;k.next=null,w===null?p=F:w.next=F,w=k;var W=n.alternate;W!==null&&(W=W.updateQueue,x=W.lastBaseUpdate,x!==w&&(x===null?W.firstBaseUpdate=F:x.next=F,W.lastBaseUpdate=k))}if(p!==null){var ee=d.baseState;w=0,W=F=k=null,x=p;do{var G=x.lane&-536870913,K=G!==x.lane;if(K?(Xe&G)===G:(c&G)===G){G!==0&&G===ro&&(Sf=!0),W!==null&&(W=W.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var Ae=n,xe=x;G=i;var ct=o;switch(xe.tag){case 1:if(Ae=xe.payload,typeof Ae=="function"){ee=Ae.call(ct,ee,G);break e}ee=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=xe.payload,G=typeof Ae=="function"?Ae.call(ct,ee,G):Ae,G==null)break e;ee=_({},ee,G);break e;case 2:Ur=!0}}G=x.callback,G!==null&&(n.flags|=64,K&&(n.flags|=8192),K=d.callbacks,K===null?d.callbacks=[G]:K.push(G))}else K={lane:G,tag:x.tag,payload:x.payload,callback:x.callback,next:null},W===null?(F=W=K,k=ee):W=W.next=K,w|=G;if(x=x.next,x===null){if(x=d.shared.pending,x===null)break;K=x,x=K.next,K.next=null,d.lastBaseUpdate=K,d.shared.pending=null}}while(!0);W===null&&(k=ee),d.baseState=k,d.firstBaseUpdate=F,d.lastBaseUpdate=W,p===null&&(d.shared.lanes=0),Qr|=w,n.lanes=w,n.memoizedState=ee}}function Gy(n,i){if(typeof n!="function")throw Error(s(191,n));n.call(i)}function Ky(n,i){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)Gy(o[n],i)}var ao=se(null),Lu=se(0);function Qy(n,i){n=cr,D(Lu,n),D(ao,i),cr=n|i.baseLanes}function Af(){D(Lu,cr),D(ao,ao.current)}function Rf(){cr=Lu.current,he(ao),he(Lu)}var Br=0,ze=null,ot=null,Ot=null,zu=!1,oo=!1,ca=!1,Bu=0,Kl=0,lo=null,x1=0;function Nt(){throw Error(s(321))}function Nf(n,i){if(i===null)return!1;for(var o=0;o<i.length&&o<n.length;o++)if(!jn(n[o],i[o]))return!1;return!0}function Cf(n,i,o,c,d,p){return Br=p,ze=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,V.H=n===null||n.memoizedState===null?k_:j_,ca=!1,p=o(c,d),ca=!1,oo&&(p=Wy(i,o,c,d)),Yy(n),p}function Yy(n){V.H=Ku;var i=ot!==null&&ot.next!==null;if(Br=0,Ot=ot=ze=null,zu=!1,Kl=0,lo=null,i)throw Error(s(300));n===null||Yt||(n=n.dependencies,n!==null&&Du(n)&&(Yt=!0))}function Wy(n,i,o,c){ze=n;var d=0;do{if(oo&&(lo=null),Kl=0,oo=!1,25<=d)throw Error(s(301));if(d+=1,Ot=ot=null,n.updateQueue!=null){var p=n.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}V.H=I1,p=i(o,c)}while(oo);return p}function T1(){var n=V.H,i=n.useState()[0];return i=typeof i.then=="function"?Ql(i):i,n=n.useState()[0],(ot!==null?ot.memoizedState:null)!==n&&(ze.flags|=1024),i}function If(){var n=Bu!==0;return Bu=0,n}function kf(n,i,o){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~o}function jf(n){if(zu){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}zu=!1}Br=0,Ot=ot=ze=null,oo=!1,Kl=Bu=0,lo=null}function Tn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?ze.memoizedState=Ot=n:Ot=Ot.next=n,Ot}function Dt(){if(ot===null){var n=ze.alternate;n=n!==null?n.memoizedState:null}else n=ot.next;var i=Ot===null?ze.memoizedState:Ot.next;if(i!==null)Ot=i,ot=n;else{if(n===null)throw ze.alternate===null?Error(s(467)):Error(s(310));ot=n,n={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},Ot===null?ze.memoizedState=Ot=n:Ot=Ot.next=n}return Ot}function Of(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ql(n){var i=Kl;return Kl+=1,lo===null&&(lo=[]),n=$y(lo,n,i),i=ze,(Ot===null?i.memoizedState:Ot.next)===null&&(i=i.alternate,V.H=i===null||i.memoizedState===null?k_:j_),n}function qu(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Ql(n);if(n.$$typeof===Y)return dn(n)}throw Error(s(438,String(n)))}function Df(n){var i=null,o=ze.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var c=ze.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=Of(),ze.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(n),c=0;c<n;c++)o[c]=O;return i.index++,o}function sr(n,i){return typeof i=="function"?i(n):i}function $u(n){var i=Dt();return Pf(i,ot,n)}function Pf(n,i,o){var c=n.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var d=n.baseQueue,p=c.pending;if(p!==null){if(d!==null){var w=d.next;d.next=p.next,p.next=w}i.baseQueue=d=p,c.pending=null}if(p=n.baseState,d===null)n.memoizedState=p;else{i=d.next;var x=w=null,k=null,F=i,W=!1;do{var ee=F.lane&-536870913;if(ee!==F.lane?(Xe&ee)===ee:(Br&ee)===ee){var G=F.revertLane;if(G===0)k!==null&&(k=k.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ee===ro&&(W=!0);else if((Br&G)===G){F=F.next,G===ro&&(W=!0);continue}else ee={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},k===null?(x=k=ee,w=p):k=k.next=ee,ze.lanes|=G,Qr|=G;ee=F.action,ca&&o(p,ee),p=F.hasEagerState?F.eagerState:o(p,ee)}else G={lane:ee,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},k===null?(x=k=G,w=p):k=k.next=G,ze.lanes|=ee,Qr|=ee;F=F.next}while(F!==null&&F!==i);if(k===null?w=p:k.next=x,!jn(p,n.memoizedState)&&(Yt=!0,W&&(o=io,o!==null)))throw o;n.memoizedState=p,n.baseState=w,n.baseQueue=k,c.lastRenderedState=p}return d===null&&(c.lanes=0),[n.memoizedState,c.dispatch]}function Mf(n){var i=Dt(),o=i.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=n;var c=o.dispatch,d=o.pending,p=i.memoizedState;if(d!==null){o.pending=null;var w=d=d.next;do p=n(p,w.action),w=w.next;while(w!==d);jn(p,i.memoizedState)||(Yt=!0),i.memoizedState=p,i.baseQueue===null&&(i.baseState=p),o.lastRenderedState=p}return[p,c]}function Xy(n,i,o){var c=ze,d=Dt(),p=tt;if(p){if(o===void 0)throw Error(s(407));o=o()}else o=i();var w=!jn((ot||d).memoizedState,o);w&&(d.memoizedState=o,Yt=!0),d=d.queue;var x=e_.bind(null,c,d,n);if(Yl(2048,8,x,[n]),d.getSnapshot!==i||w||Ot!==null&&Ot.memoizedState.tag&1){if(c.flags|=2048,co(9,Hu(),Zy.bind(null,c,d,o,i),null),ft===null)throw Error(s(349));p||(Br&124)!==0||Jy(c,i,o)}return o}function Jy(n,i,o){n.flags|=16384,n={getSnapshot:i,value:o},i=ze.updateQueue,i===null?(i=Of(),ze.updateQueue=i,i.stores=[n]):(o=i.stores,o===null?i.stores=[n]:o.push(n))}function Zy(n,i,o,c){i.value=o,i.getSnapshot=c,t_(i)&&n_(n)}function e_(n,i,o){return o(function(){t_(i)&&n_(n)})}function t_(n){var i=n.getSnapshot;n=n.value;try{var o=i();return!jn(n,o)}catch{return!0}}function n_(n){var i=eo(n,2);i!==null&&Un(i,n,2)}function Vf(n){var i=Tn();if(typeof n=="function"){var o=n;if(n=o(),ca){Bn(!0);try{o()}finally{Bn(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:n},i}function s_(n,i,o,c){return n.baseState=o,Pf(n,ot,typeof c=="function"?c:sr)}function S1(n,i,o,c,d){if(Gu(n))throw Error(s(485));if(n=i.action,n!==null){var p={payload:d,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){p.listeners.push(w)}};V.T!==null?o(!0):p.isTransition=!1,c(p),o=i.pending,o===null?(p.next=i.pending=p,r_(i,p)):(p.next=o.next,i.pending=o.next=p)}}function r_(n,i){var o=i.action,c=i.payload,d=n.state;if(i.isTransition){var p=V.T,w={};V.T=w;try{var x=o(d,c),k=V.S;k!==null&&k(w,x),i_(n,i,x)}catch(F){Uf(n,i,F)}finally{V.T=p}}else try{p=o(d,c),i_(n,i,p)}catch(F){Uf(n,i,F)}}function i_(n,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){a_(n,i,c)},function(c){return Uf(n,i,c)}):a_(n,i,o)}function a_(n,i,o){i.status="fulfilled",i.value=o,o_(i),n.state=o,i=n.pending,i!==null&&(o=i.next,o===i?n.pending=null:(o=o.next,i.next=o,r_(n,o)))}function Uf(n,i,o){var c=n.pending;if(n.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=o,o_(i),i=i.next;while(i!==c)}n.action=null}function o_(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function l_(n,i){return i}function c_(n,i){if(tt){var o=ft.formState;if(o!==null){e:{var c=ze;if(tt){if(Et){t:{for(var d=Et,p=Cs;d.nodeType!==8;){if(!p){d=null;break t}if(d=us(d.nextSibling),d===null){d=null;break t}}p=d.data,d=p==="F!"||p==="F"?d:null}if(d){Et=us(d.nextSibling),c=d.data==="F!";break e}}ia(c)}c=!1}c&&(i=o[0])}}return o=Tn(),o.memoizedState=o.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l_,lastRenderedState:i},o.queue=c,o=N_.bind(null,ze,c),c.dispatch=o,c=Vf(!1),p=$f.bind(null,ze,!1,c.queue),c=Tn(),d={state:i,dispatch:null,action:n,pending:null},c.queue=d,o=S1.bind(null,ze,d,p,o),d.dispatch=o,c.memoizedState=n,[i,o,!1]}function u_(n){var i=Dt();return h_(i,ot,n)}function h_(n,i,o){if(i=Pf(n,i,l_)[0],n=$u(sr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=Ql(i)}catch(w){throw w===ql?Vu:w}else c=i;i=Dt();var d=i.queue,p=d.dispatch;return o!==i.memoizedState&&(ze.flags|=2048,co(9,Hu(),A1.bind(null,d,o),null)),[c,p,n]}function A1(n,i){n.action=i}function d_(n){var i=Dt(),o=ot;if(o!==null)return h_(i,o,n);Dt(),i=i.memoizedState,o=Dt();var c=o.queue.dispatch;return o.memoizedState=n,[i,c,!1]}function co(n,i,o,c){return n={tag:n,create:o,deps:c,inst:i,next:null},i=ze.updateQueue,i===null&&(i=Of(),ze.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=n.next=n:(c=o.next,o.next=n,n.next=c,i.lastEffect=n),n}function Hu(){return{destroy:void 0,resource:void 0}}function f_(){return Dt().memoizedState}function Fu(n,i,o,c){var d=Tn();c=c===void 0?null:c,ze.flags|=n,d.memoizedState=co(1|i,Hu(),o,c)}function Yl(n,i,o,c){var d=Dt();c=c===void 0?null:c;var p=d.memoizedState.inst;ot!==null&&c!==null&&Nf(c,ot.memoizedState.deps)?d.memoizedState=co(i,p,o,c):(ze.flags|=n,d.memoizedState=co(1|i,p,o,c))}function m_(n,i){Fu(8390656,8,n,i)}function g_(n,i){Yl(2048,8,n,i)}function p_(n,i){return Yl(4,2,n,i)}function y_(n,i){return Yl(4,4,n,i)}function __(n,i){if(typeof i=="function"){n=n();var o=i(n);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function v_(n,i,o){o=o!=null?o.concat([n]):null,Yl(4,4,__.bind(null,i,n),o)}function Lf(){}function b_(n,i){var o=Dt();i=i===void 0?null:i;var c=o.memoizedState;return i!==null&&Nf(i,c[1])?c[0]:(o.memoizedState=[n,i],n)}function w_(n,i){var o=Dt();i=i===void 0?null:i;var c=o.memoizedState;if(i!==null&&Nf(i,c[1]))return c[0];if(c=n(),ca){Bn(!0);try{n()}finally{Bn(!1)}}return o.memoizedState=[c,i],c}function zf(n,i,o){return o===void 0||(Br&1073741824)!==0?n.memoizedState=i:(n.memoizedState=o,n=Tv(),ze.lanes|=n,Qr|=n,o)}function E_(n,i,o,c){return jn(o,i)?o:ao.current!==null?(n=zf(n,o,c),jn(n,i)||(Yt=!0),n):(Br&42)===0?(Yt=!0,n.memoizedState=o):(n=Tv(),ze.lanes|=n,Qr|=n,i)}function x_(n,i,o,c,d){var p=ie.p;ie.p=p!==0&&8>p?p:8;var w=V.T,x={};V.T=x,$f(n,!1,i,o);try{var k=d(),F=V.S;if(F!==null&&F(x,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var W=E1(k,c);Wl(n,i,W,Vn(n))}else Wl(n,i,c,Vn(n))}catch(ee){Wl(n,i,{then:function(){},status:"rejected",reason:ee},Vn())}finally{ie.p=p,V.T=w}}function R1(){}function Bf(n,i,o,c){if(n.tag!==5)throw Error(s(476));var d=T_(n).queue;x_(n,d,i,te,o===null?R1:function(){return S_(n),o(c)})}function T_(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:te},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:o},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function S_(n){var i=T_(n).next.queue;Wl(n,i,{},Vn())}function qf(){return dn(mc)}function A_(){return Dt().memoizedState}function R_(){return Dt().memoizedState}function N1(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var o=Vn();n=Lr(o);var c=zr(i,n,o);c!==null&&(Un(c,i,o),Hl(c,i,o)),i={cache:_f()},n.payload=i;return}i=i.return}}function C1(n,i,o){var c=Vn();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Gu(n)?C_(i,o):(o=lf(n,i,o,c),o!==null&&(Un(o,n,c),I_(o,i,c)))}function N_(n,i,o){var c=Vn();Wl(n,i,o,c)}function Wl(n,i,o,c){var d={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Gu(n))C_(i,d);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=i.lastRenderedReducer,p!==null))try{var w=i.lastRenderedState,x=p(w,o);if(d.hasEagerState=!0,d.eagerState=x,jn(x,w))return Cu(n,i,d,0),ft===null&&Nu(),!1}catch{}finally{}if(o=lf(n,i,d,c),o!==null)return Un(o,n,c),I_(o,i,c),!0}return!1}function $f(n,i,o,c){if(c={lane:2,revertLane:wm(),action:c,hasEagerState:!1,eagerState:null,next:null},Gu(n)){if(i)throw Error(s(479))}else i=lf(n,o,c,2),i!==null&&Un(i,n,2)}function Gu(n){var i=n.alternate;return n===ze||i!==null&&i===ze}function C_(n,i){oo=zu=!0;var o=n.pending;o===null?i.next=i:(i.next=o.next,o.next=i),n.pending=i}function I_(n,i,o){if((o&4194048)!==0){var c=i.lanes;c&=n.pendingLanes,o|=c,i.lanes=o,Ar(n,o)}}var Ku={readContext:dn,use:qu,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useLayoutEffect:Nt,useInsertionEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useSyncExternalStore:Nt,useId:Nt,useHostTransitionStatus:Nt,useFormState:Nt,useActionState:Nt,useOptimistic:Nt,useMemoCache:Nt,useCacheRefresh:Nt},k_={readContext:dn,use:qu,useCallback:function(n,i){return Tn().memoizedState=[n,i===void 0?null:i],n},useContext:dn,useEffect:m_,useImperativeHandle:function(n,i,o){o=o!=null?o.concat([n]):null,Fu(4194308,4,__.bind(null,i,n),o)},useLayoutEffect:function(n,i){return Fu(4194308,4,n,i)},useInsertionEffect:function(n,i){Fu(4,2,n,i)},useMemo:function(n,i){var o=Tn();i=i===void 0?null:i;var c=n();if(ca){Bn(!0);try{n()}finally{Bn(!1)}}return o.memoizedState=[c,i],c},useReducer:function(n,i,o){var c=Tn();if(o!==void 0){var d=o(i);if(ca){Bn(!0);try{o(i)}finally{Bn(!1)}}}else d=i;return c.memoizedState=c.baseState=d,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:d},c.queue=n,n=n.dispatch=C1.bind(null,ze,n),[c.memoizedState,n]},useRef:function(n){var i=Tn();return n={current:n},i.memoizedState=n},useState:function(n){n=Vf(n);var i=n.queue,o=N_.bind(null,ze,i);return i.dispatch=o,[n.memoizedState,o]},useDebugValue:Lf,useDeferredValue:function(n,i){var o=Tn();return zf(o,n,i)},useTransition:function(){var n=Vf(!1);return n=x_.bind(null,ze,n.queue,!0,!1),Tn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,o){var c=ze,d=Tn();if(tt){if(o===void 0)throw Error(s(407));o=o()}else{if(o=i(),ft===null)throw Error(s(349));(Xe&124)!==0||Jy(c,i,o)}d.memoizedState=o;var p={value:o,getSnapshot:i};return d.queue=p,m_(e_.bind(null,c,p,n),[n]),c.flags|=2048,co(9,Hu(),Zy.bind(null,c,p,o,i),null),o},useId:function(){var n=Tn(),i=ft.identifierPrefix;if(tt){var o=er,c=Zs;o=(c&~(1<<32-_n(c)-1)).toString(32)+o,i="«"+i+"R"+o,o=Bu++,0<o&&(i+="H"+o.toString(32)),i+="»"}else o=x1++,i="«"+i+"r"+o.toString(32)+"»";return n.memoizedState=i},useHostTransitionStatus:qf,useFormState:c_,useActionState:c_,useOptimistic:function(n){var i=Tn();i.memoizedState=i.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=$f.bind(null,ze,!0,o),o.dispatch=i,[n,i]},useMemoCache:Df,useCacheRefresh:function(){return Tn().memoizedState=N1.bind(null,ze)}},j_={readContext:dn,use:qu,useCallback:b_,useContext:dn,useEffect:g_,useImperativeHandle:v_,useInsertionEffect:p_,useLayoutEffect:y_,useMemo:w_,useReducer:$u,useRef:f_,useState:function(){return $u(sr)},useDebugValue:Lf,useDeferredValue:function(n,i){var o=Dt();return E_(o,ot.memoizedState,n,i)},useTransition:function(){var n=$u(sr)[0],i=Dt().memoizedState;return[typeof n=="boolean"?n:Ql(n),i]},useSyncExternalStore:Xy,useId:A_,useHostTransitionStatus:qf,useFormState:u_,useActionState:u_,useOptimistic:function(n,i){var o=Dt();return s_(o,ot,n,i)},useMemoCache:Df,useCacheRefresh:R_},I1={readContext:dn,use:qu,useCallback:b_,useContext:dn,useEffect:g_,useImperativeHandle:v_,useInsertionEffect:p_,useLayoutEffect:y_,useMemo:w_,useReducer:Mf,useRef:f_,useState:function(){return Mf(sr)},useDebugValue:Lf,useDeferredValue:function(n,i){var o=Dt();return ot===null?zf(o,n,i):E_(o,ot.memoizedState,n,i)},useTransition:function(){var n=Mf(sr)[0],i=Dt().memoizedState;return[typeof n=="boolean"?n:Ql(n),i]},useSyncExternalStore:Xy,useId:A_,useHostTransitionStatus:qf,useFormState:d_,useActionState:d_,useOptimistic:function(n,i){var o=Dt();return ot!==null?s_(o,ot,n,i):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:Df,useCacheRefresh:R_},uo=null,Xl=0;function Qu(n){var i=Xl;return Xl+=1,uo===null&&(uo=[]),$y(uo,n,i)}function Jl(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Yu(n,i){throw i.$$typeof===E?Error(s(525)):(n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function O_(n){var i=n._init;return i(n._payload)}function D_(n){function i(B,U){if(n){var $=B.deletions;$===null?(B.deletions=[U],B.flags|=16):$.push(U)}}function o(B,U){if(!n)return null;for(;U!==null;)i(B,U),U=U.sibling;return null}function c(B){for(var U=new Map;B!==null;)B.key!==null?U.set(B.key,B):U.set(B.index,B),B=B.sibling;return U}function d(B,U){return B=Js(B,U),B.index=0,B.sibling=null,B}function p(B,U,$){return B.index=$,n?($=B.alternate,$!==null?($=$.index,$<U?(B.flags|=67108866,U):$):(B.flags|=67108866,U)):(B.flags|=1048576,U)}function w(B){return n&&B.alternate===null&&(B.flags|=67108866),B}function x(B,U,$,X){return U===null||U.tag!==6?(U=uf($,B.mode,X),U.return=B,U):(U=d(U,$),U.return=B,U)}function k(B,U,$,X){var me=$.type;return me===L?W(B,U,$.props.children,X,$.key):U!==null&&(U.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===A&&O_(me)===U.type)?(U=d(U,$.props),Jl(U,$),U.return=B,U):(U=ku($.type,$.key,$.props,null,B.mode,X),Jl(U,$),U.return=B,U)}function F(B,U,$,X){return U===null||U.tag!==4||U.stateNode.containerInfo!==$.containerInfo||U.stateNode.implementation!==$.implementation?(U=hf($,B.mode,X),U.return=B,U):(U=d(U,$.children||[]),U.return=B,U)}function W(B,U,$,X,me){return U===null||U.tag!==7?(U=ta($,B.mode,X,me),U.return=B,U):(U=d(U,$),U.return=B,U)}function ee(B,U,$){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=uf(""+U,B.mode,$),U.return=B,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case T:return $=ku(U.type,U.key,U.props,null,B.mode,$),Jl($,U),$.return=B,$;case I:return U=hf(U,B.mode,$),U.return=B,U;case A:var X=U._init;return U=X(U._payload),ee(B,U,$)}if(Ve(U)||M(U))return U=ta(U,B.mode,$,null),U.return=B,U;if(typeof U.then=="function")return ee(B,Qu(U),$);if(U.$$typeof===Y)return ee(B,Pu(B,U),$);Yu(B,U)}return null}function G(B,U,$,X){var me=U!==null?U.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return me!==null?null:x(B,U,""+$,X);if(typeof $=="object"&&$!==null){switch($.$$typeof){case T:return $.key===me?k(B,U,$,X):null;case I:return $.key===me?F(B,U,$,X):null;case A:return me=$._init,$=me($._payload),G(B,U,$,X)}if(Ve($)||M($))return me!==null?null:W(B,U,$,X,null);if(typeof $.then=="function")return G(B,U,Qu($),X);if($.$$typeof===Y)return G(B,U,Pu(B,$),X);Yu(B,$)}return null}function K(B,U,$,X,me){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return B=B.get($)||null,x(U,B,""+X,me);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case T:return B=B.get(X.key===null?$:X.key)||null,k(U,B,X,me);case I:return B=B.get(X.key===null?$:X.key)||null,F(U,B,X,me);case A:var He=X._init;return X=He(X._payload),K(B,U,$,X,me)}if(Ve(X)||M(X))return B=B.get($)||null,W(U,B,X,me,null);if(typeof X.then=="function")return K(B,U,$,Qu(X),me);if(X.$$typeof===Y)return K(B,U,$,Pu(U,X),me);Yu(U,X)}return null}function Ae(B,U,$,X){for(var me=null,He=null,ve=U,Te=U=0,Xt=null;ve!==null&&Te<$.length;Te++){ve.index>Te?(Xt=ve,ve=null):Xt=ve.sibling;var Ze=G(B,ve,$[Te],X);if(Ze===null){ve===null&&(ve=Xt);break}n&&ve&&Ze.alternate===null&&i(B,ve),U=p(Ze,U,Te),He===null?me=Ze:He.sibling=Ze,He=Ze,ve=Xt}if(Te===$.length)return o(B,ve),tt&&sa(B,Te),me;if(ve===null){for(;Te<$.length;Te++)ve=ee(B,$[Te],X),ve!==null&&(U=p(ve,U,Te),He===null?me=ve:He.sibling=ve,He=ve);return tt&&sa(B,Te),me}for(ve=c(ve);Te<$.length;Te++)Xt=K(ve,B,Te,$[Te],X),Xt!==null&&(n&&Xt.alternate!==null&&ve.delete(Xt.key===null?Te:Xt.key),U=p(Xt,U,Te),He===null?me=Xt:He.sibling=Xt,He=Xt);return n&&ve.forEach(function(si){return i(B,si)}),tt&&sa(B,Te),me}function xe(B,U,$,X){if($==null)throw Error(s(151));for(var me=null,He=null,ve=U,Te=U=0,Xt=null,Ze=$.next();ve!==null&&!Ze.done;Te++,Ze=$.next()){ve.index>Te?(Xt=ve,ve=null):Xt=ve.sibling;var si=G(B,ve,Ze.value,X);if(si===null){ve===null&&(ve=Xt);break}n&&ve&&si.alternate===null&&i(B,ve),U=p(si,U,Te),He===null?me=si:He.sibling=si,He=si,ve=Xt}if(Ze.done)return o(B,ve),tt&&sa(B,Te),me;if(ve===null){for(;!Ze.done;Te++,Ze=$.next())Ze=ee(B,Ze.value,X),Ze!==null&&(U=p(Ze,U,Te),He===null?me=Ze:He.sibling=Ze,He=Ze);return tt&&sa(B,Te),me}for(ve=c(ve);!Ze.done;Te++,Ze=$.next())Ze=K(ve,B,Te,Ze.value,X),Ze!==null&&(n&&Ze.alternate!==null&&ve.delete(Ze.key===null?Te:Ze.key),U=p(Ze,U,Te),He===null?me=Ze:He.sibling=Ze,He=Ze);return n&&ve.forEach(function(kS){return i(B,kS)}),tt&&sa(B,Te),me}function ct(B,U,$,X){if(typeof $=="object"&&$!==null&&$.type===L&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case T:e:{for(var me=$.key;U!==null;){if(U.key===me){if(me=$.type,me===L){if(U.tag===7){o(B,U.sibling),X=d(U,$.props.children),X.return=B,B=X;break e}}else if(U.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===A&&O_(me)===U.type){o(B,U.sibling),X=d(U,$.props),Jl(X,$),X.return=B,B=X;break e}o(B,U);break}else i(B,U);U=U.sibling}$.type===L?(X=ta($.props.children,B.mode,X,$.key),X.return=B,B=X):(X=ku($.type,$.key,$.props,null,B.mode,X),Jl(X,$),X.return=B,B=X)}return w(B);case I:e:{for(me=$.key;U!==null;){if(U.key===me)if(U.tag===4&&U.stateNode.containerInfo===$.containerInfo&&U.stateNode.implementation===$.implementation){o(B,U.sibling),X=d(U,$.children||[]),X.return=B,B=X;break e}else{o(B,U);break}else i(B,U);U=U.sibling}X=hf($,B.mode,X),X.return=B,B=X}return w(B);case A:return me=$._init,$=me($._payload),ct(B,U,$,X)}if(Ve($))return Ae(B,U,$,X);if(M($)){if(me=M($),typeof me!="function")throw Error(s(150));return $=me.call($),xe(B,U,$,X)}if(typeof $.then=="function")return ct(B,U,Qu($),X);if($.$$typeof===Y)return ct(B,U,Pu(B,$),X);Yu(B,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,U!==null&&U.tag===6?(o(B,U.sibling),X=d(U,$),X.return=B,B=X):(o(B,U),X=uf($,B.mode,X),X.return=B,B=X),w(B)):o(B,U)}return function(B,U,$,X){try{Xl=0;var me=ct(B,U,$,X);return uo=null,me}catch(ve){if(ve===ql||ve===Vu)throw ve;var He=On(29,ve,null,B.mode);return He.lanes=X,He.return=B,He}finally{}}}var ho=D_(!0),P_=D_(!1),Wn=se(null),Is=null;function qr(n){var i=n.alternate;D($t,$t.current&1),D(Wn,n),Is===null&&(i===null||ao.current!==null||i.memoizedState!==null)&&(Is=n)}function M_(n){if(n.tag===22){if(D($t,$t.current),D(Wn,n),Is===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(Is=n)}}else $r()}function $r(){D($t,$t.current),D(Wn,Wn.current)}function rr(n){he(Wn),Is===n&&(Is=null),he($t)}var $t=se(0);function Wu(n){for(var i=n;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Om(o)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Hf(n,i,o,c){i=n.memoizedState,o=o(c,i),o=o==null?i:_({},i,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var Ff={enqueueSetState:function(n,i,o){n=n._reactInternals;var c=Vn(),d=Lr(c);d.payload=i,o!=null&&(d.callback=o),i=zr(n,d,c),i!==null&&(Un(i,n,c),Hl(i,n,c))},enqueueReplaceState:function(n,i,o){n=n._reactInternals;var c=Vn(),d=Lr(c);d.tag=1,d.payload=i,o!=null&&(d.callback=o),i=zr(n,d,c),i!==null&&(Un(i,n,c),Hl(i,n,c))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var o=Vn(),c=Lr(o);c.tag=2,i!=null&&(c.callback=i),i=zr(n,c,o),i!==null&&(Un(i,n,o),Hl(i,n,o))}};function V_(n,i,o,c,d,p,w){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,p,w):i.prototype&&i.prototype.isPureReactComponent?!Dl(o,c)||!Dl(d,p):!0}function U_(n,i,o,c){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,c),i.state!==n&&Ff.enqueueReplaceState(i,i.state,null)}function ua(n,i){var o=i;if("ref"in i){o={};for(var c in i)c!=="ref"&&(o[c]=i[c])}if(n=n.defaultProps){o===i&&(o=_({},o));for(var d in n)o[d]===void 0&&(o[d]=n[d])}return o}var Xu=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function L_(n){Xu(n)}function z_(n){console.error(n)}function B_(n){Xu(n)}function Ju(n,i){try{var o=n.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function q_(n,i,o){try{var c=n.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Gf(n,i,o){return o=Lr(o),o.tag=3,o.payload={element:null},o.callback=function(){Ju(n,i)},o}function $_(n){return n=Lr(n),n.tag=3,n}function H_(n,i,o,c){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var p=c.value;n.payload=function(){return d(p)},n.callback=function(){q_(i,o,c)}}var w=o.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(n.callback=function(){q_(i,o,c),typeof d!="function"&&(Yr===null?Yr=new Set([this]):Yr.add(this));var x=c.stack;this.componentDidCatch(c.value,{componentStack:x!==null?x:""})})}function k1(n,i,o,c,d){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=o.alternate,i!==null&&Ll(i,o,d,!0),o=Wn.current,o!==null){switch(o.tag){case 13:return Is===null?pm():o.alternate===null&&xt===0&&(xt=3),o.flags&=-257,o.flags|=65536,o.lanes=d,c===wf?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([c]):i.add(c),_m(n,c,d)),!1;case 22:return o.flags|=65536,c===wf?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([c]):o.add(c)),_m(n,c,d)),!1}throw Error(s(435,o.tag))}return _m(n,c,d),pm(),!1}if(tt)return i=Wn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,c!==mf&&(n=Error(s(422),{cause:c}),Ul(Gn(n,o)))):(c!==mf&&(i=Error(s(423),{cause:c}),Ul(Gn(i,o))),n=n.current.alternate,n.flags|=65536,d&=-d,n.lanes|=d,c=Gn(c,o),d=Gf(n.stateNode,c,d),Tf(n,d),xt!==4&&(xt=2)),!1;var p=Error(s(520),{cause:c});if(p=Gn(p,o),ic===null?ic=[p]:ic.push(p),xt!==4&&(xt=2),i===null)return!0;c=Gn(c,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,n=d&-d,o.lanes|=n,n=Gf(o.stateNode,c,n),Tf(o,n),!1;case 1:if(i=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Yr===null||!Yr.has(p))))return o.flags|=65536,d&=-d,o.lanes|=d,d=$_(d),H_(d,n,o,c),Tf(o,d),!1}o=o.return}while(o!==null);return!1}var F_=Error(s(461)),Yt=!1;function nn(n,i,o,c){i.child=n===null?P_(i,null,o,c):ho(i,n.child,o,c)}function G_(n,i,o,c,d){o=o.render;var p=i.ref;if("ref"in c){var w={};for(var x in c)x!=="ref"&&(w[x]=c[x])}else w=c;return oa(i),c=Cf(n,i,o,w,p,d),x=If(),n!==null&&!Yt?(kf(n,i,d),ir(n,i,d)):(tt&&x&&df(i),i.flags|=1,nn(n,i,c,d),i.child)}function K_(n,i,o,c,d){if(n===null){var p=o.type;return typeof p=="function"&&!cf(p)&&p.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=p,Q_(n,i,p,c,d)):(n=ku(o.type,null,c,i,i.mode,d),n.ref=i.ref,n.return=i,i.child=n)}if(p=n.child,!em(n,d)){var w=p.memoizedProps;if(o=o.compare,o=o!==null?o:Dl,o(w,c)&&n.ref===i.ref)return ir(n,i,d)}return i.flags|=1,n=Js(p,c),n.ref=i.ref,n.return=i,i.child=n}function Q_(n,i,o,c,d){if(n!==null){var p=n.memoizedProps;if(Dl(p,c)&&n.ref===i.ref)if(Yt=!1,i.pendingProps=c=p,em(n,d))(n.flags&131072)!==0&&(Yt=!0);else return i.lanes=n.lanes,ir(n,i,d)}return Kf(n,i,o,c,d)}function Y_(n,i,o){var c=i.pendingProps,d=c.children,p=n!==null?n.memoizedState:null;if(c.mode==="hidden"){if((i.flags&128)!==0){if(c=p!==null?p.baseLanes|o:o,n!==null){for(d=i.child=n.child,p=0;d!==null;)p=p|d.lanes|d.childLanes,d=d.sibling;i.childLanes=p&~c}else i.childLanes=0,i.child=null;return W_(n,i,c,o)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&Mu(i,p!==null?p.cachePool:null),p!==null?Qy(i,p):Af(),M_(i);else return i.lanes=i.childLanes=536870912,W_(n,i,p!==null?p.baseLanes|o:o,o)}else p!==null?(Mu(i,p.cachePool),Qy(i,p),$r(),i.memoizedState=null):(n!==null&&Mu(i,null),Af(),$r());return nn(n,i,d,o),i.child}function W_(n,i,o,c){var d=bf();return d=d===null?null:{parent:qt._currentValue,pool:d},i.memoizedState={baseLanes:o,cachePool:d},n!==null&&Mu(i,null),Af(),M_(i),n!==null&&Ll(n,i,c,!0),null}function Zu(n,i){var o=i.ref;if(o===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(n===null||n.ref!==o)&&(i.flags|=4194816)}}function Kf(n,i,o,c,d){return oa(i),o=Cf(n,i,o,c,void 0,d),c=If(),n!==null&&!Yt?(kf(n,i,d),ir(n,i,d)):(tt&&c&&df(i),i.flags|=1,nn(n,i,o,d),i.child)}function X_(n,i,o,c,d,p){return oa(i),i.updateQueue=null,o=Wy(i,c,o,d),Yy(n),c=If(),n!==null&&!Yt?(kf(n,i,p),ir(n,i,p)):(tt&&c&&df(i),i.flags|=1,nn(n,i,o,p),i.child)}function J_(n,i,o,c,d){if(oa(i),i.stateNode===null){var p=to,w=o.contextType;typeof w=="object"&&w!==null&&(p=dn(w)),p=new o(c,p),i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Ff,i.stateNode=p,p._reactInternals=i,p=i.stateNode,p.props=c,p.state=i.memoizedState,p.refs={},Ef(i),w=o.contextType,p.context=typeof w=="object"&&w!==null?dn(w):to,p.state=i.memoizedState,w=o.getDerivedStateFromProps,typeof w=="function"&&(Hf(i,o,w,c),p.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(w=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),w!==p.state&&Ff.enqueueReplaceState(p,p.state,null),Gl(i,c,p,d),Fl(),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(n===null){p=i.stateNode;var x=i.memoizedProps,k=ua(o,x);p.props=k;var F=p.context,W=o.contextType;w=to,typeof W=="object"&&W!==null&&(w=dn(W));var ee=o.getDerivedStateFromProps;W=typeof ee=="function"||typeof p.getSnapshotBeforeUpdate=="function",x=i.pendingProps!==x,W||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(x||F!==w)&&U_(i,p,c,w),Ur=!1;var G=i.memoizedState;p.state=G,Gl(i,c,p,d),Fl(),F=i.memoizedState,x||G!==F||Ur?(typeof ee=="function"&&(Hf(i,o,ee,c),F=i.memoizedState),(k=Ur||V_(i,o,k,c,G,F,w))?(W||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(i.flags|=4194308)):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=F),p.props=c,p.state=F,p.context=w,c=k):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{p=i.stateNode,xf(n,i),w=i.memoizedProps,W=ua(o,w),p.props=W,ee=i.pendingProps,G=p.context,F=o.contextType,k=to,typeof F=="object"&&F!==null&&(k=dn(F)),x=o.getDerivedStateFromProps,(F=typeof x=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(w!==ee||G!==k)&&U_(i,p,c,k),Ur=!1,G=i.memoizedState,p.state=G,Gl(i,c,p,d),Fl();var K=i.memoizedState;w!==ee||G!==K||Ur||n!==null&&n.dependencies!==null&&Du(n.dependencies)?(typeof x=="function"&&(Hf(i,o,x,c),K=i.memoizedState),(W=Ur||V_(i,o,W,c,G,K,k)||n!==null&&n.dependencies!==null&&Du(n.dependencies))?(F||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(c,K,k),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(c,K,k)),typeof p.componentDidUpdate=="function"&&(i.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof p.componentDidUpdate!="function"||w===n.memoizedProps&&G===n.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||w===n.memoizedProps&&G===n.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=K),p.props=c,p.state=K,p.context=k,c=W):(typeof p.componentDidUpdate!="function"||w===n.memoizedProps&&G===n.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||w===n.memoizedProps&&G===n.memoizedState||(i.flags|=1024),c=!1)}return p=c,Zu(n,i),c=(i.flags&128)!==0,p||c?(p=i.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:p.render(),i.flags|=1,n!==null&&c?(i.child=ho(i,n.child,null,d),i.child=ho(i,null,o,d)):nn(n,i,o,d),i.memoizedState=p.state,n=i.child):n=ir(n,i,d),n}function Z_(n,i,o,c){return Vl(),i.flags|=256,nn(n,i,o,c),i.child}var Qf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yf(n){return{baseLanes:n,cachePool:zy()}}function Wf(n,i,o){return n=n!==null?n.childLanes&~o:0,i&&(n|=Xn),n}function ev(n,i,o){var c=i.pendingProps,d=!1,p=(i.flags&128)!==0,w;if((w=p)||(w=n!==null&&n.memoizedState===null?!1:($t.current&2)!==0),w&&(d=!0,i.flags&=-129),w=(i.flags&32)!==0,i.flags&=-33,n===null){if(tt){if(d?qr(i):$r(),tt){var x=Et,k;if(k=x){e:{for(k=x,x=Cs;k.nodeType!==8;){if(!x){x=null;break e}if(k=us(k.nextSibling),k===null){x=null;break e}}x=k}x!==null?(i.memoizedState={dehydrated:x,treeContext:na!==null?{id:Zs,overflow:er}:null,retryLane:536870912,hydrationErrors:null},k=On(18,null,null,0),k.stateNode=x,k.return=i,i.child=k,En=i,Et=null,k=!0):k=!1}k||ia(i)}if(x=i.memoizedState,x!==null&&(x=x.dehydrated,x!==null))return Om(x)?i.lanes=32:i.lanes=536870912,null;rr(i)}return x=c.children,c=c.fallback,d?($r(),d=i.mode,x=eh({mode:"hidden",children:x},d),c=ta(c,d,o,null),x.return=i,c.return=i,x.sibling=c,i.child=x,d=i.child,d.memoizedState=Yf(o),d.childLanes=Wf(n,w,o),i.memoizedState=Qf,c):(qr(i),Xf(i,x))}if(k=n.memoizedState,k!==null&&(x=k.dehydrated,x!==null)){if(p)i.flags&256?(qr(i),i.flags&=-257,i=Jf(n,i,o)):i.memoizedState!==null?($r(),i.child=n.child,i.flags|=128,i=null):($r(),d=c.fallback,x=i.mode,c=eh({mode:"visible",children:c.children},x),d=ta(d,x,o,null),d.flags|=2,c.return=i,d.return=i,c.sibling=d,i.child=c,ho(i,n.child,null,o),c=i.child,c.memoizedState=Yf(o),c.childLanes=Wf(n,w,o),i.memoizedState=Qf,i=d);else if(qr(i),Om(x)){if(w=x.nextSibling&&x.nextSibling.dataset,w)var F=w.dgst;w=F,c=Error(s(419)),c.stack="",c.digest=w,Ul({value:c,source:null,stack:null}),i=Jf(n,i,o)}else if(Yt||Ll(n,i,o,!1),w=(o&n.childLanes)!==0,Yt||w){if(w=ft,w!==null&&(c=o&-o,c=(c&42)!==0?1:yl(c),c=(c&(w.suspendedLanes|o))!==0?0:c,c!==0&&c!==k.retryLane))throw k.retryLane=c,eo(n,c),Un(w,n,c),F_;x.data==="$?"||pm(),i=Jf(n,i,o)}else x.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=k.treeContext,Et=us(x.nextSibling),En=i,tt=!0,ra=null,Cs=!1,n!==null&&(Qn[Yn++]=Zs,Qn[Yn++]=er,Qn[Yn++]=na,Zs=n.id,er=n.overflow,na=i),i=Xf(i,c.children),i.flags|=4096);return i}return d?($r(),d=c.fallback,x=i.mode,k=n.child,F=k.sibling,c=Js(k,{mode:"hidden",children:c.children}),c.subtreeFlags=k.subtreeFlags&65011712,F!==null?d=Js(F,d):(d=ta(d,x,o,null),d.flags|=2),d.return=i,c.return=i,c.sibling=d,i.child=c,c=d,d=i.child,x=n.child.memoizedState,x===null?x=Yf(o):(k=x.cachePool,k!==null?(F=qt._currentValue,k=k.parent!==F?{parent:F,pool:F}:k):k=zy(),x={baseLanes:x.baseLanes|o,cachePool:k}),d.memoizedState=x,d.childLanes=Wf(n,w,o),i.memoizedState=Qf,c):(qr(i),o=n.child,n=o.sibling,o=Js(o,{mode:"visible",children:c.children}),o.return=i,o.sibling=null,n!==null&&(w=i.deletions,w===null?(i.deletions=[n],i.flags|=16):w.push(n)),i.child=o,i.memoizedState=null,o)}function Xf(n,i){return i=eh({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function eh(n,i){return n=On(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Jf(n,i,o){return ho(i,n.child,null,o),n=Xf(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function tv(n,i,o){n.lanes|=i;var c=n.alternate;c!==null&&(c.lanes|=i),pf(n.return,i,o)}function Zf(n,i,o,c,d){var p=n.memoizedState;p===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:d}:(p.isBackwards=i,p.rendering=null,p.renderingStartTime=0,p.last=c,p.tail=o,p.tailMode=d)}function nv(n,i,o){var c=i.pendingProps,d=c.revealOrder,p=c.tail;if(nn(n,i,c.children,o),c=$t.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&tv(n,o,i);else if(n.tag===19)tv(n,o,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}switch(D($t,c),d){case"forwards":for(o=i.child,d=null;o!==null;)n=o.alternate,n!==null&&Wu(n)===null&&(d=o),o=o.sibling;o=d,o===null?(d=i.child,i.child=null):(d=o.sibling,o.sibling=null),Zf(i,!1,d,o,p);break;case"backwards":for(o=null,d=i.child,i.child=null;d!==null;){if(n=d.alternate,n!==null&&Wu(n)===null){i.child=d;break}n=d.sibling,d.sibling=o,o=d,d=n}Zf(i,!0,o,null,p);break;case"together":Zf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ir(n,i,o){if(n!==null&&(i.dependencies=n.dependencies),Qr|=i.lanes,(o&i.childLanes)===0)if(n!==null){if(Ll(n,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,o=Js(n,n.pendingProps),i.child=o,o.return=i;n.sibling!==null;)n=n.sibling,o=o.sibling=Js(n,n.pendingProps),o.return=i;o.sibling=null}return i.child}function em(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&Du(n)))}function j1(n,i,o){switch(i.tag){case 3:et(i,i.stateNode.containerInfo),Vr(i,qt,n.memoizedState.cache),Vl();break;case 27:case 5:_s(i);break;case 4:et(i,i.stateNode.containerInfo);break;case 10:Vr(i,i.type,i.memoizedProps.value);break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(qr(i),i.flags|=128,null):(o&i.child.childLanes)!==0?ev(n,i,o):(qr(i),n=ir(n,i,o),n!==null?n.sibling:null);qr(i);break;case 19:var d=(n.flags&128)!==0;if(c=(o&i.childLanes)!==0,c||(Ll(n,i,o,!1),c=(o&i.childLanes)!==0),d){if(c)return nv(n,i,o);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),D($t,$t.current),c)break;return null;case 22:case 23:return i.lanes=0,Y_(n,i,o);case 24:Vr(i,qt,n.memoizedState.cache)}return ir(n,i,o)}function sv(n,i,o){if(n!==null)if(n.memoizedProps!==i.pendingProps)Yt=!0;else{if(!em(n,o)&&(i.flags&128)===0)return Yt=!1,j1(n,i,o);Yt=(n.flags&131072)!==0}else Yt=!1,tt&&(i.flags&1048576)!==0&&Oy(i,Ou,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var c=i.elementType,d=c._init;if(c=d(c._payload),i.type=c,typeof c=="function")cf(c)?(n=ua(c,n),i.tag=1,i=J_(null,i,c,n,o)):(i.tag=0,i=Kf(null,i,c,n,o));else{if(c!=null){if(d=c.$$typeof,d===le){i.tag=11,i=G_(null,i,c,n,o);break e}else if(d===C){i.tag=14,i=K_(null,i,c,n,o);break e}}throw i=We(c)||c,Error(s(306,i,""))}}return i;case 0:return Kf(n,i,i.type,i.pendingProps,o);case 1:return c=i.type,d=ua(c,i.pendingProps),J_(n,i,c,d,o);case 3:e:{if(et(i,i.stateNode.containerInfo),n===null)throw Error(s(387));c=i.pendingProps;var p=i.memoizedState;d=p.element,xf(n,i),Gl(i,c,null,o);var w=i.memoizedState;if(c=w.cache,Vr(i,qt,c),c!==p.cache&&yf(i,[qt],o,!0),Fl(),c=w.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:w.cache},i.updateQueue.baseState=p,i.memoizedState=p,i.flags&256){i=Z_(n,i,c,o);break e}else if(c!==d){d=Gn(Error(s(424)),i),Ul(d),i=Z_(n,i,c,o);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Et=us(n.firstChild),En=i,tt=!0,ra=null,Cs=!0,o=P_(i,null,c,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Vl(),c===d){i=ir(n,i,o);break e}nn(n,i,c,o)}i=i.child}return i;case 26:return Zu(n,i),n===null?(o=o0(i.type,null,i.pendingProps,null))?i.memoizedState=o:tt||(o=i.type,n=i.pendingProps,c=mh(_e.current).createElement(o),c[St]=i,c[tn]=n,rn(c,o,n),At(c),i.stateNode=c):i.memoizedState=o0(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return _s(i),n===null&&tt&&(c=i.stateNode=r0(i.type,i.pendingProps,_e.current),En=i,Cs=!0,d=Et,Jr(i.type)?(Dm=d,Et=us(c.firstChild)):Et=d),nn(n,i,i.pendingProps.children,o),Zu(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&tt&&((d=c=Et)&&(c=aS(c,i.type,i.pendingProps,Cs),c!==null?(i.stateNode=c,En=i,Et=us(c.firstChild),Cs=!1,d=!0):d=!1),d||ia(i)),_s(i),d=i.type,p=i.pendingProps,w=n!==null?n.memoizedProps:null,c=p.children,Im(d,p)?c=null:w!==null&&Im(d,w)&&(i.flags|=32),i.memoizedState!==null&&(d=Cf(n,i,T1,null,null,o),mc._currentValue=d),Zu(n,i),nn(n,i,c,o),i.child;case 6:return n===null&&tt&&((n=o=Et)&&(o=oS(o,i.pendingProps,Cs),o!==null?(i.stateNode=o,En=i,Et=null,n=!0):n=!1),n||ia(i)),null;case 13:return ev(n,i,o);case 4:return et(i,i.stateNode.containerInfo),c=i.pendingProps,n===null?i.child=ho(i,null,c,o):nn(n,i,c,o),i.child;case 11:return G_(n,i,i.type,i.pendingProps,o);case 7:return nn(n,i,i.pendingProps,o),i.child;case 8:return nn(n,i,i.pendingProps.children,o),i.child;case 12:return nn(n,i,i.pendingProps.children,o),i.child;case 10:return c=i.pendingProps,Vr(i,i.type,c.value),nn(n,i,c.children,o),i.child;case 9:return d=i.type._context,c=i.pendingProps.children,oa(i),d=dn(d),c=c(d),i.flags|=1,nn(n,i,c,o),i.child;case 14:return K_(n,i,i.type,i.pendingProps,o);case 15:return Q_(n,i,i.type,i.pendingProps,o);case 19:return nv(n,i,o);case 31:return c=i.pendingProps,o=i.mode,c={mode:c.mode,children:c.children},n===null?(o=eh(c,o),o.ref=i.ref,i.child=o,o.return=i,i=o):(o=Js(n.child,c),o.ref=i.ref,i.child=o,o.return=i,i=o),i;case 22:return Y_(n,i,o);case 24:return oa(i),c=dn(qt),n===null?(d=bf(),d===null&&(d=ft,p=_f(),d.pooledCache=p,p.refCount++,p!==null&&(d.pooledCacheLanes|=o),d=p),i.memoizedState={parent:c,cache:d},Ef(i),Vr(i,qt,d)):((n.lanes&o)!==0&&(xf(n,i),Gl(i,null,null,o),Fl()),d=n.memoizedState,p=i.memoizedState,d.parent!==c?(d={parent:c,cache:c},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),Vr(i,qt,c)):(c=p.cache,Vr(i,qt,c),c!==d.cache&&yf(i,[qt],o,!0))),nn(n,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function ar(n){n.flags|=4}function rv(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!d0(i)){if(i=Wn.current,i!==null&&((Xe&4194048)===Xe?Is!==null:(Xe&62914560)!==Xe&&(Xe&536870912)===0||i!==Is))throw $l=wf,By;n.flags|=8192}}function th(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Tr():536870912,n.lanes|=i,po|=i)}function Zl(n,i){if(!tt)switch(n.tailMode){case"hidden":i=n.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function bt(n){var i=n.alternate!==null&&n.alternate.child===n.child,o=0,c=0;if(i)for(var d=n.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags&65011712,c|=d.flags&65011712,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=c,n.childLanes=o,i}function O1(n,i,o){var c=i.pendingProps;switch(ff(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(i),null;case 1:return bt(i),null;case 3:return o=i.stateNode,c=null,n!==null&&(c=n.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),nr(qt),cn(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(Ml(i)?ar(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,My())),bt(i),null;case 26:return o=i.memoizedState,n===null?(ar(i),o!==null?(bt(i),rv(i,o)):(bt(i),i.flags&=-16777217)):o?o!==n.memoizedState?(ar(i),bt(i),rv(i,o)):(bt(i),i.flags&=-16777217):(n.memoizedProps!==c&&ar(i),bt(i),i.flags&=-16777217),null;case 27:vs(i),o=_e.current;var d=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==c&&ar(i);else{if(!c){if(i.stateNode===null)throw Error(s(166));return bt(i),null}n=ae.current,Ml(i)?Dy(i):(n=r0(d,c,o),i.stateNode=n,ar(i))}return bt(i),null;case 5:if(vs(i),o=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==c&&ar(i);else{if(!c){if(i.stateNode===null)throw Error(s(166));return bt(i),null}if(n=ae.current,Ml(i))Dy(i);else{switch(d=mh(_e.current),n){case 1:n=d.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:n=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":n=d.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":n=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":n=d.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof c.is=="string"?d.createElement("select",{is:c.is}):d.createElement("select"),c.multiple?n.multiple=!0:c.size&&(n.size=c.size);break;default:n=typeof c.is=="string"?d.createElement(o,{is:c.is}):d.createElement(o)}}n[St]=i,n[tn]=c;e:for(d=i.child;d!==null;){if(d.tag===5||d.tag===6)n.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===i)break e;for(;d.sibling===null;){if(d.return===null||d.return===i)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}i.stateNode=n;e:switch(rn(n,o,c),o){case"button":case"input":case"select":case"textarea":n=!!c.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&ar(i)}}return bt(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==c&&ar(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(s(166));if(n=_e.current,Ml(i)){if(n=i.stateNode,o=i.memoizedProps,c=null,d=En,d!==null)switch(d.tag){case 27:case 5:c=d.memoizedProps}n[St]=i,n=!!(n.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||Xv(n.nodeValue,o)),n||ia(i)}else n=mh(n).createTextNode(c),n[St]=i,i.stateNode=n}return bt(i),null;case 13:if(c=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(d=Ml(i),c!==null&&c.dehydrated!==null){if(n===null){if(!d)throw Error(s(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[St]=i}else Vl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;bt(i),d=!1}else d=My(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=d),d=!0;if(!d)return i.flags&256?(rr(i),i):(rr(i),null)}if(rr(i),(i.flags&128)!==0)return i.lanes=o,i;if(o=c!==null,n=n!==null&&n.memoizedState!==null,o){c=i.child,d=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(d=c.alternate.memoizedState.cachePool.pool);var p=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==d&&(c.flags|=2048)}return o!==n&&o&&(i.child.flags|=8192),th(i,i.updateQueue),bt(i),null;case 4:return cn(),n===null&&Sm(i.stateNode.containerInfo),bt(i),null;case 10:return nr(i.type),bt(i),null;case 19:if(he($t),d=i.memoizedState,d===null)return bt(i),null;if(c=(i.flags&128)!==0,p=d.rendering,p===null)if(c)Zl(d,!1);else{if(xt!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(p=Wu(n),p!==null){for(i.flags|=128,Zl(d,!1),n=p.updateQueue,i.updateQueue=n,th(i,n),i.subtreeFlags=0,n=o,o=i.child;o!==null;)jy(o,n),o=o.sibling;return D($t,$t.current&1|2),i.child}n=n.sibling}d.tail!==null&&xn()>rh&&(i.flags|=128,c=!0,Zl(d,!1),i.lanes=4194304)}else{if(!c)if(n=Wu(p),n!==null){if(i.flags|=128,c=!0,n=n.updateQueue,i.updateQueue=n,th(i,n),Zl(d,!0),d.tail===null&&d.tailMode==="hidden"&&!p.alternate&&!tt)return bt(i),null}else 2*xn()-d.renderingStartTime>rh&&o!==536870912&&(i.flags|=128,c=!0,Zl(d,!1),i.lanes=4194304);d.isBackwards?(p.sibling=i.child,i.child=p):(n=d.last,n!==null?n.sibling=p:i.child=p,d.last=p)}return d.tail!==null?(i=d.tail,d.rendering=i,d.tail=i.sibling,d.renderingStartTime=xn(),i.sibling=null,n=$t.current,D($t,c?n&1|2:n&1),i):(bt(i),null);case 22:case 23:return rr(i),Rf(),c=i.memoizedState!==null,n!==null?n.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(o&536870912)!==0&&(i.flags&128)===0&&(bt(i),i.subtreeFlags&6&&(i.flags|=8192)):bt(i),o=i.updateQueue,o!==null&&th(i,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==o&&(i.flags|=2048),n!==null&&he(la),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),nr(qt),bt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function D1(n,i){switch(ff(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return nr(qt),cn(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return vs(i),null;case 13:if(rr(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Vl()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return he($t),null;case 4:return cn(),null;case 10:return nr(i.type),null;case 22:case 23:return rr(i),Rf(),n!==null&&he(la),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return nr(qt),null;case 25:return null;default:return null}}function iv(n,i){switch(ff(i),i.tag){case 3:nr(qt),cn();break;case 26:case 27:case 5:vs(i);break;case 4:cn();break;case 13:rr(i);break;case 19:he($t);break;case 10:nr(i.type);break;case 22:case 23:rr(i),Rf(),n!==null&&he(la);break;case 24:nr(qt)}}function ec(n,i){try{var o=i.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var d=c.next;o=d;do{if((o.tag&n)===n){c=void 0;var p=o.create,w=o.inst;c=p(),w.destroy=c}o=o.next}while(o!==d)}}catch(x){ht(i,i.return,x)}}function Hr(n,i,o){try{var c=i.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var p=d.next;c=p;do{if((c.tag&n)===n){var w=c.inst,x=w.destroy;if(x!==void 0){w.destroy=void 0,d=i;var k=o,F=x;try{F()}catch(W){ht(d,k,W)}}}c=c.next}while(c!==p)}}catch(W){ht(i,i.return,W)}}function av(n){var i=n.updateQueue;if(i!==null){var o=n.stateNode;try{Ky(i,o)}catch(c){ht(n,n.return,c)}}}function ov(n,i,o){o.props=ua(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(c){ht(n,i,c)}}function tc(n,i){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var c=n.stateNode;break;case 30:c=n.stateNode;break;default:c=n.stateNode}typeof o=="function"?n.refCleanup=o(c):o.current=c}}catch(d){ht(n,i,d)}}function ks(n,i){var o=n.ref,c=n.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(d){ht(n,i,d)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){ht(n,i,d)}else o.current=null}function lv(n){var i=n.type,o=n.memoizedProps,c=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(d){ht(n,n.return,d)}}function tm(n,i,o){try{var c=n.stateNode;tS(c,n.type,o,i),c[tn]=i}catch(d){ht(n,n.return,d)}}function cv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Jr(n.type)||n.tag===4}function nm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||cv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Jr(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function sm(n,i,o){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(n),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=fh));else if(c!==4&&(c===27&&Jr(n.type)&&(o=n.stateNode,i=null),n=n.child,n!==null))for(sm(n,i,o),n=n.sibling;n!==null;)sm(n,i,o),n=n.sibling}function nh(n,i,o){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?o.insertBefore(n,i):o.appendChild(n);else if(c!==4&&(c===27&&Jr(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(nh(n,i,o),n=n.sibling;n!==null;)nh(n,i,o),n=n.sibling}function uv(n){var i=n.stateNode,o=n.memoizedProps;try{for(var c=n.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);rn(i,c,o),i[St]=n,i[tn]=o}catch(p){ht(n,n.return,p)}}var or=!1,Ct=!1,rm=!1,hv=typeof WeakSet=="function"?WeakSet:Set,Wt=null;function P1(n,i){if(n=n.containerInfo,Nm=bh,n=Ey(n),tf(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var d=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var w=0,x=-1,k=-1,F=0,W=0,ee=n,G=null;t:for(;;){for(var K;ee!==o||d!==0&&ee.nodeType!==3||(x=w+d),ee!==p||c!==0&&ee.nodeType!==3||(k=w+c),ee.nodeType===3&&(w+=ee.nodeValue.length),(K=ee.firstChild)!==null;)G=ee,ee=K;for(;;){if(ee===n)break t;if(G===o&&++F===d&&(x=w),G===p&&++W===c&&(k=w),(K=ee.nextSibling)!==null)break;ee=G,G=ee.parentNode}ee=K}o=x===-1||k===-1?null:{start:x,end:k}}else o=null}o=o||{start:0,end:0}}else o=null;for(Cm={focusedElem:n,selectionRange:o},bh=!1,Wt=i;Wt!==null;)if(i=Wt,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,Wt=n;else for(;Wt!==null;){switch(i=Wt,p=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&p!==null){n=void 0,o=i,d=p.memoizedProps,p=p.memoizedState,c=o.stateNode;try{var Ae=ua(o.type,d,o.elementType===o.type);n=c.getSnapshotBeforeUpdate(Ae,p),c.__reactInternalSnapshotBeforeUpdate=n}catch(xe){ht(o,o.return,xe)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,o=n.nodeType,o===9)jm(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":jm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=i.sibling,n!==null){n.return=i.return,Wt=n;break}Wt=i.return}}function dv(n,i,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Fr(n,o),c&4&&ec(5,o);break;case 1:if(Fr(n,o),c&4)if(n=o.stateNode,i===null)try{n.componentDidMount()}catch(w){ht(o,o.return,w)}else{var d=ua(o.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(d,i,n.__reactInternalSnapshotBeforeUpdate)}catch(w){ht(o,o.return,w)}}c&64&&av(o),c&512&&tc(o,o.return);break;case 3:if(Fr(n,o),c&64&&(n=o.updateQueue,n!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{Ky(n,i)}catch(w){ht(o,o.return,w)}}break;case 27:i===null&&c&4&&uv(o);case 26:case 5:Fr(n,o),i===null&&c&4&&lv(o),c&512&&tc(o,o.return);break;case 12:Fr(n,o);break;case 13:Fr(n,o),c&4&&gv(n,o),c&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=H1.bind(null,o),lS(n,o))));break;case 22:if(c=o.memoizedState!==null||or,!c){i=i!==null&&i.memoizedState!==null||Ct,d=or;var p=Ct;or=c,(Ct=i)&&!p?Gr(n,o,(o.subtreeFlags&8772)!==0):Fr(n,o),or=d,Ct=p}break;case 30:break;default:Fr(n,o)}}function fv(n){var i=n.alternate;i!==null&&(n.alternate=null,fv(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&La(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var _t=null,Sn=!1;function lr(n,i,o){for(o=o.child;o!==null;)mv(n,i,o),o=o.sibling}function mv(n,i,o){if(un&&typeof un.onCommitFiberUnmount=="function")try{un.onCommitFiberUnmount(wr,o)}catch{}switch(o.tag){case 26:Ct||ks(o,i),lr(n,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ct||ks(o,i);var c=_t,d=Sn;Jr(o.type)&&(_t=o.stateNode,Sn=!1),lr(n,i,o),uc(o.stateNode),_t=c,Sn=d;break;case 5:Ct||ks(o,i);case 6:if(c=_t,d=Sn,_t=null,lr(n,i,o),_t=c,Sn=d,_t!==null)if(Sn)try{(_t.nodeType===9?_t.body:_t.nodeName==="HTML"?_t.ownerDocument.body:_t).removeChild(o.stateNode)}catch(p){ht(o,i,p)}else try{_t.removeChild(o.stateNode)}catch(p){ht(o,i,p)}break;case 18:_t!==null&&(Sn?(n=_t,n0(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),_c(n)):n0(_t,o.stateNode));break;case 4:c=_t,d=Sn,_t=o.stateNode.containerInfo,Sn=!0,lr(n,i,o),_t=c,Sn=d;break;case 0:case 11:case 14:case 15:Ct||Hr(2,o,i),Ct||Hr(4,o,i),lr(n,i,o);break;case 1:Ct||(ks(o,i),c=o.stateNode,typeof c.componentWillUnmount=="function"&&ov(o,i,c)),lr(n,i,o);break;case 21:lr(n,i,o);break;case 22:Ct=(c=Ct)||o.memoizedState!==null,lr(n,i,o),Ct=c;break;default:lr(n,i,o)}}function gv(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{_c(n)}catch(o){ht(i,i.return,o)}}function M1(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new hv),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new hv),i;default:throw Error(s(435,n.tag))}}function im(n,i){var o=M1(n);i.forEach(function(c){var d=F1.bind(null,n,c);o.has(c)||(o.add(c),c.then(d,d))})}function Dn(n,i){var o=i.deletions;if(o!==null)for(var c=0;c<o.length;c++){var d=o[c],p=n,w=i,x=w;e:for(;x!==null;){switch(x.tag){case 27:if(Jr(x.type)){_t=x.stateNode,Sn=!1;break e}break;case 5:_t=x.stateNode,Sn=!1;break e;case 3:case 4:_t=x.stateNode.containerInfo,Sn=!0;break e}x=x.return}if(_t===null)throw Error(s(160));mv(p,w,d),_t=null,Sn=!1,p=d.alternate,p!==null&&(p.return=null),d.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)pv(i,n),i=i.sibling}var cs=null;function pv(n,i){var o=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Dn(i,n),Pn(n),c&4&&(Hr(3,n,n.return),ec(3,n),Hr(5,n,n.return));break;case 1:Dn(i,n),Pn(n),c&512&&(Ct||o===null||ks(o,o.return)),c&64&&or&&(n=n.updateQueue,n!==null&&(c=n.callbacks,c!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var d=cs;if(Dn(i,n),Pn(n),c&512&&(Ct||o===null||ks(o,o.return)),c&4){var p=o!==null?o.memoizedState:null;if(c=n.memoizedState,o===null)if(c===null)if(n.stateNode===null){e:{c=n.type,o=n.memoizedProps,d=d.ownerDocument||d;t:switch(c){case"title":p=d.getElementsByTagName("title")[0],(!p||p[Rr]||p[St]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=d.createElement(c),d.head.insertBefore(p,d.querySelector("head > title"))),rn(p,c,o),p[St]=n,At(p),c=p;break e;case"link":var w=u0("link","href",d).get(c+(o.href||""));if(w){for(var x=0;x<w.length;x++)if(p=w[x],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){w.splice(x,1);break t}}p=d.createElement(c),rn(p,c,o),d.head.appendChild(p);break;case"meta":if(w=u0("meta","content",d).get(c+(o.content||""))){for(x=0;x<w.length;x++)if(p=w[x],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){w.splice(x,1);break t}}p=d.createElement(c),rn(p,c,o),d.head.appendChild(p);break;default:throw Error(s(468,c))}p[St]=n,At(p),c=p}n.stateNode=c}else h0(d,n.type,n.stateNode);else n.stateNode=c0(d,c,n.memoizedProps);else p!==c?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,c===null?h0(d,n.type,n.stateNode):c0(d,c,n.memoizedProps)):c===null&&n.stateNode!==null&&tm(n,n.memoizedProps,o.memoizedProps)}break;case 27:Dn(i,n),Pn(n),c&512&&(Ct||o===null||ks(o,o.return)),o!==null&&c&4&&tm(n,n.memoizedProps,o.memoizedProps);break;case 5:if(Dn(i,n),Pn(n),c&512&&(Ct||o===null||ks(o,o.return)),n.flags&32){d=n.stateNode;try{Hn(d,"")}catch(K){ht(n,n.return,K)}}c&4&&n.stateNode!=null&&(d=n.memoizedProps,tm(n,d,o!==null?o.memoizedProps:d)),c&1024&&(rm=!0);break;case 6:if(Dn(i,n),Pn(n),c&4){if(n.stateNode===null)throw Error(s(162));c=n.memoizedProps,o=n.stateNode;try{o.nodeValue=c}catch(K){ht(n,n.return,K)}}break;case 3:if(yh=null,d=cs,cs=gh(i.containerInfo),Dn(i,n),cs=d,Pn(n),c&4&&o!==null&&o.memoizedState.isDehydrated)try{_c(i.containerInfo)}catch(K){ht(n,n.return,K)}rm&&(rm=!1,yv(n));break;case 4:c=cs,cs=gh(n.stateNode.containerInfo),Dn(i,n),Pn(n),cs=c;break;case 12:Dn(i,n),Pn(n);break;case 13:Dn(i,n),Pn(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(hm=xn()),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,im(n,c)));break;case 22:d=n.memoizedState!==null;var k=o!==null&&o.memoizedState!==null,F=or,W=Ct;if(or=F||d,Ct=W||k,Dn(i,n),Ct=W,or=F,Pn(n),c&8192)e:for(i=n.stateNode,i._visibility=d?i._visibility&-2:i._visibility|1,d&&(o===null||k||or||Ct||ha(n)),o=null,i=n;;){if(i.tag===5||i.tag===26){if(o===null){k=o=i;try{if(p=k.stateNode,d)w=p.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{x=k.stateNode;var ee=k.memoizedProps.style,G=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;x.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(K){ht(k,k.return,K)}}}else if(i.tag===6){if(o===null){k=i;try{k.stateNode.nodeValue=d?"":k.memoizedProps}catch(K){ht(k,k.return,K)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=n.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,im(n,o))));break;case 19:Dn(i,n),Pn(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,im(n,c)));break;case 30:break;case 21:break;default:Dn(i,n),Pn(n)}}function Pn(n){var i=n.flags;if(i&2){try{for(var o,c=n.return;c!==null;){if(cv(c)){o=c;break}c=c.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var d=o.stateNode,p=nm(n);nh(n,p,d);break;case 5:var w=o.stateNode;o.flags&32&&(Hn(w,""),o.flags&=-33);var x=nm(n);nh(n,x,w);break;case 3:case 4:var k=o.stateNode.containerInfo,F=nm(n);sm(n,F,k);break;default:throw Error(s(161))}}catch(W){ht(n,n.return,W)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function yv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;yv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function Fr(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)dv(n,i.alternate,i),i=i.sibling}function ha(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Hr(4,i,i.return),ha(i);break;case 1:ks(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&ov(i,i.return,o),ha(i);break;case 27:uc(i.stateNode);case 26:case 5:ks(i,i.return),ha(i);break;case 22:i.memoizedState===null&&ha(i);break;case 30:ha(i);break;default:ha(i)}n=n.sibling}}function Gr(n,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,d=n,p=i,w=p.flags;switch(p.tag){case 0:case 11:case 15:Gr(d,p,o),ec(4,p);break;case 1:if(Gr(d,p,o),c=p,d=c.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(F){ht(c,c.return,F)}if(c=p,d=c.updateQueue,d!==null){var x=c.stateNode;try{var k=d.shared.hiddenCallbacks;if(k!==null)for(d.shared.hiddenCallbacks=null,d=0;d<k.length;d++)Gy(k[d],x)}catch(F){ht(c,c.return,F)}}o&&w&64&&av(p),tc(p,p.return);break;case 27:uv(p);case 26:case 5:Gr(d,p,o),o&&c===null&&w&4&&lv(p),tc(p,p.return);break;case 12:Gr(d,p,o);break;case 13:Gr(d,p,o),o&&w&4&&gv(d,p);break;case 22:p.memoizedState===null&&Gr(d,p,o),tc(p,p.return);break;case 30:break;default:Gr(d,p,o)}i=i.sibling}}function am(n,i){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&zl(o))}function om(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&zl(n))}function js(n,i,o,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)_v(n,i,o,c),i=i.sibling}function _v(n,i,o,c){var d=i.flags;switch(i.tag){case 0:case 11:case 15:js(n,i,o,c),d&2048&&ec(9,i);break;case 1:js(n,i,o,c);break;case 3:js(n,i,o,c),d&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&zl(n)));break;case 12:if(d&2048){js(n,i,o,c),n=i.stateNode;try{var p=i.memoizedProps,w=p.id,x=p.onPostCommit;typeof x=="function"&&x(w,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(k){ht(i,i.return,k)}}else js(n,i,o,c);break;case 13:js(n,i,o,c);break;case 23:break;case 22:p=i.stateNode,w=i.alternate,i.memoizedState!==null?p._visibility&2?js(n,i,o,c):nc(n,i):p._visibility&2?js(n,i,o,c):(p._visibility|=2,fo(n,i,o,c,(i.subtreeFlags&10256)!==0)),d&2048&&am(w,i);break;case 24:js(n,i,o,c),d&2048&&om(i.alternate,i);break;default:js(n,i,o,c)}}function fo(n,i,o,c,d){for(d=d&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var p=n,w=i,x=o,k=c,F=w.flags;switch(w.tag){case 0:case 11:case 15:fo(p,w,x,k,d),ec(8,w);break;case 23:break;case 22:var W=w.stateNode;w.memoizedState!==null?W._visibility&2?fo(p,w,x,k,d):nc(p,w):(W._visibility|=2,fo(p,w,x,k,d)),d&&F&2048&&am(w.alternate,w);break;case 24:fo(p,w,x,k,d),d&&F&2048&&om(w.alternate,w);break;default:fo(p,w,x,k,d)}i=i.sibling}}function nc(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=n,c=i,d=c.flags;switch(c.tag){case 22:nc(o,c),d&2048&&am(c.alternate,c);break;case 24:nc(o,c),d&2048&&om(c.alternate,c);break;default:nc(o,c)}i=i.sibling}}var sc=8192;function mo(n){if(n.subtreeFlags&sc)for(n=n.child;n!==null;)vv(n),n=n.sibling}function vv(n){switch(n.tag){case 26:mo(n),n.flags&sc&&n.memoizedState!==null&&wS(cs,n.memoizedState,n.memoizedProps);break;case 5:mo(n);break;case 3:case 4:var i=cs;cs=gh(n.stateNode.containerInfo),mo(n),cs=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=sc,sc=16777216,mo(n),sc=i):mo(n));break;default:mo(n)}}function bv(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function rc(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];Wt=c,Ev(c,n)}bv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)wv(n),n=n.sibling}function wv(n){switch(n.tag){case 0:case 11:case 15:rc(n),n.flags&2048&&Hr(9,n,n.return);break;case 3:rc(n);break;case 12:rc(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,sh(n)):rc(n);break;default:rc(n)}}function sh(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];Wt=c,Ev(c,n)}bv(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Hr(8,i,i.return),sh(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,sh(i));break;default:sh(i)}n=n.sibling}}function Ev(n,i){for(;Wt!==null;){var o=Wt;switch(o.tag){case 0:case 11:case 15:Hr(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:zl(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Wt=c;else e:for(o=n;Wt!==null;){c=Wt;var d=c.sibling,p=c.return;if(fv(c),c===o){Wt=null;break e}if(d!==null){d.return=p,Wt=d;break e}Wt=p}}}var V1={getCacheForType:function(n){var i=dn(qt),o=i.data.get(n);return o===void 0&&(o=n(),i.data.set(n,o)),o}},U1=typeof WeakMap=="function"?WeakMap:Map,rt=0,ft=null,Fe=null,Xe=0,it=0,Mn=null,Kr=!1,go=!1,lm=!1,cr=0,xt=0,Qr=0,da=0,cm=0,Xn=0,po=0,ic=null,An=null,um=!1,hm=0,rh=1/0,ih=null,Yr=null,sn=0,Wr=null,yo=null,_o=0,dm=0,fm=null,xv=null,ac=0,mm=null;function Vn(){if((rt&2)!==0&&Xe!==0)return Xe&-Xe;if(V.T!==null){var n=ro;return n!==0?n:wm()}return Fs()}function Tv(){Xn===0&&(Xn=(Xe&536870912)===0||tt?pl():536870912);var n=Wn.current;return n!==null&&(n.flags|=32),Xn}function Un(n,i,o){(n===ft&&(it===2||it===9)||n.cancelPendingCommit!==null)&&(vo(n,0),Xr(n,Xe,Xn,!1)),Tt(n,o),((rt&2)===0||n!==ft)&&(n===ft&&((rt&2)===0&&(da|=o),xt===4&&Xr(n,Xe,Xn,!1)),Os(n))}function Sv(n,i,o){if((rt&6)!==0)throw Error(s(327));var c=!o&&(i&124)===0&&(i&n.expiredLanes)===0||xr(n,i),d=c?B1(n,i):ym(n,i,!0),p=c;do{if(d===0){go&&!c&&Xr(n,i,0,!1);break}else{if(o=n.current.alternate,p&&!L1(o)){d=ym(n,i,!1),p=!1;continue}if(d===2){if(p=i,n.errorRecoveryDisabledLanes&p)var w=0;else w=n.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){i=w;e:{var x=n;d=ic;var k=x.current.memoizedState.isDehydrated;if(k&&(vo(x,w).flags|=256),w=ym(x,w,!1),w!==2){if(lm&&!k){x.errorRecoveryDisabledLanes|=p,da|=p,d=4;break e}p=An,An=d,p!==null&&(An===null?An=p:An.push.apply(An,p))}d=w}if(p=!1,d!==2)continue}}if(d===1){vo(n,0),Xr(n,i,0,!0);break}e:{switch(c=n,p=d,p){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Xr(c,i,Xn,!Kr);break e;case 2:An=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(d=hm+300-xn(),10<d)){if(Xr(c,i,Xn,!Kr),qn(c,0,!0)!==0)break e;c.timeoutHandle=e0(Av.bind(null,c,o,An,ih,um,i,Xn,da,po,Kr,p,2,-0,0),d);break e}Av(c,o,An,ih,um,i,Xn,da,po,Kr,p,0,-0,0)}}break}while(!0);Os(n)}function Av(n,i,o,c,d,p,w,x,k,F,W,ee,G,K){if(n.timeoutHandle=-1,ee=i.subtreeFlags,(ee&8192||(ee&16785408)===16785408)&&(fc={stylesheets:null,count:0,unsuspend:bS},vv(i),ee=ES(),ee!==null)){n.cancelPendingCommit=ee(Ov.bind(null,n,i,p,o,c,d,w,x,k,W,1,G,K)),Xr(n,p,w,!F);return}Ov(n,i,p,o,c,d,w,x,k)}function L1(n){for(var i=n;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var d=o[c],p=d.getSnapshot;d=d.value;try{if(!jn(p(),d))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Xr(n,i,o,c){i&=~cm,i&=~da,n.suspendedLanes|=i,n.pingedLanes&=~i,c&&(n.warmLanes|=i),c=n.expirationTimes;for(var d=i;0<d;){var p=31-_n(d),w=1<<p;c[p]=-1,d&=~w}o!==0&&Sr(n,o,i)}function ah(){return(rt&6)===0?(oc(0),!1):!0}function gm(){if(Fe!==null){if(it===0)var n=Fe.return;else n=Fe,tr=aa=null,jf(n),uo=null,Xl=0,n=Fe;for(;n!==null;)iv(n.alternate,n),n=n.return;Fe=null}}function vo(n,i){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,sS(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),gm(),ft=n,Fe=o=Js(n.current,null),Xe=i,it=0,Mn=null,Kr=!1,go=xr(n,i),lm=!1,po=Xn=cm=da=Qr=xt=0,An=ic=null,um=!1,(i&8)!==0&&(i|=i&32);var c=n.entangledLanes;if(c!==0)for(n=n.entanglements,c&=i;0<c;){var d=31-_n(c),p=1<<d;i|=n[d],c&=~p}return cr=i,Nu(),o}function Rv(n,i){ze=null,V.H=Ku,i===ql||i===Vu?(i=Hy(),it=3):i===By?(i=Hy(),it=4):it=i===F_?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Mn=i,Fe===null&&(xt=1,Ju(n,Gn(i,n.current)))}function Nv(){var n=V.H;return V.H=Ku,n===null?Ku:n}function Cv(){var n=V.A;return V.A=V1,n}function pm(){xt=4,Kr||(Xe&4194048)!==Xe&&Wn.current!==null||(go=!0),(Qr&134217727)===0&&(da&134217727)===0||ft===null||Xr(ft,Xe,Xn,!1)}function ym(n,i,o){var c=rt;rt|=2;var d=Nv(),p=Cv();(ft!==n||Xe!==i)&&(ih=null,vo(n,i)),i=!1;var w=xt;e:do try{if(it!==0&&Fe!==null){var x=Fe,k=Mn;switch(it){case 8:gm(),w=6;break e;case 3:case 2:case 9:case 6:Wn.current===null&&(i=!0);var F=it;if(it=0,Mn=null,bo(n,x,k,F),o&&go){w=0;break e}break;default:F=it,it=0,Mn=null,bo(n,x,k,F)}}z1(),w=xt;break}catch(W){Rv(n,W)}while(!0);return i&&n.shellSuspendCounter++,tr=aa=null,rt=c,V.H=d,V.A=p,Fe===null&&(ft=null,Xe=0,Nu()),w}function z1(){for(;Fe!==null;)Iv(Fe)}function B1(n,i){var o=rt;rt|=2;var c=Nv(),d=Cv();ft!==n||Xe!==i?(ih=null,rh=xn()+500,vo(n,i)):go=xr(n,i);e:do try{if(it!==0&&Fe!==null){i=Fe;var p=Mn;t:switch(it){case 1:it=0,Mn=null,bo(n,i,p,1);break;case 2:case 9:if(qy(p)){it=0,Mn=null,kv(i);break}i=function(){it!==2&&it!==9||ft!==n||(it=7),Os(n)},p.then(i,i);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:qy(p)?(it=0,Mn=null,kv(i)):(it=0,Mn=null,bo(n,i,p,7));break;case 5:var w=null;switch(Fe.tag){case 26:w=Fe.memoizedState;case 5:case 27:var x=Fe;if(!w||d0(w)){it=0,Mn=null;var k=x.sibling;if(k!==null)Fe=k;else{var F=x.return;F!==null?(Fe=F,oh(F)):Fe=null}break t}}it=0,Mn=null,bo(n,i,p,5);break;case 6:it=0,Mn=null,bo(n,i,p,6);break;case 8:gm(),xt=6;break e;default:throw Error(s(462))}}q1();break}catch(W){Rv(n,W)}while(!0);return tr=aa=null,V.H=c,V.A=d,rt=o,Fe!==null?0:(ft=null,Xe=0,Nu(),xt)}function q1(){for(;Fe!==null&&!Hd();)Iv(Fe)}function Iv(n){var i=sv(n.alternate,n,cr);n.memoizedProps=n.pendingProps,i===null?oh(n):Fe=i}function kv(n){var i=n,o=i.alternate;switch(i.tag){case 15:case 0:i=X_(o,i,i.pendingProps,i.type,void 0,Xe);break;case 11:i=X_(o,i,i.pendingProps,i.type.render,i.ref,Xe);break;case 5:jf(i);default:iv(o,i),i=Fe=jy(i,cr),i=sv(o,i,cr)}n.memoizedProps=n.pendingProps,i===null?oh(n):Fe=i}function bo(n,i,o,c){tr=aa=null,jf(i),uo=null,Xl=0;var d=i.return;try{if(k1(n,d,i,o,Xe)){xt=1,Ju(n,Gn(o,n.current)),Fe=null;return}}catch(p){if(d!==null)throw Fe=d,p;xt=1,Ju(n,Gn(o,n.current)),Fe=null;return}i.flags&32768?(tt||c===1?n=!0:go||(Xe&536870912)!==0?n=!1:(Kr=n=!0,(c===2||c===9||c===3||c===6)&&(c=Wn.current,c!==null&&c.tag===13&&(c.flags|=16384))),jv(i,n)):oh(i)}function oh(n){var i=n;do{if((i.flags&32768)!==0){jv(i,Kr);return}n=i.return;var o=O1(i.alternate,i,cr);if(o!==null){Fe=o;return}if(i=i.sibling,i!==null){Fe=i;return}Fe=i=n}while(i!==null);xt===0&&(xt=5)}function jv(n,i){do{var o=D1(n.alternate,n);if(o!==null){o.flags&=32767,Fe=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(n=n.sibling,n!==null)){Fe=n;return}Fe=n=o}while(n!==null);xt=6,Fe=null}function Ov(n,i,o,c,d,p,w,x,k){n.cancelPendingCommit=null;do lh();while(sn!==0);if((rt&6)!==0)throw Error(s(327));if(i!==null){if(i===n.current)throw Error(s(177));if(p=i.lanes|i.childLanes,p|=of,hu(n,o,p,w,x,k),n===ft&&(Fe=ft=null,Xe=0),yo=i,Wr=n,_o=o,dm=p,fm=d,xv=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,G1(Hs,function(){return Uv(),null})):(n.callbackNode=null,n.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=V.T,V.T=null,d=ie.p,ie.p=2,w=rt,rt|=4;try{P1(n,i,o)}finally{rt=w,ie.p=d,V.T=c}}sn=1,Dv(),Pv(),Mv()}}function Dv(){if(sn===1){sn=0;var n=Wr,i=yo,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=V.T,V.T=null;var c=ie.p;ie.p=2;var d=rt;rt|=4;try{pv(i,n);var p=Cm,w=Ey(n.containerInfo),x=p.focusedElem,k=p.selectionRange;if(w!==x&&x&&x.ownerDocument&&wy(x.ownerDocument.documentElement,x)){if(k!==null&&tf(x)){var F=k.start,W=k.end;if(W===void 0&&(W=F),"selectionStart"in x)x.selectionStart=F,x.selectionEnd=Math.min(W,x.value.length);else{var ee=x.ownerDocument||document,G=ee&&ee.defaultView||window;if(G.getSelection){var K=G.getSelection(),Ae=x.textContent.length,xe=Math.min(k.start,Ae),ct=k.end===void 0?xe:Math.min(k.end,Ae);!K.extend&&xe>ct&&(w=ct,ct=xe,xe=w);var B=by(x,xe),U=by(x,ct);if(B&&U&&(K.rangeCount!==1||K.anchorNode!==B.node||K.anchorOffset!==B.offset||K.focusNode!==U.node||K.focusOffset!==U.offset)){var $=ee.createRange();$.setStart(B.node,B.offset),K.removeAllRanges(),xe>ct?(K.addRange($),K.extend(U.node,U.offset)):($.setEnd(U.node,U.offset),K.addRange($))}}}}for(ee=[],K=x;K=K.parentNode;)K.nodeType===1&&ee.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<ee.length;x++){var X=ee[x];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}bh=!!Nm,Cm=Nm=null}finally{rt=d,ie.p=c,V.T=o}}n.current=i,sn=2}}function Pv(){if(sn===2){sn=0;var n=Wr,i=yo,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=V.T,V.T=null;var c=ie.p;ie.p=2;var d=rt;rt|=4;try{dv(n,i.alternate,i)}finally{rt=d,ie.p=c,V.T=o}}sn=3}}function Mv(){if(sn===4||sn===3){sn=0,ml();var n=Wr,i=yo,o=_o,c=xv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?sn=5:(sn=0,yo=Wr=null,Vv(n,n.pendingLanes));var d=n.pendingLanes;if(d===0&&(Yr=null),_l(o),i=i.stateNode,un&&typeof un.onCommitFiberRoot=="function")try{un.onCommitFiberRoot(wr,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=V.T,d=ie.p,ie.p=2,V.T=null;try{for(var p=n.onRecoverableError,w=0;w<c.length;w++){var x=c[w];p(x.value,{componentStack:x.stack})}}finally{V.T=i,ie.p=d}}(_o&3)!==0&&lh(),Os(n),d=n.pendingLanes,(o&4194090)!==0&&(d&42)!==0?n===mm?ac++:(ac=0,mm=n):ac=0,oc(0)}}function Vv(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,zl(i)))}function lh(n){return Dv(),Pv(),Mv(),Uv()}function Uv(){if(sn!==5)return!1;var n=Wr,i=dm;dm=0;var o=_l(_o),c=V.T,d=ie.p;try{ie.p=32>o?32:o,V.T=null,o=fm,fm=null;var p=Wr,w=_o;if(sn=0,yo=Wr=null,_o=0,(rt&6)!==0)throw Error(s(331));var x=rt;if(rt|=4,wv(p.current),_v(p,p.current,w,o),rt=x,oc(0,!1),un&&typeof un.onPostCommitFiberRoot=="function")try{un.onPostCommitFiberRoot(wr,p)}catch{}return!0}finally{ie.p=d,V.T=c,Vv(n,i)}}function Lv(n,i,o){i=Gn(o,i),i=Gf(n.stateNode,i,2),n=zr(n,i,2),n!==null&&(Tt(n,2),Os(n))}function ht(n,i,o){if(n.tag===3)Lv(n,n,o);else for(;i!==null;){if(i.tag===3){Lv(i,n,o);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Yr===null||!Yr.has(c))){n=Gn(o,n),o=$_(2),c=zr(i,o,2),c!==null&&(H_(o,c,i,n),Tt(c,2),Os(c));break}}i=i.return}}function _m(n,i,o){var c=n.pingCache;if(c===null){c=n.pingCache=new U1;var d=new Set;c.set(i,d)}else d=c.get(i),d===void 0&&(d=new Set,c.set(i,d));d.has(o)||(lm=!0,d.add(o),n=$1.bind(null,n,i,o),i.then(n,n))}function $1(n,i,o){var c=n.pingCache;c!==null&&c.delete(i),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,ft===n&&(Xe&o)===o&&(xt===4||xt===3&&(Xe&62914560)===Xe&&300>xn()-hm?(rt&2)===0&&vo(n,0):cm|=o,po===Xe&&(po=0)),Os(n)}function zv(n,i){i===0&&(i=Tr()),n=eo(n,i),n!==null&&(Tt(n,i),Os(n))}function H1(n){var i=n.memoizedState,o=0;i!==null&&(o=i.retryLane),zv(n,o)}function F1(n,i){var o=0;switch(n.tag){case 13:var c=n.stateNode,d=n.memoizedState;d!==null&&(o=d.retryLane);break;case 19:c=n.stateNode;break;case 22:c=n.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(i),zv(n,o)}function G1(n,i){return ki(n,i)}var ch=null,wo=null,vm=!1,uh=!1,bm=!1,fa=0;function Os(n){n!==wo&&n.next===null&&(wo===null?ch=wo=n:wo=wo.next=n),uh=!0,vm||(vm=!0,Q1())}function oc(n,i){if(!bm&&uh){bm=!0;do for(var o=!1,c=ch;c!==null;){if(n!==0){var d=c.pendingLanes;if(d===0)var p=0;else{var w=c.suspendedLanes,x=c.pingedLanes;p=(1<<31-_n(42|n)+1)-1,p&=d&~(w&~x),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,Hv(c,p))}else p=Xe,p=qn(c,c===ft?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(p&3)===0||xr(c,p)||(o=!0,Hv(c,p));c=c.next}while(o);bm=!1}}function K1(){Bv()}function Bv(){uh=vm=!1;var n=0;fa!==0&&(nS()&&(n=fa),fa=0);for(var i=xn(),o=null,c=ch;c!==null;){var d=c.next,p=qv(c,i);p===0?(c.next=null,o===null?ch=d:o.next=d,d===null&&(wo=o)):(o=c,(n!==0||(p&3)!==0)&&(uh=!0)),c=d}oc(n)}function qv(n,i){for(var o=n.suspendedLanes,c=n.pingedLanes,d=n.expirationTimes,p=n.pendingLanes&-62914561;0<p;){var w=31-_n(p),x=1<<w,k=d[w];k===-1?((x&o)===0||(x&c)!==0)&&(d[w]=Va(x,i)):k<=i&&(n.expiredLanes|=x),p&=~x}if(i=ft,o=Xe,o=qn(n,n===i?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c=n.callbackNode,o===0||n===i&&(it===2||it===9)||n.cancelPendingCommit!==null)return c!==null&&c!==null&&Ma(c),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||xr(n,o)){if(i=o&-o,i===n.callbackPriority)return i;switch(c!==null&&Ma(c),_l(o)){case 2:case 8:o=Kt;break;case 32:o=Hs;break;case 268435456:o=gl;break;default:o=Hs}return c=$v.bind(null,n),o=ki(o,c),n.callbackPriority=i,n.callbackNode=o,i}return c!==null&&c!==null&&Ma(c),n.callbackPriority=2,n.callbackNode=null,2}function $v(n,i){if(sn!==0&&sn!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(lh()&&n.callbackNode!==o)return null;var c=Xe;return c=qn(n,n===ft?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c===0?null:(Sv(n,c,i),qv(n,xn()),n.callbackNode!=null&&n.callbackNode===o?$v.bind(null,n):null)}function Hv(n,i){if(lh())return null;Sv(n,i,!0)}function Q1(){rS(function(){(rt&6)!==0?ki(zt,K1):Bv()})}function wm(){return fa===0&&(fa=pl()),fa}function Fv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:rs(""+n)}function Gv(n,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,n.id&&o.setAttribute("form",n.id),i.parentNode.insertBefore(o,i),n=new FormData(n),o.parentNode.removeChild(o),n}function Y1(n,i,o,c,d){if(i==="submit"&&o&&o.stateNode===d){var p=Fv((d[tn]||null).action),w=c.submitter;w&&(i=(i=w[tn]||null)?Fv(i.formAction):w.getAttribute("formAction"),i!==null&&(p=i,w=null));var x=new Gi("action","action",null,c,d);n.push({event:x,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(fa!==0){var k=w?Gv(d,w):new FormData(d);Bf(o,{pending:!0,data:k,method:d.method,action:p},null,k)}}else typeof p=="function"&&(x.preventDefault(),k=w?Gv(d,w):new FormData(d),Bf(o,{pending:!0,data:k,method:d.method,action:p},p,k))},currentTarget:d}]})}}for(var Em=0;Em<af.length;Em++){var xm=af[Em],W1=xm.toLowerCase(),X1=xm[0].toUpperCase()+xm.slice(1);ls(W1,"on"+X1)}ls(Sy,"onAnimationEnd"),ls(Ay,"onAnimationIteration"),ls(Ry,"onAnimationStart"),ls("dblclick","onDoubleClick"),ls("focusin","onFocus"),ls("focusout","onBlur"),ls(m1,"onTransitionRun"),ls(g1,"onTransitionStart"),ls(p1,"onTransitionCancel"),ls(Ny,"onTransitionEnd"),Ss("onMouseEnter",["mouseout","mouseover"]),Ss("onMouseLeave",["mouseout","mouseover"]),Ss("onPointerEnter",["pointerout","pointerover"]),Ss("onPointerLeave",["pointerout","pointerover"]),Ts("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ts("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ts("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ts("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ts("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ts("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),J1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lc));function Kv(n,i){i=(i&4)!==0;for(var o=0;o<n.length;o++){var c=n[o],d=c.event;c=c.listeners;e:{var p=void 0;if(i)for(var w=c.length-1;0<=w;w--){var x=c[w],k=x.instance,F=x.currentTarget;if(x=x.listener,k!==p&&d.isPropagationStopped())break e;p=x,d.currentTarget=F;try{p(d)}catch(W){Xu(W)}d.currentTarget=null,p=k}else for(w=0;w<c.length;w++){if(x=c[w],k=x.instance,F=x.currentTarget,x=x.listener,k!==p&&d.isPropagationStopped())break e;p=x,d.currentTarget=F;try{p(d)}catch(W){Xu(W)}d.currentTarget=null,p=k}}}}function Ge(n,i){var o=i[Oi];o===void 0&&(o=i[Oi]=new Set);var c=n+"__bubble";o.has(c)||(Qv(i,n,2,!1),o.add(c))}function Tm(n,i,o){var c=0;i&&(c|=4),Qv(o,n,c,i)}var hh="_reactListening"+Math.random().toString(36).slice(2);function Sm(n){if(!n[hh]){n[hh]=!0,du.forEach(function(o){o!=="selectionchange"&&(J1.has(o)||Tm(o,!1,n),Tm(o,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[hh]||(i[hh]=!0,Tm("selectionchange",!1,i))}}function Qv(n,i,o,c){switch(_0(i)){case 2:var d=SS;break;case 8:d=AS;break;default:d=Lm}o=d.bind(null,i,o,n),d=void 0,!Ws||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),c?d!==void 0?n.addEventListener(i,o,{capture:!0,passive:d}):n.addEventListener(i,o,!0):d!==void 0?n.addEventListener(i,o,{passive:d}):n.addEventListener(i,o,!1)}function Am(n,i,o,c,d){var p=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var x=c.stateNode.containerInfo;if(x===d)break;if(w===4)for(w=c.return;w!==null;){var k=w.tag;if((k===3||k===4)&&w.stateNode.containerInfo===d)return;w=w.return}for(;x!==null;){if(w=Es(x),w===null)return;if(k=w.tag,k===5||k===6||k===26||k===27){c=p=w;continue e}x=x.parentNode}}c=c.return}$i(function(){var F=p,W=Sl(o),ee=[];e:{var G=Cy.get(n);if(G!==void 0){var K=Gi,Ae=n;switch(n){case"keypress":if(Hi(o)===0)break e;case"keydown":case"keyup":K=Wa;break;case"focusin":Ae="focus",K=Ka;break;case"focusout":Ae="blur",K=Ka;break;case"beforeblur":case"afterblur":K=Ka;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Xi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=vu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Mr;break;case Sy:case Ay:case Ry:K=Rl;break;case Ny:K=v;break;case"scroll":case"scrollend":K=Qi;break;case"wheel":K=S;break;case"copy":case"cut":case"paste":K=wu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Il;break;case"toggle":case"beforetoggle":K=Q}var xe=(i&4)!==0,ct=!xe&&(n==="scroll"||n==="scrollend"),B=xe?G!==null?G+"Capture":null:G;xe=[];for(var U=F,$;U!==null;){var X=U;if($=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||$===null||B===null||(X=Dr(U,B),X!=null&&xe.push(cc(U,X,$))),ct)break;U=U.return}0<xe.length&&(G=new K(G,Ae,null,o,W),ee.push({event:G,listeners:xe}))}}if((i&7)===0){e:{if(G=n==="mouseover"||n==="pointerover",K=n==="mouseout"||n==="pointerout",G&&o!==Tl&&(Ae=o.relatedTarget||o.fromElement)&&(Es(Ae)||Ae[Gs]))break e;if((K||G)&&(G=W.window===W?W:(G=W.ownerDocument)?G.defaultView||G.parentWindow:window,K?(Ae=o.relatedTarget||o.toElement,K=F,Ae=Ae?Es(Ae):null,Ae!==null&&(ct=l(Ae),xe=Ae.tag,Ae!==ct||xe!==5&&xe!==27&&xe!==6)&&(Ae=null)):(K=null,Ae=F),K!==Ae)){if(xe=Xi,X="onMouseLeave",B="onMouseEnter",U="mouse",(n==="pointerout"||n==="pointerover")&&(xe=Il,X="onPointerLeave",B="onPointerEnter",U="pointer"),ct=K==null?G:Nr(K),$=Ae==null?G:Nr(Ae),G=new xe(X,U+"leave",K,o,W),G.target=ct,G.relatedTarget=$,X=null,Es(W)===F&&(xe=new xe(B,U+"enter",Ae,o,W),xe.target=$,xe.relatedTarget=ct,X=xe),ct=X,K&&Ae)t:{for(xe=K,B=Ae,U=0,$=xe;$;$=Eo($))U++;for($=0,X=B;X;X=Eo(X))$++;for(;0<U-$;)xe=Eo(xe),U--;for(;0<$-U;)B=Eo(B),$--;for(;U--;){if(xe===B||B!==null&&xe===B.alternate)break t;xe=Eo(xe),B=Eo(B)}xe=null}else xe=null;K!==null&&Yv(ee,G,K,xe,!1),Ae!==null&&ct!==null&&Yv(ee,ct,Ae,xe,!0)}}e:{if(G=F?Nr(F):window,K=G.nodeName&&G.nodeName.toLowerCase(),K==="select"||K==="input"&&G.type==="file")var me=my;else if(dy(G))if(gy)me=h1;else{me=c1;var He=l1}else K=G.nodeName,!K||K.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?F&&Ha(F.elementType)&&(me=my):me=u1;if(me&&(me=me(n,F))){fy(ee,me,o,W);break e}He&&He(n,G,F),n==="focusout"&&F&&G.type==="number"&&F.memoizedProps.value!=null&&wl(G,"number",G.value)}switch(He=F?Nr(F):window,n){case"focusin":(dy(He)||He.contentEditable==="true")&&(Xa=He,nf=F,Pl=null);break;case"focusout":Pl=nf=Xa=null;break;case"mousedown":sf=!0;break;case"contextmenu":case"mouseup":case"dragend":sf=!1,xy(ee,o,W);break;case"selectionchange":if(f1)break;case"keydown":case"keyup":xy(ee,o,W)}var ve;if(je)e:{switch(n){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else os?is(n,o)&&(Te="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(Te="onCompositionStart");Te&&(Rt&&o.locale!=="ko"&&(os||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&os&&(ve=_u()):(Fn=W,dt="value"in Fn?Fn.value:Fn.textContent,os=!0)),He=dh(F,Te),0<He.length&&(Te=new Cl(Te,n,null,o,W),ee.push({event:Te,listeners:He}),ve?Te.data=ve:(ve=as(o),ve!==null&&(Te.data=ve)))),(ve=st?kl(n,o):i1(n,o))&&(Te=dh(F,"onBeforeInput"),0<Te.length&&(He=new Cl("onBeforeInput","beforeinput",null,o,W),ee.push({event:He,listeners:Te}),He.data=ve)),Y1(ee,n,F,o,W)}Kv(ee,i)})}function cc(n,i,o){return{instance:n,listener:i,currentTarget:o}}function dh(n,i){for(var o=i+"Capture",c=[];n!==null;){var d=n,p=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||p===null||(d=Dr(n,o),d!=null&&c.unshift(cc(n,d,p)),d=Dr(n,i),d!=null&&c.push(cc(n,d,p))),n.tag===3)return c;n=n.return}return[]}function Eo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Yv(n,i,o,c,d){for(var p=i._reactName,w=[];o!==null&&o!==c;){var x=o,k=x.alternate,F=x.stateNode;if(x=x.tag,k!==null&&k===c)break;x!==5&&x!==26&&x!==27||F===null||(k=F,d?(F=Dr(o,p),F!=null&&w.unshift(cc(o,F,k))):d||(F=Dr(o,p),F!=null&&w.push(cc(o,F,k)))),o=o.return}w.length!==0&&n.push({event:i,listeners:w})}var Z1=/\r\n?/g,eS=/\u0000|\uFFFD/g;function Wv(n){return(typeof n=="string"?n:""+n).replace(Z1,`
`).replace(eS,"")}function Xv(n,i){return i=Wv(i),Wv(n)===i}function fh(){}function lt(n,i,o,c,d,p){switch(o){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||Hn(n,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&Hn(n,""+c);break;case"className":Ui(n,"class",c);break;case"tabIndex":Ui(n,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Ui(n,o,c);break;case"style":xl(n,c,p);break;case"data":if(i!=="object"){Ui(n,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||o!=="href")){n.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(o);break}c=rs(""+c),n.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(i!=="input"&&lt(n,i,"name",d.name,d,null),lt(n,i,"formEncType",d.formEncType,d,null),lt(n,i,"formMethod",d.formMethod,d,null),lt(n,i,"formTarget",d.formTarget,d,null)):(lt(n,i,"encType",d.encType,d,null),lt(n,i,"method",d.method,d,null),lt(n,i,"target",d.target,d,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(o);break}c=rs(""+c),n.setAttribute(o,c);break;case"onClick":c!=null&&(n.onclick=fh);break;case"onScroll":c!=null&&Ge("scroll",n);break;case"onScrollEnd":c!=null&&Ge("scrollend",n);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(s(60));n.innerHTML=o}}break;case"multiple":n.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":n.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){n.removeAttribute("xlink:href");break}o=rs(""+c),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,""+c):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":c===!0?n.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,c):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?n.setAttribute(o,c):n.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?n.removeAttribute(o):n.setAttribute(o,c);break;case"popover":Ge("beforetoggle",n),Ge("toggle",n),Vi(n,"popover",c);break;case"xlinkActuate":$n(n,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":$n(n,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":$n(n,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":$n(n,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":$n(n,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":$n(n,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":$n(n,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":$n(n,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":$n(n,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Vi(n,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=gu.get(o)||o,Vi(n,o,c))}}function Rm(n,i,o,c,d,p){switch(o){case"style":xl(n,c,p);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(s(60));n.innerHTML=o}}break;case"children":typeof c=="string"?Hn(n,c):(typeof c=="number"||typeof c=="bigint")&&Hn(n,""+c);break;case"onScroll":c!=null&&Ge("scroll",n);break;case"onScrollEnd":c!=null&&Ge("scrollend",n);break;case"onClick":c!=null&&(n.onclick=fh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Pi.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),i=o.slice(2,d?o.length-7:void 0),p=n[tn]||null,p=p!=null?p[o]:null,typeof p=="function"&&n.removeEventListener(i,p,d),typeof c=="function")){typeof p!="function"&&p!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(i,c,d);break e}o in n?n[o]=c:c===!0?n.setAttribute(o,""):Vi(n,o,c)}}}function rn(n,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ge("error",n),Ge("load",n);var c=!1,d=!1,p;for(p in o)if(o.hasOwnProperty(p)){var w=o[p];if(w!=null)switch(p){case"src":c=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:lt(n,i,p,w,o,null)}}d&&lt(n,i,"srcSet",o.srcSet,o,null),c&&lt(n,i,"src",o.src,o,null);return;case"input":Ge("invalid",n);var x=p=w=d=null,k=null,F=null;for(c in o)if(o.hasOwnProperty(c)){var W=o[c];if(W!=null)switch(c){case"name":d=W;break;case"type":w=W;break;case"checked":k=W;break;case"defaultChecked":F=W;break;case"value":p=W;break;case"defaultValue":x=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,i));break;default:lt(n,i,c,W,o,null)}}bl(n,p,x,k,F,w,d,!1),kr(n);return;case"select":Ge("invalid",n),c=w=p=null;for(d in o)if(o.hasOwnProperty(d)&&(x=o[d],x!=null))switch(d){case"value":p=x;break;case"defaultValue":w=x;break;case"multiple":c=x;default:lt(n,i,d,x,o,null)}i=p,o=w,n.multiple=!!c,i!=null?jr(n,!!c,i,!1):o!=null&&jr(n,!!c,o,!0);return;case"textarea":Ge("invalid",n),p=d=c=null;for(w in o)if(o.hasOwnProperty(w)&&(x=o[w],x!=null))switch(w){case"value":c=x;break;case"defaultValue":d=x;break;case"children":p=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(s(91));break;default:lt(n,i,w,x,o,null)}mu(n,c,d,p),kr(n);return;case"option":for(k in o)if(o.hasOwnProperty(k)&&(c=o[k],c!=null))switch(k){case"selected":n.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:lt(n,i,k,c,o,null)}return;case"dialog":Ge("beforetoggle",n),Ge("toggle",n),Ge("cancel",n),Ge("close",n);break;case"iframe":case"object":Ge("load",n);break;case"video":case"audio":for(c=0;c<lc.length;c++)Ge(lc[c],n);break;case"image":Ge("error",n),Ge("load",n);break;case"details":Ge("toggle",n);break;case"embed":case"source":case"link":Ge("error",n),Ge("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in o)if(o.hasOwnProperty(F)&&(c=o[F],c!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:lt(n,i,F,c,o,null)}return;default:if(Ha(i)){for(W in o)o.hasOwnProperty(W)&&(c=o[W],c!==void 0&&Rm(n,i,W,c,o,void 0));return}}for(x in o)o.hasOwnProperty(x)&&(c=o[x],c!=null&&lt(n,i,x,c,o,null))}function tS(n,i,o,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,p=null,w=null,x=null,k=null,F=null,W=null;for(K in o){var ee=o[K];if(o.hasOwnProperty(K)&&ee!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":k=ee;default:c.hasOwnProperty(K)||lt(n,i,K,null,c,ee)}}for(var G in c){var K=c[G];if(ee=o[G],c.hasOwnProperty(G)&&(K!=null||ee!=null))switch(G){case"type":p=K;break;case"name":d=K;break;case"checked":F=K;break;case"defaultChecked":W=K;break;case"value":w=K;break;case"defaultValue":x=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:K!==ee&&lt(n,i,G,K,c,ee)}}vl(n,w,x,k,F,W,p,d);return;case"select":K=w=x=G=null;for(p in o)if(k=o[p],o.hasOwnProperty(p)&&k!=null)switch(p){case"value":break;case"multiple":K=k;default:c.hasOwnProperty(p)||lt(n,i,p,null,c,k)}for(d in c)if(p=c[d],k=o[d],c.hasOwnProperty(d)&&(p!=null||k!=null))switch(d){case"value":G=p;break;case"defaultValue":x=p;break;case"multiple":w=p;default:p!==k&&lt(n,i,d,p,c,k)}i=x,o=w,c=K,G!=null?jr(n,!!o,G,!1):!!c!=!!o&&(i!=null?jr(n,!!o,i,!0):jr(n,!!o,o?[]:"",!1));return;case"textarea":K=G=null;for(x in o)if(d=o[x],o.hasOwnProperty(x)&&d!=null&&!c.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:lt(n,i,x,null,c,d)}for(w in c)if(d=c[w],p=o[w],c.hasOwnProperty(w)&&(d!=null||p!=null))switch(w){case"value":G=d;break;case"defaultValue":K=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==p&&lt(n,i,w,d,c,p)}fu(n,G,K);return;case"option":for(var Ae in o)if(G=o[Ae],o.hasOwnProperty(Ae)&&G!=null&&!c.hasOwnProperty(Ae))switch(Ae){case"selected":n.selected=!1;break;default:lt(n,i,Ae,null,c,G)}for(k in c)if(G=c[k],K=o[k],c.hasOwnProperty(k)&&G!==K&&(G!=null||K!=null))switch(k){case"selected":n.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:lt(n,i,k,G,c,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in o)G=o[xe],o.hasOwnProperty(xe)&&G!=null&&!c.hasOwnProperty(xe)&&lt(n,i,xe,null,c,G);for(F in c)if(G=c[F],K=o[F],c.hasOwnProperty(F)&&G!==K&&(G!=null||K!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:lt(n,i,F,G,c,K)}return;default:if(Ha(i)){for(var ct in o)G=o[ct],o.hasOwnProperty(ct)&&G!==void 0&&!c.hasOwnProperty(ct)&&Rm(n,i,ct,void 0,c,G);for(W in c)G=c[W],K=o[W],!c.hasOwnProperty(W)||G===K||G===void 0&&K===void 0||Rm(n,i,W,G,c,K);return}}for(var B in o)G=o[B],o.hasOwnProperty(B)&&G!=null&&!c.hasOwnProperty(B)&&lt(n,i,B,null,c,G);for(ee in c)G=c[ee],K=o[ee],!c.hasOwnProperty(ee)||G===K||G==null&&K==null||lt(n,i,ee,G,c,K)}var Nm=null,Cm=null;function mh(n){return n.nodeType===9?n:n.ownerDocument}function Jv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Zv(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function Im(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var km=null;function nS(){var n=window.event;return n&&n.type==="popstate"?n===km?!1:(km=n,!0):(km=null,!1)}var e0=typeof setTimeout=="function"?setTimeout:void 0,sS=typeof clearTimeout=="function"?clearTimeout:void 0,t0=typeof Promise=="function"?Promise:void 0,rS=typeof queueMicrotask=="function"?queueMicrotask:typeof t0<"u"?function(n){return t0.resolve(null).then(n).catch(iS)}:e0;function iS(n){setTimeout(function(){throw n})}function Jr(n){return n==="head"}function n0(n,i){var o=i,c=0,d=0;do{var p=o.nextSibling;if(n.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"){if(0<c&&8>c){o=c;var w=n.ownerDocument;if(o&1&&uc(w.documentElement),o&2&&uc(w.body),o&4)for(o=w.head,uc(o),w=o.firstChild;w;){var x=w.nextSibling,k=w.nodeName;w[Rr]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&w.rel.toLowerCase()==="stylesheet"||o.removeChild(w),w=x}}if(d===0){n.removeChild(p),_c(i);return}d--}else o==="$"||o==="$?"||o==="$!"?d++:c=o.charCodeAt(0)-48;else c=0;o=p}while(o);_c(i)}function jm(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":jm(o),La(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function aS(n,i,o,c){for(;n.nodeType===1;){var d=o;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(c){if(!n[Rr])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(p=n.getAttribute("rel"),p==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(p!==d.rel||n.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||n.getAttribute("title")!==(d.title==null?null:d.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(p=n.getAttribute("src"),(p!==(d.src==null?null:d.src)||n.getAttribute("type")!==(d.type==null?null:d.type)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&p&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var p=d.name==null?null:""+d.name;if(d.type==="hidden"&&n.getAttribute("name")===p)return n}else return n;if(n=us(n.nextSibling),n===null)break}return null}function oS(n,i,o){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=us(n.nextSibling),n===null))return null;return n}function Om(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function lS(n,i){var o=n.ownerDocument;if(n.data!=="$?"||o.readyState==="complete")i();else{var c=function(){i(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),n._reactRetry=c}}function us(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var Dm=null;function s0(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return n;i--}else o==="/$"&&i++}n=n.previousSibling}return null}function r0(n,i,o){switch(i=mh(o),n){case"html":if(n=i.documentElement,!n)throw Error(s(452));return n;case"head":if(n=i.head,!n)throw Error(s(453));return n;case"body":if(n=i.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function uc(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);La(n)}var Jn=new Map,i0=new Set;function gh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var ur=ie.d;ie.d={f:cS,r:uS,D:hS,C:dS,L:fS,m:mS,X:pS,S:gS,M:yS};function cS(){var n=ur.f(),i=ah();return n||i}function uS(n){var i=xs(n);i!==null&&i.tag===5&&i.type==="form"?S_(i):ur.r(n)}var xo=typeof document>"u"?null:document;function a0(n,i,o){var c=xo;if(c&&typeof i=="string"&&i){var d=Qt(i);d='link[rel="'+n+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),i0.has(d)||(i0.add(d),n={rel:n,crossOrigin:o,href:i},c.querySelector(d)===null&&(i=c.createElement("link"),rn(i,"link",n),At(i),c.head.appendChild(i)))}}function hS(n){ur.D(n),a0("dns-prefetch",n,null)}function dS(n,i){ur.C(n,i),a0("preconnect",n,i)}function fS(n,i,o){ur.L(n,i,o);var c=xo;if(c&&n&&i){var d='link[rel="preload"][as="'+Qt(i)+'"]';i==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+Qt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+Qt(o.imageSizes)+'"]')):d+='[href="'+Qt(n)+'"]';var p=d;switch(i){case"style":p=To(n);break;case"script":p=So(n)}Jn.has(p)||(n=_({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:n,as:i},o),Jn.set(p,n),c.querySelector(d)!==null||i==="style"&&c.querySelector(hc(p))||i==="script"&&c.querySelector(dc(p))||(i=c.createElement("link"),rn(i,"link",n),At(i),c.head.appendChild(i)))}}function mS(n,i){ur.m(n,i);var o=xo;if(o&&n){var c=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+Qt(c)+'"][href="'+Qt(n)+'"]',p=d;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=So(n)}if(!Jn.has(p)&&(n=_({rel:"modulepreload",href:n},i),Jn.set(p,n),o.querySelector(d)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(dc(p)))return}c=o.createElement("link"),rn(c,"link",n),At(c),o.head.appendChild(c)}}}function gS(n,i,o){ur.S(n,i,o);var c=xo;if(c&&n){var d=Cr(c).hoistableStyles,p=To(n);i=i||"default";var w=d.get(p);if(!w){var x={loading:0,preload:null};if(w=c.querySelector(hc(p)))x.loading=5;else{n=_({rel:"stylesheet",href:n,"data-precedence":i},o),(o=Jn.get(p))&&Pm(n,o);var k=w=c.createElement("link");At(k),rn(k,"link",n),k._p=new Promise(function(F,W){k.onload=F,k.onerror=W}),k.addEventListener("load",function(){x.loading|=1}),k.addEventListener("error",function(){x.loading|=2}),x.loading|=4,ph(w,i,c)}w={type:"stylesheet",instance:w,count:1,state:x},d.set(p,w)}}}function pS(n,i){ur.X(n,i);var o=xo;if(o&&n){var c=Cr(o).hoistableScripts,d=So(n),p=c.get(d);p||(p=o.querySelector(dc(d)),p||(n=_({src:n,async:!0},i),(i=Jn.get(d))&&Mm(n,i),p=o.createElement("script"),At(p),rn(p,"link",n),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(d,p))}}function yS(n,i){ur.M(n,i);var o=xo;if(o&&n){var c=Cr(o).hoistableScripts,d=So(n),p=c.get(d);p||(p=o.querySelector(dc(d)),p||(n=_({src:n,async:!0,type:"module"},i),(i=Jn.get(d))&&Mm(n,i),p=o.createElement("script"),At(p),rn(p,"link",n),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(d,p))}}function o0(n,i,o,c){var d=(d=_e.current)?gh(d):null;if(!d)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=To(o.href),o=Cr(d).hoistableStyles,c=o.get(i),c||(c={type:"style",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=To(o.href);var p=Cr(d).hoistableStyles,w=p.get(n);if(w||(d=d.ownerDocument||d,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(n,w),(p=d.querySelector(hc(n)))&&!p._p&&(w.instance=p,w.state.loading=5),Jn.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Jn.set(n,o),p||_S(d,n,o,w.state))),i&&c===null)throw Error(s(528,""));return w}if(i&&c!==null)throw Error(s(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=So(o),o=Cr(d).hoistableScripts,c=o.get(i),c||(c={type:"script",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function To(n){return'href="'+Qt(n)+'"'}function hc(n){return'link[rel="stylesheet"]['+n+"]"}function l0(n){return _({},n,{"data-precedence":n.precedence,precedence:null})}function _S(n,i,o,c){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=n.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),rn(i,"link",o),At(i),n.head.appendChild(i))}function So(n){return'[src="'+Qt(n)+'"]'}function dc(n){return"script[async]"+n}function c0(n,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var c=n.querySelector('style[data-href~="'+Qt(o.href)+'"]');if(c)return i.instance=c,At(c),c;var d=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(n.ownerDocument||n).createElement("style"),At(c),rn(c,"style",d),ph(c,o.precedence,n),i.instance=c;case"stylesheet":d=To(o.href);var p=n.querySelector(hc(d));if(p)return i.state.loading|=4,i.instance=p,At(p),p;c=l0(o),(d=Jn.get(d))&&Pm(c,d),p=(n.ownerDocument||n).createElement("link"),At(p);var w=p;return w._p=new Promise(function(x,k){w.onload=x,w.onerror=k}),rn(p,"link",c),i.state.loading|=4,ph(p,o.precedence,n),i.instance=p;case"script":return p=So(o.src),(d=n.querySelector(dc(p)))?(i.instance=d,At(d),d):(c=o,(d=Jn.get(p))&&(c=_({},o),Mm(c,d)),n=n.ownerDocument||n,d=n.createElement("script"),At(d),rn(d,"link",c),n.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,ph(c,o.precedence,n));return i.instance}function ph(n,i,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=c.length?c[c.length-1]:null,p=d,w=0;w<c.length;w++){var x=c[w];if(x.dataset.precedence===i)p=x;else if(p!==d)break}p?p.parentNode.insertBefore(n,p.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(n,i.firstChild))}function Pm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function Mm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var yh=null;function u0(n,i,o){if(yh===null){var c=new Map,d=yh=new Map;d.set(o,c)}else d=yh,c=d.get(o),c||(c=new Map,d.set(o,c));if(c.has(n))return c;for(c.set(n,null),o=o.getElementsByTagName(n),d=0;d<o.length;d++){var p=o[d];if(!(p[Rr]||p[St]||n==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var w=p.getAttribute(i)||"";w=n+w;var x=c.get(w);x?x.push(p):c.set(w,[p])}}return c}function h0(n,i,o){n=n.ownerDocument||n,n.head.insertBefore(o,i==="title"?n.querySelector("head > title"):null)}function vS(n,i,o){if(o===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function d0(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var fc=null;function bS(){}function wS(n,i,o){if(fc===null)throw Error(s(475));var c=fc;if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var d=To(o.href),p=n.querySelector(hc(d));if(p){n=p._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(c.count++,c=_h.bind(c),n.then(c,c)),i.state.loading|=4,i.instance=p,At(p);return}p=n.ownerDocument||n,o=l0(o),(d=Jn.get(d))&&Pm(o,d),p=p.createElement("link"),At(p);var w=p;w._p=new Promise(function(x,k){w.onload=x,w.onerror=k}),rn(p,"link",o),i.instance=p}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(c.count++,i=_h.bind(c),n.addEventListener("load",i),n.addEventListener("error",i))}}function ES(){if(fc===null)throw Error(s(475));var n=fc;return n.stylesheets&&n.count===0&&Vm(n,n.stylesheets),0<n.count?function(i){var o=setTimeout(function(){if(n.stylesheets&&Vm(n,n.stylesheets),n.unsuspend){var c=n.unsuspend;n.unsuspend=null,c()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(o)}}:null}function _h(){if(this.count--,this.count===0){if(this.stylesheets)Vm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var vh=null;function Vm(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,vh=new Map,i.forEach(xS,n),vh=null,_h.call(n))}function xS(n,i){if(!(i.state.loading&4)){var o=vh.get(n);if(o)var c=o.get(null);else{o=new Map,vh.set(n,o);for(var d=n.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<d.length;p++){var w=d[p];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(o.set(w.dataset.precedence,w),c=w)}c&&o.set(null,c)}d=i.instance,w=d.getAttribute("data-precedence"),p=o.get(w)||c,p===c&&o.set(null,d),o.set(w,d),this.count++,c=_h.bind(this),d.addEventListener("load",c),d.addEventListener("error",c),p?p.parentNode.insertBefore(d,p.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(d,n.firstChild)),i.state.loading|=4}}var mc={$$typeof:Y,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function TS(n,i,o,c,d,p,w,x){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ua(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ua(0),this.hiddenUpdates=Ua(null),this.identifierPrefix=c,this.onUncaughtError=d,this.onCaughtError=p,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function f0(n,i,o,c,d,p,w,x,k,F,W,ee){return n=new TS(n,i,o,w,x,k,F,ee),i=1,p===!0&&(i|=24),p=On(3,null,null,i),n.current=p,p.stateNode=n,i=_f(),i.refCount++,n.pooledCache=i,i.refCount++,p.memoizedState={element:c,isDehydrated:o,cache:i},Ef(p),n}function m0(n){return n?(n=to,n):to}function g0(n,i,o,c,d,p){d=m0(d),c.context===null?c.context=d:c.pendingContext=d,c=Lr(i),c.payload={element:o},p=p===void 0?null:p,p!==null&&(c.callback=p),o=zr(n,c,i),o!==null&&(Un(o,n,i),Hl(o,n,i))}function p0(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<i?o:i}}function Um(n,i){p0(n,i),(n=n.alternate)&&p0(n,i)}function y0(n){if(n.tag===13){var i=eo(n,67108864);i!==null&&Un(i,n,67108864),Um(n,67108864)}}var bh=!0;function SS(n,i,o,c){var d=V.T;V.T=null;var p=ie.p;try{ie.p=2,Lm(n,i,o,c)}finally{ie.p=p,V.T=d}}function AS(n,i,o,c){var d=V.T;V.T=null;var p=ie.p;try{ie.p=8,Lm(n,i,o,c)}finally{ie.p=p,V.T=d}}function Lm(n,i,o,c){if(bh){var d=zm(c);if(d===null)Am(n,i,c,wh,o),v0(n,c);else if(NS(d,n,i,o,c))c.stopPropagation();else if(v0(n,c),i&4&&-1<RS.indexOf(n)){for(;d!==null;){var p=xs(d);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var w=ts(p.pendingLanes);if(w!==0){var x=p;for(x.pendingLanes|=2,x.entangledLanes|=2;w;){var k=1<<31-_n(w);x.entanglements[1]|=k,w&=~k}Os(p),(rt&6)===0&&(rh=xn()+500,oc(0))}}break;case 13:x=eo(p,2),x!==null&&Un(x,p,2),ah(),Um(p,2)}if(p=zm(c),p===null&&Am(n,i,c,wh,o),p===d)break;d=p}d!==null&&c.stopPropagation()}else Am(n,i,c,null,o)}}function zm(n){return n=Sl(n),Bm(n)}var wh=null;function Bm(n){if(wh=null,n=Es(n),n!==null){var i=l(n);if(i===null)n=null;else{var o=i.tag;if(o===13){if(n=u(i),n!==null)return n;n=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return wh=n,null}function _0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(lu()){case zt:return 2;case Kt:return 8;case Hs:case Fd:return 32;case gl:return 268435456;default:return 32}default:return 32}}var qm=!1,Zr=null,ei=null,ti=null,gc=new Map,pc=new Map,ni=[],RS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function v0(n,i){switch(n){case"focusin":case"focusout":Zr=null;break;case"dragenter":case"dragleave":ei=null;break;case"mouseover":case"mouseout":ti=null;break;case"pointerover":case"pointerout":gc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":pc.delete(i.pointerId)}}function yc(n,i,o,c,d,p){return n===null||n.nativeEvent!==p?(n={blockedOn:i,domEventName:o,eventSystemFlags:c,nativeEvent:p,targetContainers:[d]},i!==null&&(i=xs(i),i!==null&&y0(i)),n):(n.eventSystemFlags|=c,i=n.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),n)}function NS(n,i,o,c,d){switch(i){case"focusin":return Zr=yc(Zr,n,i,o,c,d),!0;case"dragenter":return ei=yc(ei,n,i,o,c,d),!0;case"mouseover":return ti=yc(ti,n,i,o,c,d),!0;case"pointerover":var p=d.pointerId;return gc.set(p,yc(gc.get(p)||null,n,i,o,c,d)),!0;case"gotpointercapture":return p=d.pointerId,pc.set(p,yc(pc.get(p)||null,n,i,o,c,d)),!0}return!1}function b0(n){var i=Es(n.target);if(i!==null){var o=l(i);if(o!==null){if(i=o.tag,i===13){if(i=u(o),i!==null){n.blockedOn=i,Qd(n.priority,function(){if(o.tag===13){var c=Vn();c=yl(c);var d=eo(o,c);d!==null&&Un(d,o,c),Um(o,c)}});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Eh(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var o=zm(n.nativeEvent);if(o===null){o=n.nativeEvent;var c=new o.constructor(o.type,o);Tl=c,o.target.dispatchEvent(c),Tl=null}else return i=xs(o),i!==null&&y0(i),n.blockedOn=o,!1;i.shift()}return!0}function w0(n,i,o){Eh(n)&&o.delete(i)}function CS(){qm=!1,Zr!==null&&Eh(Zr)&&(Zr=null),ei!==null&&Eh(ei)&&(ei=null),ti!==null&&Eh(ti)&&(ti=null),gc.forEach(w0),pc.forEach(w0)}function xh(n,i){n.blockedOn===i&&(n.blockedOn=null,qm||(qm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,CS)))}var Th=null;function E0(n){Th!==n&&(Th=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Th===n&&(Th=null);for(var i=0;i<n.length;i+=3){var o=n[i],c=n[i+1],d=n[i+2];if(typeof c!="function"){if(Bm(c||o)===null)continue;break}var p=xs(o);p!==null&&(n.splice(i,3),i-=3,Bf(p,{pending:!0,data:d,method:o.method,action:c},c,d))}}))}function _c(n){function i(k){return xh(k,n)}Zr!==null&&xh(Zr,n),ei!==null&&xh(ei,n),ti!==null&&xh(ti,n),gc.forEach(i),pc.forEach(i);for(var o=0;o<ni.length;o++){var c=ni[o];c.blockedOn===n&&(c.blockedOn=null)}for(;0<ni.length&&(o=ni[0],o.blockedOn===null);)b0(o),o.blockedOn===null&&ni.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var d=o[c],p=o[c+1],w=d[tn]||null;if(typeof p=="function")w||E0(o);else if(w){var x=null;if(p&&p.hasAttribute("formAction")){if(d=p,w=p[tn]||null)x=w.formAction;else if(Bm(d)!==null)continue}else x=w.action;typeof x=="function"?o[c+1]=x:(o.splice(c,3),c-=3),E0(o)}}}function $m(n){this._internalRoot=n}Sh.prototype.render=$m.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));var o=i.current,c=Vn();g0(o,c,n,i,null,null)},Sh.prototype.unmount=$m.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;g0(n.current,2,null,n,null,null),ah(),i[Gs]=null}};function Sh(n){this._internalRoot=n}Sh.prototype.unstable_scheduleHydration=function(n){if(n){var i=Fs();n={blockedOn:null,target:n,priority:i};for(var o=0;o<ni.length&&i!==0&&i<ni[o].priority;o++);ni.splice(o,0,n),o===0&&b0(n)}};var x0=e.version;if(x0!=="19.1.0")throw Error(s(527,x0,"19.1.0"));ie.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=g(i),n=n!==null?y(n):null,n=n===null?null:n.stateNode,n};var IS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ah=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ah.isDisabled&&Ah.supportsFiber)try{wr=Ah.inject(IS),un=Ah}catch{}}return bc.createRoot=function(n,i){if(!a(n))throw Error(s(299));var o=!1,c="",d=L_,p=z_,w=B_,x=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(w=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(x=i.unstable_transitionCallbacks)),i=f0(n,1,!1,null,null,o,c,d,p,w,x,null),n[Gs]=i.current,Sm(n),new $m(i)},bc.hydrateRoot=function(n,i,o){if(!a(n))throw Error(s(299));var c=!1,d="",p=L_,w=z_,x=B_,k=null,F=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(x=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(k=o.unstable_transitionCallbacks),o.formState!==void 0&&(F=o.formState)),i=f0(n,1,!0,i,o??null,c,d,p,w,x,k,F),i.context=m0(null),o=i.current,c=Vn(),c=yl(c),d=Lr(c),d.callback=null,zr(o,d,c),o=c,i.current.lanes=o,Tt(i,o),Os(i),n[Gs]=i.current,Sm(n),new Sh(i)},bc.version="19.1.0",bc}var O0;function qS(){if(O0)return Gm.exports;O0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Gm.exports=BS(),Gm.exports}var $S=qS();function D0(r,e){if(typeof r=="function")return r(e);r!=null&&(r.current=e)}function HS(...r){return e=>{let t=!1;const s=r.map(a=>{const l=D0(a,e);return!t&&typeof l=="function"&&(t=!0),l});if(t)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():D0(r[a],null)}}}}function FS(...r){return ye.useCallback(HS(...r),r)}function GS(r){const e=KS(r),t=ye.forwardRef((s,a)=>{const{children:l,...u}=s,f=ye.Children.toArray(l),g=f.find(YS);if(g){const y=g.props.children,_=f.map(E=>E===g?ye.Children.count(y)>1?ye.Children.only(null):ye.isValidElement(y)?y.props.children:null:E);return m.jsx(e,{...u,ref:a,children:ye.isValidElement(y)?ye.cloneElement(y,void 0,_):null})}return m.jsx(e,{...u,ref:a,children:l})});return t.displayName=`${r}.Slot`,t}var Zw=GS("Slot");function KS(r){const e=ye.forwardRef((t,s)=>{const{children:a,...l}=t,u=ye.isValidElement(a)?XS(a):void 0,f=FS(u,s);if(ye.isValidElement(a)){const g=WS(l,a.props);return a.type!==ye.Fragment&&(g.ref=f),ye.cloneElement(a,g)}return ye.Children.count(a)>1?ye.Children.only(null):null});return e.displayName=`${r}.SlotClone`,e}var QS=Symbol("radix.slottable");function YS(r){return ye.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===QS}function WS(r,e){const t={...e};for(const s in e){const a=r[s],l=e[s];/^on[A-Z]/.test(s)?a&&l?t[s]=(...f)=>{const g=l(...f);return a(...f),g}:a&&(t[s]=a):s==="style"?t[s]={...a,...l}:s==="className"&&(t[s]=[a,l].filter(Boolean).join(" "))}return{...r,...t}}function XS(r){var s,a;let e=(s=Object.getOwnPropertyDescriptor(r.props,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?r.ref:(e=(a=Object.getOwnPropertyDescriptor(r,"ref"))==null?void 0:a.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?r.props.ref:r.props.ref||r.ref)}function eE(r){var e,t,s="";if(typeof r=="string"||typeof r=="number")s+=r;else if(typeof r=="object")if(Array.isArray(r)){var a=r.length;for(e=0;e<a;e++)r[e]&&(t=eE(r[e]))&&(s&&(s+=" "),s+=t)}else for(t in r)r[t]&&(s&&(s+=" "),s+=t);return s}function tE(){for(var r,e,t=0,s="",a=arguments.length;t<a;t++)(r=arguments[t])&&(e=eE(r))&&(s&&(s+=" "),s+=e);return s}const P0=r=>typeof r=="boolean"?`${r}`:r===0?"0":r,M0=tE,nE=(r,e)=>t=>{var s;if((e==null?void 0:e.variants)==null)return M0(r,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:a,defaultVariants:l}=e,u=Object.keys(a).map(y=>{const _=t==null?void 0:t[y],E=l==null?void 0:l[y];if(_===null)return null;const T=P0(_)||P0(E);return a[y][T]}),f=t&&Object.entries(t).reduce((y,_)=>{let[E,T]=_;return T===void 0||(y[E]=T),y},{}),g=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((y,_)=>{let{class:E,className:T,...I}=_;return Object.entries(I).every(L=>{let[q,z]=L;return Array.isArray(z)?z.includes({...l,...f}[q]):{...l,...f}[q]===z})?[...y,E,T]:y},[]);return M0(r,u,g,t==null?void 0:t.class,t==null?void 0:t.className)},fp="-",JS=r=>{const e=eA(r),{conflictingClassGroups:t,conflictingClassGroupModifiers:s}=r;return{getClassGroupId:u=>{const f=u.split(fp);return f[0]===""&&f.length!==1&&f.shift(),sE(f,e)||ZS(u)},getConflictingClassGroupIds:(u,f)=>{const g=t[u]||[];return f&&s[u]?[...g,...s[u]]:g}}},sE=(r,e)=>{var u;if(r.length===0)return e.classGroupId;const t=r[0],s=e.nextPart.get(t),a=s?sE(r.slice(1),s):void 0;if(a)return a;if(e.validators.length===0)return;const l=r.join(fp);return(u=e.validators.find(({validator:f})=>f(l)))==null?void 0:u.classGroupId},V0=/^\[(.+)\]$/,ZS=r=>{if(V0.test(r)){const e=V0.exec(r)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},eA=r=>{const{theme:e,classGroups:t}=r,s={nextPart:new Map,validators:[]};for(const a in t)Sg(t[a],s,a,e);return s},Sg=(r,e,t,s)=>{r.forEach(a=>{if(typeof a=="string"){const l=a===""?e:U0(e,a);l.classGroupId=t;return}if(typeof a=="function"){if(tA(a)){Sg(a(s),e,t,s);return}e.validators.push({validator:a,classGroupId:t});return}Object.entries(a).forEach(([l,u])=>{Sg(u,U0(e,l),t,s)})})},U0=(r,e)=>{let t=r;return e.split(fp).forEach(s=>{t.nextPart.has(s)||t.nextPart.set(s,{nextPart:new Map,validators:[]}),t=t.nextPart.get(s)}),t},tA=r=>r.isThemeGetter,nA=r=>{if(r<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,s=new Map;const a=(l,u)=>{t.set(l,u),e++,e>r&&(e=0,s=t,t=new Map)};return{get(l){let u=t.get(l);if(u!==void 0)return u;if((u=s.get(l))!==void 0)return a(l,u),u},set(l,u){t.has(l)?t.set(l,u):a(l,u)}}},Ag="!",Rg=":",sA=Rg.length,rA=r=>{const{prefix:e,experimentalParseClassName:t}=r;let s=a=>{const l=[];let u=0,f=0,g=0,y;for(let L=0;L<a.length;L++){let q=a[L];if(u===0&&f===0){if(q===Rg){l.push(a.slice(g,L)),g=L+sA;continue}if(q==="/"){y=L;continue}}q==="["?u++:q==="]"?u--:q==="("?f++:q===")"&&f--}const _=l.length===0?a:a.substring(g),E=iA(_),T=E!==_,I=y&&y>g?y-g:void 0;return{modifiers:l,hasImportantModifier:T,baseClassName:E,maybePostfixModifierPosition:I}};if(e){const a=e+Rg,l=s;s=u=>u.startsWith(a)?l(u.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(t){const a=s;s=l=>t({className:l,parseClassName:a})}return s},iA=r=>r.endsWith(Ag)?r.substring(0,r.length-1):r.startsWith(Ag)?r.substring(1):r,aA=r=>{const e=Object.fromEntries(r.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const a=[];let l=[];return s.forEach(u=>{u[0]==="["||e[u]?(a.push(...l.sort(),u),l=[]):l.push(u)}),a.push(...l.sort()),a}},oA=r=>({cache:nA(r.cacheSize),parseClassName:rA(r),sortModifiers:aA(r),...JS(r)}),lA=/\s+/,cA=(r,e)=>{const{parseClassName:t,getClassGroupId:s,getConflictingClassGroupIds:a,sortModifiers:l}=e,u=[],f=r.trim().split(lA);let g="";for(let y=f.length-1;y>=0;y-=1){const _=f[y],{isExternal:E,modifiers:T,hasImportantModifier:I,baseClassName:L,maybePostfixModifierPosition:q}=t(_);if(E){g=_+(g.length>0?" "+g:g);continue}let z=!!q,re=s(z?L.substring(0,q):L);if(!re){if(!z){g=_+(g.length>0?" "+g:g);continue}if(re=s(L),!re){g=_+(g.length>0?" "+g:g);continue}z=!1}const J=l(T).join(":"),Y=I?J+Ag:J,le=Y+re;if(u.includes(le))continue;u.push(le);const ce=a(re,z);for(let oe=0;oe<ce.length;++oe){const C=ce[oe];u.push(Y+C)}g=_+(g.length>0?" "+g:g)}return g};function uA(){let r=0,e,t,s="";for(;r<arguments.length;)(e=arguments[r++])&&(t=rE(e))&&(s&&(s+=" "),s+=t);return s}const rE=r=>{if(typeof r=="string")return r;let e,t="";for(let s=0;s<r.length;s++)r[s]&&(e=rE(r[s]))&&(t&&(t+=" "),t+=e);return t};function hA(r,...e){let t,s,a,l=u;function u(g){const y=e.reduce((_,E)=>E(_),r());return t=oA(y),s=t.cache.get,a=t.cache.set,l=f,f(g)}function f(g){const y=s(g);if(y)return y;const _=cA(g,t);return a(g,_),_}return function(){return l(uA.apply(null,arguments))}}const Ht=r=>{const e=t=>t[r]||[];return e.isThemeGetter=!0,e},iE=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,aE=/^\((?:(\w[\w-]*):)?(.+)\)$/i,dA=/^\d+\/\d+$/,fA=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,mA=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,gA=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,pA=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,yA=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ao=r=>dA.test(r),Be=r=>!!r&&!Number.isNaN(Number(r)),ri=r=>!!r&&Number.isInteger(Number(r)),Wm=r=>r.endsWith("%")&&Be(r.slice(0,-1)),hr=r=>fA.test(r),_A=()=>!0,vA=r=>mA.test(r)&&!gA.test(r),oE=()=>!1,bA=r=>pA.test(r),wA=r=>yA.test(r),EA=r=>!ge(r)&&!pe(r),xA=r=>rl(r,uE,oE),ge=r=>iE.test(r),ma=r=>rl(r,hE,vA),Xm=r=>rl(r,NA,Be),L0=r=>rl(r,lE,oE),TA=r=>rl(r,cE,wA),Rh=r=>rl(r,dE,bA),pe=r=>aE.test(r),wc=r=>il(r,hE),SA=r=>il(r,CA),z0=r=>il(r,lE),AA=r=>il(r,uE),RA=r=>il(r,cE),Nh=r=>il(r,dE,!0),rl=(r,e,t)=>{const s=iE.exec(r);return s?s[1]?e(s[1]):t(s[2]):!1},il=(r,e,t=!1)=>{const s=aE.exec(r);return s?s[1]?e(s[1]):t:!1},lE=r=>r==="position"||r==="percentage",cE=r=>r==="image"||r==="url",uE=r=>r==="length"||r==="size"||r==="bg-size",hE=r=>r==="length",NA=r=>r==="number",CA=r=>r==="family-name",dE=r=>r==="shadow",IA=()=>{const r=Ht("color"),e=Ht("font"),t=Ht("text"),s=Ht("font-weight"),a=Ht("tracking"),l=Ht("leading"),u=Ht("breakpoint"),f=Ht("container"),g=Ht("spacing"),y=Ht("radius"),_=Ht("shadow"),E=Ht("inset-shadow"),T=Ht("text-shadow"),I=Ht("drop-shadow"),L=Ht("blur"),q=Ht("perspective"),z=Ht("aspect"),re=Ht("ease"),J=Ht("animate"),Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],le=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],ce=()=>[...le(),pe,ge],oe=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto","contain","none"],A=()=>[pe,ge,g],R=()=>[Ao,"full","auto",...A()],O=()=>[ri,"none","subgrid",pe,ge],j=()=>["auto",{span:["full",ri,pe,ge]},ri,pe,ge],M=()=>[ri,"auto",pe,ge],N=()=>["auto","min","max","fr",pe,ge],We=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Ve=()=>["start","end","center","stretch","center-safe","end-safe"],V=()=>["auto",...A()],ie=()=>[Ao,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...A()],te=()=>[r,pe,ge],Le=()=>[...le(),z0,L0,{position:[pe,ge]}],P=()=>["no-repeat",{repeat:["","x","y","space","round"]}],se=()=>["auto","cover","contain",AA,xA,{size:[pe,ge]}],he=()=>[Wm,wc,ma],D=()=>["","none","full",y,pe,ge],ae=()=>["",Be,wc,ma],we=()=>["solid","dashed","dotted","double"],_e=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],$e=()=>[Be,Wm,z0,L0],et=()=>["","none",L,pe,ge],cn=()=>["none",Be,pe,ge],_s=()=>["none",Be,pe,ge],vs=()=>[Be,pe,ge],es=()=>[Ao,"full",...A()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[hr],breakpoint:[hr],color:[_A],container:[hr],"drop-shadow":[hr],ease:["in","out","in-out"],font:[EA],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[hr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[hr],shadow:[hr],spacing:["px",Be],text:[hr],"text-shadow":[hr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ao,ge,pe,z]}],container:["container"],columns:[{columns:[Be,ge,pe,f]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:ce()}],overflow:[{overflow:oe()}],"overflow-x":[{"overflow-x":oe()}],"overflow-y":[{"overflow-y":oe()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:R()}],"inset-x":[{"inset-x":R()}],"inset-y":[{"inset-y":R()}],start:[{start:R()}],end:[{end:R()}],top:[{top:R()}],right:[{right:R()}],bottom:[{bottom:R()}],left:[{left:R()}],visibility:["visible","invisible","collapse"],z:[{z:[ri,"auto",pe,ge]}],basis:[{basis:[Ao,"full","auto",f,...A()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Be,Ao,"auto","initial","none",ge]}],grow:[{grow:["",Be,pe,ge]}],shrink:[{shrink:["",Be,pe,ge]}],order:[{order:[ri,"first","last","none",pe,ge]}],"grid-cols":[{"grid-cols":O()}],"col-start-end":[{col:j()}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":O()}],"row-start-end":[{row:j()}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":N()}],"auto-rows":[{"auto-rows":N()}],gap:[{gap:A()}],"gap-x":[{"gap-x":A()}],"gap-y":[{"gap-y":A()}],"justify-content":[{justify:[...We(),"normal"]}],"justify-items":[{"justify-items":[...Ve(),"normal"]}],"justify-self":[{"justify-self":["auto",...Ve()]}],"align-content":[{content:["normal",...We()]}],"align-items":[{items:[...Ve(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Ve(),{baseline:["","last"]}]}],"place-content":[{"place-content":We()}],"place-items":[{"place-items":[...Ve(),"baseline"]}],"place-self":[{"place-self":["auto",...Ve()]}],p:[{p:A()}],px:[{px:A()}],py:[{py:A()}],ps:[{ps:A()}],pe:[{pe:A()}],pt:[{pt:A()}],pr:[{pr:A()}],pb:[{pb:A()}],pl:[{pl:A()}],m:[{m:V()}],mx:[{mx:V()}],my:[{my:V()}],ms:[{ms:V()}],me:[{me:V()}],mt:[{mt:V()}],mr:[{mr:V()}],mb:[{mb:V()}],ml:[{ml:V()}],"space-x":[{"space-x":A()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":A()}],"space-y-reverse":["space-y-reverse"],size:[{size:ie()}],w:[{w:[f,"screen",...ie()]}],"min-w":[{"min-w":[f,"screen","none",...ie()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[u]},...ie()]}],h:[{h:["screen","lh",...ie()]}],"min-h":[{"min-h":["screen","lh","none",...ie()]}],"max-h":[{"max-h":["screen","lh",...ie()]}],"font-size":[{text:["base",t,wc,ma]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,pe,Xm]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Wm,ge]}],"font-family":[{font:[SA,ge,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,pe,ge]}],"line-clamp":[{"line-clamp":[Be,"none",pe,Xm]}],leading:[{leading:[l,...A()]}],"list-image":[{"list-image":["none",pe,ge]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",pe,ge]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:te()}],"text-color":[{text:te()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...we(),"wavy"]}],"text-decoration-thickness":[{decoration:[Be,"from-font","auto",pe,ma]}],"text-decoration-color":[{decoration:te()}],"underline-offset":[{"underline-offset":[Be,"auto",pe,ge]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",pe,ge]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",pe,ge]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Le()}],"bg-repeat":[{bg:P()}],"bg-size":[{bg:se()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ri,pe,ge],radial:["",pe,ge],conic:[ri,pe,ge]},RA,TA]}],"bg-color":[{bg:te()}],"gradient-from-pos":[{from:he()}],"gradient-via-pos":[{via:he()}],"gradient-to-pos":[{to:he()}],"gradient-from":[{from:te()}],"gradient-via":[{via:te()}],"gradient-to":[{to:te()}],rounded:[{rounded:D()}],"rounded-s":[{"rounded-s":D()}],"rounded-e":[{"rounded-e":D()}],"rounded-t":[{"rounded-t":D()}],"rounded-r":[{"rounded-r":D()}],"rounded-b":[{"rounded-b":D()}],"rounded-l":[{"rounded-l":D()}],"rounded-ss":[{"rounded-ss":D()}],"rounded-se":[{"rounded-se":D()}],"rounded-ee":[{"rounded-ee":D()}],"rounded-es":[{"rounded-es":D()}],"rounded-tl":[{"rounded-tl":D()}],"rounded-tr":[{"rounded-tr":D()}],"rounded-br":[{"rounded-br":D()}],"rounded-bl":[{"rounded-bl":D()}],"border-w":[{border:ae()}],"border-w-x":[{"border-x":ae()}],"border-w-y":[{"border-y":ae()}],"border-w-s":[{"border-s":ae()}],"border-w-e":[{"border-e":ae()}],"border-w-t":[{"border-t":ae()}],"border-w-r":[{"border-r":ae()}],"border-w-b":[{"border-b":ae()}],"border-w-l":[{"border-l":ae()}],"divide-x":[{"divide-x":ae()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ae()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...we(),"hidden","none"]}],"divide-style":[{divide:[...we(),"hidden","none"]}],"border-color":[{border:te()}],"border-color-x":[{"border-x":te()}],"border-color-y":[{"border-y":te()}],"border-color-s":[{"border-s":te()}],"border-color-e":[{"border-e":te()}],"border-color-t":[{"border-t":te()}],"border-color-r":[{"border-r":te()}],"border-color-b":[{"border-b":te()}],"border-color-l":[{"border-l":te()}],"divide-color":[{divide:te()}],"outline-style":[{outline:[...we(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Be,pe,ge]}],"outline-w":[{outline:["",Be,wc,ma]}],"outline-color":[{outline:te()}],shadow:[{shadow:["","none",_,Nh,Rh]}],"shadow-color":[{shadow:te()}],"inset-shadow":[{"inset-shadow":["none",E,Nh,Rh]}],"inset-shadow-color":[{"inset-shadow":te()}],"ring-w":[{ring:ae()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:te()}],"ring-offset-w":[{"ring-offset":[Be,ma]}],"ring-offset-color":[{"ring-offset":te()}],"inset-ring-w":[{"inset-ring":ae()}],"inset-ring-color":[{"inset-ring":te()}],"text-shadow":[{"text-shadow":["none",T,Nh,Rh]}],"text-shadow-color":[{"text-shadow":te()}],opacity:[{opacity:[Be,pe,ge]}],"mix-blend":[{"mix-blend":[..._e(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":_e()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Be]}],"mask-image-linear-from-pos":[{"mask-linear-from":$e()}],"mask-image-linear-to-pos":[{"mask-linear-to":$e()}],"mask-image-linear-from-color":[{"mask-linear-from":te()}],"mask-image-linear-to-color":[{"mask-linear-to":te()}],"mask-image-t-from-pos":[{"mask-t-from":$e()}],"mask-image-t-to-pos":[{"mask-t-to":$e()}],"mask-image-t-from-color":[{"mask-t-from":te()}],"mask-image-t-to-color":[{"mask-t-to":te()}],"mask-image-r-from-pos":[{"mask-r-from":$e()}],"mask-image-r-to-pos":[{"mask-r-to":$e()}],"mask-image-r-from-color":[{"mask-r-from":te()}],"mask-image-r-to-color":[{"mask-r-to":te()}],"mask-image-b-from-pos":[{"mask-b-from":$e()}],"mask-image-b-to-pos":[{"mask-b-to":$e()}],"mask-image-b-from-color":[{"mask-b-from":te()}],"mask-image-b-to-color":[{"mask-b-to":te()}],"mask-image-l-from-pos":[{"mask-l-from":$e()}],"mask-image-l-to-pos":[{"mask-l-to":$e()}],"mask-image-l-from-color":[{"mask-l-from":te()}],"mask-image-l-to-color":[{"mask-l-to":te()}],"mask-image-x-from-pos":[{"mask-x-from":$e()}],"mask-image-x-to-pos":[{"mask-x-to":$e()}],"mask-image-x-from-color":[{"mask-x-from":te()}],"mask-image-x-to-color":[{"mask-x-to":te()}],"mask-image-y-from-pos":[{"mask-y-from":$e()}],"mask-image-y-to-pos":[{"mask-y-to":$e()}],"mask-image-y-from-color":[{"mask-y-from":te()}],"mask-image-y-to-color":[{"mask-y-to":te()}],"mask-image-radial":[{"mask-radial":[pe,ge]}],"mask-image-radial-from-pos":[{"mask-radial-from":$e()}],"mask-image-radial-to-pos":[{"mask-radial-to":$e()}],"mask-image-radial-from-color":[{"mask-radial-from":te()}],"mask-image-radial-to-color":[{"mask-radial-to":te()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":le()}],"mask-image-conic-pos":[{"mask-conic":[Be]}],"mask-image-conic-from-pos":[{"mask-conic-from":$e()}],"mask-image-conic-to-pos":[{"mask-conic-to":$e()}],"mask-image-conic-from-color":[{"mask-conic-from":te()}],"mask-image-conic-to-color":[{"mask-conic-to":te()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Le()}],"mask-repeat":[{mask:P()}],"mask-size":[{mask:se()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",pe,ge]}],filter:[{filter:["","none",pe,ge]}],blur:[{blur:et()}],brightness:[{brightness:[Be,pe,ge]}],contrast:[{contrast:[Be,pe,ge]}],"drop-shadow":[{"drop-shadow":["","none",I,Nh,Rh]}],"drop-shadow-color":[{"drop-shadow":te()}],grayscale:[{grayscale:["",Be,pe,ge]}],"hue-rotate":[{"hue-rotate":[Be,pe,ge]}],invert:[{invert:["",Be,pe,ge]}],saturate:[{saturate:[Be,pe,ge]}],sepia:[{sepia:["",Be,pe,ge]}],"backdrop-filter":[{"backdrop-filter":["","none",pe,ge]}],"backdrop-blur":[{"backdrop-blur":et()}],"backdrop-brightness":[{"backdrop-brightness":[Be,pe,ge]}],"backdrop-contrast":[{"backdrop-contrast":[Be,pe,ge]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Be,pe,ge]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Be,pe,ge]}],"backdrop-invert":[{"backdrop-invert":["",Be,pe,ge]}],"backdrop-opacity":[{"backdrop-opacity":[Be,pe,ge]}],"backdrop-saturate":[{"backdrop-saturate":[Be,pe,ge]}],"backdrop-sepia":[{"backdrop-sepia":["",Be,pe,ge]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":A()}],"border-spacing-x":[{"border-spacing-x":A()}],"border-spacing-y":[{"border-spacing-y":A()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",pe,ge]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Be,"initial",pe,ge]}],ease:[{ease:["linear","initial",re,pe,ge]}],delay:[{delay:[Be,pe,ge]}],animate:[{animate:["none",J,pe,ge]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[q,pe,ge]}],"perspective-origin":[{"perspective-origin":ce()}],rotate:[{rotate:cn()}],"rotate-x":[{"rotate-x":cn()}],"rotate-y":[{"rotate-y":cn()}],"rotate-z":[{"rotate-z":cn()}],scale:[{scale:_s()}],"scale-x":[{"scale-x":_s()}],"scale-y":[{"scale-y":_s()}],"scale-z":[{"scale-z":_s()}],"scale-3d":["scale-3d"],skew:[{skew:vs()}],"skew-x":[{"skew-x":vs()}],"skew-y":[{"skew-y":vs()}],transform:[{transform:[pe,ge,"","none","gpu","cpu"]}],"transform-origin":[{origin:ce()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:es()}],"translate-x":[{"translate-x":es()}],"translate-y":[{"translate-y":es()}],"translate-z":[{"translate-z":es()}],"translate-none":["translate-none"],accent:[{accent:te()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:te()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",pe,ge]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",pe,ge]}],fill:[{fill:["none",...te()]}],"stroke-w":[{stroke:[Be,wc,ma,Xm]}],stroke:[{stroke:["none",...te()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},kA=hA(IA);function ka(...r){return kA(tE(r))}const jA=nE("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Re({className:r,variant:e,size:t,asChild:s=!1,...a}){const l=s?Zw:"button";return m.jsx(l,{"data-slot":"button",className:ka(jA({variant:e,size:t,className:r})),...a})}function Ce({className:r,...e}){return m.jsx("div",{"data-slot":"card",className:ka("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",r),...e})}function Pe({className:r,...e}){return m.jsx("div",{"data-slot":"card-header",className:ka("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",r),...e})}function Me({className:r,...e}){return m.jsx("div",{"data-slot":"card-title",className:ka("leading-none font-semibold",r),...e})}function Ms({className:r,...e}){return m.jsx("div",{"data-slot":"card-description",className:ka("text-muted-foreground text-sm",r),...e})}function Ie({className:r,...e}){return m.jsx("div",{"data-slot":"card-content",className:ka("px-6",r),...e})}const OA=nE("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Cn({className:r,variant:e,asChild:t=!1,...s}){const a=t?Zw:"span";return m.jsx(a,{"data-slot":"badge",className:ka(OA({variant:e}),r),...s})}/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DA=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),PA=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),B0=r=>{const e=PA(r);return e.charAt(0).toUpperCase()+e.slice(1)},fE=(...r)=>r.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim(),MA=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var VA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UA=ye.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:u,...f},g)=>ye.createElement("svg",{ref:g,...VA,width:e,height:e,stroke:r,strokeWidth:s?Number(t)*24/Number(e):t,className:fE("lucide",a),...!l&&!MA(f)&&{"aria-hidden":"true"},...f},[...u.map(([y,_])=>ye.createElement(y,_)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=(r,e)=>{const t=ye.forwardRef(({className:s,...a},l)=>ye.createElement(UA,{ref:l,iconNode:e,className:fE(`lucide-${DA(B0(r))}`,`lucide-${r}`,s),...a}));return t.displayName=B0(r),t};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LA=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Jm=qe("bell",LA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],Ch=qe("brain",zA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BA=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Zm=qe("building-2",BA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],zh=qe("calendar",qA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $A=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],HA=qe("check",$A);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],GA=qe("circle-alert",FA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],It=qe("circle-check",KA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]],YA=qe("circle-pause",QA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]],XA=qe("circle-play",WA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ZA=qe("circle-x",JA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]],q0=qe("cog",eR);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tR=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],nR=qe("credit-card",tR);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sR=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],$0=qe("crown",sR);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rR=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Xh=qe("database",rR);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iR=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],aR=qe("dollar-sign",iR);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oR=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],mE=qe("file-text",oR);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],cR=qe("house",lR);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],H0=qe("info",uR);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hR=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],dR=qe("key-round",hR);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],mR=qe("loader",fR);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],F0=qe("lock",gR);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],yR=qe("log-out",pR);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],vR=qe("mail",_R);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],wR=qe("menu",bR);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],eg=qe("message-square",ER);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xR=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],TR=qe("moon",xR);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SR=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],tg=qe("phone",SR);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],RR=qe("plus",AR);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],G0=qe("refresh-cw",NR);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CR=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],IR=qe("settings",CR);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kR=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ec=qe("shield",kR);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jR=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],K0=qe("square-pen",jR);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OR=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Q0=qe("star",OR);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DR=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],PR=qe("sun",DR);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MR=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Y0=qe("trash-2",MR);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],ng=qe("trending-up",VR);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UR=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],gE=qe("triangle-alert",UR);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LR=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],mp=qe("user",LR);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zR=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],pE=qe("x",zR),W0="/assets/IMG_3575(1)-B07akN18.jpeg",BR="/assets/IMG_3557(1)-Bf6w_X7O.jpeg",qR="/assets/IMG_3554(1)-CshQ5I98.jpeg",$R="/assets/IMG_3556(1)-CjDxWsQq.jpeg",HR="/assets/IMG_3561(1)-DXa8U5hT.jpeg",FR="/assets/IMG_3564(1)-C6wgy6i9.jpeg",GR="/assets/IMG_3551(1)-uvQF3SkX.jpeg";/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR=()=>{};var X0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let a=r.charCodeAt(s);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},QR=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const a=r[t++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=r[t++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=r[t++],u=r[t++],f=r[t++],g=((a&7)<<18|(l&63)<<12|(u&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const l=r[t++],u=r[t++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},_E={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<r.length;a+=3){const l=r[a],u=a+1<r.length,f=u?r[a+1]:0,g=a+2<r.length,y=g?r[a+2]:0,_=l>>2,E=(l&3)<<4|f>>4;let T=(f&15)<<2|y>>6,I=y&63;g||(I=64,u||(T=64)),s.push(t[_],t[E],t[T],t[I])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(yE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):QR(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<r.length;){const l=t[r.charAt(a++)],f=a<r.length?t[r.charAt(a)]:0;++a;const y=a<r.length?t[r.charAt(a)]:64;++a;const E=a<r.length?t[r.charAt(a)]:64;if(++a,l==null||f==null||y==null||E==null)throw new YR;const T=l<<2|f>>4;if(s.push(T),y!==64){const I=f<<4&240|y>>2;if(s.push(I),E!==64){const L=y<<6&192|E;s.push(L)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class YR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const WR=function(r){const e=yE(r);return _E.encodeByteArray(e,!0)},Jh=function(r){return WR(r).replace(/\./g,"")},vE=function(r){try{return _E.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=()=>XR().__FIREBASE_DEFAULTS__,ZR=()=>{if(typeof process>"u"||typeof X0>"u")return;const r=X0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},e2=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&vE(r[1]);return e&&JSON.parse(e)},Ed=()=>{try{return KR()||JR()||ZR()||e2()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},bE=r=>{var e,t;return(t=(e=Ed())==null?void 0:e.emulatorHosts)==null?void 0:t[r]},t2=r=>{const e=bE(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},wE=()=>{var r;return(r=Ed())==null?void 0:r.config},EE=r=>{var e;return(e=Ed())==null?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let n2=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function al(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function xE(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",a=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Jh(JSON.stringify(t)),Jh(JSON.stringify(u)),""].join(".")}const Cc={};function r2(){const r={prod:[],emulator:[]};for(const e of Object.keys(Cc))Cc[e]?r.emulator.push(e):r.prod.push(e);return r}function i2(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let J0=!1;function TE(r,e){if(typeof window>"u"||typeof document>"u"||!al(window.location.host)||Cc[r]===e||Cc[r]||J0)return;Cc[r]=e;function t(T){return`__firebase__banner__${T}`}const s="__firebase__banner",l=r2().prod.length>0;function u(){const T=document.getElementById(s);T&&T.remove()}function f(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function g(T,I){T.setAttribute("width","24"),T.setAttribute("id",I),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function y(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{J0=!0,u()},T}function _(T,I){T.setAttribute("id",I),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function E(){const T=i2(s),I=t("text"),L=document.getElementById(I)||document.createElement("span"),q=t("learnmore"),z=document.getElementById(q)||document.createElement("a"),re=t("preprendIcon"),J=document.getElementById(re)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const Y=T.element;f(Y),_(z,q);const le=y();g(J,re),Y.append(J,L,z,le),document.body.appendChild(Y)}l?(L.innerText="Preview backend disconnected.",J.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(J.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function a2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yn())}function o2(){var e;const r=(e=Ed())==null?void 0:e.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function l2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function c2(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function u2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function h2(){const r=yn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function d2(){return!o2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function f2(){try{return typeof indexedDB=="object"}catch{return!1}}function m2(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)==null?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2="FirebaseError";class br extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=g2,Object.setPrototypeOf(this,br.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qc.prototype.create)}}class Qc{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?p2(l,s):"Error",f=`${this.serviceName}: ${u} (${a}).`;return new br(a,f,s)}}function p2(r,e){return r.replace(y2,(t,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const y2=/\{\$([^}]+)}/g;function _2(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Sa(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const a of t){if(!s.includes(a))return!1;const l=r[a],u=e[a];if(Z0(l)&&Z0(u)){if(!Sa(l,u))return!1}else if(l!==u)return!1}for(const a of s)if(!t.includes(a))return!1;return!0}function Z0(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(r){const e=[];for(const[t,s]of Object.entries(r))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function v2(r,e){const t=new b2(r,e);return t.subscribe.bind(t)}class b2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let a;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");w2(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:s},a.next===void 0&&(a.next=sg),a.error===void 0&&(a.error=sg),a.complete===void 0&&(a.complete=sg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function w2(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function sg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(r){return r&&r._delegate?r._delegate:r}class Aa{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new n2;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(T2(e))try{this.getOrInitializeService({instanceIdentifier:ya})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=ya){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ya){return this.instances.has(e)}getOptions(e=ya){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);s===f&&u.resolve(a)}return a}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const a of s)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:x2(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ya){return this.component?this.component.multipleInstances?e:ya:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function x2(r){return r===ya?void 0:r}function T2(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new E2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ke||(Ke={}));const A2={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},R2=Ke.INFO,N2={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},C2=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),a=N2[e];if(a)console[a](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gp{constructor(e){this.name=e,this._logLevel=R2,this._logHandler=C2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?A2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const I2=(r,e)=>e.some(t=>r instanceof t);let eb,tb;function k2(){return eb||(eb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function j2(){return tb||(tb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const SE=new WeakMap,Ng=new WeakMap,AE=new WeakMap,rg=new WeakMap,pp=new WeakMap;function O2(r){const e=new Promise((t,s)=>{const a=()=>{r.removeEventListener("success",l),r.removeEventListener("error",u)},l=()=>{t(mi(r.result)),a()},u=()=>{s(r.error),a()};r.addEventListener("success",l),r.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&SE.set(t,r)}).catch(()=>{}),pp.set(e,r),e}function D2(r){if(Ng.has(r))return;const e=new Promise((t,s)=>{const a=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",u),r.removeEventListener("abort",u)},l=()=>{t(),a()},u=()=>{s(r.error||new DOMException("AbortError","AbortError")),a()};r.addEventListener("complete",l),r.addEventListener("error",u),r.addEventListener("abort",u)});Ng.set(r,e)}let Cg={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Ng.get(r);if(e==="objectStoreNames")return r.objectStoreNames||AE.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return mi(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function P2(r){Cg=r(Cg)}function M2(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(ig(this),e,...t);return AE.set(s,e.sort?e.sort():[e]),mi(s)}:j2().includes(r)?function(...e){return r.apply(ig(this),e),mi(SE.get(this))}:function(...e){return mi(r.apply(ig(this),e))}}function V2(r){return typeof r=="function"?M2(r):(r instanceof IDBTransaction&&D2(r),I2(r,k2())?new Proxy(r,Cg):r)}function mi(r){if(r instanceof IDBRequest)return O2(r);if(rg.has(r))return rg.get(r);const e=V2(r);return e!==r&&(rg.set(r,e),pp.set(e,r)),e}const ig=r=>pp.get(r);function U2(r,e,{blocked:t,upgrade:s,blocking:a,terminated:l}={}){const u=indexedDB.open(r,e),f=mi(u);return s&&u.addEventListener("upgradeneeded",g=>{s(mi(u.result),g.oldVersion,g.newVersion,mi(u.transaction),g)}),t&&u.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),f.then(g=>{l&&g.addEventListener("close",()=>l()),a&&g.addEventListener("versionchange",y=>a(y.oldVersion,y.newVersion,y))}).catch(()=>{}),f}const L2=["get","getKey","getAll","getAllKeys","count"],z2=["put","add","delete","clear"],ag=new Map;function nb(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(ag.get(e))return ag.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,a=z2.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(a||L2.includes(t)))return;const l=async function(u,...f){const g=this.transaction(u,a?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(f.shift())),(await Promise.all([y[t](...f),a&&g.done]))[0]};return ag.set(e,l),l}P2(r=>({...r,get:(e,t,s)=>nb(e,t)||r.get(e,t,s),has:(e,t)=>!!nb(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(q2(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function q2(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ig="@firebase/app",sb="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr=new gp("@firebase/app"),$2="@firebase/app-compat",H2="@firebase/analytics-compat",F2="@firebase/analytics",G2="@firebase/app-check-compat",K2="@firebase/app-check",Q2="@firebase/auth",Y2="@firebase/auth-compat",W2="@firebase/database",X2="@firebase/data-connect",J2="@firebase/database-compat",Z2="@firebase/functions",eN="@firebase/functions-compat",tN="@firebase/installations",nN="@firebase/installations-compat",sN="@firebase/messaging",rN="@firebase/messaging-compat",iN="@firebase/performance",aN="@firebase/performance-compat",oN="@firebase/remote-config",lN="@firebase/remote-config-compat",cN="@firebase/storage",uN="@firebase/storage-compat",hN="@firebase/firestore",dN="@firebase/ai",fN="@firebase/firestore-compat",mN="firebase",gN="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kg="[DEFAULT]",pN={[Ig]:"fire-core",[$2]:"fire-core-compat",[F2]:"fire-analytics",[H2]:"fire-analytics-compat",[K2]:"fire-app-check",[G2]:"fire-app-check-compat",[Q2]:"fire-auth",[Y2]:"fire-auth-compat",[W2]:"fire-rtdb",[X2]:"fire-data-connect",[J2]:"fire-rtdb-compat",[Z2]:"fire-fn",[eN]:"fire-fn-compat",[tN]:"fire-iid",[nN]:"fire-iid-compat",[sN]:"fire-fcm",[rN]:"fire-fcm-compat",[iN]:"fire-perf",[aN]:"fire-perf-compat",[oN]:"fire-rc",[lN]:"fire-rc-compat",[cN]:"fire-gcs",[uN]:"fire-gcs-compat",[hN]:"fire-fst",[fN]:"fire-fst-compat",[dN]:"fire-vertex","fire-js":"fire-js",[mN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zh=new Map,yN=new Map,jg=new Map;function rb(r,e){try{r.container.addComponent(e)}catch(t){gr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Wo(r){const e=r.name;if(jg.has(e))return gr.debug(`There were multiple attempts to register component ${e}.`),!1;jg.set(e,r);for(const t of Zh.values())rb(t,r);for(const t of yN.values())rb(t,r);return!0}function yp(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function fs(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gi=new Qc("app","Firebase",_N);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Aa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ol=gN;function RE(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s={name:kg,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw gi.create("bad-app-name",{appName:String(a)});if(t||(t=wE()),!t)throw gi.create("no-options");const l=Zh.get(a);if(l){if(Sa(t,l.options)&&Sa(s,l.config))return l;throw gi.create("duplicate-app",{appName:a})}const u=new S2(a);for(const g of jg.values())u.addComponent(g);const f=new vN(t,s,u);return Zh.set(a,f),f}function NE(r=kg){const e=Zh.get(r);if(!e&&r===kg&&wE())return RE();if(!e)throw gi.create("no-app",{appName:r});return e}function pi(r,e,t){let s=pN[r]??r;t&&(s+=`-${t}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${s}" with version "${e}":`];a&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gr.warn(u.join(" "));return}Wo(new Aa(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN="firebase-heartbeat-database",wN=1,Uc="firebase-heartbeat-store";let og=null;function CE(){return og||(og=U2(bN,wN,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Uc)}catch(t){console.warn(t)}}}}).catch(r=>{throw gi.create("idb-open",{originalErrorMessage:r.message})})),og}async function EN(r){try{const t=(await CE()).transaction(Uc),s=await t.objectStore(Uc).get(IE(r));return await t.done,s}catch(e){if(e instanceof br)gr.warn(e.message);else{const t=gi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});gr.warn(t.message)}}}async function ib(r,e){try{const s=(await CE()).transaction(Uc,"readwrite");await s.objectStore(Uc).put(e,IE(r)),await s.done}catch(t){if(t instanceof br)gr.warn(t.message);else{const s=gi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});gr.warn(s.message)}}}function IE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN=1024,TN=30;class SN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new RN(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=ab();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>TN){const u=NN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){gr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=ab(),{heartbeatsToSend:s,unsentEntries:a}=AN(this._heartbeatsCache.heartbeats),l=Jh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return gr.warn(t),""}}}function ab(){return new Date().toISOString().substring(0,10)}function AN(r,e=xN){const t=[];let s=r.slice();for(const a of r){const l=t.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),ob(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),ob(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class RN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return f2()?m2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await EN(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return ib(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return ib(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function ob(r){return Jh(JSON.stringify({version:2,heartbeats:r})).length}function NN(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let s=1;s<r.length;s++)r[s].date<t&&(t=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(r){Wo(new Aa("platform-logger",e=>new B2(e),"PRIVATE")),Wo(new Aa("heartbeat",e=>new SN(e),"PRIVATE")),pi(Ig,sb,r),pi(Ig,sb,"esm2020"),pi("fire-js","")}CN("");var IN="firebase",kN="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pi(IN,kN,"app");function kE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jN=kE,jE=new Qc("auth","Firebase",kE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed=new gp("@firebase/auth");function ON(r,...e){ed.logLevel<=Ke.WARN&&ed.warn(`Auth (${ol}): ${r}`,...e)}function Bh(r,...e){ed.logLevel<=Ke.ERROR&&ed.error(`Auth (${ol}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(r,...e){throw _p(r,...e)}function Vs(r,...e){return _p(r,...e)}function OE(r,e,t){const s={...jN(),[e]:t};return new Qc("auth","Firebase",s).create(e,{appName:r.name})}function yi(r){return OE(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _p(r,...e){if(typeof r!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(t,...s)}return jE.create(r,...e)}function Ne(r,e,...t){if(!r)throw _p(e,...t)}function fr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Bh(e),new Error(e)}function yr(r,e){r||fr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Og(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.href)||""}function DN(){return lb()==="http:"||lb()==="https:"}function lb(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(DN()||c2()||"connection"in navigator)?navigator.onLine:!0}function MN(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,t){this.shortDelay=e,this.longDelay=t,yr(t>e,"Short delay should be less than long delay!"),this.isMobile=a2()||u2()}get(){return PN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(r,e){yr(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],LN=new Wc(3e4,6e4);function xd(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function ll(r,e,t,s,a={}){return PE(r,a,async()=>{let l={},u={};s&&(e==="GET"?u=s:l={body:JSON.stringify(s)});const f=Yc({key:r.config.apiKey,...u}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:g,...l};return l2()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&al(r.emulatorConfig.host)&&(y.credentials="include"),DE.fetch()(await VE(r,r.config.apiHost,t,f),y)})}async function PE(r,e,t){r._canInitEmulator=!1;const s={...VN,...e};try{const a=new zN(r),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Ih(r,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const f=l.ok?u.errorMessage:u.error.message,[g,y]=f.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ih(r,"credential-already-in-use",u);if(g==="EMAIL_EXISTS")throw Ih(r,"email-already-in-use",u);if(g==="USER_DISABLED")throw Ih(r,"user-disabled",u);const _=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw OE(r,_,y);pr(r,_)}}catch(a){if(a instanceof br)throw a;pr(r,"network-request-failed",{message:String(a)})}}async function ME(r,e,t,s,a={}){const l=await ll(r,e,t,s,a);return"mfaPendingCredential"in l&&pr(r,"multi-factor-auth-required",{_serverResponse:l}),l}async function VE(r,e,t,s){const a=`${e}${t}?${s}`,l=r,u=l.config.emulator?vp(r.config,a):`${r.config.apiScheme}://${a}`;return UN.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}class zN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Vs(this.auth,"network-request-failed")),LN.get())})}}function Ih(r,e,t){const s={appName:r.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const a=Vs(r,e,s);return a.customData._tokenResponse=t,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BN(r,e){return ll(r,"POST","/v1/accounts:delete",e)}async function td(r,e){return ll(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function qN(r,e=!1){const t=en(r),s=await t.getIdToken(e),a=bp(s);Ne(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l==null?void 0:l.sign_in_provider;return{claims:a,token:s,authTime:Ic(lg(a.auth_time)),issuedAtTime:Ic(lg(a.iat)),expirationTime:Ic(lg(a.exp)),signInProvider:u||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function lg(r){return Number(r)*1e3}function bp(r){const[e,t,s]=r.split(".");if(e===void 0||t===void 0||s===void 0)return Bh("JWT malformed, contained fewer than 3 sections"),null;try{const a=vE(t);return a?JSON.parse(a):(Bh("Failed to decode base64 JWT payload"),null)}catch(a){return Bh("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function cb(r){const e=bp(r);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lc(r,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof br&&$N(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function $N({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ic(this.lastLoginAt),this.creationTime=Ic(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nd(r){var E;const e=r.auth,t=await r.getIdToken(),s=await Lc(r,td(e,{idToken:t}));Ne(s==null?void 0:s.users.length,e,"internal-error");const a=s.users[0];r._notifyReloadListener(a);const l=(E=a.providerUserInfo)!=null&&E.length?UE(a.providerUserInfo):[],u=GN(r.providerData,l),f=r.isAnonymous,g=!(r.email&&a.passwordHash)&&!(u!=null&&u.length),y=f?g:!1,_={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Dg(a.createdAt,a.lastLoginAt),isAnonymous:y};Object.assign(r,_)}async function FN(r){const e=en(r);await nd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function GN(r,e){return[...r.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function UE(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KN(r,e){const t=await PE(r,{},async()=>{const s=Yc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=r.config,u=await VE(r,a,"/v1/token",`key=${l}`),f=await r._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:f,body:s};return r.emulatorConfig&&al(r.emulatorConfig.host)&&(g.credentials="include"),DE.fetch()(u,g)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function QN(r,e){return ll(r,"POST","/v2/accounts:revokeToken",xd(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):cb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const t=cb(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:a,expiresIn:l}=await KN(e,t);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:a,expirationTime:l}=t,u=new Fo;return s&&(Ne(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),a&&(Ne(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Ne(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fo,this.toJSON())}_performRefresh(){return fr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(r,e){Ne(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ms{constructor({uid:e,auth:t,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new HN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Dg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Lc(this,this.stsTokenManager.getToken(this.auth,e));return Ne(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return qN(this,e)}reload(){return FN(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ms({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await nd(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fs(this.auth.app))return Promise.reject(yi(this.auth));const e=await this.getIdToken();return await Lc(this,BN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,a=t.email??void 0,l=t.phoneNumber??void 0,u=t.photoURL??void 0,f=t.tenantId??void 0,g=t._redirectEventId??void 0,y=t.createdAt??void 0,_=t.lastLoginAt??void 0,{uid:E,emailVerified:T,isAnonymous:I,providerData:L,stsTokenManager:q}=t;Ne(E&&q,e,"internal-error");const z=Fo.fromJSON(this.name,q);Ne(typeof E=="string",e,"internal-error"),ii(s,e.name),ii(a,e.name),Ne(typeof T=="boolean",e,"internal-error"),Ne(typeof I=="boolean",e,"internal-error"),ii(l,e.name),ii(u,e.name),ii(f,e.name),ii(g,e.name),ii(y,e.name),ii(_,e.name);const re=new ms({uid:E,auth:e,email:a,emailVerified:T,displayName:s,isAnonymous:I,photoURL:u,phoneNumber:l,tenantId:f,stsTokenManager:z,createdAt:y,lastLoginAt:_});return L&&Array.isArray(L)&&(re.providerData=L.map(J=>({...J}))),g&&(re._redirectEventId=g),re}static async _fromIdTokenResponse(e,t,s=!1){const a=new Fo;a.updateFromServerResponse(t);const l=new ms({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await nd(l),l}static async _fromGetAccountInfoResponse(e,t,s){const a=t.users[0];Ne(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?UE(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),f=new Fo;f.updateFromIdToken(s);const g=new ms({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:u}),y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Dg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub=new Map;function mr(r){yr(r instanceof Function,"Expected a class definition");let e=ub.get(r);return e?(yr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,ub.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}LE.type="NONE";const hb=LE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(r,e,t){return`firebase:${r}:${e}:${t}`}class Go{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=qh(this.userKey,a.apiKey,l),this.fullPersistenceKey=qh("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await td(this.auth,{idToken:e}).catch(()=>{});return t?ms._fromGetAccountInfoResponse(this.auth,t,e):null}return ms._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Go(mr(hb),e,s);const a=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let l=a[0]||mr(hb);const u=qh(s,e.config.apiKey,e.name);let f=null;for(const y of t)try{const _=await y._get(u);if(_){let E;if(typeof _=="string"){const T=await td(e,{idToken:_}).catch(()=>{});if(!T)break;E=await ms._fromGetAccountInfoResponse(e,T,_)}else E=ms._fromJSON(e,_);y!==l&&(f=E),l=y;break}}catch{}const g=a.filter(y=>y._shouldAllowMigration);return!l._shouldAllowMigration||!g.length?new Go(l,e,s):(l=g[0],f&&await l._set(u,f.toJSON()),await Promise.all(t.map(async y=>{if(y!==l)try{await y._remove(u)}catch{}})),new Go(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function db(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($E(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(FE(e))return"Blackberry";if(GE(e))return"Webos";if(BE(e))return"Safari";if((e.includes("chrome/")||qE(e))&&!e.includes("edge/"))return"Chrome";if(HE(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function zE(r=yn()){return/firefox\//i.test(r)}function BE(r=yn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qE(r=yn()){return/crios\//i.test(r)}function $E(r=yn()){return/iemobile/i.test(r)}function HE(r=yn()){return/android/i.test(r)}function FE(r=yn()){return/blackberry/i.test(r)}function GE(r=yn()){return/webos/i.test(r)}function wp(r=yn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function YN(r=yn()){var e;return wp(r)&&!!((e=window.navigator)!=null&&e.standalone)}function WN(){return h2()&&document.documentMode===10}function KE(r=yn()){return wp(r)||HE(r)||GE(r)||FE(r)||/windows phone/i.test(r)||$E(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(r,e=[]){let t;switch(r){case"Browser":t=db(yn());break;case"Worker":t=`${db(yn())}-${r}`;break;default:t=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ol}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((u,f)=>{try{const g=e(l);u(g)}catch(g){f(g)}});s.onAbort=t,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JN(r,e={}){return ll(r,"GET","/v2/passwordPolicy",xd(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=6;class eC{constructor(e){var s;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??ZN,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e,t,s,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fb(this),this.idTokenSubscription=new fb(this),this.beforeStateQueue=new XN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=mr(t)),this._initializationPromise=this.queue(async()=>{var s,a,l;if(!this._deleted&&(this.persistenceManager=await Go.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)==null?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await td(this,{idToken:e}),s=await ms._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var l;if(fs(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(l=this.redirectUser)==null?void 0:l._redirectEventId,f=s==null?void 0:s._redirectEventId,g=await this.tryRedirectSignIn(e);(!u||u===f)&&(g!=null&&g.user)&&(s=g.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await nd(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=MN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fs(this.app))return Promise.reject(yi(this));const t=e?en(e):null;return t&&Ne(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fs(this.app)?Promise.reject(yi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fs(this.app)?Promise.reject(yi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(mr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await JN(this),t=new eC(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Qc("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await QN(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&mr(e)||this._popupRedirectResolver;Ne(t,this,"argument-error"),this.redirectPersistenceManager=await Go.create(this,[mr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(f,this,"internal-error"),f.then(()=>{u||l(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,s,a);return()=>{u=!0,g()}}else{const g=e.addObserver(t);return()=>{u=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=QE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var t;if(fs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&ON(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Td(r){return en(r)}class fb{constructor(e){this.auth=e,this.observer=null,this.addObserver=v2(t=>this.observer=t)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ep={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nC(r){Ep=r}function sC(r){return Ep.loadJS(r)}function rC(){return Ep.gapiScript}function iC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(r,e){const t=yp(r,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(Sa(l,e??{}))return a;pr(a,"already-initialized")}return t.initialize({options:e})}function oC(r,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(mr);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function lC(r,e,t){const s=Td(r);Ne(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=YE(e),{host:u,port:f}=cC(e),g=f===null?"":`:${f}`,y={url:`${l}//${u}${g}/`},_=Object.freeze({host:u,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Ne(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ne(Sa(y,s.config.emulator)&&Sa(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,al(u)?(xE(`${l}//${u}${g}`),TE("Auth",!0)):uC()}function YE(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function cC(r){const e=YE(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:mb(s.substr(l.length+1))}}else{const[l,u]=s.split(":");return{host:l,port:mb(u)}}}function mb(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function uC(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return fr("not implemented")}_getIdTokenResponse(e){return fr("not implemented")}_linkToIdToken(e,t){return fr("not implemented")}_getReauthenticationResolver(e){return fr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ko(r,e){return ME(r,"POST","/v1/accounts:signInWithIdp",xd(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC="http://localhost";class Ra extends WE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ra(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):pr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=t;if(!s||!a)return null;const u=new Ra(s,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Ko(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Ko(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ko(e,t)}buildRequest(){const e={requestUri:hC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Yc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc extends XE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li extends Xc{constructor(){super("facebook.com")}static credential(e){return Ra._fromParams({providerId:li.PROVIDER_ID,signInMethod:li.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return li.credentialFromTaggedObject(e)}static credentialFromError(e){return li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return li.credential(e.oauthAccessToken)}catch{return null}}}li.FACEBOOK_SIGN_IN_METHOD="facebook.com";li.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends Xc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ra._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return ci.credential(t,s)}catch{return null}}}ci.GOOGLE_SIGN_IN_METHOD="google.com";ci.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui extends Xc{constructor(){super("github.com")}static credential(e){return Ra._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ui.credential(e.oauthAccessToken)}catch{return null}}}ui.GITHUB_SIGN_IN_METHOD="github.com";ui.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi extends Xc{constructor(){super("twitter.com")}static credential(e,t){return Ra._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return hi.credentialFromTaggedObject(e)}static credentialFromError(e){return hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return hi.credential(t,s)}catch{return null}}}hi.TWITTER_SIGN_IN_METHOD="twitter.com";hi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dC(r,e){return ME(r,"POST","/v1/accounts:signUp",xd(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,a=!1){const l=await ms._fromIdTokenResponse(e,s,a),u=gb(s);return new wi({user:l,providerId:u,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const a=gb(s);return new wi({user:e,providerId:a,_tokenResponse:s,operationType:t})}}function gb(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fC(r){var a;if(fs(r.app))return Promise.reject(yi(r));const e=Td(r);if(await e._initializationPromise,(a=e.currentUser)!=null&&a.isAnonymous)return new wi({user:e.currentUser,providerId:null,operationType:"signIn"});const t=await dC(e,{returnSecureToken:!0}),s=await wi._fromIdTokenResponse(e,"signIn",t,!0);return await e._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd extends br{constructor(e,t,s,a){super(t.code,t.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,sd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,a){return new sd(e,t,s,a)}}function JE(r,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?sd._fromErrorAndOperation(r,l,e,s):l})}async function mC(r,e,t=!1){const s=await Lc(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return wi._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gC(r,e,t=!1){const{auth:s}=r;if(fs(s.app))return Promise.reject(yi(s));const a="reauthenticate";try{const l=await Lc(r,JE(s,a,e,r),t);Ne(l.idToken,s,"internal-error");const u=bp(l.idToken);Ne(u,s,"internal-error");const{sub:f}=u;return Ne(r.uid===f,s,"user-mismatch"),wi._forOperation(r,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&pr(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pC(r,e,t=!1){if(fs(r.app))return Promise.reject(yi(r));const s="signIn",a=await JE(r,s,e),l=await wi._fromIdTokenResponse(r,s,a);return t||await r._updateCurrentUser(l.user),l}function yC(r,e,t,s){return en(r).onIdTokenChanged(e,t,s)}function _C(r,e,t){return en(r).beforeAuthStateChanged(e,t)}function vC(r,e,t,s){return en(r).onAuthStateChanged(e,t,s)}function bC(r){return en(r).signOut()}const rd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(rd,"1"),this.storage.removeItem(rd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=1e3,EC=10;class ex extends ZE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=KE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),a=this.localCache[t];s!==a&&e(t,a,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,f,g)=>{this.notifyListeners(u,g)});return}const s=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(s);!t&&this.localCache[s]===u||this.notifyListeners(s,u)},l=this.storage.getItem(s);WN()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,EC):a()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},wC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ex.type="LOCAL";const xC=ex;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx extends ZE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}tx.type="SESSION";const nx=tx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const s=new Sd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:a,data:l}=t.data,u=this.handlersMap[a];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const f=Array.from(u).map(async y=>y(t.origin,l)),g=await TC(f);t.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Sd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xp(r="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((f,g)=>{const y=xp("",20);a.port1.start();const _=setTimeout(()=>{g(new Error("unsupported_event"))},s);u={messageChannel:a,onMessage(E){const T=E;if(T.data.eventId===y)switch(T.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(T.data.response);break;default:clearTimeout(_),clearTimeout(l),g(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Us(){return window}function AC(r){Us().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(){return typeof Us().WorkerGlobalScope<"u"&&typeof Us().importScripts=="function"}async function RC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function NC(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)==null?void 0:r.controller)||null}function CC(){return sx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx="firebaseLocalStorageDb",IC=1,id="firebaseLocalStorage",ix="fbase_key";class Jc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ad(r,e){return r.transaction([id],e?"readwrite":"readonly").objectStore(id)}function kC(){const r=indexedDB.deleteDatabase(rx);return new Jc(r).toPromise()}function Pg(){const r=indexedDB.open(rx,IC);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(id,{keyPath:ix})}catch(a){t(a)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(id)?e(s):(s.close(),await kC(),e(await Pg()))})})}async function pb(r,e,t){const s=Ad(r,!0).put({[ix]:e,value:t});return new Jc(s).toPromise()}async function jC(r,e){const t=Ad(r,!1).get(e),s=await new Jc(t).toPromise();return s===void 0?null:s.value}function yb(r,e){const t=Ad(r,!0).delete(e);return new Jc(t).toPromise()}const OC=800,DC=3;class ax{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Pg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>DC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Sd._getInstance(CC()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,s;if(this.activeServiceWorker=await RC(),!this.activeServiceWorker)return;this.sender=new SC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||NC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Pg();return await pb(e,rd,"1"),await yb(e,rd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>pb(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>jC(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>yb(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Ad(a,!1).getAll();return new Jc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),OC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ax.type="LOCAL";const PC=ax;new Wc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MC(r,e){return e?mr(e):(Ne(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp extends WE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ko(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ko(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ko(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function VC(r){return pC(r.auth,new Tp(r),r.bypassAuthState)}function UC(r){const{auth:e,user:t}=r;return Ne(t,e,"internal-error"),gC(t,new Tp(r),r.bypassAuthState)}async function LC(r){const{auth:e,user:t}=r;return Ne(t,e,"internal-error"),mC(t,new Tp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e,t,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:a,tenantId:l,error:u,type:f}=e;if(u){this.reject(u);return}const g={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return VC;case"linkViaPopup":case"linkViaRedirect":return LC;case"reauthViaPopup":case"reauthViaRedirect":return UC;default:pr(this.auth,"internal-error")}}resolve(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=new Wc(2e3,1e4);class Ho extends ox{constructor(e,t,s,a,l){super(e,t,a,l),this.provider=s,this.authWindow=null,this.pollId=null,Ho.currentPopupAction&&Ho.currentPopupAction.cancel(),Ho.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){yr(this.filter.length===1,"Popup operations only handle one event");const e=xp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Vs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Vs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ho.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if((s=(t=this.authWindow)==null?void 0:t.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zC.get())};e()}}Ho.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC="pendingRedirect",$h=new Map;class qC extends ox{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=$h.get(this.auth._key());if(!e){try{const s=await $C(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}$h.set(this.auth._key(),e)}return this.bypassAuthState||$h.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $C(r,e){const t=GC(e),s=FC(r);if(!await s._isAvailable())return!1;const a=await s._get(t)==="true";return await s._remove(t),a}function HC(r,e){$h.set(r._key(),e)}function FC(r){return mr(r._redirectPersistence)}function GC(r){return qh(BC,r.config.apiKey,r.name)}async function KC(r,e,t=!1){if(fs(r.app))return Promise.reject(yi(r));const s=Td(r),a=MC(s,e),u=await new qC(s,a,t).execute();return u&&!t&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC=10*60*1e3;class YC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!WC(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!lx(e)){const a=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";t.onError(Vs(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=QC&&this.cachedEventUids.clear(),this.cachedEventUids.has(_b(e))}saveEventToCache(e){this.cachedEventUids.add(_b(e)),this.lastProcessedEventTime=Date.now()}}function _b(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function lx({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function WC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lx(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XC(r,e={}){return ll(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ZC=/^https?/;async function eI(r){if(r.config.emulator)return;const{authorizedDomains:e}=await XC(r);for(const t of e)try{if(tI(t))return}catch{}pr(r,"unauthorized-domain")}function tI(r){const e=Og(),{protocol:t,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const u=new URL(r);return u.hostname===""&&s===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===s}if(!ZC.test(t))return!1;if(JC.test(r))return s===r;const a=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI=new Wc(3e4,6e4);function vb(){const r=Us().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function sI(r){return new Promise((e,t)=>{var a,l,u;function s(){vb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vb(),t(Vs(r,"network-request-failed"))},timeout:nI.get()})}if((l=(a=Us().gapi)==null?void 0:a.iframes)!=null&&l.Iframe)e(gapi.iframes.getContext());else if((u=Us().gapi)!=null&&u.load)s();else{const f=iC("iframefcb");return Us()[f]=()=>{gapi.load?s():t(Vs(r,"network-request-failed"))},sC(`${rC()}?onload=${f}`).catch(g=>t(g))}}).catch(e=>{throw Hh=null,e})}let Hh=null;function rI(r){return Hh=Hh||sI(r),Hh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI=new Wc(5e3,15e3),aI="__/auth/iframe",oI="emulator/auth/iframe",lI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uI(r){const e=r.config;Ne(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?vp(e,oI):`https://${r.config.authDomain}/${aI}`,s={apiKey:e.apiKey,appName:r.name,v:ol},a=cI.get(r.config.apiHost);a&&(s.eid=a);const l=r._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${Yc(s).slice(1)}`}async function hI(r){const e=await rI(r),t=Us().gapi;return Ne(t,r,"internal-error"),e.open({where:document.body,url:uI(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lI,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const u=Vs(r,"network-request-failed"),f=Us().setTimeout(()=>{l(u)},iI.get());function g(){Us().clearTimeout(f),a(s)}s.ping(g).then(g,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fI=500,mI=600,gI="_blank",pI="http://localhost";class bb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function yI(r,e,t,s=fI,a=mI){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const g={...dI,width:s.toString(),height:a.toString(),top:l,left:u},y=yn().toLowerCase();t&&(f=qE(y)?gI:t),zE(y)&&(e=e||pI,g.scrollbars="yes");const _=Object.entries(g).reduce((T,[I,L])=>`${T}${I}=${L},`,"");if(YN(y)&&f!=="_self")return _I(e||"",f),new bb(null);const E=window.open(e||"",f,_);Ne(E,r,"popup-blocked");try{E.focus()}catch{}return new bb(E)}function _I(r,e){const t=document.createElement("a");t.href=r,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI="__/auth/handler",bI="emulator/auth/handler",wI=encodeURIComponent("fac");async function wb(r,e,t,s,a,l){Ne(r.config.authDomain,r,"auth-domain-config-required"),Ne(r.config.apiKey,r,"invalid-api-key");const u={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:s,v:ol,eventId:a};if(e instanceof XE){e.setDefaultLanguage(r.languageCode),u.providerId=e.providerId||"",_2(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,E]of Object.entries({}))u[_]=E}if(e instanceof Xc){const _=e.getScopes().filter(E=>E!=="");_.length>0&&(u.scopes=_.join(","))}r.tenantId&&(u.tid=r.tenantId);const f=u;for(const _ of Object.keys(f))f[_]===void 0&&delete f[_];const g=await r._getAppCheckToken(),y=g?`#${wI}=${encodeURIComponent(g)}`:"";return`${EI(r)}?${Yc(f).slice(1)}${y}`}function EI({config:r}){return r.emulator?vp(r,bI):`https://${r.authDomain}/${vI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg="webStorageSupport";class xI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nx,this._completeRedirectFn=KC,this._overrideRedirectResult=HC}async _openPopup(e,t,s,a){var u;yr((u=this.eventManagers[e._key()])==null?void 0:u.manager,"_initialize() not called before _openPopup()");const l=await wb(e,t,s,Og(),a);return yI(e,l,xp())}async _openRedirect(e,t,s,a){await this._originValidation(e);const l=await wb(e,t,s,Og(),a);return AC(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(yr(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await hI(e),s=new YC(e);return t.register("authEvent",a=>(Ne(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(cg,{type:cg},a=>{var u;const l=(u=a==null?void 0:a[0])==null?void 0:u[cg];l!==void 0&&t(!!l),pr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=eI(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return KE()||BE()||wp()}}const TI=xI;var Eb="@firebase/auth",xb="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function RI(r){Wo(new Aa("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=s.options;Ne(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:u,authDomain:f,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QE(r)},y=new tC(s,a,l,g);return oC(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Wo(new Aa("auth-internal",e=>{const t=Td(e.getProvider("auth").getImmediate());return(s=>new SI(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),pi(Eb,xb,AI(r)),pi(Eb,xb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI=5*60,CI=EE("authIdTokenMaxAge")||NI;let Tb=null;const II=r=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>CI)return;const a=t==null?void 0:t.token;Tb!==a&&(Tb=a,await fetch(r,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function kI(r=NE()){const e=yp(r,"auth");if(e.isInitialized())return e.getImmediate();const t=aC(r,{popupRedirectResolver:TI,persistence:[PC,xC,nx]}),s=EE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const u=II(l.toString());_C(t,u,()=>u(t.currentUser)),yC(t,f=>u(f))}}const a=bE("auth");return a&&lC(t,`http://${a}`),t}function jI(){var r;return((r=document.getElementsByTagName("head"))==null?void 0:r[0])??document}nC({loadJS(r){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=a=>{const l=Vs("internal-error");l.customData=a,t(l)},s.type="text/javascript",s.charset="UTF-8",jI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});RI("Browser");var Sb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _i,cx;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,A){function R(){}R.prototype=A.prototype,C.F=A.prototype,C.prototype=new R,C.prototype.constructor=C,C.D=function(O,j,M){for(var N=Array(arguments.length-2),We=2;We<arguments.length;We++)N[We-2]=arguments[We];return A.prototype[j].apply(O,N)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,t),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(C,A,R){R||(R=0);const O=Array(16);if(typeof A=="string")for(var j=0;j<16;++j)O[j]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(j=0;j<16;++j)O[j]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=C.g[0],R=C.g[1],j=C.g[2];let M=C.g[3],N;N=A+(M^R&(j^M))+O[0]+3614090360&4294967295,A=R+(N<<7&4294967295|N>>>25),N=M+(j^A&(R^j))+O[1]+3905402710&4294967295,M=A+(N<<12&4294967295|N>>>20),N=j+(R^M&(A^R))+O[2]+606105819&4294967295,j=M+(N<<17&4294967295|N>>>15),N=R+(A^j&(M^A))+O[3]+3250441966&4294967295,R=j+(N<<22&4294967295|N>>>10),N=A+(M^R&(j^M))+O[4]+4118548399&4294967295,A=R+(N<<7&4294967295|N>>>25),N=M+(j^A&(R^j))+O[5]+1200080426&4294967295,M=A+(N<<12&4294967295|N>>>20),N=j+(R^M&(A^R))+O[6]+2821735955&4294967295,j=M+(N<<17&4294967295|N>>>15),N=R+(A^j&(M^A))+O[7]+4249261313&4294967295,R=j+(N<<22&4294967295|N>>>10),N=A+(M^R&(j^M))+O[8]+1770035416&4294967295,A=R+(N<<7&4294967295|N>>>25),N=M+(j^A&(R^j))+O[9]+2336552879&4294967295,M=A+(N<<12&4294967295|N>>>20),N=j+(R^M&(A^R))+O[10]+4294925233&4294967295,j=M+(N<<17&4294967295|N>>>15),N=R+(A^j&(M^A))+O[11]+2304563134&4294967295,R=j+(N<<22&4294967295|N>>>10),N=A+(M^R&(j^M))+O[12]+1804603682&4294967295,A=R+(N<<7&4294967295|N>>>25),N=M+(j^A&(R^j))+O[13]+4254626195&4294967295,M=A+(N<<12&4294967295|N>>>20),N=j+(R^M&(A^R))+O[14]+2792965006&4294967295,j=M+(N<<17&4294967295|N>>>15),N=R+(A^j&(M^A))+O[15]+1236535329&4294967295,R=j+(N<<22&4294967295|N>>>10),N=A+(j^M&(R^j))+O[1]+4129170786&4294967295,A=R+(N<<5&4294967295|N>>>27),N=M+(R^j&(A^R))+O[6]+3225465664&4294967295,M=A+(N<<9&4294967295|N>>>23),N=j+(A^R&(M^A))+O[11]+643717713&4294967295,j=M+(N<<14&4294967295|N>>>18),N=R+(M^A&(j^M))+O[0]+3921069994&4294967295,R=j+(N<<20&4294967295|N>>>12),N=A+(j^M&(R^j))+O[5]+3593408605&4294967295,A=R+(N<<5&4294967295|N>>>27),N=M+(R^j&(A^R))+O[10]+38016083&4294967295,M=A+(N<<9&4294967295|N>>>23),N=j+(A^R&(M^A))+O[15]+3634488961&4294967295,j=M+(N<<14&4294967295|N>>>18),N=R+(M^A&(j^M))+O[4]+3889429448&4294967295,R=j+(N<<20&4294967295|N>>>12),N=A+(j^M&(R^j))+O[9]+568446438&4294967295,A=R+(N<<5&4294967295|N>>>27),N=M+(R^j&(A^R))+O[14]+3275163606&4294967295,M=A+(N<<9&4294967295|N>>>23),N=j+(A^R&(M^A))+O[3]+4107603335&4294967295,j=M+(N<<14&4294967295|N>>>18),N=R+(M^A&(j^M))+O[8]+1163531501&4294967295,R=j+(N<<20&4294967295|N>>>12),N=A+(j^M&(R^j))+O[13]+2850285829&4294967295,A=R+(N<<5&4294967295|N>>>27),N=M+(R^j&(A^R))+O[2]+4243563512&4294967295,M=A+(N<<9&4294967295|N>>>23),N=j+(A^R&(M^A))+O[7]+1735328473&4294967295,j=M+(N<<14&4294967295|N>>>18),N=R+(M^A&(j^M))+O[12]+2368359562&4294967295,R=j+(N<<20&4294967295|N>>>12),N=A+(R^j^M)+O[5]+4294588738&4294967295,A=R+(N<<4&4294967295|N>>>28),N=M+(A^R^j)+O[8]+2272392833&4294967295,M=A+(N<<11&4294967295|N>>>21),N=j+(M^A^R)+O[11]+1839030562&4294967295,j=M+(N<<16&4294967295|N>>>16),N=R+(j^M^A)+O[14]+4259657740&4294967295,R=j+(N<<23&4294967295|N>>>9),N=A+(R^j^M)+O[1]+2763975236&4294967295,A=R+(N<<4&4294967295|N>>>28),N=M+(A^R^j)+O[4]+1272893353&4294967295,M=A+(N<<11&4294967295|N>>>21),N=j+(M^A^R)+O[7]+4139469664&4294967295,j=M+(N<<16&4294967295|N>>>16),N=R+(j^M^A)+O[10]+3200236656&4294967295,R=j+(N<<23&4294967295|N>>>9),N=A+(R^j^M)+O[13]+681279174&4294967295,A=R+(N<<4&4294967295|N>>>28),N=M+(A^R^j)+O[0]+3936430074&4294967295,M=A+(N<<11&4294967295|N>>>21),N=j+(M^A^R)+O[3]+3572445317&4294967295,j=M+(N<<16&4294967295|N>>>16),N=R+(j^M^A)+O[6]+76029189&4294967295,R=j+(N<<23&4294967295|N>>>9),N=A+(R^j^M)+O[9]+3654602809&4294967295,A=R+(N<<4&4294967295|N>>>28),N=M+(A^R^j)+O[12]+3873151461&4294967295,M=A+(N<<11&4294967295|N>>>21),N=j+(M^A^R)+O[15]+530742520&4294967295,j=M+(N<<16&4294967295|N>>>16),N=R+(j^M^A)+O[2]+3299628645&4294967295,R=j+(N<<23&4294967295|N>>>9),N=A+(j^(R|~M))+O[0]+4096336452&4294967295,A=R+(N<<6&4294967295|N>>>26),N=M+(R^(A|~j))+O[7]+1126891415&4294967295,M=A+(N<<10&4294967295|N>>>22),N=j+(A^(M|~R))+O[14]+2878612391&4294967295,j=M+(N<<15&4294967295|N>>>17),N=R+(M^(j|~A))+O[5]+4237533241&4294967295,R=j+(N<<21&4294967295|N>>>11),N=A+(j^(R|~M))+O[12]+1700485571&4294967295,A=R+(N<<6&4294967295|N>>>26),N=M+(R^(A|~j))+O[3]+2399980690&4294967295,M=A+(N<<10&4294967295|N>>>22),N=j+(A^(M|~R))+O[10]+4293915773&4294967295,j=M+(N<<15&4294967295|N>>>17),N=R+(M^(j|~A))+O[1]+2240044497&4294967295,R=j+(N<<21&4294967295|N>>>11),N=A+(j^(R|~M))+O[8]+1873313359&4294967295,A=R+(N<<6&4294967295|N>>>26),N=M+(R^(A|~j))+O[15]+4264355552&4294967295,M=A+(N<<10&4294967295|N>>>22),N=j+(A^(M|~R))+O[6]+2734768916&4294967295,j=M+(N<<15&4294967295|N>>>17),N=R+(M^(j|~A))+O[13]+1309151649&4294967295,R=j+(N<<21&4294967295|N>>>11),N=A+(j^(R|~M))+O[4]+4149444226&4294967295,A=R+(N<<6&4294967295|N>>>26),N=M+(R^(A|~j))+O[11]+3174756917&4294967295,M=A+(N<<10&4294967295|N>>>22),N=j+(A^(M|~R))+O[2]+718787259&4294967295,j=M+(N<<15&4294967295|N>>>17),N=R+(M^(j|~A))+O[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(j+(N<<21&4294967295|N>>>11))&4294967295,C.g[2]=C.g[2]+j&4294967295,C.g[3]=C.g[3]+M&4294967295}s.prototype.v=function(C,A){A===void 0&&(A=C.length);const R=A-this.blockSize,O=this.C;let j=this.h,M=0;for(;M<A;){if(j==0)for(;M<=R;)a(this,C,M),M+=this.blockSize;if(typeof C=="string"){for(;M<A;)if(O[j++]=C.charCodeAt(M++),j==this.blockSize){a(this,O),j=0;break}}else for(;M<A;)if(O[j++]=C[M++],j==this.blockSize){a(this,O),j=0;break}}this.h=j,this.o+=A},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;A=this.o*8;for(var R=C.length-8;R<C.length;++R)C[R]=A&255,A/=256;for(this.v(C),C=Array(16),A=0,R=0;R<4;++R)for(let O=0;O<32;O+=8)C[A++]=this.g[R]>>>O&255;return C};function l(C,A){var R=f;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=A(C)}function u(C,A){this.h=A;const R=[];let O=!0;for(let j=C.length-1;j>=0;j--){const M=C[j]|0;O&&M==A||(R[j]=M,O=!1)}this.g=R}var f={};function g(C){return-128<=C&&C<128?l(C,function(A){return new u([A|0],A<0?-1:0)}):new u([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return E;if(C<0)return z(y(-C));const A=[];let R=1;for(let O=0;C>=R;O++)A[O]=C/R|0,R*=4294967296;return new u(A,0)}function _(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return z(_(C.substring(1),A));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(A,8));let O=E;for(let M=0;M<C.length;M+=8){var j=Math.min(8,C.length-M);const N=parseInt(C.substring(M,M+j),A);j<8?(j=y(Math.pow(A,j)),O=O.j(j).add(y(N))):(O=O.j(R),O=O.add(y(N)))}return O}var E=g(0),T=g(1),I=g(16777216);r=u.prototype,r.m=function(){if(q(this))return-z(this).m();let C=0,A=1;for(let R=0;R<this.g.length;R++){const O=this.i(R);C+=(O>=0?O:4294967296+O)*A,A*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(L(this))return"0";if(q(this))return"-"+z(this).toString(C);const A=y(Math.pow(C,6));var R=this;let O="";for(;;){const j=le(R,A).g;R=re(R,j.j(A));let M=((R.g.length>0?R.g[0]:R.h)>>>0).toString(C);if(R=j,L(R))return M+O;for(;M.length<6;)M="0"+M;O=M+O}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function L(C){if(C.h!=0)return!1;for(let A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function q(C){return C.h==-1}r.l=function(C){return C=re(this,C),q(C)?-1:L(C)?0:1};function z(C){const A=C.g.length,R=[];for(let O=0;O<A;O++)R[O]=~C.g[O];return new u(R,~C.h).add(T)}r.abs=function(){return q(this)?z(this):this},r.add=function(C){const A=Math.max(this.g.length,C.g.length),R=[];let O=0;for(let j=0;j<=A;j++){let M=O+(this.i(j)&65535)+(C.i(j)&65535),N=(M>>>16)+(this.i(j)>>>16)+(C.i(j)>>>16);O=N>>>16,M&=65535,N&=65535,R[j]=N<<16|M}return new u(R,R[R.length-1]&-2147483648?-1:0)};function re(C,A){return C.add(z(A))}r.j=function(C){if(L(this)||L(C))return E;if(q(this))return q(C)?z(this).j(z(C)):z(z(this).j(C));if(q(C))return z(this.j(z(C)));if(this.l(I)<0&&C.l(I)<0)return y(this.m()*C.m());const A=this.g.length+C.g.length,R=[];for(var O=0;O<2*A;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(let j=0;j<C.g.length;j++){const M=this.i(O)>>>16,N=this.i(O)&65535,We=C.i(j)>>>16,Ve=C.i(j)&65535;R[2*O+2*j]+=N*Ve,J(R,2*O+2*j),R[2*O+2*j+1]+=M*Ve,J(R,2*O+2*j+1),R[2*O+2*j+1]+=N*We,J(R,2*O+2*j+1),R[2*O+2*j+2]+=M*We,J(R,2*O+2*j+2)}for(C=0;C<A;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=A;C<2*A;C++)R[C]=0;return new u(R,0)};function J(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function Y(C,A){this.g=C,this.h=A}function le(C,A){if(L(A))throw Error("division by zero");if(L(C))return new Y(E,E);if(q(C))return A=le(z(C),A),new Y(z(A.g),z(A.h));if(q(A))return A=le(C,z(A)),new Y(z(A.g),A.h);if(C.g.length>30){if(q(C)||q(A))throw Error("slowDivide_ only works with positive integers.");for(var R=T,O=A;O.l(C)<=0;)R=ce(R),O=ce(O);var j=oe(R,1),M=oe(O,1);for(O=oe(O,2),R=oe(R,2);!L(O);){var N=M.add(O);N.l(C)<=0&&(j=j.add(R),M=N),O=oe(O,1),R=oe(R,1)}return A=re(C,j.j(A)),new Y(j,A)}for(j=E;C.l(A)>=0;){for(R=Math.max(1,Math.floor(C.m()/A.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),M=y(R),N=M.j(A);q(N)||N.l(C)>0;)R-=O,M=y(R),N=M.j(A);L(M)&&(M=T),j=j.add(M),C=re(C,N)}return new Y(j,C)}r.B=function(C){return le(this,C).h},r.and=function(C){const A=Math.max(this.g.length,C.g.length),R=[];for(let O=0;O<A;O++)R[O]=this.i(O)&C.i(O);return new u(R,this.h&C.h)},r.or=function(C){const A=Math.max(this.g.length,C.g.length),R=[];for(let O=0;O<A;O++)R[O]=this.i(O)|C.i(O);return new u(R,this.h|C.h)},r.xor=function(C){const A=Math.max(this.g.length,C.g.length),R=[];for(let O=0;O<A;O++)R[O]=this.i(O)^C.i(O);return new u(R,this.h^C.h)};function ce(C){const A=C.g.length+1,R=[];for(let O=0;O<A;O++)R[O]=C.i(O)<<1|C.i(O-1)>>>31;return new u(R,C.h)}function oe(C,A){const R=A>>5;A%=32;const O=C.g.length-R,j=[];for(let M=0;M<O;M++)j[M]=A>0?C.i(M+R)>>>A|C.i(M+R+1)<<32-A:C.i(M+R);return new u(j,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,cx=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=y,u.fromString=_,_i=u}).apply(typeof Sb<"u"?Sb:typeof self<"u"?self:typeof window<"u"?window:{});var kh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ux,Tc,hx,Fh,Mg,dx,fx,mx;(function(){var r,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof kh=="object"&&kh];for(var v=0;v<h.length;++v){var b=h[v];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var s=t(this);function a(h,v){if(v)e:{var b=s;h=h.split(".");for(var S=0;S<h.length-1;S++){var H=h[S];if(!(H in b))break e;b=b[H]}h=h[h.length-1],S=b[h],v=v(S),v!=S&&v!=null&&e(b,h,{configurable:!0,writable:!0,value:v})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(v){var b=[],S;for(S in v)Object.prototype.hasOwnProperty.call(v,S)&&b.push([S,v[S]]);return b}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function f(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function g(h,v,b){return h.call.apply(h.bind,arguments)}function y(h,v,b){return y=g,y.apply(null,arguments)}function _(h,v){var b=Array.prototype.slice.call(arguments,1);return function(){var S=b.slice();return S.push.apply(S,arguments),h.apply(this,S)}}function E(h,v){function b(){}b.prototype=v.prototype,h.Z=v.prototype,h.prototype=new b,h.prototype.constructor=h,h.Ob=function(S,H,Q){for(var ue=Array(arguments.length-2),je=2;je<arguments.length;je++)ue[je-2]=arguments[je];return v.prototype[H].apply(S,ue)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function I(h){const v=h.length;if(v>0){const b=Array(v);for(let S=0;S<v;S++)b[S]=h[S];return b}return[]}function L(h,v){for(let S=1;S<arguments.length;S++){const H=arguments[S];var b=typeof H;if(b=b!="object"?b:H?Array.isArray(H)?"array":b:"null",b=="array"||b=="object"&&typeof H.length=="number"){b=h.length||0;const Q=H.length||0;h.length=b+Q;for(let ue=0;ue<Q;ue++)h[b+ue]=H[ue]}else h.push(H)}}class q{constructor(v,b){this.i=v,this.j=b,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function z(h){u.setTimeout(()=>{throw h},0)}function re(){var h=C;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class J{constructor(){this.h=this.g=null}add(v,b){const S=Y.get();S.set(v,b),this.h?this.h.next=S:this.g=S,this.h=S}}var Y=new q(()=>new le,h=>h.reset());class le{constructor(){this.next=this.g=this.h=null}set(v,b){this.h=v,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,oe=!1,C=new J,A=()=>{const h=Promise.resolve(void 0);ce=()=>{h.then(R)}};function R(){for(var h;h=re();){try{h.h.call(h.g)}catch(b){z(b)}var v=Y;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}oe=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var M=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const b=()=>{};u.addEventListener("test",b,v),u.removeEventListener("test",b,v)}catch{}return h}();function N(h){return/^[\s\xa0]*$/.test(h)}function We(h,v){j.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}E(We,j),We.prototype.init=function(h,v){const b=this.type=h.type,S=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(b=="mouseover"?v=h.fromElement:b=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&We.Z.h.call(this)},We.prototype.h=function(){We.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ve="closure_listenable_"+(Math.random()*1e6|0),V=0;function ie(h,v,b,S,H){this.listener=h,this.proxy=null,this.src=v,this.type=b,this.capture=!!S,this.ha=H,this.key=++V,this.da=this.fa=!1}function te(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Le(h,v,b){for(const S in h)v.call(b,h[S],S,h)}function P(h,v){for(const b in h)v.call(void 0,h[b],b,h)}function se(h){const v={};for(const b in h)v[b]=h[b];return v}const he="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(h,v){let b,S;for(let H=1;H<arguments.length;H++){S=arguments[H];for(b in S)h[b]=S[b];for(let Q=0;Q<he.length;Q++)b=he[Q],Object.prototype.hasOwnProperty.call(S,b)&&(h[b]=S[b])}}function ae(h){this.src=h,this.g={},this.h=0}ae.prototype.add=function(h,v,b,S,H){const Q=h.toString();h=this.g[Q],h||(h=this.g[Q]=[],this.h++);const ue=_e(h,v,S,H);return ue>-1?(v=h[ue],b||(v.fa=!1)):(v=new ie(v,this.src,Q,!!S,H),v.fa=b,h.push(v)),v};function we(h,v){const b=v.type;if(b in h.g){var S=h.g[b],H=Array.prototype.indexOf.call(S,v,void 0),Q;(Q=H>=0)&&Array.prototype.splice.call(S,H,1),Q&&(te(v),h.g[b].length==0&&(delete h.g[b],h.h--))}}function _e(h,v,b,S){for(let H=0;H<h.length;++H){const Q=h[H];if(!Q.da&&Q.listener==v&&Q.capture==!!b&&Q.ha==S)return H}return-1}var $e="closure_lm_"+(Math.random()*1e6|0),et={};function cn(h,v,b,S,H){if(Array.isArray(v)){for(let Q=0;Q<v.length;Q++)cn(h,v[Q],b,S,H);return null}return b=lu(b),h&&h[Ve]?h.J(v,b,f(S)?!!S.capture:!1,H):_s(h,v,b,!1,S,H)}function _s(h,v,b,S,H,Q){if(!v)throw Error("Invalid event type");const ue=f(H)?!!H.capture:!!H;let je=ml(h);if(je||(h[$e]=je=new ae(h)),b=je.add(v,b,S,ue,Q),b.proxy)return b;if(S=vs(),b.proxy=S,S.src=h,S.listener=b,h.addEventListener)M||(H=ue),H===void 0&&(H=!1),h.addEventListener(v.toString(),S,H);else if(h.attachEvent)h.attachEvent(Ma(v.toString()),S);else if(h.addListener&&h.removeListener)h.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return b}function vs(){function h(b){return v.call(h.src,h.listener,b)}const v=Hd;return h}function es(h,v,b,S,H){if(Array.isArray(v))for(var Q=0;Q<v.length;Q++)es(h,v[Q],b,S,H);else S=f(S)?!!S.capture:!!S,b=lu(b),h&&h[Ve]?(h=h.i,Q=String(v).toString(),Q in h.g&&(v=h.g[Q],b=_e(v,b,S,H),b>-1&&(te(v[b]),Array.prototype.splice.call(v,b,1),v.length==0&&(delete h.g[Q],h.h--)))):h&&(h=ml(h))&&(v=h.g[v.toString()],h=-1,v&&(h=_e(v,b,S,H)),(b=h>-1?v[h]:null)&&ki(b))}function ki(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[Ve])we(v.i,h);else{var b=h.type,S=h.proxy;v.removeEventListener?v.removeEventListener(b,S,h.capture):v.detachEvent?v.detachEvent(Ma(b),S):v.addListener&&v.removeListener&&v.removeListener(S),(b=ml(v))?(we(b,h),b.h==0&&(b.src=null,v[$e]=null)):te(h)}}}function Ma(h){return h in et?et[h]:et[h]="on"+h}function Hd(h,v){if(h.da)h=!0;else{v=new We(v,this);const b=h.listener,S=h.ha||h.src;h.fa&&ki(h),h=b.call(S,v)}return h}function ml(h){return h=h[$e],h instanceof ae?h:null}var xn="__closure_events_fn_"+(Math.random()*1e9>>>0);function lu(h){return typeof h=="function"?h:(h[xn]||(h[xn]=function(v){return h.handleEvent(v)}),h[xn])}function zt(){O.call(this),this.i=new ae(this),this.M=this,this.G=null}E(zt,O),zt.prototype[Ve]=!0,zt.prototype.removeEventListener=function(h,v,b,S){es(this,h,v,b,S)};function Kt(h,v){var b,S=h.G;if(S)for(b=[];S;S=S.G)b.push(S);if(h=h.M,S=v.type||v,typeof v=="string")v=new j(v,h);else if(v instanceof j)v.target=v.target||h;else{var H=v;v=new j(S,h),D(v,H)}H=!0;let Q,ue;if(b)for(ue=b.length-1;ue>=0;ue--)Q=v.g=b[ue],H=Hs(Q,S,!0,v)&&H;if(Q=v.g=h,H=Hs(Q,S,!0,v)&&H,H=Hs(Q,S,!1,v)&&H,b)for(ue=0;ue<b.length;ue++)Q=v.g=b[ue],H=Hs(Q,S,!1,v)&&H}zt.prototype.N=function(){if(zt.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const b=h.g[v];for(let S=0;S<b.length;S++)te(b[S]);delete h.g[v],h.h--}}this.G=null},zt.prototype.J=function(h,v,b,S){return this.i.add(String(h),v,!1,b,S)},zt.prototype.K=function(h,v,b,S){return this.i.add(String(h),v,!0,b,S)};function Hs(h,v,b,S){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let H=!0;for(let Q=0;Q<v.length;++Q){const ue=v[Q];if(ue&&!ue.da&&ue.capture==b){const je=ue.listener,pt=ue.ha||ue.src;ue.fa&&we(h.i,ue),H=je.call(pt,S)!==!1&&H}}return H&&!S.defaultPrevented}function Fd(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=y(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:u.setTimeout(h,v||0)}function gl(h){h.g=Fd(()=>{h.g=null,h.i&&(h.i=!1,gl(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class Gd extends O{constructor(v,b){super(),this.m=v,this.l=b,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:gl(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ji(h){O.call(this),this.h=h,this.g={}}E(ji,O);var wr=[];function un(h){Le(h.g,function(v,b){this.g.hasOwnProperty(b)&&ki(v)},h),h.g={}}ji.prototype.N=function(){ji.Z.N.call(this),un(this)},ji.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bn=u.JSON.stringify,_n=u.JSON.parse,Kd=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function cu(){}function uu(){}var bs={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Er(){j.call(this,"d")}E(Er,j);function ts(){j.call(this,"c")}E(ts,j);var qn={},xr=null;function Va(){return xr=xr||new zt}qn.Ia="serverreachability";function pl(h){j.call(this,qn.Ia,h)}E(pl,j);function Tr(h){const v=Va();Kt(v,new pl(v))}qn.STAT_EVENT="statevent";function Ua(h,v){j.call(this,qn.STAT_EVENT,h),this.stat=v}E(Ua,j);function Tt(h){const v=Va();Kt(v,new Ua(v,h))}qn.Ja="timingevent";function hu(h,v){j.call(this,qn.Ja,h),this.size=v}E(hu,j);function Sr(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},v)}function Ar(){this.g=!0}Ar.prototype.ua=function(){this.g=!1};function yl(h,v,b,S,H,Q){h.info(function(){if(h.g)if(Q){var ue="",je=Q.split("&");for(let st=0;st<je.length;st++){var pt=je[st].split("=");if(pt.length>1){const Rt=pt[0];pt=pt[1];const kn=Rt.split("_");ue=kn.length>=2&&kn[1]=="type"?ue+(Rt+"="+pt+"&"):ue+(Rt+"=redacted&")}}}else ue=null;else ue=Q;return"XMLHTTP REQ ("+S+") [attempt "+H+"]: "+v+`
`+b+`
`+ue})}function _l(h,v,b,S,H,Q,ue){h.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+H+"]: "+v+`
`+b+`
`+Q+" "+ue})}function Fs(h,v,b,S){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+ws(h,b)+(S?" "+S:"")})}function Qd(h,v){h.info(function(){return"TIMEOUT: "+v})}Ar.prototype.info=function(){};function ws(h,v){if(!h.g)return v;if(!v)return null;try{const Q=JSON.parse(v);if(Q){for(h=0;h<Q.length;h++)if(Array.isArray(Q[h])){var b=Q[h];if(!(b.length<2)){var S=b[1];if(Array.isArray(S)&&!(S.length<1)){var H=S[0];if(H!="noop"&&H!="stop"&&H!="close")for(let ue=1;ue<S.length;ue++)S[ue]=""}}}}return Bn(Q)}catch{return v}}var St={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},tn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Gs;function Oi(){}E(Oi,cu),Oi.prototype.g=function(){return new XMLHttpRequest},Gs=new Oi;function Di(h){return encodeURIComponent(String(h))}function Yd(h){var v=1;h=h.split(":");const b=[];for(;v>0&&h.length;)b.push(h.shift()),v--;return h.length&&b.push(h.join(":")),b}function ns(h,v,b,S){this.j=h,this.i=v,this.l=b,this.S=S||1,this.V=new ji(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Rr}function Rr(){this.i=null,this.g="",this.h=!1}var La={},Es={};function xs(h,v,b){h.M=1,h.A=Qs(vt(v)),h.u=b,h.R=!0,Nr(h,null)}function Nr(h,v){h.F=Date.now(),Pi(h),h.B=vt(h.A);var b=h.B,S=h.S;Array.isArray(S)||(S=[String(S)]),gu(b.i,"t",S),h.C=0,b=h.j.L,h.h=new Rr,h.g=Ya(h.j,b?v:null,!h.u),h.P>0&&(h.O=new Gd(y(h.Y,h,h.g),h.P)),v=h.V,b=h.g,S=h.ba;var H="readystatechange";Array.isArray(H)||(H&&(wr[0]=H.toString()),H=wr);for(let Q=0;Q<H.length;Q++){const ue=cn(b,H[Q],S||v.handleEvent,!1,v.h||v);if(!ue)break;v.g[ue.key]=ue}v=h.J?se(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),Tr(),yl(h.i,h.v,h.B,h.l,h.S,h.u)}ns.prototype.ba=function(h){h=h.target;const v=this.O;v&&hn(h)==3?v.j():this.Y(h)},ns.prototype.Y=function(h){try{if(h==this.g)e:{const je=hn(this.g),pt=this.g.ya(),st=this.g.ca();if(!(je<3)&&(je!=3||this.g&&(this.h.h||this.g.la()||Gi(this.g)))){this.K||je!=4||pt==7||(pt==8||st<=0?Tr(3):Tr(2)),Ss(this);var v=this.g.ca();this.X=v;var b=Cr(this);if(this.o=v==200,_l(this.i,this.v,this.B,this.l,this.S,je,v),this.o){if(this.U&&!this.L){t:{if(this.g){var S,H=this.g;if((S=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(S)){var Q=S;break t}}Q=null}if(h=Q)Fs(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,za(this,h);else{this.o=!1,this.m=3,Tt(12),As(this),Mi(this);break e}}if(this.R){h=!0;let Rt;for(;!this.K&&this.C<b.length;)if(Rt=du(this,b),Rt==Es){je==4&&(this.m=4,Tt(14),h=!1),Fs(this.i,this.l,null,"[Incomplete Response]");break}else if(Rt==La){this.m=4,Tt(15),Fs(this.i,this.l,b,"[Invalid Chunk]"),h=!1;break}else Fs(this.i,this.l,Rt,null),za(this,Rt);if(At(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),je!=4||b.length!=0||this.h.h||(this.m=1,Tt(16),h=!1),this.o=this.o&&h,!h)Fs(this.i,this.l,b,"[Invalid Chunked Response]"),As(this),Mi(this);else if(b.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Nl(ue),ue.P=!0,Tt(11))}}else Fs(this.i,this.l,b,null),za(this,b);je==4&&As(this),this.o&&!this.K&&(je==4?Cl(this.j,this):(this.o=!1,Pi(this)))}else Ki(this.g),v==400&&b.indexOf("Unknown SID")>0?(this.m=3,Tt(12)):(this.m=0,Tt(13)),As(this),Mi(this)}}}catch{}finally{}};function Cr(h){if(!At(h))return h.g.la();const v=Gi(h.g);if(v==="")return"";let b="";const S=v.length,H=hn(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return As(h),Mi(h),"";h.h.i=new u.TextDecoder}for(let Q=0;Q<S;Q++)h.h.h=!0,b+=h.h.i.decode(v[Q],{stream:!(H&&Q==S-1)});return v.length=0,h.h.g+=b,h.C=0,h.h.g}function At(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function du(h,v){var b=h.C,S=v.indexOf(`
`,b);return S==-1?Es:(b=Number(v.substring(b,S)),isNaN(b)?La:(S+=1,S+b>v.length?Es:(v=v.slice(S,S+b),h.C=S+b,v)))}ns.prototype.cancel=function(){this.K=!0,As(this)};function Pi(h){h.T=Date.now()+h.H,Ts(h,h.H)}function Ts(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Sr(y(h.aa,h),v)}function Ss(h){h.D&&(u.clearTimeout(h.D),h.D=null)}ns.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Qd(this.i,this.B),this.M!=2&&(Tr(),Tt(17)),As(this),this.m=2,Mi(this)):Ts(this,this.T-h)};function Mi(h){h.j.I==0||h.K||Cl(h.j,h)}function As(h){Ss(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,un(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function za(h,v){try{var b=h.j;if(b.I!=0&&(b.g==h||Li(b.h,h))){if(!h.L&&Li(b.h,h)&&b.I==3){try{var S=b.Ba.g.parse(v)}catch{S=null}if(Array.isArray(S)&&S.length==3){var H=S;if(H[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<h.F)Qa(b),Rs(b);else break e;Rl(b),Tt(18)}}else b.xa=H[1],0<b.xa-b.K&&H[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=Sr(y(b.Va,b),6e3));$n(b.h)<=1&&b.ta&&(b.ta=void 0)}else Xs(b,11)}else if((h.L||b.g==h)&&Qa(b),!N(v))for(H=b.Ba.g.parse(v),v=0;v<H.length;v++){let st=H[v];const Rt=st[0];if(!(Rt<=b.K))if(b.K=Rt,st=st[1],b.I==2)if(st[0]=="c"){b.M=st[1],b.ba=st[2];const kn=st[3];kn!=null&&(b.ka=kn,b.j.info("VER="+b.ka));const Ns=st[4];Ns!=null&&(b.za=Ns,b.j.info("SVER="+b.za));const is=st[5];is!=null&&typeof is=="number"&&is>0&&(S=1.5*is,b.O=S,b.j.info("backChannelRequestTimeoutMs_="+S)),S=b;const as=h.g;if(as){const os=as.g?as.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(os){var Q=S.h;Q.g||os.indexOf("spdy")==-1&&os.indexOf("quic")==-1&&os.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Ba(Q,Q.h),Q.h=null))}if(S.G){const kl=as.g?as.g.getResponseHeader("X-HTTP-Session-Id"):null;kl&&(S.wa=kl,at(S.J,S.G,kl))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-h.F,b.j.info("Handshake RTT: "+b.T+"ms")),S=b;var ue=h;if(S.na=Tu(S,S.L?S.ba:null,S.W),ue.L){Ks(S.h,ue);var je=ue,pt=S.O;pt&&(je.H=pt),je.D&&(Ss(je),Pi(je)),S.g=ue}else bu(S);b.i.length>0&&Xi(b)}else st[0]!="stop"&&st[0]!="close"||Xs(b,7);else b.I==3&&(st[0]=="stop"||st[0]=="close"?st[0]=="stop"?Xs(b,7):Yi(b):st[0]!="noop"&&b.l&&b.l.qa(st),b.A=0)}}Tr(4)}catch{}}var Wd=class{constructor(h,v){this.g=h,this.map=v}};function Vi(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ui(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function $n(h){return h.h?1:h.g?h.g.size:0}function Li(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Ba(h,v){h.g?h.g.add(v):h.h=v}function Ks(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Vi.prototype.cancel=function(){if(this.i=qa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function qa(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const b of h.g.values())v=v.concat(b.G);return v}return I(h.i)}var $a=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xd(h,v){if(h){h=h.split("&");for(let b=0;b<h.length;b++){const S=h[b].indexOf("=");let H,Q=null;S>=0?(H=h[b].substring(0,S),Q=h[b].substring(S+1)):H=h[b],v(H,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function ss(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof ss?(this.l=h.l,Ir(this,h.j),this.o=h.o,this.g=h.g,zi(this,h.u),this.h=h.h,kr(this,pu(h.i)),this.m=h.m):h&&(v=String(h).match($a))?(this.l=!1,Ir(this,v[1]||"",!0),this.o=Bi(v[2]||""),this.g=Bi(v[3]||"",!0),zi(this,v[4]),this.h=Bi(v[5]||"",!0),kr(this,v[6]||"",!0),this.m=Bi(v[7]||"")):(this.l=!1,this.i=new Hn(null,this.l))}ss.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(Qt(v,bl,!0),":");var b=this.g;return(b||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Qt(v,bl,!0),"@"),h.push(Di(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&h.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&h.push("/"),h.push(Qt(b,b.charAt(0)=="/"?jr:wl,!0))),(b=this.i.toString())&&h.push("?",b),(b=this.m)&&h.push("#",Qt(b,mu)),h.join("")},ss.prototype.resolve=function(h){const v=vt(this);let b=!!h.j;b?Ir(v,h.j):b=!!h.o,b?v.o=h.o:b=!!h.g,b?v.g=h.g:b=h.u!=null;var S=h.h;if(b)zi(v,h.u);else if(b=!!h.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var H=v.h.lastIndexOf("/");H!=-1&&(S=v.h.slice(0,H+1)+S)}if(H=S,H==".."||H==".")S="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){S=H.lastIndexOf("/",0)==0,H=H.split("/");const Q=[];for(let ue=0;ue<H.length;){const je=H[ue++];je=="."?S&&ue==H.length&&Q.push(""):je==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),S&&ue==H.length&&Q.push("")):(Q.push(je),S=!0)}S=Q.join("/")}else S=H}return b?v.h=S:b=h.i.toString()!=="",b?kr(v,pu(h.i)):b=!!h.m,b&&(v.m=h.m),v};function vt(h){return new ss(h)}function Ir(h,v,b){h.j=b?Bi(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function zi(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function kr(h,v,b){v instanceof Hn?(h.i=v,Tl(h.i,h.l)):(b||(v=Qt(v,fu)),h.i=new Hn(v,h.l))}function at(h,v,b){h.i.set(v,b)}function Qs(h){return at(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Bi(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Qt(h,v,b){return typeof h=="string"?(h=encodeURI(h).replace(v,vl),b&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function vl(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var bl=/[#\/\?@]/g,wl=/[#\?:]/g,jr=/[#\?]/g,fu=/[#\?@]/g,mu=/#/g;function Hn(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function Ys(h){h.g||(h.g=new Map,h.h=0,h.i&&Xd(h.i,function(v,b){h.add(decodeURIComponent(v.replace(/\+/g," ")),b)}))}r=Hn.prototype,r.add=function(h,v){Ys(this),this.i=null,h=rs(this,h);let b=this.g.get(h);return b||this.g.set(h,b=[]),b.push(v),this.h+=1,this};function El(h,v){Ys(h),v=rs(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function xl(h,v){return Ys(h),v=rs(h,v),h.g.has(v)}r.forEach=function(h,v){Ys(this),this.g.forEach(function(b,S){b.forEach(function(H){h.call(v,H,S,this)},this)},this)};function Ha(h,v){Ys(h);let b=[];if(typeof v=="string")xl(h,v)&&(b=b.concat(h.g.get(rs(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)b=b.concat(h[v]);return b}r.set=function(h,v){return Ys(this),this.i=null,h=rs(this,h),xl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},r.get=function(h,v){return h?(h=Ha(this,h),h.length>0?String(h[0]):v):v};function gu(h,v,b){El(h,v),b.length>0&&(h.i=null,h.g.set(rs(h,v),I(b)),h.h+=b.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let S=0;S<v.length;S++){var b=v[S];const H=Di(b);b=Ha(this,b);for(let Q=0;Q<b.length;Q++){let ue=H;b[Q]!==""&&(ue+="="+Di(b[Q])),h.push(ue)}}return this.i=h.join("&")};function pu(h){const v=new Hn;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function rs(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Tl(h,v){v&&!h.j&&(Ys(h),h.i=null,h.g.forEach(function(b,S){const H=S.toLowerCase();S!=H&&(El(this,S),gu(this,H,b))},h)),h.j=v}function Sl(h,v){const b=new Ar;if(u.Image){const S=new Image;S.onload=_(vn,b,"TestLoadImage: loaded",!0,v,S),S.onerror=_(vn,b,"TestLoadImage: error",!1,v,S),S.onabort=_(vn,b,"TestLoadImage: abort",!1,v,S),S.ontimeout=_(vn,b,"TestLoadImage: timeout",!1,v,S),u.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=h}else v(!1)}function Or(h,v){const b=new Ar,S=new AbortController,H=setTimeout(()=>{S.abort(),vn(b,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:S.signal}).then(Q=>{clearTimeout(H),Q.ok?vn(b,"TestPingServer: ok",!0,v):vn(b,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(H),vn(b,"TestPingServer: error",!1,v)})}function vn(h,v,b,S,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),S(b)}catch{}}function yu(){this.g=new Kd}function qi(h){this.i=h.Sb||null,this.h=h.ab||!1}E(qi,cu),qi.prototype.g=function(){return new $i(this.i,this.h)};function $i(h,v){zt.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E($i,zt),r=$i.prototype,r.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,Ws(this)},r.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||u).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,bn(this)),this.readyState=0},r.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Ws(this)),this.g&&(this.readyState=3,Ws(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Dr(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Dr(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}r.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?bn(this):Ws(this),this.readyState==3&&Dr(this)}},r.Oa=function(h){this.g&&(this.response=this.responseText=h,bn(this))},r.Na=function(h){this.g&&(this.response=h,bn(this))},r.ga=function(){this.g&&bn(this)};function bn(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Ws(h)}r.setRequestHeader=function(h,v){this.A.append(h,v)},r.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var b=v.next();!b.done;)b=b.value,h.push(b[0]+": "+b[1]),b=v.next();return h.join(`\r
`)};function Ws(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty($i.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Pr(h){let v="";return Le(h,function(b,S){v+=S,v+=":",v+=b,v+=`\r
`}),v}function Fn(h,v,b){e:{for(S in b){var S=!1;break e}S=!0}S||(b=Pr(b),typeof h=="string"?b!=null&&Di(b):at(h,v,b))}function dt(h){zt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E(dt,zt);var Fa=/^https?$/i,_u=["POST","PUT"];r=dt.prototype,r.Fa=function(h){this.H=h},r.ea=function(h,v,b,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Gs.g(),this.g.onreadystatechange=T(y(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(Q){Hi(this,Q);return}if(h=b||"",b=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var H in S)b.set(H,S[H]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Q of S.keys())b.set(Q,S.get(Q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(b.keys()).find(Q=>Q.toLowerCase()=="content-type"),H=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(_u,v,void 0)>=0)||S||H||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ue]of b)this.g.setRequestHeader(Q,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Q){Hi(this,Q)}};function Hi(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,Fi(h),Bt(h)}function Fi(h){h.A||(h.A=!0,Kt(h,"complete"),Kt(h,"error"))}r.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Kt(this,"complete"),Kt(this,"abort"),Bt(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bt(this,!0)),dt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Al(this):this.Xa())},r.Xa=function(){Al(this)};function Al(h){if(h.h&&typeof l<"u"){if(h.v&&hn(h)==4)setTimeout(h.Ca.bind(h),0);else if(Kt(h,"readystatechange"),hn(h)==4){h.h=!1;try{const Q=h.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var b;if(!(b=v)){var S;if(S=Q===0){let ue=String(h.D).match($a)[1]||null;!ue&&u.self&&u.self.location&&(ue=u.self.location.protocol.slice(0,-1)),S=!Fa.test(ue?ue.toLowerCase():"")}b=S}if(b)Kt(h,"complete"),Kt(h,"success");else{h.o=6;try{var H=hn(h)>2?h.g.statusText:""}catch{H=""}h.l=H+" ["+h.ca()+"]",Fi(h)}}finally{Bt(h)}}}}function Bt(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const b=h.g;h.g=null,v||Kt(h,"ready");try{b.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function hn(h){return h.g?h.g.readyState:0}r.ca=function(){try{return hn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),_n(v)}};function Gi(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ki(h){const v={};h=(h.g&&hn(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<h.length;S++){if(N(h[S]))continue;var b=Yd(h[S]);const H=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const Q=v[H]||[];v[H]=Q,Q.push(b)}P(v,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qi(h,v,b){return b&&b.internalChannelParams&&b.internalChannelParams[h]||v}function Ga(h){this.za=0,this.i=[],this.j=new Ar,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Qi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Qi("baseRetryDelayMs",5e3,h),this.Za=Qi("retryDelaySeedMs",1e4,h),this.Ta=Qi("forwardChannelMaxRetries",2,h),this.va=Qi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Vi(h&&h.concurrentRequestLimit),this.Ba=new yu,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Ga.prototype,r.ka=8,r.I=1,r.connect=function(h,v,b,S){Tt(0),this.W=h,this.H=v||{},b&&S!==void 0&&(this.H.OSID=b,this.H.OAID=S),this.F=this.X,this.J=Tu(this,null,this.W),Xi(this)};function Yi(h){if(Wi(h),h.I==3){var v=h.V++,b=vt(h.J);if(at(b,"SID",h.M),at(b,"RID",v),at(b,"TYPE","terminate"),Ji(h,b),v=new ns(h,h.j,v),v.M=2,v.A=Qs(vt(b)),b=!1,u.navigator&&u.navigator.sendBeacon)try{b=u.navigator.sendBeacon(v.A.toString(),"")}catch{}!b&&u.Image&&(new Image().src=v.A,b=!0),b||(v.g=Ya(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Pi(v)}xu(h)}function Rs(h){h.g&&(Nl(h),h.g.cancel(),h.g=null)}function Wi(h){Rs(h),h.v&&(u.clearTimeout(h.v),h.v=null),Qa(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function Xi(h){if(!Ui(h.h)&&!h.m){h.m=!0;var v=h.Ea;ce||A(),oe||(ce(),oe=!0),C.add(v,h),h.D=0}}function Jd(h,v){return $n(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Sr(y(h.Ea,h,v),Eu(h,h.D)),h.D++,!0)}r.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const H=new ns(this,this.j,h);let Q=this.o;if(this.U&&(Q?(Q=se(Q),D(Q,this.U)):Q=this.U),this.u!==null||this.R||(H.J=Q,Q=null),this.S)e:{for(var v=0,b=0;b<this.i.length;b++){t:{var S=this.i[b];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(v+=S,v>4096){v=b;break e}if(v===4096||b===this.i.length-1){v=b+1;break e}}v=1e3}else v=1e3;v=Ka(this,H,v),b=vt(this.J),at(b,"RID",h),at(b,"CVER",22),this.G&&at(b,"X-HTTP-Session-Id",this.G),Ji(this,b),Q&&(this.R?v="headers="+Di(Pr(Q))+"&"+v:this.u&&Fn(b,this.u,Q)),Ba(this.h,H),this.Ra&&at(b,"TYPE","init"),this.S?(at(b,"$req",v),at(b,"SID","null"),H.U=!0,xs(H,b,null)):xs(H,b,v),this.I=2}}else this.I==3&&(h?vu(this,h):this.i.length==0||Ui(this.h)||vu(this))};function vu(h,v){var b;v?b=v.l:b=h.V++;const S=vt(h.J);at(S,"SID",h.M),at(S,"RID",b),at(S,"AID",h.K),Ji(h,S),h.u&&h.o&&Fn(S,h.u,h.o),b=new ns(h,h.j,b,h.D+1),h.u===null&&(b.J=h.o),v&&(h.i=v.G.concat(h.i)),v=Ka(h,b,1e3),b.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Ba(h.h,b),xs(b,S,v)}function Ji(h,v){h.H&&Le(h.H,function(b,S){at(v,S,b)}),h.l&&Le({},function(b,S){at(v,S,b)})}function Ka(h,v,b){b=Math.min(h.i.length,b);const S=h.l?y(h.l.Ka,h.l,h):null;e:{var H=h.i;let je=-1;for(;;){const pt=["count="+b];je==-1?b>0?(je=H[0].g,pt.push("ofs="+je)):je=0:pt.push("ofs="+je);let st=!0;for(let Rt=0;Rt<b;Rt++){var Q=H[Rt].g;const kn=H[Rt].map;if(Q-=je,Q<0)je=Math.max(0,H[Rt].g-100),st=!1;else try{Q="req"+Q+"_"||"";try{var ue=kn instanceof Map?kn:Object.entries(kn);for(const[Ns,is]of ue){let as=is;f(is)&&(as=Bn(is)),pt.push(Q+Ns+"="+encodeURIComponent(as))}}catch(Ns){throw pt.push(Q+"type="+encodeURIComponent("_badmap")),Ns}}catch{S&&S(kn)}}if(st){ue=pt.join("&");break e}}ue=void 0}return h=h.i.splice(0,b),v.G=h,ue}function bu(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;ce||A(),oe||(ce(),oe=!0),C.add(v,h),h.A=0}}function Rl(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Sr(y(h.Da,h),Eu(h,h.A)),h.A++,!0)}r.Da=function(){if(this.v=null,wu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Sr(y(this.Wa,this),h)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Tt(10),Rs(this),wu(this))};function Nl(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function wu(h){h.g=new ns(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=vt(h.na);at(v,"RID","rpc"),at(v,"SID",h.M),at(v,"AID",h.K),at(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&at(v,"TO",h.ia),at(v,"TYPE","xmlhttp"),Ji(h,v),h.u&&h.o&&Fn(v,h.u,h.o),h.O&&(h.g.H=h.O);var b=h.g;h=h.ba,b.M=1,b.A=Qs(vt(v)),b.u=null,b.R=!0,Nr(b,h)}r.Va=function(){this.C!=null&&(this.C=null,Rs(this),Rl(this),Tt(19))};function Qa(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function Cl(h,v){var b=null;if(h.g==v){Qa(h),Nl(h),h.g=null;var S=2}else if(Li(h.h,v))b=v.G,Ks(h.h,v),S=1;else return;if(h.I!=0){if(v.o)if(S==1){b=v.u?v.u.length:0,v=Date.now()-v.F;var H=h.D;S=Va(),Kt(S,new hu(S,b)),Xi(h)}else bu(h);else if(H=v.m,H==3||H==0&&v.X>0||!(S==1&&Jd(h,v)||S==2&&Rl(h)))switch(b&&b.length>0&&(v=h.h,v.i=v.i.concat(b)),H){case 1:Xs(h,5);break;case 4:Xs(h,10);break;case 3:Xs(h,6);break;default:Xs(h,2)}}}function Eu(h,v){let b=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(b*=2),b*v}function Xs(h,v){if(h.j.info("Error code "+v),v==2){var b=y(h.bb,h),S=h.Ua;const H=!S;S=new ss(S||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Ir(S,"https"),Qs(S),H?Sl(S.toString(),b):Or(S.toString(),b)}else Tt(2);h.I=0,h.l&&h.l.pa(v),xu(h),Wi(h)}r.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function xu(h){if(h.I=0,h.ja=[],h.l){const v=qa(h.h);(v.length!=0||h.i.length!=0)&&(L(h.ja,v),L(h.ja,h.i),h.h.i.length=0,I(h.i),h.i.length=0),h.l.oa()}}function Tu(h,v,b){var S=b instanceof ss?vt(b):new ss(b);if(S.g!="")v&&(S.g=v+"."+S.g),zi(S,S.u);else{var H=u.location;S=H.protocol,v=v?v+"."+H.hostname:H.hostname,H=+H.port;const Q=new ss(null);S&&Ir(Q,S),v&&(Q.g=v),H&&zi(Q,H),b&&(Q.h=b),S=Q}return b=h.G,v=h.wa,b&&v&&at(S,b,v),at(S,"VER",h.ka),Ji(h,S),S}function Ya(h,v,b){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new dt(new qi({ab:b})):new dt(h.ma),v.Fa(h.L),v}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Su(){}r=Su.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Wa(){}Wa.prototype.g=function(h,v){return new wn(h,v)};function wn(h,v){zt.call(this),this.g=new Ga(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!N(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!N(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Mr(this)}E(wn,zt),wn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){Yi(this.g)},wn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var b={};b.__data__=h,h=b}else this.v&&(b={},b.__data__=Bn(h),h=b);v.i.push(new Wd(v.Ya++,h)),v.I==3&&Xi(v)},wn.prototype.N=function(){this.g.l=null,delete this.j,Yi(this.g),delete this.g,wn.Z.N.call(this)};function Il(h){Er.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const b in v){h=b;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}E(Il,Er);function Au(){ts.call(this),this.status=1}E(Au,ts);function Mr(h){this.g=h}E(Mr,Su),Mr.prototype.ra=function(){Kt(this.g,"a")},Mr.prototype.qa=function(h){Kt(this.g,new Il(h))},Mr.prototype.pa=function(h){Kt(this.g,new Au)},Mr.prototype.oa=function(){Kt(this.g,"b")},Wa.prototype.createWebChannel=Wa.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,mx=function(){return new Wa},fx=function(){return Va()},dx=qn,Mg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},St.NO_ERROR=0,St.TIMEOUT=8,St.HTTP_ERROR=6,Fh=St,tn.COMPLETE="complete",hx=tn,uu.EventType=bs,bs.OPEN="a",bs.CLOSE="b",bs.ERROR="c",bs.MESSAGE="d",zt.prototype.listen=zt.prototype.J,Tc=uu,dt.prototype.listenOnce=dt.prototype.K,dt.prototype.getLastError=dt.prototype.Ha,dt.prototype.getLastErrorCode=dt.prototype.ya,dt.prototype.getStatus=dt.prototype.ca,dt.prototype.getResponseJson=dt.prototype.La,dt.prototype.getResponseText=dt.prototype.la,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Fa,ux=dt}).apply(typeof kh<"u"?kh:typeof self<"u"?self:typeof window<"u"?window:{});const Ab="@firebase/firestore",Rb="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gn.UNAUTHENTICATED=new gn(null),gn.GOOGLE_CREDENTIALS=new gn("google-credentials-uid"),gn.FIRST_PARTY=new gn("first-party-uid"),gn.MOCK_USER=new gn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na=new gp("@firebase/firestore");function Uo(){return Na.logLevel}function fe(r,...e){if(Na.logLevel<=Ke.DEBUG){const t=e.map(Sp);Na.debug(`Firestore (${cl}): ${r}`,...t)}}function _r(r,...e){if(Na.logLevel<=Ke.ERROR){const t=e.map(Sp);Na.error(`Firestore (${cl}): ${r}`,...t)}}function Xo(r,...e){if(Na.logLevel<=Ke.WARN){const t=e.map(Sp);Na.warn(`Firestore (${cl}): ${r}`,...t)}}function Sp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(r,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,gx(r,s,t)}function gx(r,e,t){let s=`FIRESTORE (${cl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw _r(s),new Error(s)}function nt(r,e,t,s){let a="Unexpected state";typeof t=="string"?a=t:s=t,r||gx(e,a,s)}function De(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends br{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class OI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(gn.UNAUTHENTICATED))}shutdown(){}}class DI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class PI{constructor(e){this.t=e,this.currentUser=gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){nt(this.o===void 0,42304);let s=this.i;const a=g=>this.i!==s?(s=this.i,t(g)):Promise.resolve();let l=new vi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new vi,e.enqueueRetryable(()=>a(this.currentUser))};const u=()=>{const g=l;e.enqueueRetryable(async()=>{await g.promise,await a(this.currentUser)})},f=g=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(g=>f(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?f(g):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new vi)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(nt(typeof s.accessToken=="string",31837,{l:s}),new px(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return nt(e===null||typeof e=="string",2055,{h:e}),new gn(e)}}class MI{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=gn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class VI{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new MI(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(gn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Nb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UI{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){nt(this.o===void 0,3512);const s=l=>{l.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,fe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const a=l=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Nb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(nt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Nb(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=LI(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<t&&(s+=e.charAt(a[l]%62))}return s}}function Qe(r,e){return r<e?-1:r>e?1:0}function Vg(r,e){const t=Math.min(r.length,e.length);for(let s=0;s<t;s++){const a=r.charAt(s),l=e.charAt(s);if(a!==l)return ug(a)===ug(l)?Qe(a,l):ug(a)?1:-1}return Qe(r.length,e.length)}const zI=55296,BI=57343;function ug(r){const e=r.charCodeAt(0);return e>=zI&&e<=BI}function Jo(r,e,t){return r.length===e.length&&r.every((s,a)=>t(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb="__name__";class Ps{constructor(e,t,s){t===void 0?t=0:t>e.length&&Se(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Se(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Ps.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ps?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const l=Ps.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Qe(e.length,t.length)}static compareSegments(e,t){const s=Ps.isNumericId(e),a=Ps.isNumericId(t);return s&&!a?-1:!s&&a?1:s&&a?Ps.extractNumericId(e).compare(Ps.extractNumericId(t)):Vg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _i.fromString(e.substring(4,e.length-2))}}class gt extends Ps{construct(e,t,s){return new gt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new de(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new gt(t)}static emptyPath(){return new gt([])}}const qI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class on extends Ps{construct(e,t,s){return new on(e,t,s)}static isValidIdentifier(e){return qI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),on.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Cb}static keyField(){return new on([Cb])}static fromServerFormat(e){const t=[];let s="",a=0;const l=()=>{if(s.length===0)throw new de(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let u=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new de(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[a+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new de(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,a+=2}else f==="`"?(u=!u,a++):f!=="."||u?(s+=f,a++):(l(),a++)}if(l(),u)throw new de(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new on(t)}static emptyPath(){return new on([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(gt.fromString(e))}static fromName(e){return new be(gt.fromString(e).popFirst(5))}static empty(){return new be(gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return gt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new gt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yx(r,e,t){if(!t)throw new de(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function $I(r,e,t,s){if(e===!0&&s===!0)throw new de(Z.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function Ib(r){if(!be.isDocumentKey(r))throw new de(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function kb(r){if(be.isDocumentKey(r))throw new de(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function _x(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Rd(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Se(12329,{type:typeof r})}function gs(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new de(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Rd(r);throw new de(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(r,e){const t={typeString:r};return e&&(t.value=e),t}function Zc(r,e){if(!_x(r))throw new de(Z.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){t=`JSON missing required field: '${s}'`;break}const u=r[s];if(a&&typeof u!==a){t=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){t=`Expected '${s}' field to equal '${l.value}'`;break}}if(t)throw new de(Z.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb=-62135596800,Ob=1e6;class yt{static now(){return yt.fromMillis(Date.now())}static fromDate(e){return yt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*Ob);return new yt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new de(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new de(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<jb)throw new de(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ob}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:yt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Zc(e,yt._jsonSchema))return new yt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-jb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}yt._jsonSchemaVersion="firestore/timestamp/1.0",yt._jsonSchema={type:Lt("string",yt._jsonSchemaVersion),seconds:Lt("number"),nanoseconds:Lt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new yt(0,0))}static max(){return new ke(new yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc=-1;function HI(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,a=ke.fromTimestamp(s===1e9?new yt(t+1,0):new yt(t,s));return new Ei(a,be.empty(),e)}function FI(r){return new Ei(r.readTime,r.key,zc)}class Ei{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Ei(ke.min(),be.empty(),zc)}static max(){return new Ei(ke.max(),be.empty(),zc)}}function GI(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=be.comparator(r.documentKey,e.documentKey),t!==0?t:Qe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ul(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==KI)throw r;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.reject(t)}static resolve(e){return new ne((t,s)=>{t(e)})}static reject(e){return new ne((t,s)=>{s(e)})}static waitFor(e){return new ne((t,s)=>{let a=0,l=0,u=!1;e.forEach(f=>{++a,f.next(()=>{++l,u&&l===a&&t()},g=>s(g))}),u=!0,l===a&&t()})}static or(e){let t=ne.resolve(!1);for(const s of e)t=t.next(a=>a?ne.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,l)=>{s.push(t.call(this,a,l))}),this.waitFor(s)}static mapArray(e,t){return new ne((s,a)=>{const l=e.length,u=new Array(l);let f=0;for(let g=0;g<l;g++){const y=g;t(e[y]).next(_=>{u[y]=_,++f,f===l&&s(u)},_=>a(_))}})}static doWhile(e,t){return new ne((s,a)=>{const l=()=>{e()===!0?t().next(()=>{l()},a):s()};l()})}}function YI(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function hl(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Nd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp=-1;function Cd(r){return r==null}function ad(r){return r===0&&1/r==-1/0}function WI(r){return typeof r=="number"&&Number.isInteger(r)&&!ad(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx="";function XI(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=Db(e)),e=JI(r.get(t),e);return Db(e)}function JI(r,e){let t=e;const s=r.length;for(let a=0;a<s;a++){const l=r.charAt(a);switch(l){case"\0":t+="";break;case vx:t+="";break;default:t+=l}}return t}function Db(r){return r+vx+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Ni(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function bx(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,t){this.comparator=e,this.root=t||an.EMPTY}insert(e,t){return new wt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,an.BLACK,null,null))}remove(e){return new wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,an.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jh(this.root,e,this.comparator,!1)}getReverseIterator(){return new jh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jh(this.root,e,this.comparator,!0)}}class jh{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class an{constructor(e,t,s,a,l){this.key=e,this.value=t,this.color=s??an.RED,this.left=a??an.EMPTY,this.right=l??an.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,l){return new an(e??this.key,t??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,s),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return an.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return an.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,an.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,an.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,t,s,a,l){return this}insert(e,t,s){return new an(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.comparator=e,this.data=new wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Mb(this.data.getIterator())}getIteratorFrom(e){return new Mb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Gt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Gt(this.comparator);return t.data=e,t}}class Mb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.fields=e,e.sort(on.comparator)}static empty(){return new zn([])}unionWith(e){let t=new Gt(on.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new zn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Jo(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new wx("Invalid base64 string: "+l):l}}(e);return new ln(t)}static fromUint8Array(e){const t=function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l}(e);return new ln(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let a=0;a<t.length;a++)s[a]=t.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ln.EMPTY_BYTE_STRING=new ln("");const ZI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xi(r){if(nt(!!r,39018),typeof r=="string"){let e=0;const t=ZI.exec(r);if(nt(!!t,46558,{timestamp:r}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:kt(r.seconds),nanos:kt(r.nanos)}}function kt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ti(r){return typeof r=="string"?ln.fromBase64String(r):ln.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex="server_timestamp",xx="__type__",Tx="__previous_value__",Sx="__local_write_time__";function Np(r){var t,s;return((s=(((t=r==null?void 0:r.mapValue)==null?void 0:t.fields)||{})[xx])==null?void 0:s.stringValue)===Ex}function Id(r){const e=r.mapValue.fields[Tx];return Np(e)?Id(e):e}function Bc(r){const e=xi(r.mapValue.fields[Sx].timestampValue);return new yt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e,t,s,a,l,u,f,g,y,_){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=_}}const od="(default)";class qc{constructor(e,t){this.projectId=e,this.database=t||od}static empty(){return new qc("","")}get isDefaultDatabase(){return this.database===od}isEqual(e){return e instanceof qc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax="__type__",tk="__max__",Oh={mapValue:{}},Rx="__vector__",ld="value";function Si(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Np(r)?4:sk(r)?9007199254740991:nk(r)?10:11:Se(28295,{value:r})}function $s(r,e){if(r===e)return!0;const t=Si(r);if(t!==Si(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Bc(r).isEqual(Bc(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=xi(a.timestampValue),f=xi(l.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(a,l){return Ti(a.bytesValue).isEqual(Ti(l.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(a,l){return kt(a.geoPointValue.latitude)===kt(l.geoPointValue.latitude)&&kt(a.geoPointValue.longitude)===kt(l.geoPointValue.longitude)}(r,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return kt(a.integerValue)===kt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=kt(a.doubleValue),f=kt(l.doubleValue);return u===f?ad(u)===ad(f):isNaN(u)&&isNaN(f)}return!1}(r,e);case 9:return Jo(r.arrayValue.values||[],e.arrayValue.values||[],$s);case 10:case 11:return function(a,l){const u=a.mapValue.fields||{},f=l.mapValue.fields||{};if(Pb(u)!==Pb(f))return!1;for(const g in u)if(u.hasOwnProperty(g)&&(f[g]===void 0||!$s(u[g],f[g])))return!1;return!0}(r,e);default:return Se(52216,{left:r})}}function $c(r,e){return(r.values||[]).find(t=>$s(t,e))!==void 0}function Zo(r,e){if(r===e)return 0;const t=Si(r),s=Si(e);if(t!==s)return Qe(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Qe(r.booleanValue,e.booleanValue);case 2:return function(l,u){const f=kt(l.integerValue||l.doubleValue),g=kt(u.integerValue||u.doubleValue);return f<g?-1:f>g?1:f===g?0:isNaN(f)?isNaN(g)?0:-1:1}(r,e);case 3:return Vb(r.timestampValue,e.timestampValue);case 4:return Vb(Bc(r),Bc(e));case 5:return Vg(r.stringValue,e.stringValue);case 6:return function(l,u){const f=Ti(l),g=Ti(u);return f.compareTo(g)}(r.bytesValue,e.bytesValue);case 7:return function(l,u){const f=l.split("/"),g=u.split("/");for(let y=0;y<f.length&&y<g.length;y++){const _=Qe(f[y],g[y]);if(_!==0)return _}return Qe(f.length,g.length)}(r.referenceValue,e.referenceValue);case 8:return function(l,u){const f=Qe(kt(l.latitude),kt(u.latitude));return f!==0?f:Qe(kt(l.longitude),kt(u.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return Ub(r.arrayValue,e.arrayValue);case 10:return function(l,u){var T,I,L,q;const f=l.fields||{},g=u.fields||{},y=(T=f[ld])==null?void 0:T.arrayValue,_=(I=g[ld])==null?void 0:I.arrayValue,E=Qe(((L=y==null?void 0:y.values)==null?void 0:L.length)||0,((q=_==null?void 0:_.values)==null?void 0:q.length)||0);return E!==0?E:Ub(y,_)}(r.mapValue,e.mapValue);case 11:return function(l,u){if(l===Oh.mapValue&&u===Oh.mapValue)return 0;if(l===Oh.mapValue)return 1;if(u===Oh.mapValue)return-1;const f=l.fields||{},g=Object.keys(f),y=u.fields||{},_=Object.keys(y);g.sort(),_.sort();for(let E=0;E<g.length&&E<_.length;++E){const T=Vg(g[E],_[E]);if(T!==0)return T;const I=Zo(f[g[E]],y[_[E]]);if(I!==0)return I}return Qe(g.length,_.length)}(r.mapValue,e.mapValue);default:throw Se(23264,{he:t})}}function Vb(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Qe(r,e);const t=xi(r),s=xi(e),a=Qe(t.seconds,s.seconds);return a!==0?a:Qe(t.nanos,s.nanos)}function Ub(r,e){const t=r.values||[],s=e.values||[];for(let a=0;a<t.length&&a<s.length;++a){const l=Zo(t[a],s[a]);if(l)return l}return Qe(t.length,s.length)}function el(r){return Ug(r)}function Ug(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const s=xi(t);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return Ti(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return be.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let s="[",a=!0;for(const l of t.values||[])a?a=!1:s+=",",s+=Ug(l);return s+"]"}(r.arrayValue):"mapValue"in r?function(t){const s=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const u of s)l?l=!1:a+=",",a+=`${u}:${Ug(t.fields[u])}`;return a+"}"}(r.mapValue):Se(61005,{value:r})}function Gh(r){switch(Si(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Id(r);return e?16+Gh(e):16;case 5:return 2*r.stringValue.length;case 6:return Ti(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,l)=>a+Gh(l),0)}(r.arrayValue);case 10:case 11:return function(s){let a=0;return Ni(s.fields,(l,u)=>{a+=l.length+Gh(u)}),a}(r.mapValue);default:throw Se(13486,{value:r})}}function Lb(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Lg(r){return!!r&&"integerValue"in r}function Cp(r){return!!r&&"arrayValue"in r}function zb(r){return!!r&&"nullValue"in r}function Bb(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Kh(r){return!!r&&"mapValue"in r}function nk(r){var t,s;return((s=(((t=r==null?void 0:r.mapValue)==null?void 0:t.fields)||{})[Ax])==null?void 0:s.stringValue)===Rx}function kc(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ni(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=kc(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=kc(r.arrayValue.values[t]);return e}return{...r}}function sk(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===tk}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.value=e}static empty(){return new In({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Kh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=kc(t)}setAll(e){let t=on.emptyPath(),s={},a=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const g=this.getFieldsMap(t);this.applyChanges(g,s,a),s={},a=[],t=f.popLast()}u?s[f.lastSegment()]=kc(u):a.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,s,a)}delete(e){const t=this.field(e.popLast());Kh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return $s(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];Kh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){Ni(t,(a,l)=>e[a]=l);for(const a of s)delete e[a]}clone(){return new In(kc(this.value))}}function Nx(r){const e=[];return Ni(r.fields,(t,s)=>{const a=new on([t]);if(Kh(s)){const l=Nx(s.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)}),new zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e,t,s,a,l,u,f){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=l,this.data=u,this.documentState=f}static newInvalidDocument(e){return new pn(e,0,ke.min(),ke.min(),ke.min(),In.empty(),0)}static newFoundDocument(e,t,s,a){return new pn(e,1,t,ke.min(),s,a,0)}static newNoDocument(e,t){return new pn(e,2,t,ke.min(),ke.min(),In.empty(),0)}static newUnknownDocument(e,t){return new pn(e,3,t,ke.min(),ke.min(),In.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,t){this.position=e,this.inclusive=t}}function qb(r,e,t){let s=0;for(let a=0;a<r.position.length;a++){const l=e[a],u=r.position[a];if(l.field.isKeyField()?s=be.comparator(be.fromName(u.referenceValue),t.key):s=Zo(u,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function $b(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!$s(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,t="asc"){this.field=e,this.dir=t}}function rk(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{}class Ut extends Cx{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new ak(e,t,s):t==="array-contains"?new ck(e,s):t==="in"?new uk(e,s):t==="not-in"?new hk(e,s):t==="array-contains-any"?new dk(e,s):new Ut(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new ok(e,s):new lk(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Zo(t,this.value)):t!==null&&Si(this.value)===Si(t)&&this.matchesComparison(Zo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ys extends Cx{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new ys(e,t)}matches(e){return Ix(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Ix(r){return r.op==="and"}function kx(r){return ik(r)&&Ix(r)}function ik(r){for(const e of r.filters)if(e instanceof ys)return!1;return!0}function zg(r){if(r instanceof Ut)return r.field.canonicalString()+r.op.toString()+el(r.value);if(kx(r))return r.filters.map(e=>zg(e)).join(",");{const e=r.filters.map(t=>zg(t)).join(",");return`${r.op}(${e})`}}function jx(r,e){return r instanceof Ut?function(s,a){return a instanceof Ut&&s.op===a.op&&s.field.isEqual(a.field)&&$s(s.value,a.value)}(r,e):r instanceof ys?function(s,a){return a instanceof ys&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((l,u,f)=>l&&jx(u,a.filters[f]),!0):!1}(r,e):void Se(19439)}function Ox(r){return r instanceof Ut?function(t){return`${t.field.canonicalString()} ${t.op} ${el(t.value)}`}(r):r instanceof ys?function(t){return t.op.toString()+" {"+t.getFilters().map(Ox).join(" ,")+"}"}(r):"Filter"}class ak extends Ut{constructor(e,t,s){super(e,t,s),this.key=be.fromName(s.referenceValue)}matches(e){const t=be.comparator(e.key,this.key);return this.matchesComparison(t)}}class ok extends Ut{constructor(e,t){super(e,"in",t),this.keys=Dx("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class lk extends Ut{constructor(e,t){super(e,"not-in",t),this.keys=Dx("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Dx(r,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map(s=>be.fromName(s.referenceValue))}class ck extends Ut{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Cp(t)&&$c(t.arrayValue,this.value)}}class uk extends Ut{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&$c(this.value.arrayValue,t)}}class hk extends Ut{constructor(e,t){super(e,"not-in",t)}matches(e){if($c(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!$c(this.value.arrayValue,t)}}class dk extends Ut{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Cp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>$c(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e,t=null,s=[],a=[],l=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=u,this.endAt=f,this.Te=null}}function Hb(r,e=null,t=[],s=[],a=null,l=null,u=null){return new fk(r,e,t,s,a,l,u)}function Ip(r){const e=De(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>zg(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),Cd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>el(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>el(s)).join(",")),e.Te=t}return e.Te}function kp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!rk(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!jx(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!$b(r.startAt,e.startAt)&&$b(r.endAt,e.endAt)}function Bg(r){return be.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,t=null,s=[],a=[],l=null,u="F",f=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=u,this.startAt=f,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function mk(r,e,t,s,a,l,u,f){return new eu(r,e,t,s,a,l,u,f)}function jp(r){return new eu(r)}function Fb(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Px(r){return r.collectionGroup!==null}function jc(r){const e=De(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new Gt(on.comparator);return u.filters.forEach(g=>{g.getFlattenedFilters().forEach(y=>{y.isInequality()&&(f=f.add(y.field))})}),f})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new ud(l,s))}),t.has(on.keyField().canonicalString())||e.Ie.push(new ud(on.keyField(),s))}return e.Ie}function Ls(r){const e=De(r);return e.Ee||(e.Ee=gk(e,jc(r))),e.Ee}function gk(r,e){if(r.limitType==="F")return Hb(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new ud(a.field,l)});const t=r.endAt?new cd(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new cd(r.startAt.position,r.startAt.inclusive):null;return Hb(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function qg(r,e){const t=r.filters.concat([e]);return new eu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function $g(r,e,t){return new eu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function kd(r,e){return kp(Ls(r),Ls(e))&&r.limitType===e.limitType}function Mx(r){return`${Ip(Ls(r))}|lt:${r.limitType}`}function Lo(r){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(a=>Ox(a)).join(", ")}]`),Cd(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(a=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(a)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(a=>el(a)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(a=>el(a)).join(",")),`Target(${s})`}(Ls(r))}; limitType=${r.limitType})`}function jd(r,e){return e.isFoundDocument()&&function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):be.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(r,e)&&function(s,a){for(const l of jc(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(r,e)&&function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0}(r,e)&&function(s,a){return!(s.startAt&&!function(u,f,g){const y=qb(u,f,g);return u.inclusive?y<=0:y<0}(s.startAt,jc(s),a)||s.endAt&&!function(u,f,g){const y=qb(u,f,g);return u.inclusive?y>=0:y>0}(s.endAt,jc(s),a))}(r,e)}function pk(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Vx(r){return(e,t)=>{let s=!1;for(const a of jc(r)){const l=yk(a,e,t);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function yk(r,e,t){const s=r.field.isKeyField()?be.comparator(e.key,t.key):function(l,u,f){const g=u.data.field(l),y=f.data.field(l);return g!==null&&y!==null?Zo(g,y):Se(42886)}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Se(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ni(this.inner,(t,s)=>{for(const[a,l]of s)e(a,l)})}isEmpty(){return bx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k=new wt(be.comparator);function vr(){return _k}const Ux=new wt(be.comparator);function Sc(...r){let e=Ux;for(const t of r)e=e.insert(t.key,t);return e}function Lx(r){let e=Ux;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function wa(){return Oc()}function zx(){return Oc()}function Oc(){return new ja(r=>r.toString(),(r,e)=>r.isEqual(e))}const vk=new wt(be.comparator),bk=new Gt(be.comparator);function Ye(...r){let e=bk;for(const t of r)e=e.add(t);return e}const wk=new Gt(Qe);function Ek(){return wk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Op(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ad(e)?"-0":e}}function Bx(r){return{integerValue:""+r}}function xk(r,e){return WI(e)?Bx(e):Op(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(){this._=void 0}}function Tk(r,e,t){return r instanceof hd?function(a,l){const u={fields:{[xx]:{stringValue:Ex},[Sx]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Np(l)&&(l=Id(l)),l&&(u.fields[Tx]=l),{mapValue:u}}(t,e):r instanceof Hc?$x(r,e):r instanceof Fc?Hx(r,e):function(a,l){const u=qx(a,l),f=Gb(u)+Gb(a.Ae);return Lg(u)&&Lg(a.Ae)?Bx(f):Op(a.serializer,f)}(r,e)}function Sk(r,e,t){return r instanceof Hc?$x(r,e):r instanceof Fc?Hx(r,e):t}function qx(r,e){return r instanceof dd?function(s){return Lg(s)||function(l){return!!l&&"doubleValue"in l}(s)}(e)?e:{integerValue:0}:null}class hd extends Od{}class Hc extends Od{constructor(e){super(),this.elements=e}}function $x(r,e){const t=Fx(e);for(const s of r.elements)t.some(a=>$s(a,s))||t.push(s);return{arrayValue:{values:t}}}class Fc extends Od{constructor(e){super(),this.elements=e}}function Hx(r,e){let t=Fx(e);for(const s of r.elements)t=t.filter(a=>!$s(a,s));return{arrayValue:{values:t}}}class dd extends Od{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Gb(r){return kt(r.integerValue||r.doubleValue)}function Fx(r){return Cp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function Ak(r,e){return r.field.isEqual(e.field)&&function(s,a){return s instanceof Hc&&a instanceof Hc||s instanceof Fc&&a instanceof Fc?Jo(s.elements,a.elements,$s):s instanceof dd&&a instanceof dd?$s(s.Ae,a.Ae):s instanceof hd&&a instanceof hd}(r.transform,e.transform)}class Rk{constructor(e,t){this.version=e,this.transformResults=t}}class ps{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ps}static exists(e){return new ps(void 0,e)}static updateTime(e){return new ps(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Dd{}function Gx(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Dp(r.key,ps.none()):new tu(r.key,r.data,ps.none());{const t=r.data,s=In.empty();let a=new Gt(on.comparator);for(let l of e.fields)if(!a.has(l)){let u=t.field(l);u===null&&l.length>1&&(l=l.popLast(),u=t.field(l)),u===null?s.delete(l):s.set(l,u),a=a.add(l)}return new Ci(r.key,s,new zn(a.toArray()),ps.none())}}function Nk(r,e,t){r instanceof tu?function(a,l,u){const f=a.value.clone(),g=Qb(a.fieldTransforms,l,u.transformResults);f.setAll(g),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(r,e,t):r instanceof Ci?function(a,l,u){if(!Qh(a.precondition,l))return void l.convertToUnknownDocument(u.version);const f=Qb(a.fieldTransforms,l,u.transformResults),g=l.data;g.setAll(Kx(a)),g.setAll(f),l.convertToFoundDocument(u.version,g).setHasCommittedMutations()}(r,e,t):function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Dc(r,e,t,s){return r instanceof tu?function(l,u,f,g){if(!Qh(l.precondition,u))return f;const y=l.value.clone(),_=Yb(l.fieldTransforms,g,u);return y.setAll(_),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),null}(r,e,t,s):r instanceof Ci?function(l,u,f,g){if(!Qh(l.precondition,u))return f;const y=Yb(l.fieldTransforms,g,u),_=u.data;return _.setAll(Kx(l)),_.setAll(y),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(E=>E.field))}(r,e,t,s):function(l,u,f){return Qh(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f}(r,e,t)}function Ck(r,e){let t=null;for(const s of r.fieldTransforms){const a=e.data.field(s.field),l=qx(s.transform,a||null);l!=null&&(t===null&&(t=In.empty()),t.set(s.field,l))}return t||null}function Kb(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Jo(s,a,(l,u)=>Ak(l,u))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class tu extends Dd{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ci extends Dd{constructor(e,t,s,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Kx(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function Qb(r,e,t){const s=new Map;nt(r.length===t.length,32656,{Re:t.length,Ve:r.length});for(let a=0;a<t.length;a++){const l=r[a],u=l.transform,f=e.data.field(l.field);s.set(l.field,Sk(u,f,t[a]))}return s}function Yb(r,e,t){const s=new Map;for(const a of r){const l=a.transform,u=t.data.field(a.field);s.set(a.field,Tk(l,u,e))}return s}class Dp extends Dd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ik extends Dd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&Nk(l,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Dc(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Dc(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=zx();return this.mutations.forEach(a=>{const l=e.get(a.key),u=l.overlayedDocument;let f=this.applyToLocalView(u,l.mutatedFields);f=t.has(a.key)?null:f;const g=Gx(u,f);g!==null&&s.set(a.key,g),u.isValidDocument()||u.convertToNoDocument(ke.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ye())}isEqual(e){return this.batchId===e.batchId&&Jo(this.mutations,e.mutations,(t,s)=>Kb(t,s))&&Jo(this.baseMutations,e.baseMutations,(t,s)=>Kb(t,s))}}class Pp{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){nt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=function(){return vk}();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,s[u].version);return new Pp(e,t,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,Je;function Dk(r){switch(r){case Z.OK:return Se(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Se(15467,{code:r})}}function Qx(r){if(r===void 0)return _r("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Pt.OK:return Z.OK;case Pt.CANCELLED:return Z.CANCELLED;case Pt.UNKNOWN:return Z.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return Z.INTERNAL;case Pt.UNAVAILABLE:return Z.UNAVAILABLE;case Pt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Pt.NOT_FOUND:return Z.NOT_FOUND;case Pt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Pt.ABORTED:return Z.ABORTED;case Pt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Pt.DATA_LOSS:return Z.DATA_LOSS;default:return Se(39323,{code:r})}}(Je=Pt||(Pt={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk=new _i([4294967295,4294967295],0);function Wb(r){const e=Pk().encode(r),t=new cx;return t.update(e),new Uint8Array(t.digest())}function Xb(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new _i([t,s],0),new _i([a,l],0)]}class Mp{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Ac(`Invalid padding: ${t}`);if(s<0)throw new Ac(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ac(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Ac(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=_i.fromNumber(this.ge)}ye(e,t,s){let a=e.add(t.multiply(_i.fromNumber(s)));return a.compare(Mk)===1&&(a=new _i([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Wb(e),[s,a]=Xb(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);if(!this.we(u))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new Mp(l,a,t);return s.forEach(f=>u.insert(f)),u}insert(e){if(this.ge===0)return;const t=Wb(e),[s,a]=Xb(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);this.Se(u)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Ac extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,t,s,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,nu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Pd(ke.min(),a,new wt(Qe),vr(),Ye())}}class nu{constructor(e,t,s,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new nu(s,t,Ye(),Ye(),Ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,t,s,a){this.be=e,this.removedTargetIds=t,this.key=s,this.De=a}}class Yx{constructor(e,t){this.targetId=e,this.Ce=t}}class Wx{constructor(e,t,s=ln.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class Jb{constructor(){this.ve=0,this.Fe=Zb(),this.Me=ln.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ye(),t=Ye(),s=Ye();return this.Fe.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:Se(38017,{changeType:l})}}),new nu(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=Zb()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,nt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Vk{constructor(e){this.Ge=e,this.ze=new Map,this.je=vr(),this.Je=Dh(),this.He=Dh(),this.Ye=new wt(Qe)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((s,a)=>{this.rt(a)&&t(a)})}st(e){const t=e.targetId,s=e.Ce.count,a=this.ot(t);if(a){const l=a.target;if(Bg(l))if(s===0){const u=new be(l.path);this.et(t,u,pn.newNoDocument(u,ke.min()))}else nt(s===1,20013,{expectedCount:s});else{const u=this._t(t);if(u!==s){const f=this.ut(e),g=f?this.ct(f,e,u):1;if(g!==0){this.it(t);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,y)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=t;let u,f;try{u=Ti(s).toUint8Array()}catch(g){if(g instanceof wx)return Xo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{f=new Mp(u,a,l)}catch(g){return Xo(g instanceof Ac?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return f.ge===0?null:f}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let a=0;return s.forEach(l=>{const u=this.Ge.ht(),f=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(t,l,null),a++)}),a}Tt(e){const t=new Map;this.ze.forEach((l,u)=>{const f=this.ot(u);if(f){if(l.current&&Bg(f.target)){const g=new be(f.target.path);this.It(g).has(u)||this.Et(u,g)||this.et(u,g,pn.newNoDocument(g,e))}l.Be&&(t.set(u,l.ke()),l.qe())}});let s=Ye();this.He.forEach((l,u)=>{let f=!0;u.forEachWhile(g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(s=s.add(l))}),this.je.forEach((l,u)=>u.setReadTime(e));const a=new Pd(e,t,this.Ye,this.je,s);return this.je=vr(),this.Je=Dh(),this.He=Dh(),this.Ye=new wt(Qe),a}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.Qe(t,1):a.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Jb,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Gt(Qe),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Gt(Qe),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||fe("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Jb),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Dh(){return new wt(be.comparator)}function Zb(){return new wt(be.comparator)}const Uk={asc:"ASCENDING",desc:"DESCENDING"},Lk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zk={and:"AND",or:"OR"};class Bk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Hg(r,e){return r.useProto3Json||Cd(e)?e:{value:e}}function fd(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Xx(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function qk(r,e){return fd(r,e.toTimestamp())}function zs(r){return nt(!!r,49232),ke.fromTimestamp(function(t){const s=xi(t);return new yt(s.seconds,s.nanos)}(r))}function Vp(r,e){return Fg(r,e).canonicalString()}function Fg(r,e){const t=function(a){return new gt(["projects",a.projectId,"databases",a.database])}(r).child("documents");return e===void 0?t:t.child(e)}function Jx(r){const e=gt.fromString(r);return nt(sT(e),10190,{key:e.toString()}),e}function Gg(r,e){return Vp(r.databaseId,e.path)}function hg(r,e){const t=Jx(e);if(t.get(1)!==r.databaseId.projectId)throw new de(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new de(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new be(eT(t))}function Zx(r,e){return Vp(r.databaseId,e)}function $k(r){const e=Jx(r);return e.length===4?gt.emptyPath():eT(e)}function Kg(r){return new gt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function eT(r){return nt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function ew(r,e,t){return{name:Gg(r,e),fields:t.value.mapValue.fields}}function Hk(r,e){let t;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Se(39313,{state:y})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(y,_){return y.useProto3Json?(nt(_===void 0||typeof _=="string",58123),ln.fromBase64String(_||"")):(nt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),ln.fromUint8Array(_||new Uint8Array))}(r,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(y){const _=y.code===void 0?Z.UNKNOWN:Qx(y.code);return new de(_,y.message||"")}(u);t=new Wx(s,a,l,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=hg(r,s.document.name),l=zs(s.document.updateTime),u=s.document.createTime?zs(s.document.createTime):ke.min(),f=new In({mapValue:{fields:s.document.fields}}),g=pn.newFoundDocument(a,l,u,f),y=s.targetIds||[],_=s.removedTargetIds||[];t=new Yh(y,_,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=hg(r,s.document),l=s.readTime?zs(s.readTime):ke.min(),u=pn.newNoDocument(a,l),f=s.removedTargetIds||[];t=new Yh([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=hg(r,s.document),l=s.removedTargetIds||[];t=new Yh([],l,a,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,u=new Ok(a,l),f=s.targetId;t=new Yx(f,u)}}return t}function Fk(r,e){let t;if(e instanceof tu)t={update:ew(r,e.key,e.value)};else if(e instanceof Dp)t={delete:Gg(r,e.key)};else if(e instanceof Ci)t={update:ew(r,e.key,e.data),updateMask:ej(e.fieldMask)};else{if(!(e instanceof Ik))return Se(16599,{Vt:e.type});t={verify:Gg(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(l,u){const f=u.transform;if(f instanceof hd)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Hc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Fc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof dd)return{fieldPath:u.field.canonicalString(),increment:f.Ae};throw Se(20930,{transform:u.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:qk(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Se(27497)}(r,e.precondition)),t}function Gk(r,e){return r&&r.length>0?(nt(e!==void 0,14353),r.map(t=>function(a,l){let u=a.updateTime?zs(a.updateTime):zs(l);return u.isEqual(ke.min())&&(u=zs(l)),new Rk(u,a.transformResults||[])}(t,e))):[]}function Kk(r,e){return{documents:[Zx(r,e.path)]}}function Qk(r,e){const t={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=Zx(r,a);const l=function(y){if(y.length!==0)return nT(ys.create(y,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const u=function(y){if(y.length!==0)return y.map(_=>function(T){return{field:zo(T.field),direction:Xk(T.dir)}}(_))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const f=Hg(r,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ft:t,parent:a}}function Yk(r){let e=$k(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){nt(s===1,65062);const _=t.from[0];_.allDescendants?a=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=function(E){const T=tT(E);return T instanceof ys&&kx(T)?T.getFilters():[T]}(t.where));let u=[];t.orderBy&&(u=function(E){return E.map(T=>function(L){return new ud(Bo(L.field),function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction))}(T))}(t.orderBy));let f=null;t.limit&&(f=function(E){let T;return T=typeof E=="object"?E.value:E,Cd(T)?null:T}(t.limit));let g=null;t.startAt&&(g=function(E){const T=!!E.before,I=E.values||[];return new cd(I,T)}(t.startAt));let y=null;return t.endAt&&(y=function(E){const T=!E.before,I=E.values||[];return new cd(I,T)}(t.endAt)),mk(e,a,u,l,f,"F",g,y)}function Wk(r,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:a})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function tT(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Bo(t.unaryFilter.field);return Ut.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Bo(t.unaryFilter.field);return Ut.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Bo(t.unaryFilter.field);return Ut.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Bo(t.unaryFilter.field);return Ut.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}}(r):r.fieldFilter!==void 0?function(t){return Ut.create(Bo(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return ys.create(t.compositeFilter.filters.map(s=>tT(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Se(1026)}}(t.compositeFilter.op))}(r):Se(30097,{filter:r})}function Xk(r){return Uk[r]}function Jk(r){return Lk[r]}function Zk(r){return zk[r]}function zo(r){return{fieldPath:r.canonicalString()}}function Bo(r){return on.fromServerFormat(r.fieldPath)}function nT(r){return r instanceof Ut?function(t){if(t.op==="=="){if(Bb(t.value))return{unaryFilter:{field:zo(t.field),op:"IS_NAN"}};if(zb(t.value))return{unaryFilter:{field:zo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Bb(t.value))return{unaryFilter:{field:zo(t.field),op:"IS_NOT_NAN"}};if(zb(t.value))return{unaryFilter:{field:zo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zo(t.field),op:Jk(t.op),value:t.value}}}(r):r instanceof ys?function(t){const s=t.getFilters().map(a=>nT(a));return s.length===1?s[0]:{compositeFilter:{op:Zk(t.op),filters:s}}}(r):Se(54877,{filter:r})}function ej(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function sT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e,t,s,a,l=ke.min(),u=ke.min(),f=ln.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=g}withSequenceNumber(e){return new fi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new fi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(e){this.yt=e}}function nj(r){const e=Yk({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?$g(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(){this.Cn=new rj}addToCollectionParentIndex(e,t){return this.Cn.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(Ei.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(Ei.min())}updateCollectionGroup(e,t,s){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class rj{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new Gt(gt.comparator),l=!a.has(s);return this.index[t]=a.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Gt(gt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rT=41943040;class Nn{static withCacheSize(e){return new Nn(e,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nn.DEFAULT_COLLECTION_PERCENTILE=10,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nn.DEFAULT=new Nn(rT,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nn.DISABLED=new Nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new tl(0)}static cr(){return new tl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw="LruGarbageCollector",ij=1048576;function sw([r,e],[t,s]){const a=Qe(r,t);return a===0?Qe(e,s):a}class aj{constructor(e){this.Ir=e,this.buffer=new Gt(sw),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();sw(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class oj{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(nw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){hl(t)?fe(nw,"Ignoring IndexedDB error during garbage collection: ",t):await ul(t)}await this.Vr(3e5)})}}class lj{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return ne.resolve(Nd.ce);const s=new aj(t);return this.mr.forEachTarget(e,a=>s.Ar(a.sequenceNumber)).next(()=>this.mr.pr(e,a=>s.Ar(a))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(tw)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tw):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,a,l,u,f,g,y;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),a=this.params.maximumSequenceNumbersToCollect):a=E,u=Date.now(),this.nthSequenceNumber(e,a))).next(E=>(s=E,f=Date.now(),this.removeTargets(e,s,t))).next(E=>(l=E,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(E=>(y=Date.now(),Uo()<=Ke.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-_}ms
	Determined least recently used ${a} in `+(f-u)+`ms
	Removed ${l} targets in `+(g-f)+`ms
	Removed ${E} documents in `+(y-g)+`ms
Total Duration: ${y-_}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:E})))}}function cj(r,e){return new lj(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(){this.changes=new ja(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?ne.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hj{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(s!==null&&Dc(s.mutation,a,zn.empty(),yt.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Ye()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Ye()){const a=wa();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,s).next(l=>{let u=Sc();return l.forEach((f,g)=>{u=u.insert(f,g.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const s=wa();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Ye()))}populateOverlays(e,t,s){const a=[];return s.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,s,a){let l=vr();const u=Oc(),f=function(){return Oc()}();return t.forEach((g,y)=>{const _=s.get(y.key);a.has(y.key)&&(_===void 0||_.mutation instanceof Ci)?l=l.insert(y.key,y):_!==void 0?(u.set(y.key,_.mutation.getFieldMask()),Dc(_.mutation,y,_.mutation.getFieldMask(),yt.now())):u.set(y.key,zn.empty())}),this.recalculateAndSaveOverlays(e,l).next(g=>(g.forEach((y,_)=>u.set(y,_)),t.forEach((y,_)=>f.set(y,new hj(_,u.get(y)??null))),f))}recalculateAndSaveOverlays(e,t){const s=Oc();let a=new wt((u,f)=>u-f),l=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const f of u)f.keys().forEach(g=>{const y=t.get(g);if(y===null)return;let _=s.get(g)||zn.empty();_=f.applyToLocalView(y,_),s.set(g,_);const E=(a.get(f.batchId)||Ye()).add(g);a=a.insert(f.batchId,E)})}).next(()=>{const u=[],f=a.getReverseIterator();for(;f.hasNext();){const g=f.getNext(),y=g.key,_=g.value,E=zx();_.forEach(T=>{if(!l.has(T)){const I=Gx(t.get(T),s.get(T));I!==null&&E.set(T,I),l=l.add(T)}}),u.push(this.documentOverlayCache.saveOverlays(e,y,E))}return ne.waitFor(u)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,a){return function(u){return be.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Px(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,a):this.getDocumentsMatchingCollectionQuery(e,t,s,a)}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next(l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-l.size):ne.resolve(wa());let f=zc,g=l;return u.next(y=>ne.forEach(y,(_,E)=>(f<E.largestBatchId&&(f=E.largestBatchId),l.get(_)?ne.resolve():this.remoteDocumentCache.getEntry(e,_).next(T=>{g=g.insert(_,T)}))).next(()=>this.populateOverlays(e,y,l)).next(()=>this.computeViews(e,g,y,Ye())).next(_=>({batchId:f,changes:Lx(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new be(t)).next(s=>{let a=Sc();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,s,a){const l=t.collectionGroup;let u=Sc();return this.indexManager.getCollectionParents(e,l).next(f=>ne.forEach(f,g=>{const y=function(E,T){return new eu(T,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(t,g.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,s,a).next(_=>{_.forEach((E,T)=>{u=u.insert(E,T)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,a))).next(u=>{l.forEach((g,y)=>{const _=y.getKey();u.get(_)===null&&(u=u.insert(_,pn.newInvalidDocument(_)))});let f=Sc();return u.forEach((g,y)=>{const _=l.get(g);_!==void 0&&Dc(_.mutation,y,zn.empty(),yt.now()),jd(t,y)&&(f=f.insert(g,y))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ne.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:zs(a.createTime)}}(t)),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(a){return{name:a.name,query:nj(a.bundledQuery),readTime:zs(a.readTime)}}(t)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj{constructor(){this.overlays=new wt(be.comparator),this.qr=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const s=wa();return ne.forEach(t,a=>this.getOverlay(e,a).next(l=>{l!==null&&s.set(a,l)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((a,l)=>{this.St(e,t,l)}),ne.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.qr.delete(s)),ne.resolve()}getOverlaysForCollection(e,t,s){const a=wa(),l=t.length+1,u=new be(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const g=f.getNext().value,y=g.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===l&&g.largestBatchId>s&&a.set(g.getKey(),g)}return ne.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let l=new wt((y,_)=>y-_);const u=this.overlays.getIterator();for(;u.hasNext();){const y=u.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>s){let _=l.get(y.largestBatchId);_===null&&(_=wa(),l=l.insert(y.largestBatchId,_)),_.set(y.getKey(),y)}}const f=wa(),g=l.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,_)=>f.set(y,_)),!(f.size()>=a)););return ne.resolve(f)}St(e,t,s){const a=this.overlays.get(s.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new jk(t,s));let l=this.qr.get(t);l===void 0&&(l=Ye(),this.qr.set(t,l)),this.qr.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(){this.sessionToken=ln.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(){this.Qr=new Gt(Zt.$r),this.Ur=new Gt(Zt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new Zt(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.Gr(new Zt(e,t))}zr(e,t){e.forEach(s=>this.removeReference(s,t))}jr(e){const t=new be(new gt([])),s=new Zt(t,e),a=new Zt(t,e+1),l=[];return this.Ur.forEachInRange([s,a],u=>{this.Gr(u),l.push(u.key)}),l}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new be(new gt([])),s=new Zt(t,e),a=new Zt(t,e+1);let l=Ye();return this.Ur.forEachInRange([s,a],u=>{l=l.add(u.key)}),l}containsKey(e){const t=new Zt(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Zt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return be.comparator(e.key,t.key)||Qe(e.Yr,t.Yr)}static Kr(e,t){return Qe(e.Yr,t.Yr)||be.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Gt(Zt.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new kk(l,t,s,a);this.mutationQueue.push(u);for(const f of a)this.Zr=this.Zr.add(new Zt(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ne.resolve(u)}lookupMutationBatch(e,t){return ne.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=this.ei(s),l=a<0?0:a;return ne.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?Rp:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Zt(t,0),a=new Zt(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],u=>{const f=this.Xr(u.Yr);l.push(f)}),ne.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Gt(Qe);return t.forEach(a=>{const l=new Zt(a,0),u=new Zt(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],f=>{s=s.add(f.Yr)})}),ne.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let l=s;be.isDocumentKey(l)||(l=l.child(""));const u=new Zt(new be(l),0);let f=new Gt(Qe);return this.Zr.forEachWhile(g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===a&&(f=f.add(g.Yr)),!0)},u),ne.resolve(this.ti(f))}ti(e){const t=[];return e.forEach(s=>{const a=this.Xr(s);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){nt(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ne.forEach(t.mutations,a=>{const l=new Zt(a.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,t){const s=new Zt(t,0),a=this.Zr.firstAfterOrEqual(s);return ne.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(e){this.ri=e,this.docs=function(){return new wt(be.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),l=a?a.size:0,u=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return ne.resolve(s?s.document.mutableCopy():pn.newInvalidDocument(t))}getEntries(e,t){let s=vr();return t.forEach(a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():pn.newInvalidDocument(a))}),ne.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let l=vr();const u=t.path,f=new be(u.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(f);for(;g.hasNext();){const{key:y,value:{document:_}}=g.getNext();if(!u.isPrefixOf(y.path))break;y.path.length>u.length+1||GI(FI(_),s)<=0||(a.has(_.key)||jd(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return ne.resolve(l)}getAllFromCollectionGroup(e,t,s,a){Se(9500)}ii(e,t){return ne.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new _j(this)}getSize(e){return ne.resolve(this.size)}}class _j extends uj{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?t.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)}),ne.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{constructor(e){this.persistence=e,this.si=new ja(t=>Ip(t),kp),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.oi=0,this._i=new Up,this.targetCount=0,this.ai=tl.ur()}forEachTarget(e,t){return this.si.forEach((s,a)=>t(a)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),ne.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new tl(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.Pr(t),ne.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,s){let a=0;const l=[];return this.si.forEach((u,f)=>{f.sequenceNumber<=t&&s.get(f.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)}),ne.waitFor(l).next(()=>a)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return ne.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),ne.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(u=>{l.push(a.markPotentiallyOrphaned(e,u))}),ne.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return ne.resolve(s)}containsKey(e,t){return ne.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(e,t){this.ui={},this.overlays={},this.ci=new Nd(0),this.li=!1,this.li=!0,this.hi=new gj,this.referenceDelegate=e(this),this.Pi=new vj(this),this.indexManager=new sj,this.remoteDocumentCache=function(a){return new yj(a)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new tj(t),this.Ii=new fj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new mj,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new pj(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){fe("MemoryPersistence","Starting transaction:",e);const a=new bj(this.ci.next());return this.referenceDelegate.Ei(),s(a).next(l=>this.referenceDelegate.di(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ai(e,t){return ne.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,t)))}}class bj extends QI{constructor(e){super(),this.currentSequenceNumber=e}}class Lp{constructor(e){this.persistence=e,this.Ri=new Up,this.Vi=null}static mi(e){return new Lp(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),ne.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ne.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(a=>this.fi.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.fi.add(l.toString()))}).next(()=>s.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,s=>{const a=be.fromPath(s);return this.gi(e,a).next(l=>{l||t.removeEntry(a,ke.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return ne.or([()=>ne.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class md{constructor(e,t){this.persistence=e,this.pi=new ja(s=>XI(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=cj(this,t)}static mi(e,t){return new md(e,t)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(a=>s+a))}wr(e){let t=0;return this.pr(e,s=>{t++}).next(()=>t)}pr(e,t){return ne.forEach(this.pi,(s,a)=>this.br(e,s,a).next(l=>l?ne.resolve():t(a)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,u=>this.br(e,u,t).next(f=>{f||(s++,l.removeEntry(u,ke.min()))})).next(()=>l.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ne.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ne.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Gh(e.data.value)),t}br(e,t,s){return ne.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.pi.get(t);return ne.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=a}static As(e,t){let s=Ye(),a=Ye();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new zp(e,t.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return d2()?8:YI(yn())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,a){const l={result:null};return this.ys(e,t).next(u=>{l.result=u}).next(()=>{if(!l.result)return this.ws(e,t,a,s).next(u=>{l.result=u})}).next(()=>{if(l.result)return;const u=new wj;return this.Ss(e,t,u).next(f=>{if(l.result=f,this.Vs)return this.bs(e,t,u,f.size)})}).next(()=>l.result)}bs(e,t,s,a){return s.documentReadCount<this.fs?(Uo()<=Ke.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Lo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(Uo()<=Ke.DEBUG&&fe("QueryEngine","Query:",Lo(t),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(Uo()<=Ke.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Lo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ls(t))):ne.resolve())}ys(e,t){if(Fb(t))return ne.resolve(null);let s=Ls(t);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=$g(t,null,"F"),s=Ls(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const u=Ye(...l);return this.ps.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,s).next(g=>{const y=this.Ds(t,f);return this.Cs(t,y,u,g.readTime)?this.ys(e,$g(t,null,"F")):this.vs(e,y,t,g)}))})))}ws(e,t,s,a){return Fb(t)||a.isEqual(ke.min())?ne.resolve(null):this.ps.getDocuments(e,s).next(l=>{const u=this.Ds(t,l);return this.Cs(t,u,s,a)?ne.resolve(null):(Uo()<=Ke.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Lo(t)),this.vs(e,u,t,HI(a,zc)).next(f=>f))})}Ds(e,t){let s=new Gt(Vx(e));return t.forEach((a,l)=>{jd(e,l)&&(s=s.add(l))}),s}Cs(e,t,s,a){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,t,s){return Uo()<=Ke.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Lo(t)),this.ps.getDocumentsMatchingQuery(e,t,Ei.min(),s)}vs(e,t,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next(l=>(t.forEach(u=>{l=l.insert(u.key,u)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp="LocalStore",xj=3e8;class Tj{constructor(e,t,s,a){this.persistence=e,this.Fs=t,this.serializer=a,this.Ms=new wt(Qe),this.xs=new ja(l=>Ip(l),kp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dj(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function Sj(r,e,t,s){return new Tj(r,e,t,s)}async function aT(r,e){const t=De(r);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next(l=>(a=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(s))).next(l=>{const u=[],f=[];let g=Ye();for(const y of a){u.push(y.batchId);for(const _ of y.mutations)g=g.add(_.key)}for(const y of l){f.push(y.batchId);for(const _ of y.mutations)g=g.add(_.key)}return t.localDocuments.getDocuments(s,g).next(y=>({Ls:y,removedBatchIds:u,addedBatchIds:f}))})})}function Aj(r,e){const t=De(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return function(f,g,y,_){const E=y.batch,T=E.keys();let I=ne.resolve();return T.forEach(L=>{I=I.next(()=>_.getEntry(g,L)).next(q=>{const z=y.docVersions.get(L);nt(z!==null,48541),q.version.compareTo(z)<0&&(E.applyToRemoteDocument(q,y),q.isValidDocument()&&(q.setReadTime(y.commitVersion),_.addEntry(q)))})}),I.next(()=>f.mutationQueue.removeMutationBatch(g,E))}(t,s,e,l).next(()=>l.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(f){let g=Ye();for(let y=0;y<f.mutationResults.length;++y)f.mutationResults[y].transformResults.length>0&&(g=g.add(f.batch.mutations[y].key));return g}(e))).next(()=>t.localDocuments.getDocuments(s,a))})}function oT(r){const e=De(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function Rj(r,e){const t=De(r),s=e.snapshotVersion;let a=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});a=t.Ms;const f=[];e.targetChanges.forEach((_,E)=>{const T=a.get(E);if(!T)return;f.push(t.Pi.removeMatchingKeys(l,_.removedDocuments,E).next(()=>t.Pi.addMatchingKeys(l,_.addedDocuments,E)));let I=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(E)!==null?I=I.withResumeToken(ln.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):_.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(_.resumeToken,s)),a=a.insert(E,I),function(q,z,re){return q.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=xj?!0:re.addedDocuments.size+re.modifiedDocuments.size+re.removedDocuments.size>0}(T,I,_)&&f.push(t.Pi.updateTargetData(l,I))});let g=vr(),y=Ye();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))}),f.push(Nj(l,u,e.documentUpdates).next(_=>{g=_.ks,y=_.qs})),!s.isEqual(ke.min())){const _=t.Pi.getLastRemoteSnapshotVersion(l).next(E=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s));f.push(_)}return ne.waitFor(f).next(()=>u.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,g,y)).next(()=>g)}).then(l=>(t.Ms=a,l))}function Nj(r,e,t){let s=Ye(),a=Ye();return t.forEach(l=>s=s.add(l)),e.getEntries(r,s).next(l=>{let u=vr();return t.forEach((f,g)=>{const y=l.get(f);g.isFoundDocument()!==y.isFoundDocument()&&(a=a.add(f)),g.isNoDocument()&&g.version.isEqual(ke.min())?(e.removeEntry(f,g.readTime),u=u.insert(f,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),u=u.insert(f,g)):fe(Bp,"Ignoring outdated watch update for ",f,". Current version:",y.version," Watch version:",g.version)}),{ks:u,qs:a}})}function Cj(r,e){const t=De(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Rp),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Ij(r,e){const t=De(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.Pi.getTargetData(s,e).next(l=>l?(a=l,ne.resolve(a)):t.Pi.allocateTargetId(s).next(u=>(a=new fi(e,u,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s})}async function Qg(r,e,t){const s=De(r),a=s.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,u=>s.persistence.referenceDelegate.removeTarget(u,a))}catch(u){if(!hl(u))throw u;fe(Bp,`Failed to update sequence numbers for target ${e}: ${u}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function rw(r,e,t){const s=De(r);let a=ke.min(),l=Ye();return s.persistence.runTransaction("Execute query","readwrite",u=>function(g,y,_){const E=De(g),T=E.xs.get(_);return T!==void 0?ne.resolve(E.Ms.get(T)):E.Pi.getTargetData(y,_)}(s,u,Ls(e)).next(f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(u,f.targetId).next(g=>{l=g})}).next(()=>s.Fs.getDocumentsMatchingQuery(u,e,t?a:ke.min(),t?l:Ye())).next(f=>(kj(s,pk(e),f),{documents:f,Qs:l})))}function kj(r,e,t){let s=r.Os.get(e)||ke.min();t.forEach((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),r.Os.set(e,s)}class iw{constructor(){this.activeTargetIds=Ek()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jj{constructor(){this.Mo=new iw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new iw,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oj{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aw="ConnectivityMonitor";class ow{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(aw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(aw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ph=null;function Yg(){return Ph===null?Ph=function(){return 268435456+Math.round(2147483648*Math.random())}():Ph++,"0x"+Ph.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg="RestConnection",Dj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Pj{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===od?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,t,s,a,l){const u=Yg(),f=this.zo(e,t.toUriEncodedString());fe(dg,`Sending RPC '${e}' ${u}:`,f,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,a,l);const{host:y}=new URL(f),_=al(y);return this.Jo(e,f,g,s,_).then(E=>(fe(dg,`Received RPC '${e}' ${u}: `,E),E),E=>{throw Xo(dg,`RPC '${e}' ${u} failed with error: `,E,"url: ",f,"request:",s),E})}Ho(e,t,s,a,l,u){return this.Go(e,t,s,a,l)}jo(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+cl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),s&&s.headers.forEach((a,l)=>e[l]=a)}zo(e,t){const s=Dj[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mn="WebChannelConnection";class Vj extends Pj{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,a,l){const u=Yg();return new Promise((f,g)=>{const y=new ux;y.setWithCredentials(!0),y.listenOnce(hx.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Fh.NO_ERROR:const E=y.getResponseJson();fe(mn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case Fh.TIMEOUT:fe(mn,`RPC '${e}' ${u} timed out`),g(new de(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Fh.HTTP_ERROR:const T=y.getStatus();if(fe(mn,`RPC '${e}' ${u} failed with status:`,T,"response text:",y.getResponseText()),T>0){let I=y.getResponseJson();Array.isArray(I)&&(I=I[0]);const L=I==null?void 0:I.error;if(L&&L.status&&L.message){const q=function(re){const J=re.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(J)>=0?J:Z.UNKNOWN}(L.status);g(new de(q,L.message))}else g(new de(Z.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new de(Z.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:u,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{fe(mn,`RPC '${e}' ${u} completed.`)}});const _=JSON.stringify(a);fe(mn,`RPC '${e}' ${u} sending request:`,a),y.send(t,"POST",_,s,15)})}T_(e,t,s){const a=Yg(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=mx(),f=fx(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,t,s),g.encodeInitMessageHeaders=!0;const _=l.join("");fe(mn,`Creating RPC '${e}' stream ${a}: ${_}`,g);const E=u.createWebChannel(_,g);this.I_(E);let T=!1,I=!1;const L=new Mj({Yo:z=>{I?fe(mn,`Not sending because RPC '${e}' stream ${a} is closed:`,z):(T||(fe(mn,`Opening RPC '${e}' stream ${a} transport.`),E.open(),T=!0),fe(mn,`RPC '${e}' stream ${a} sending:`,z),E.send(z))},Zo:()=>E.close()}),q=(z,re,J)=>{z.listen(re,Y=>{try{J(Y)}catch(le){setTimeout(()=>{throw le},0)}})};return q(E,Tc.EventType.OPEN,()=>{I||(fe(mn,`RPC '${e}' stream ${a} transport opened.`),L.o_())}),q(E,Tc.EventType.CLOSE,()=>{I||(I=!0,fe(mn,`RPC '${e}' stream ${a} transport closed`),L.a_(),this.E_(E))}),q(E,Tc.EventType.ERROR,z=>{I||(I=!0,Xo(mn,`RPC '${e}' stream ${a} transport errored. Name:`,z.name,"Message:",z.message),L.a_(new de(Z.UNAVAILABLE,"The operation could not be completed")))}),q(E,Tc.EventType.MESSAGE,z=>{var re;if(!I){const J=z.data[0];nt(!!J,16349);const Y=J,le=(Y==null?void 0:Y.error)||((re=Y[0])==null?void 0:re.error);if(le){fe(mn,`RPC '${e}' stream ${a} received error:`,le);const ce=le.status;let oe=function(R){const O=Pt[R];if(O!==void 0)return Qx(O)}(ce),C=le.message;oe===void 0&&(oe=Z.INTERNAL,C="Unknown error status: "+ce+" with message "+le.message),I=!0,L.a_(new de(oe,C)),E.close()}else fe(mn,`RPC '${e}' stream ${a} received:`,J),L.u_(J)}}),q(f,dx.STAT_EVENT,z=>{z.stat===Mg.PROXY?fe(mn,`RPC '${e}' stream ${a} detected buffering proxy`):z.stat===Mg.NOPROXY&&fe(mn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{L.__()},0),L}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function fg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Md(r){return new Bk(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e,t,s=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-s);a>0&&fe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw="PersistentStream";class cT{constructor(e,t,s,a,l,u,f,g){this.Mi=e,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new lT(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Z.RESOURCE_EXHAUSTED?(_r(t.toString()),_r("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.D_===t&&this.G_(s,a)},s=>{e(()=>{const a=new de(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)})})}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(a=>{s(()=>this.z_(a))}),this.stream.onMessage(a=>{s(()=>++this.F_==1?this.J_(a):this.onNext(a))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return fe(lw,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(fe(lw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Uj extends cT{constructor(e,t,s,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,u),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=Hk(this.serializer,e),s=function(l){if(!("targetChange"in l))return ke.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?ke.min():u.readTime?zs(u.readTime):ke.min()}(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=Kg(this.serializer),t.addTarget=function(l,u){let f;const g=u.target;if(f=Bg(g)?{documents:Kk(l,g)}:{query:Qk(l,g).ft},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=Xx(l,u.resumeToken);const y=Hg(l,u.expectedCount);y!==null&&(f.expectedCount=y)}else if(u.snapshotVersion.compareTo(ke.min())>0){f.readTime=fd(l,u.snapshotVersion.toTimestamp());const y=Hg(l,u.expectedCount);y!==null&&(f.expectedCount=y)}return f}(this.serializer,e);const s=Wk(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=Kg(this.serializer),t.removeTarget=e,this.q_(t)}}class Lj extends cT{constructor(e,t,s,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return nt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,nt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){nt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=Gk(e.writeResults,e.commitTime),s=zs(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=Kg(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>Fk(this.serializer,s))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj{}class Bj extends zj{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new de(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Go(e,Fg(t,s),a,l,u)).catch(l=>{throw l.name==="FirebaseError"?(l.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new de(Z.UNKNOWN,l.toString())})}Ho(e,t,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Ho(e,Fg(t,s),a,u,f,l)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(Z.UNKNOWN,u.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class qj{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(_r(t),this.aa=!1):fe("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca="RemoteStore";class $j{constructor(e,t,s,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo(u=>{s.enqueueAndForget(async()=>{Oa(this)&&(fe(Ca,"Restarting streams for network reachability change."),await async function(g){const y=De(g);y.Ea.add(4),await su(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Vd(y)}(this))})}),this.Ra=new qj(s,a)}}async function Vd(r){if(Oa(r))for(const e of r.da)await e(!0)}async function su(r){for(const e of r.da)await e(!1)}function uT(r,e){const t=De(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Fp(t)?Hp(t):dl(t).O_()&&$p(t,e))}function qp(r,e){const t=De(r),s=dl(t);t.Ia.delete(e),s.O_()&&hT(t,e),t.Ia.size===0&&(s.O_()?s.L_():Oa(t)&&t.Ra.set("Unknown"))}function $p(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}dl(r).Y_(e)}function hT(r,e){r.Va.Ue(e),dl(r).Z_(e)}function Hp(r){r.Va=new Vk({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),dl(r).start(),r.Ra.ua()}function Fp(r){return Oa(r)&&!dl(r).x_()&&r.Ia.size>0}function Oa(r){return De(r).Ea.size===0}function dT(r){r.Va=void 0}async function Hj(r){r.Ra.set("Online")}async function Fj(r){r.Ia.forEach((e,t)=>{$p(r,e)})}async function Gj(r,e){dT(r),Fp(r)?(r.Ra.ha(e),Hp(r)):r.Ra.set("Unknown")}async function Kj(r,e,t){if(r.Ra.set("Online"),e instanceof Wx&&e.state===2&&e.cause)try{await async function(a,l){const u=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,u),a.Ia.delete(f),a.Va.removeTarget(f))}(r,e)}catch(s){fe(Ca,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await gd(r,s)}else if(e instanceof Yh?r.Va.Ze(e):e instanceof Yx?r.Va.st(e):r.Va.tt(e),!t.isEqual(ke.min()))try{const s=await oT(r.localStore);t.compareTo(s)>=0&&await function(l,u){const f=l.Va.Tt(u);return f.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const _=l.Ia.get(y);_&&l.Ia.set(y,_.withResumeToken(g.resumeToken,u))}}),f.targetMismatches.forEach((g,y)=>{const _=l.Ia.get(g);if(!_)return;l.Ia.set(g,_.withResumeToken(ln.EMPTY_BYTE_STRING,_.snapshotVersion)),hT(l,g);const E=new fi(_.target,g,y,_.sequenceNumber);$p(l,E)}),l.remoteSyncer.applyRemoteEvent(f)}(r,t)}catch(s){fe(Ca,"Failed to raise snapshot:",s),await gd(r,s)}}async function gd(r,e,t){if(!hl(e))throw e;r.Ea.add(1),await su(r),r.Ra.set("Offline"),t||(t=()=>oT(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{fe(Ca,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await Vd(r)})}function fT(r,e){return e().catch(t=>gd(r,t,e))}async function Ud(r){const e=De(r),t=Ai(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Rp;for(;Qj(e);)try{const a=await Cj(e.localStore,s);if(a===null){e.Ta.length===0&&t.L_();break}s=a.batchId,Yj(e,a)}catch(a){await gd(e,a)}mT(e)&&gT(e)}function Qj(r){return Oa(r)&&r.Ta.length<10}function Yj(r,e){r.Ta.push(e);const t=Ai(r);t.O_()&&t.X_&&t.ea(e.mutations)}function mT(r){return Oa(r)&&!Ai(r).x_()&&r.Ta.length>0}function gT(r){Ai(r).start()}async function Wj(r){Ai(r).ra()}async function Xj(r){const e=Ai(r);for(const t of r.Ta)e.ea(t.mutations)}async function Jj(r,e,t){const s=r.Ta.shift(),a=Pp.from(s,e,t);await fT(r,()=>r.remoteSyncer.applySuccessfulWrite(a)),await Ud(r)}async function Zj(r,e){e&&Ai(r).X_&&await async function(s,a){if(function(u){return Dk(u)&&u!==Z.ABORTED}(a.code)){const l=s.Ta.shift();Ai(s).B_(),await fT(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a)),await Ud(s)}}(r,e),mT(r)&&gT(r)}async function cw(r,e){const t=De(r);t.asyncQueue.verifyOperationInProgress(),fe(Ca,"RemoteStore received new credentials");const s=Oa(t);t.Ea.add(3),await su(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Vd(t)}async function eO(r,e){const t=De(r);e?(t.Ea.delete(2),await Vd(t)):e||(t.Ea.add(2),await su(t),t.Ra.set("Unknown"))}function dl(r){return r.ma||(r.ma=function(t,s,a){const l=De(t);return l.sa(),new Uj(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(r.datastore,r.asyncQueue,{Xo:Hj.bind(null,r),t_:Fj.bind(null,r),r_:Gj.bind(null,r),H_:Kj.bind(null,r)}),r.da.push(async e=>{e?(r.ma.B_(),Fp(r)?Hp(r):r.Ra.set("Unknown")):(await r.ma.stop(),dT(r))})),r.ma}function Ai(r){return r.fa||(r.fa=function(t,s,a){const l=De(t);return l.sa(),new Lj(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:Wj.bind(null,r),r_:Zj.bind(null,r),ta:Xj.bind(null,r),na:Jj.bind(null,r)}),r.da.push(async e=>{e?(r.fa.B_(),await Ud(r)):(await r.fa.stop(),r.Ta.length>0&&(fe(Ca,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))})),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e,t,s,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new vi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,a,l){const u=Date.now()+s,f=new Gp(e,t,u,a,l);return f.start(s),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kp(r,e){if(_r("AsyncQueue",`${e}: ${r}`),hl(r))return new de(Z.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{static emptySet(e){return new Qo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||be.comparator(t.key,s.key):(t,s)=>be.comparator(t.key,s.key),this.keyedMap=Sc(),this.sortedSet=new wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Qo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Qo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(){this.ga=new wt(be.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,s)=>{e.push(s)}),e}}class nl{constructor(e,t,s,a,l,u,f,g,y){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,t,s,a,l){const u=[];return t.forEach(f=>{u.push({type:0,doc:f})}),new nl(e,t,Qo.emptySet(t),u,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class nO{constructor(){this.queries=hw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const a=De(t),l=a.queries;a.queries=hw(),l.forEach((u,f)=>{for(const g of f.Sa)g.onError(s)})})(this,new de(Z.ABORTED,"Firestore shutting down"))}}function hw(){return new ja(r=>Mx(r),kd)}async function pT(r,e){const t=De(r);let s=3;const a=e.query;let l=t.queries.get(a);l?!l.ba()&&e.Da()&&(s=2):(l=new tO,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await t.onListen(a,!0);break;case 1:l.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(u){const f=Kp(u,`Initialization of query '${Lo(e.query)}' failed`);return void e.onError(f)}t.queries.set(a,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&Qp(t)}async function yT(r,e){const t=De(r),s=e.query;let a=3;const l=t.queries.get(s);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function sO(r,e){const t=De(r);let s=!1;for(const a of e){const l=a.query,u=t.queries.get(l);if(u){for(const f of u.Sa)f.Fa(a)&&(s=!0);u.wa=a}}s&&Qp(t)}function rO(r,e,t){const s=De(r),a=s.queries.get(e);if(a)for(const l of a.Sa)l.onError(t);s.queries.delete(e)}function Qp(r){r.Ca.forEach(e=>{e.next()})}var Wg,dw;(dw=Wg||(Wg={})).Ma="default",dw.Cache="cache";class _T{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new nl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=nl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Wg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e){this.key=e}}class bT{constructor(e){this.key=e}}class iO{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ye(),this.mutatedKeys=Ye(),this.eu=Vx(e),this.tu=new Qo(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new uw,a=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,u=a,f=!1;const g=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,y=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((_,E)=>{const T=a.get(_),I=jd(this.query,E)?E:null,L=!!T&&this.mutatedKeys.has(T.key),q=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let z=!1;T&&I?T.data.isEqual(I.data)?L!==q&&(s.track({type:3,doc:I}),z=!0):this.su(T,I)||(s.track({type:2,doc:I}),z=!0,(g&&this.eu(I,g)>0||y&&this.eu(I,y)<0)&&(f=!0)):!T&&I?(s.track({type:0,doc:I}),z=!0):T&&!I&&(s.track({type:1,doc:T}),z=!0,(g||y)&&(f=!0)),z&&(I?(u=u.add(I),l=q?l.add(_):l.delete(_)):(u=u.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const _=this.query.limitType==="F"?u.last():u.first();u=u.delete(_.key),l=l.delete(_.key),s.track({type:1,doc:_})}return{tu:u,iu:s,Cs:f,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort((_,E)=>function(I,L){const q=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:z})}};return q(I)-q(L)}(_.type,E.type)||this.eu(_.doc,E.doc)),this.ou(s),a=a??!1;const f=t&&!a?this._u():[],g=this.Xa.size===0&&this.current&&!a?1:0,y=g!==this.Za;return this.Za=g,u.length!==0||y?{snapshot:new nl(this.query,e.tu,l,u,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new uw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ye(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const t=[];return e.forEach(s=>{this.Xa.has(s)||t.push(new bT(s))}),this.Xa.forEach(s=>{e.has(s)||t.push(new vT(s))}),t}cu(e){this.Ya=e.Qs,this.Xa=Ye();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return nl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Yp="SyncEngine";class aO{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class oO{constructor(e){this.key=e,this.hu=!1}}class lO{constructor(e,t,s,a,l,u){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new ja(f=>Mx(f),kd),this.Iu=new Map,this.Eu=new Set,this.du=new wt(be.comparator),this.Au=new Map,this.Ru=new Up,this.Vu={},this.mu=new Map,this.fu=tl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function cO(r,e,t=!0){const s=AT(r);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await wT(s,e,t,!0),a}async function uO(r,e){const t=AT(r);await wT(t,e,!0,!1)}async function wT(r,e,t,s){const a=await Ij(r.localStore,Ls(e)),l=a.targetId,u=r.sharedClientState.addLocalQueryTarget(l,t);let f;return s&&(f=await hO(r,e,l,u==="current",a.resumeToken)),r.isPrimaryClient&&t&&uT(r.remoteStore,a),f}async function hO(r,e,t,s,a){r.pu=(E,T,I)=>async function(q,z,re,J){let Y=z.view.ru(re);Y.Cs&&(Y=await rw(q.localStore,z.query,!1).then(({documents:C})=>z.view.ru(C,Y)));const le=J&&J.targetChanges.get(z.targetId),ce=J&&J.targetMismatches.get(z.targetId)!=null,oe=z.view.applyChanges(Y,q.isPrimaryClient,le,ce);return mw(q,z.targetId,oe.au),oe.snapshot}(r,E,T,I);const l=await rw(r.localStore,e,!0),u=new iO(e,l.Qs),f=u.ru(l.documents),g=nu.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",a),y=u.applyChanges(f,r.isPrimaryClient,g);mw(r,t,y.au);const _=new aO(e,t,u);return r.Tu.set(e,_),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),y.snapshot}async function dO(r,e,t){const s=De(r),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter(u=>!kd(u,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Qg(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),t&&qp(s.remoteStore,a.targetId),Xg(s,a.targetId)}).catch(ul)):(Xg(s,a.targetId),await Qg(s.localStore,a.targetId,!0))}async function fO(r,e){const t=De(r),s=t.Tu.get(e),a=t.Iu.get(s.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),qp(t.remoteStore,s.targetId))}async function mO(r,e,t){const s=wO(r);try{const a=await function(u,f){const g=De(u),y=yt.now(),_=f.reduce((I,L)=>I.add(L.key),Ye());let E,T;return g.persistence.runTransaction("Locally write mutations","readwrite",I=>{let L=vr(),q=Ye();return g.Ns.getEntries(I,_).next(z=>{L=z,L.forEach((re,J)=>{J.isValidDocument()||(q=q.add(re))})}).next(()=>g.localDocuments.getOverlayedDocuments(I,L)).next(z=>{E=z;const re=[];for(const J of f){const Y=Ck(J,E.get(J.key).overlayedDocument);Y!=null&&re.push(new Ci(J.key,Y,Nx(Y.value.mapValue),ps.exists(!0)))}return g.mutationQueue.addMutationBatch(I,y,re,f)}).next(z=>{T=z;const re=z.applyToLocalDocumentSet(E,q);return g.documentOverlayCache.saveOverlays(I,z.batchId,re)})}).then(()=>({batchId:T.batchId,changes:Lx(E)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(u,f,g){let y=u.Vu[u.currentUser.toKey()];y||(y=new wt(Qe)),y=y.insert(f,g),u.Vu[u.currentUser.toKey()]=y}(s,a.batchId,t),await ru(s,a.changes),await Ud(s.remoteStore)}catch(a){const l=Kp(a,"Failed to persist write");t.reject(l)}}async function ET(r,e){const t=De(r);try{const s=await Rj(t.localStore,e);e.targetChanges.forEach((a,l)=>{const u=t.Au.get(l);u&&(nt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?nt(u.hu,14607):a.removedDocuments.size>0&&(nt(u.hu,42227),u.hu=!1))}),await ru(t,s,e)}catch(s){await ul(s)}}function fw(r,e,t){const s=De(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const a=[];s.Tu.forEach((l,u)=>{const f=u.view.va(e);f.snapshot&&a.push(f.snapshot)}),function(u,f){const g=De(u);g.onlineState=f;let y=!1;g.queries.forEach((_,E)=>{for(const T of E.Sa)T.va(f)&&(y=!0)}),y&&Qp(g)}(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function gO(r,e,t){const s=De(r);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.Au.get(e),l=a&&a.key;if(l){let u=new wt(be.comparator);u=u.insert(l,pn.newNoDocument(l,ke.min()));const f=Ye().add(l),g=new Pd(ke.min(),new Map,new wt(Qe),u,f);await ET(s,g),s.du=s.du.remove(l),s.Au.delete(e),Wp(s)}else await Qg(s.localStore,e,!1).then(()=>Xg(s,e,t)).catch(ul)}async function pO(r,e){const t=De(r),s=e.batch.batchId;try{const a=await Aj(t.localStore,e);TT(t,s,null),xT(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await ru(t,a)}catch(a){await ul(a)}}async function yO(r,e,t){const s=De(r);try{const a=await function(u,f){const g=De(u);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let _;return g.mutationQueue.lookupMutationBatch(y,f).next(E=>(nt(E!==null,37113),_=E.keys(),g.mutationQueue.removeMutationBatch(y,E))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,_,f)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,_)).next(()=>g.localDocuments.getDocuments(y,_))})}(s.localStore,e);TT(s,e,t),xT(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await ru(s,a)}catch(a){await ul(a)}}function xT(r,e){(r.mu.get(e)||[]).forEach(t=>{t.resolve()}),r.mu.delete(e)}function TT(r,e,t){const s=De(r);let a=s.Vu[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function Xg(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),t&&r.Pu.yu(s,t);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach(s=>{r.Ru.containsKey(s)||ST(r,s)})}function ST(r,e){r.Eu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(qp(r.remoteStore,t),r.du=r.du.remove(e),r.Au.delete(t),Wp(r))}function mw(r,e,t){for(const s of t)s instanceof vT?(r.Ru.addReference(s.key,e),_O(r,s)):s instanceof bT?(fe(Yp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||ST(r,s.key)):Se(19791,{wu:s})}function _O(r,e){const t=e.key,s=t.path.canonicalString();r.du.get(t)||r.Eu.has(s)||(fe(Yp,"New document in limbo: "+t),r.Eu.add(s),Wp(r))}function Wp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new be(gt.fromString(e)),s=r.fu.next();r.Au.set(s,new oO(t)),r.du=r.du.insert(t,s),uT(r.remoteStore,new fi(Ls(jp(t.path)),s,"TargetPurposeLimboResolution",Nd.ce))}}async function ru(r,e,t){const s=De(r),a=[],l=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach((f,g)=>{u.push(s.pu(g,e,t).then(y=>{var _;if((y||t)&&s.isPrimaryClient){const E=y?!y.fromCache:(_=t==null?void 0:t.targetChanges.get(g.targetId))==null?void 0:_.current;s.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(y){a.push(y);const E=zp.As(g.targetId,y);l.push(E)}}))}),await Promise.all(u),s.Pu.H_(a),await async function(g,y){const _=De(g);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>ne.forEach(y,T=>ne.forEach(T.Es,I=>_.persistence.referenceDelegate.addReference(E,T.targetId,I)).next(()=>ne.forEach(T.ds,I=>_.persistence.referenceDelegate.removeReference(E,T.targetId,I)))))}catch(E){if(!hl(E))throw E;fe(Bp,"Failed to update sequence numbers: "+E)}for(const E of y){const T=E.targetId;if(!E.fromCache){const I=_.Ms.get(T),L=I.snapshotVersion,q=I.withLastLimboFreeSnapshotVersion(L);_.Ms=_.Ms.insert(T,q)}}}(s.localStore,l))}async function vO(r,e){const t=De(r);if(!t.currentUser.isEqual(e)){fe(Yp,"User change. New user:",e.toKey());const s=await aT(t.localStore,e);t.currentUser=e,function(l,u){l.mu.forEach(f=>{f.forEach(g=>{g.reject(new de(Z.CANCELLED,u))})}),l.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ru(t,s.Ls)}}function bO(r,e){const t=De(r),s=t.Au.get(e);if(s&&s.hu)return Ye().add(s.key);{let a=Ye();const l=t.Iu.get(e);if(!l)return a;for(const u of l){const f=t.Tu.get(u);a=a.unionWith(f.view.nu)}return a}}function AT(r){const e=De(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=ET.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gO.bind(null,e),e.Pu.H_=sO.bind(null,e.eventManager),e.Pu.yu=rO.bind(null,e.eventManager),e}function wO(r){const e=De(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yO.bind(null,e),e}class pd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Md(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return Sj(this.persistence,new Ej,e.initialUser,this.serializer)}Cu(e){return new iT(Lp.mi,this.serializer)}Du(e){return new jj}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}pd.provider={build:()=>new pd};class EO extends pd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){nt(this.persistence.referenceDelegate instanceof md,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new oj(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new iT(s=>md.mi(s,t),this.serializer)}}class Jg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>fw(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=vO.bind(null,this.syncEngine),await eO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new nO}()}createDatastore(e){const t=Md(e.databaseInfo.databaseId),s=function(l){return new Vj(l)}(e.databaseInfo);return function(l,u,f,g){return new Bj(l,u,f,g)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,a,l,u,f){return new $j(s,a,l,u,f)}(this.localStore,this.datastore,e.asyncQueue,t=>fw(this.syncEngine,t,0),function(){return ow.v()?new ow:new Oj}())}createSyncEngine(e,t){return function(a,l,u,f,g,y,_){const E=new lO(a,l,u,f,g,y);return _&&(E.gu=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const l=De(a);fe(Ca,"RemoteStore shutting down."),l.Ea.add(5),await su(l),l.Aa.shutdown(),l.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}Jg.provider={build:()=>new Jg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):_r("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri="FirestoreClient";class xO{constructor(e,t,s,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=gn.UNAUTHENTICATED,this.clientId=Ap.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async u=>{fe(Ri,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(s,u=>(fe(Ri,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Kp(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function mg(r,e){r.asyncQueue.verifyOperationInProgress(),fe(Ri,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(async a=>{s.isEqual(a)||(await aT(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function gw(r,e){r.asyncQueue.verifyOperationInProgress();const t=await TO(r);fe(Ri,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(s=>cw(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,a)=>cw(e.remoteStore,a)),r._onlineComponents=e}async function TO(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){fe(Ri,"Using user provided OfflineComponentProvider");try{await mg(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===Z.FAILED_PRECONDITION||a.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;Xo("Error using user provided cache. Falling back to memory cache: "+t),await mg(r,new pd)}}else fe(Ri,"Using default OfflineComponentProvider"),await mg(r,new EO(void 0));return r._offlineComponents}async function NT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(fe(Ri,"Using user provided OnlineComponentProvider"),await gw(r,r._uninitializedComponentsProvider._online)):(fe(Ri,"Using default OnlineComponentProvider"),await gw(r,new Jg))),r._onlineComponents}function SO(r){return NT(r).then(e=>e.syncEngine)}async function Zg(r){const e=await NT(r),t=e.eventManager;return t.onListen=cO.bind(null,e.syncEngine),t.onUnlisten=dO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=uO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=fO.bind(null,e.syncEngine),t}function AO(r,e,t={}){const s=new vi;return r.asyncQueue.enqueueAndForget(async()=>function(l,u,f,g,y){const _=new RT({next:T=>{_.Nu(),u.enqueueAndForget(()=>yT(l,E)),T.fromCache&&g.source==="server"?y.reject(new de(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(T)},error:T=>y.reject(T)}),E=new _T(f,_,{includeMetadataChanges:!0,qa:!0});return pT(l,E)}(await Zg(r),r.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT="firestore.googleapis.com",yw=!0;class _w{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=IT,this.ssl=yw}else this.host=e.host,this.ssl=e.ssl??yw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=rT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ij)throw new de(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$I("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=CT(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new de(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new de(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new de(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ld{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _w({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _w(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new OI;switch(s.type){case"firstParty":return new VI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new de(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=pw.get(t);s&&(fe("ComponentProvider","Removing Datastore"),pw.delete(t),s.terminate())}(this),Promise.resolve()}}function RO(r,e,t,s={}){var y;r=gs(r,Ld);const a=al(e),l=r._getSettings(),u={...l,emulatorOptions:r._getEmulatorOptions()},f=`${e}:${t}`;a&&(xE(`https://${f}`),TE("Firestore",!0)),l.host!==IT&&l.host!==f&&Xo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...l,host:f,ssl:a,emulatorOptions:s};if(!Sa(g,u)&&(r._setSettings(g),s.mockUserToken)){let _,E;if(typeof s.mockUserToken=="string")_=s.mockUserToken,E=gn.MOCK_USER;else{_=s2(s.mockUserToken,(y=r._app)==null?void 0:y.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new de(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new gn(T)}r._authCredentials=new DI(new px(_,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Da(this.firestore,e,this._query)}}class jt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jt(this.firestore,e,this._key)}toJSON(){return{type:jt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Zc(t,jt._jsonSchema))return new jt(e,s||null,new be(gt.fromString(t.referencePath)))}}jt._jsonSchemaVersion="firestore/documentReference/1.0",jt._jsonSchema={type:Lt("string",jt._jsonSchemaVersion),referencePath:Lt("string")};class bi extends Da{constructor(e,t,s){super(e,t,jp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jt(this.firestore,null,new be(e))}withConverter(e){return new bi(this.firestore,e,this._path)}}function vw(r,e,...t){if(r=en(r),yx("collection","path",e),r instanceof Ld){const s=gt.fromString(e,...t);return kb(s),new bi(r,null,s)}{if(!(r instanceof jt||r instanceof bi))throw new de(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(gt.fromString(e,...t));return kb(s),new bi(r.firestore,null,s)}}function gg(r,e,...t){if(r=en(r),arguments.length===1&&(e=Ap.newId()),yx("doc","path",e),r instanceof Ld){const s=gt.fromString(e,...t);return Ib(s),new jt(r,null,new be(s))}{if(!(r instanceof jt||r instanceof bi))throw new de(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(gt.fromString(e,...t));return Ib(s),new jt(r.firestore,r instanceof bi?r.converter:null,new be(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw="AsyncQueue";class ww{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new lT(this,"async_queue_retry"),this._c=()=>{const s=fg();s&&fe(bw,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=fg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=fg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new vi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!hl(e))throw e;fe(bw,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,_r("INTERNAL UNHANDLED ERROR: ",Ew(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=Gp.createAndSchedule(this,e,t,s,l=>this.hc(l));return this.tc.push(a),a}uc(){this.nc&&Se(47125,{Pc:Ew(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Ew(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(r){return function(t,s){if(typeof t!="object"||t===null)return!1;const a=t;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1}(r,["next","error","complete"])}class Ia extends Ld{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new ww,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ww(e),this._firestoreClient=void 0,await e}}}function NO(r,e){const t=typeof r=="object"?r:NE(),s=typeof r=="string"?r:od,a=yp(t,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=t2("firestore");l&&RO(a,...l)}return a}function Xp(r){if(r._terminated)throw new de(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||CO(r),r._firestoreClient}function CO(r){var s,a,l;const e=r._freezeSettings(),t=function(f,g,y,_){return new ek(f,g,y,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,CT(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)}(r._databaseId,((s=r._app)==null?void 0:s.options.appId)||"",r._persistenceKey,e);r._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((l=e.localCache)!=null&&l._onlineComponentProvider)&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new xO(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&function(f){const g=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(g),_online:g}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zn(ln.fromBase64String(e))}catch(t){throw new de(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Zn(ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Zc(e,Zn._jsonSchema))return Zn.fromBase64String(e.bytes)}}Zn._jsonSchemaVersion="firestore/bytes/1.0",Zn._jsonSchema={type:Lt("string",Zn._jsonSchemaVersion),bytes:Lt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new de(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new de(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new de(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Bs._jsonSchemaVersion}}static fromJSON(e){if(Zc(e,Bs._jsonSchema))return new Bs(e.latitude,e.longitude)}}Bs._jsonSchemaVersion="firestore/geoPoint/1.0",Bs._jsonSchema={type:Lt("string",Bs._jsonSchemaVersion),latitude:Lt("number"),longitude:Lt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0}(this._values,e._values)}toJSON(){return{type:qs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Zc(e,qs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new qs(e.vectorValues);throw new de(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}qs._jsonSchemaVersion="firestore/vectorValue/1.0",qs._jsonSchema={type:Lt("string",qs._jsonSchemaVersion),vectorValues:Lt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO=/^__.*__$/;class kO{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Ci(e,this.data,this.fieldMask,t,this.fieldTransforms):new tu(e,this.data,t,this.fieldTransforms)}}class kT{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Ci(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function jT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:r})}}class Zp{constructor(e,t,s,a,l,u){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Zp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var a;const t=(a=this.path)==null?void 0:a.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){var a;const t=(a=this.path)==null?void 0:a.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return yd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(jT(this.Ac)&&IO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class jO{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Md(e)}Cc(e,t,s,a=!1){return new Zp({Ac:e,methodName:t,Dc:s,path:on.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ey(r){const e=r._freezeSettings(),t=Md(r._databaseId);return new jO(r._databaseId,!!e.ignoreUndefinedProperties,t)}function OO(r,e,t,s,a,l={}){const u=r.Cc(l.merge||l.mergeFields?2:0,e,t,a);ty("Data must be an object, but it was:",u,s);const f=OT(s,u);let g,y;if(l.merge)g=new zn(u.fieldMask),y=u.fieldTransforms;else if(l.mergeFields){const _=[];for(const E of l.mergeFields){const T=ep(e,E,t);if(!u.contains(T))throw new de(Z.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);PT(_,T)||_.push(T)}g=new zn(_),y=u.fieldTransforms.filter(E=>g.covers(E.field))}else g=null,y=u.fieldTransforms;return new kO(new In(f),g,y)}class Bd extends Jp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bd}}function DO(r,e,t,s){const a=r.Cc(1,e,t);ty("Data must be an object, but it was:",a,s);const l=[],u=In.empty();Ni(s,(g,y)=>{const _=ny(e,g,t);y=en(y);const E=a.yc(_);if(y instanceof Bd)l.push(_);else{const T=iu(y,E);T!=null&&(l.push(_),u.set(_,T))}});const f=new zn(l);return new kT(u,f,a.fieldTransforms)}function PO(r,e,t,s,a,l){const u=r.Cc(1,e,t),f=[ep(e,s,t)],g=[a];if(l.length%2!=0)throw new de(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)f.push(ep(e,l[T])),g.push(l[T+1]);const y=[],_=In.empty();for(let T=f.length-1;T>=0;--T)if(!PT(y,f[T])){const I=f[T];let L=g[T];L=en(L);const q=u.yc(I);if(L instanceof Bd)y.push(I);else{const z=iu(L,q);z!=null&&(y.push(I),_.set(I,z))}}const E=new zn(y);return new kT(_,E,u.fieldTransforms)}function MO(r,e,t,s=!1){return iu(t,r.Cc(s?4:3,e))}function iu(r,e){if(DT(r=en(r)))return ty("Unsupported field value:",e,r),OT(r,e);if(r instanceof Jp)return function(s,a){if(!jT(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,a){const l=[];let u=0;for(const f of s){let g=iu(f,a.wc(u));g==null&&(g={nullValue:"NULL_VALUE"}),l.push(g),u++}return{arrayValue:{values:l}}}(r,e)}return function(s,a){if((s=en(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return xk(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=yt.fromDate(s);return{timestampValue:fd(a.serializer,l)}}if(s instanceof yt){const l=new yt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:fd(a.serializer,l)}}if(s instanceof Bs)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Zn)return{bytesValue:Xx(a.serializer,s._byteString)};if(s instanceof jt){const l=a.databaseId,u=s.firestore._databaseId;if(!u.isEqual(l))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Vp(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof qs)return function(u,f){return{mapValue:{fields:{[Ax]:{stringValue:Rx},[ld]:{arrayValue:{values:u.toArray().map(y=>{if(typeof y!="number")throw f.Sc("VectorValues must only contain numeric values.");return Op(f.serializer,y)})}}}}}}(s,a);throw a.Sc(`Unsupported field value: ${Rd(s)}`)}(r,e)}function OT(r,e){const t={};return bx(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ni(r,(s,a)=>{const l=iu(a,e.mc(s));l!=null&&(t[s]=l)}),{mapValue:{fields:t}}}function DT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof yt||r instanceof Bs||r instanceof Zn||r instanceof jt||r instanceof Jp||r instanceof qs)}function ty(r,e,t){if(!DT(t)||!_x(t)){const s=Rd(t);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function ep(r,e,t){if((e=en(e))instanceof zd)return e._internalPath;if(typeof e=="string")return ny(r,e);throw yd("Field path arguments must be of type string or ",r,!1,void 0,t)}const VO=new RegExp("[~\\*/\\[\\]]");function ny(r,e,t){if(e.search(VO)>=0)throw yd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new zd(...e.split("."))._internalPath}catch{throw yd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function yd(r,e,t,s,a){const l=s&&!s.isEmpty(),u=a!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let g="";return(l||u)&&(g+=" (found",l&&(g+=` in field ${s}`),u&&(g+=` in document ${a}`),g+=")"),new de(Z.INVALID_ARGUMENT,f+r+g)}function PT(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(e,t,s,a,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new UO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(sy("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class UO extends MT{data(){return super.data()}}function sy(r,e){return typeof e=="string"?ny(r,e):e instanceof zd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new de(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ry{}class LO extends ry{}function zO(r,e,...t){let s=[];e instanceof ry&&s.push(e),s=s.concat(t),function(l){const u=l.filter(g=>g instanceof iy).length,f=l.filter(g=>g instanceof qd).length;if(u>1||u>0&&f>0)throw new de(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)r=a._apply(r);return r}class qd extends LO{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new qd(e,t,s)}_apply(e){const t=this._parse(e);return UT(e._query,t),new Da(e.firestore,e.converter,qg(e._query,t))}_parse(e){const t=ey(e.firestore);return function(l,u,f,g,y,_,E){let T;if(y.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new de(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){Sw(E,_);const L=[];for(const q of E)L.push(Tw(g,l,q));T={arrayValue:{values:L}}}else T=Tw(g,l,E)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||Sw(E,_),T=MO(f,u,E,_==="in"||_==="not-in");return Ut.create(y,_,T)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function BO(r,e,t){const s=e,a=sy("where",r);return qd._create(a,s,t)}class iy extends ry{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new iy(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:ys.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,l){let u=a;const f=l.getFlattenedFilters();for(const g of f)UT(u,g),u=qg(u,g)}(e._query,t),new Da(e.firestore,e.converter,qg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Tw(r,e,t){if(typeof(t=en(t))=="string"){if(t==="")throw new de(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Px(e)&&t.indexOf("/")!==-1)throw new de(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(gt.fromString(t));if(!be.isDocumentKey(s))throw new de(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Lb(r,new be(s))}if(t instanceof jt)return Lb(r,t._key);throw new de(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Rd(t)}.`)}function Sw(r,e){if(!Array.isArray(r)||r.length===0)throw new de(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function UT(r,e){const t=function(a,l){for(const u of a)for(const f of u.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null}(r.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new de(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class qO{convertValue(e,t="none"){switch(Si(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ti(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Ni(e,(a,l)=>{s[a]=this.convertValue(l,t)}),s}convertVectorValue(e){var s,a,l;const t=(l=(a=(s=e.fields)==null?void 0:s[ld].arrayValue)==null?void 0:a.values)==null?void 0:l.map(u=>kt(u.doubleValue));return new qs(t)}convertGeoPoint(e){return new Bs(kt(e.latitude),kt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Id(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Bc(e));default:return null}}convertTimestamp(e){const t=xi(e);return new yt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=gt.fromString(e);nt(sT(s),9688,{name:e});const a=new qc(s.get(1),s.get(3)),l=new be(s.popFirst(5));return a.isEqual(t)||_r(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}class Rc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xa extends MT{constructor(e,t,s,a,l,u){super(e,t,s,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Wh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(sy("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=xa._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}xa._jsonSchemaVersion="firestore/documentSnapshot/1.0",xa._jsonSchema={type:Lt("string",xa._jsonSchemaVersion),bundleSource:Lt("string","DocumentSnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class Wh extends xa{data(e={}){return super.data(e)}}class Ta{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Rc(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Wh(this._firestore,this._userDataWriter,s.key,s,new Rc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new de(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map(f=>{const g=new Wh(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Rc(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:g,oldIndex:-1,newIndex:u++}})}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const g=new Wh(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Rc(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let y=-1,_=-1;return f.type!==0&&(y=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),_=u.indexOf(f.doc.key)),{type:HO(f.type),doc:g,oldIndex:y,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ta._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ap.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],a=[];return this.docs.forEach(l=>{l._document!==null&&(t.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function HO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:r})}}Ta._jsonSchemaVersion="firestore/querySnapshot/1.0",Ta._jsonSchema={type:Lt("string",Ta._jsonSchemaVersion),bundleSource:Lt("string","QuerySnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class ay extends qO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new jt(this.firestore,null,t)}}function FO(r){r=gs(r,Da);const e=gs(r.firestore,Ia),t=Xp(e),s=new ay(e);return VT(r._query),AO(t,r._query).then(a=>new Ta(e,s,r,a))}function GO(r,e,t){r=gs(r,jt);const s=gs(r.firestore,Ia),a=$O(r.converter,e,t);return oy(s,[OO(ey(s),"setDoc",r._key,a,r.converter!==null,t).toMutation(r._key,ps.none())])}function KO(r,e,t,...s){r=gs(r,jt);const a=gs(r.firestore,Ia),l=ey(a);let u;return u=typeof(e=en(e))=="string"||e instanceof zd?PO(l,"updateDoc",r._key,e,t,s):DO(l,"updateDoc",r._key,e),oy(a,[u.toMutation(r._key,ps.exists(!0))])}function QO(r){return oy(gs(r.firestore,Ia),[new Dp(r._key,ps.none())])}function YO(r,...e){var g,y,_;r=en(r);let t={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||xw(e[s])||(t=e[s++]);const a={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(xw(e[s])){const E=e[s];e[s]=(g=E.next)==null?void 0:g.bind(E),e[s+1]=(y=E.error)==null?void 0:y.bind(E),e[s+2]=(_=E.complete)==null?void 0:_.bind(E)}let l,u,f;if(r instanceof jt)u=gs(r.firestore,Ia),f=jp(r._key.path),l={next:E=>{e[s]&&e[s](WO(u,r,E))},error:e[s+1],complete:e[s+2]};else{const E=gs(r,Da);u=gs(E.firestore,Ia),f=E._query;const T=new ay(u);l={next:I=>{e[s]&&e[s](new Ta(u,T,E,I))},error:e[s+1],complete:e[s+2]},VT(r._query)}return function(T,I,L,q){const z=new RT(q),re=new _T(I,z,L);return T.asyncQueue.enqueueAndForget(async()=>pT(await Zg(T),re)),()=>{z.Nu(),T.asyncQueue.enqueueAndForget(async()=>yT(await Zg(T),re))}}(Xp(u),f,a,l)}function oy(r,e){return function(s,a){const l=new vi;return s.asyncQueue.enqueueAndForget(async()=>mO(await SO(s),a,l)),l.promise}(Xp(r),e)}function WO(r,e,t){const s=t.docs.get(e._key),a=new ay(r);return new xa(r,a,e._key,s,new Rc(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(a){cl=a})(ol),Wo(new Aa("firestore",(s,{instanceIdentifier:a,options:l})=>{const u=s.getProvider("app").getImmediate(),f=new Ia(new PI(s.getProvider("auth-internal")),new UI(u,s.getProvider("app-check-internal")),function(y,_){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new de(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qc(y.options.projectId,_)}(u,a),u);return l={useFetchStreams:t,...l},f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),pi(Ab,Rb,e),pi(Ab,Rb,"esm2020")})();const XO="modulepreload",JO=function(r){return"/"+r},Aw={},au=function(e,t,s){let a=Promise.resolve();if(t&&t.length>0){let u=function(y){return Promise.all(y.map(_=>Promise.resolve(_).then(E=>({status:"fulfilled",value:E}),E=>({status:"rejected",reason:E}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),g=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));a=u(t.map(y=>{if(y=JO(y),y in Aw)return;Aw[y]=!0;const _=y.endsWith(".css"),E=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${E}`))return;const T=document.createElement("link");if(T.rel=_?"stylesheet":XO,_||(T.as="script"),T.crossOrigin="",T.href=y,g&&T.setAttribute("nonce",g),document.head.appendChild(T),_)return new Promise((I,L)=>{T.addEventListener("load",I),T.addEventListener("error",()=>L(new Error(`Unable to preload CSS for ${y}`)))})}))}function l(u){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=u,window.dispatchEvent(f),!f.defaultPrevented)throw u}return a.then(u=>{for(const f of u||[])f.status==="rejected"&&l(f.reason);return e().catch(l)})},ZO=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>au(async()=>{const{default:s}=await Promise.resolve().then(()=>fl);return{default:s}},void 0).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)};class ly extends Error{constructor(e,t="FunctionsError",s){super(e),this.name=t,this.context=s}}class Rw extends ly{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Nw extends ly{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Cw extends ly{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var tp;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(tp||(tp={}));var e4=function(r,e,t,s){function a(l){return l instanceof t?l:new t(function(u){u(l)})}return new(t||(t=Promise))(function(l,u){function f(_){try{y(s.next(_))}catch(E){u(E)}}function g(_){try{y(s.throw(_))}catch(E){u(E)}}function y(_){_.done?l(_.value):a(_.value).then(f,g)}y((s=s.apply(r,e||[])).next())})};class t4{constructor(e,{headers:t={},customFetch:s,region:a=tp.Any}={}){this.url=e,this.headers=t,this.region=a,this.fetch=ZO(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return e4(this,arguments,void 0,function*(t,s={}){var a;try{const{headers:l,method:u,body:f,signal:g}=s;let y={},{region:_}=s;_||(_=this.region);const E=new URL(`${this.url}/${t}`);_&&_!=="any"&&(y["x-region"]=_,E.searchParams.set("forceFunctionRegion",_));let T;f&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)&&(typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",T=f):typeof f=="string"?(y["Content-Type"]="text/plain",T=f):typeof FormData<"u"&&f instanceof FormData?T=f:(y["Content-Type"]="application/json",T=JSON.stringify(f)));const I=yield this.fetch(E.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),l),body:T,signal:g}).catch(re=>{throw re.name==="AbortError"?re:new Rw(re)}),L=I.headers.get("x-relay-error");if(L&&L==="true")throw new Nw(I);if(!I.ok)throw new Cw(I);let q=((a=I.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),z;return q==="application/json"?z=yield I.json():q==="application/octet-stream"?z=yield I.blob():q==="text/event-stream"?z=I:q==="multipart/form-data"?z=yield I.formData():z=yield I.text(),{data:z,error:null,response:I}}catch(l){return l instanceof Error&&l.name==="AbortError"?{data:null,error:new Rw(l)}:{data:null,error:l,response:l instanceof Cw||l instanceof Nw?l.context:void 0}}})}}var Jt={},Ro={},No={},Co={},Io={},ko={},n4=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},sl=n4();const s4=sl.fetch,LT=sl.fetch.bind(sl),zT=sl.Headers,r4=sl.Request,i4=sl.Response,fl=Object.freeze(Object.defineProperty({__proto__:null,Headers:zT,Request:r4,Response:i4,default:LT,fetch:s4},Symbol.toStringTag,{value:"Module"})),a4=OS(fl);var Mh={},Iw;function BT(){if(Iw)return Mh;Iw=1,Object.defineProperty(Mh,"__esModule",{value:!0});class r extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return Mh.default=r,Mh}var kw;function qT(){if(kw)return ko;kw=1;var r=ko&&ko.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(ko,"__esModule",{value:!0});const e=r(a4),t=r(BT());class s{constructor(l){var u,f;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(u=l.shouldThrowOnError)!==null&&u!==void 0?u:!1,this.signal=l.signal,this.isMaybeSingle=(f=l.isMaybeSingle)!==null&&f!==void 0?f:!1,l.fetch?this.fetch=l.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,u){return this.headers=new Headers(this.headers),this.headers.set(l,u),this}then(l,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const f=this.fetch;let g=f(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async y=>{var _,E,T,I;let L=null,q=null,z=null,re=y.status,J=y.statusText;if(y.ok){if(this.method!=="HEAD"){const oe=await y.text();oe===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((_=this.headers.get("Accept"))===null||_===void 0)&&_.includes("application/vnd.pgrst.plan+text"))?q=oe:q=JSON.parse(oe))}const le=(E=this.headers.get("Prefer"))===null||E===void 0?void 0:E.match(/count=(exact|planned|estimated)/),ce=(T=y.headers.get("content-range"))===null||T===void 0?void 0:T.split("/");le&&ce&&ce.length>1&&(z=parseInt(ce[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(q)&&(q.length>1?(L={code:"PGRST116",details:`Results contain ${q.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},q=null,z=null,re=406,J="Not Acceptable"):q.length===1?q=q[0]:q=null)}else{const le=await y.text();try{L=JSON.parse(le),Array.isArray(L)&&y.status===404&&(q=[],L=null,re=200,J="OK")}catch{y.status===404&&le===""?(re=204,J="No Content"):L={message:le}}if(L&&this.isMaybeSingle&&(!((I=L==null?void 0:L.details)===null||I===void 0)&&I.includes("0 rows"))&&(L=null,re=200,J="OK"),L&&this.shouldThrowOnError)throw new t.default(L)}return{error:L,data:q,count:z,status:re,statusText:J}});return this.shouldThrowOnError||(g=g.catch(y=>{var _,E,T;return{error:{message:`${(_=y==null?void 0:y.name)!==null&&_!==void 0?_:"FetchError"}: ${y==null?void 0:y.message}`,details:`${(E=y==null?void 0:y.stack)!==null&&E!==void 0?E:""}`,hint:"",code:`${(T=y==null?void 0:y.code)!==null&&T!==void 0?T:""}`},data:null,count:null,status:0,statusText:""}})),g.then(l,u)}returns(){return this}overrideTypes(){return this}}return ko.default=s,ko}var jw;function $T(){if(jw)return Io;jw=1;var r=Io&&Io.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Io,"__esModule",{value:!0});const e=r(qT());class t extends e.default{select(a){let l=!1;const u=(a??"*").split("").map(f=>/\s/.test(f)&&!l?"":(f==='"'&&(l=!l),f)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:l=!0,nullsFirst:u,foreignTable:f,referencedTable:g=f}={}){const y=g?`${g}.order`:"order",_=this.url.searchParams.get(y);return this.url.searchParams.set(y,`${_?`${_},`:""}${a}.${l?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:l,referencedTable:u=l}={}){const f=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(f,`${a}`),this}range(a,l,{foreignTable:u,referencedTable:f=u}={}){const g=typeof f>"u"?"offset":`${f}.offset`,y=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(g,`${a}`),this.url.searchParams.set(y,`${l-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:l=!1,settings:u=!1,buffers:f=!1,wal:g=!1,format:y="text"}={}){var _;const E=[a?"analyze":null,l?"verbose":null,u?"settings":null,f?"buffers":null,g?"wal":null].filter(Boolean).join("|"),T=(_=this.headers.get("Accept"))!==null&&_!==void 0?_:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${y}; for="${T}"; options=${E};`),y==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return Io.default=t,Io}var Ow;function cy(){if(Ow)return Co;Ow=1;var r=Co&&Co.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Co,"__esModule",{value:!0});const e=r($T());class t extends e.default{eq(a,l){return this.url.searchParams.append(a,`eq.${l}`),this}neq(a,l){return this.url.searchParams.append(a,`neq.${l}`),this}gt(a,l){return this.url.searchParams.append(a,`gt.${l}`),this}gte(a,l){return this.url.searchParams.append(a,`gte.${l}`),this}lt(a,l){return this.url.searchParams.append(a,`lt.${l}`),this}lte(a,l){return this.url.searchParams.append(a,`lte.${l}`),this}like(a,l){return this.url.searchParams.append(a,`like.${l}`),this}likeAllOf(a,l){return this.url.searchParams.append(a,`like(all).{${l.join(",")}}`),this}likeAnyOf(a,l){return this.url.searchParams.append(a,`like(any).{${l.join(",")}}`),this}ilike(a,l){return this.url.searchParams.append(a,`ilike.${l}`),this}ilikeAllOf(a,l){return this.url.searchParams.append(a,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(a,l){return this.url.searchParams.append(a,`ilike(any).{${l.join(",")}}`),this}is(a,l){return this.url.searchParams.append(a,`is.${l}`),this}in(a,l){const u=Array.from(new Set(l)).map(f=>typeof f=="string"&&new RegExp("[,()]").test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(a,`in.(${u})`),this}contains(a,l){return typeof l=="string"?this.url.searchParams.append(a,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(a,`cs.{${l.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(l)}`),this}containedBy(a,l){return typeof l=="string"?this.url.searchParams.append(a,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(a,`cd.{${l.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(l)}`),this}rangeGt(a,l){return this.url.searchParams.append(a,`sr.${l}`),this}rangeGte(a,l){return this.url.searchParams.append(a,`nxl.${l}`),this}rangeLt(a,l){return this.url.searchParams.append(a,`sl.${l}`),this}rangeLte(a,l){return this.url.searchParams.append(a,`nxr.${l}`),this}rangeAdjacent(a,l){return this.url.searchParams.append(a,`adj.${l}`),this}overlaps(a,l){return typeof l=="string"?this.url.searchParams.append(a,`ov.${l}`):this.url.searchParams.append(a,`ov.{${l.join(",")}}`),this}textSearch(a,l,{config:u,type:f}={}){let g="";f==="plain"?g="pl":f==="phrase"?g="ph":f==="websearch"&&(g="w");const y=u===void 0?"":`(${u})`;return this.url.searchParams.append(a,`${g}fts${y}.${l}`),this}match(a){return Object.entries(a).forEach(([l,u])=>{this.url.searchParams.append(l,`eq.${u}`)}),this}not(a,l,u){return this.url.searchParams.append(a,`not.${l}.${u}`),this}or(a,{foreignTable:l,referencedTable:u=l}={}){const f=u?`${u}.or`:"or";return this.url.searchParams.append(f,`(${a})`),this}filter(a,l,u){return this.url.searchParams.append(a,`${l}.${u}`),this}}return Co.default=t,Co}var Dw;function HT(){if(Dw)return No;Dw=1;var r=No&&No.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(No,"__esModule",{value:!0});const e=r(cy());class t{constructor(a,{headers:l={},schema:u,fetch:f}){this.url=a,this.headers=new Headers(l),this.schema=u,this.fetch=f}select(a,l){const{head:u=!1,count:f}=l??{},g=u?"HEAD":"GET";let y=!1;const _=(a??"*").split("").map(E=>/\s/.test(E)&&!y?"":(E==='"'&&(y=!y),E)).join("");return this.url.searchParams.set("select",_),f&&this.headers.append("Prefer",`count=${f}`),new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:l,defaultToNull:u=!0}={}){var f;const g="POST";if(l&&this.headers.append("Prefer",`count=${l}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const y=a.reduce((_,E)=>_.concat(Object.keys(E)),[]);if(y.length>0){const _=[...new Set(y)].map(E=>`"${E}"`);this.url.searchParams.set("columns",_.join(","))}}return new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}upsert(a,{onConflict:l,ignoreDuplicates:u=!1,count:f,defaultToNull:g=!0}={}){var y;const _="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),f&&this.headers.append("Prefer",`count=${f}`),g||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const E=a.reduce((T,I)=>T.concat(Object.keys(I)),[]);if(E.length>0){const T=[...new Set(E)].map(I=>`"${I}"`);this.url.searchParams.set("columns",T.join(","))}}return new e.default({method:_,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}update(a,{count:l}={}){var u;const f="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:a}={}){var l;const u="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}}return No.default=t,No}var Pw;function o4(){if(Pw)return Ro;Pw=1;var r=Ro&&Ro.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Ro,"__esModule",{value:!0});const e=r(HT()),t=r(cy());class s{constructor(l,{headers:u={},schema:f,fetch:g}={}){this.url=l,this.headers=new Headers(u),this.schemaName=f,this.fetch=g}from(l){const u=new URL(`${this.url}/${l}`);return new e.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new s(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,u={},{head:f=!1,get:g=!1,count:y}={}){var _;let E;const T=new URL(`${this.url}/rpc/${l}`);let I;f||g?(E=f?"HEAD":"GET",Object.entries(u).filter(([q,z])=>z!==void 0).map(([q,z])=>[q,Array.isArray(z)?`{${z.join(",")}}`:`${z}`]).forEach(([q,z])=>{T.searchParams.append(q,z)})):(E="POST",I=u);const L=new Headers(this.headers);return y&&L.set("Prefer",`count=${y}`),new t.default({method:E,url:T,headers:L,schema:this.schemaName,body:I,fetch:(_=this.fetch)!==null&&_!==void 0?_:fetch})}}return Ro.default=s,Ro}var Mw;function l4(){if(Mw)return Jt;Mw=1;var r=Jt&&Jt.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(Jt,"__esModule",{value:!0}),Jt.PostgrestError=Jt.PostgrestBuilder=Jt.PostgrestTransformBuilder=Jt.PostgrestFilterBuilder=Jt.PostgrestQueryBuilder=Jt.PostgrestClient=void 0;const e=r(o4());Jt.PostgrestClient=e.default;const t=r(HT());Jt.PostgrestQueryBuilder=t.default;const s=r(cy());Jt.PostgrestFilterBuilder=s.default;const a=r($T());Jt.PostgrestTransformBuilder=a.default;const l=r(qT());Jt.PostgrestBuilder=l.default;const u=r(BT());return Jt.PostgrestError=u.default,Jt.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:l.default,PostgrestError:u.default},Jt}var c4=l4();const u4=jS(c4),{PostgrestClient:h4,PostgrestQueryBuilder:IP,PostgrestFilterBuilder:kP,PostgrestTransformBuilder:jP,PostgrestBuilder:OP,PostgrestError:DP}=u4;class d4{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const t=process.versions;if(t&&t.node){const s=t.node,a=parseInt(s.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const s=this.getWebSocketConstructor();return new s(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const f4="2.75.0",m4=`realtime-js/${f4}`,g4="1.0.0",np=1e4,p4=1e3,y4=100;var Pc;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(Pc||(Pc={}));var Ft;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(Ft||(Ft={}));var ds;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(ds||(ds={}));var sp;(function(r){r.websocket="websocket"})(sp||(sp={}));var va;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(va||(va={}));class _4{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,t,s)}_decodeBroadcast(e,t,s){const a=t.getUint8(1),l=t.getUint8(2);let u=this.HEADER_LENGTH+2;const f=s.decode(e.slice(u,u+a));u=u+a;const g=s.decode(e.slice(u,u+l));u=u+l;const y=JSON.parse(s.decode(e.slice(u,e.byteLength)));return{ref:null,topic:f,event:g,payload:y}}}class FT{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var mt;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(mt||(mt={}));const Vw=(r,e,t={})=>{var s;const a=(s=t.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((l,u)=>(l[u]=v4(u,r,e,a),l),{}):{}},v4=(r,e,t,s)=>{const a=e.find(f=>f.name===r),l=a==null?void 0:a.type,u=t[r];return l&&!s.includes(l)?GT(l,u):rp(u)},GT=(r,e)=>{if(r.charAt(0)==="_"){const t=r.slice(1,r.length);return x4(e,t)}switch(r){case mt.bool:return b4(e);case mt.float4:case mt.float8:case mt.int2:case mt.int4:case mt.int8:case mt.numeric:case mt.oid:return w4(e);case mt.json:case mt.jsonb:return E4(e);case mt.timestamp:return T4(e);case mt.abstime:case mt.date:case mt.daterange:case mt.int4range:case mt.int8range:case mt.money:case mt.reltime:case mt.text:case mt.time:case mt.timestamptz:case mt.timetz:case mt.tsrange:case mt.tstzrange:return rp(e);default:return rp(e)}},rp=r=>r,b4=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},w4=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},E4=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(e){return console.log(`JSON parse error: ${e}`),r}return r},x4=(r,e)=>{if(typeof r!="string")return r;const t=r.length-1,s=r[t];if(r[0]==="{"&&s==="}"){let l;const u=r.slice(1,t);try{l=JSON.parse("["+u+"]")}catch{l=u?u.split(","):[]}return l.map(f=>GT(e,f))}return r},T4=r=>typeof r=="string"?r.replace(" ","T"):r,KT=r=>{let e=r;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class pg{constructor(e,t,s={},a=np){this.channel=e,this.event=t,this.payload=s,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var s;return this._hasReceived(e)&&t((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Uw;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(Uw||(Uw={}));class Mc{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},a=>{const{onJoin:l,onLeave:u,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Mc.syncState(this.state,a,l,u),this.pendingDiffs.forEach(g=>{this.state=Mc.syncDiff(this.state,g,l,u)}),this.pendingDiffs=[],f()}),this.channel._on(s.diff,{},a=>{const{onJoin:l,onLeave:u,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Mc.syncDiff(this.state,a,l,u),f())}),this.onJoin((a,l,u)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:l,newPresences:u})}),this.onLeave((a,l,u)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,s,a){const l=this.cloneDeep(e),u=this.transformState(t),f={},g={};return this.map(l,(y,_)=>{u[y]||(g[y]=_)}),this.map(u,(y,_)=>{const E=l[y];if(E){const T=_.map(z=>z.presence_ref),I=E.map(z=>z.presence_ref),L=_.filter(z=>I.indexOf(z.presence_ref)<0),q=E.filter(z=>T.indexOf(z.presence_ref)<0);L.length>0&&(f[y]=L),q.length>0&&(g[y]=q)}else f[y]=_}),this.syncDiff(l,{joins:f,leaves:g},s,a)}static syncDiff(e,t,s,a){const{joins:l,leaves:u}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return s||(s=()=>{}),a||(a=()=>{}),this.map(l,(f,g)=>{var y;const _=(y=e[f])!==null&&y!==void 0?y:[];if(e[f]=this.cloneDeep(g),_.length>0){const E=e[f].map(I=>I.presence_ref),T=_.filter(I=>E.indexOf(I.presence_ref)<0);e[f].unshift(...T)}s(f,_,g)}),this.map(u,(f,g)=>{let y=e[f];if(!y)return;const _=g.map(E=>E.presence_ref);y=y.filter(E=>_.indexOf(E.presence_ref)<0),e[f]=y,a(f,y,g),y.length===0&&delete e[f]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(s=>t(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,s)=>{const a=e[s];return"metas"in a?t[s]=a.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):t[s]=a,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Lw;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(Lw||(Lw={}));var Vc;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(Vc||(Vc={}));var dr;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(dr||(dr={}));class uy{constructor(e,t={config:{}},s){var a,l;if(this.topic=e,this.params=t,this.socket=s,this.bindings={},this.state=Ft.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new pg(this,ds.join,this.params,this.timeout),this.rejoinTimer=new FT(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ft.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ft.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Ft.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ft.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Ft.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ds.reply,{},(u,f)=>{this._trigger(this._replyEventName(f),u)}),this.presence=new Mc(this),this.broadcastEndpointURL=KT(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var s,a,l;if(this.socket.isConnected()||this.socket.connect(),this.state==Ft.closed){const{config:{broadcast:u,presence:f,private:g}}=this.params,y=(a=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(I=>I.filter))!==null&&a!==void 0?a:[],_=!!this.bindings[Vc.PRESENCE]&&this.bindings[Vc.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,E={},T={broadcast:u,presence:Object.assign(Object.assign({},f),{enabled:_}),postgres_changes:y,private:g};this.socket.accessTokenValue&&(E.access_token=this.socket.accessTokenValue),this._onError(I=>e==null?void 0:e(dr.CHANNEL_ERROR,I)),this._onClose(()=>e==null?void 0:e(dr.CLOSED)),this.updateJoinPayload(Object.assign({config:T},E)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:I})=>{var L;if(this.socket.setAuth(),I===void 0){e==null||e(dr.SUBSCRIBED);return}else{const q=this.bindings.postgres_changes,z=(L=q==null?void 0:q.length)!==null&&L!==void 0?L:0,re=[];for(let J=0;J<z;J++){const Y=q[J],{filter:{event:le,schema:ce,table:oe,filter:C}}=Y,A=I&&I[J];if(A&&A.event===le&&A.schema===ce&&A.table===oe&&A.filter===C)re.push(Object.assign(Object.assign({},Y),{id:A.id}));else{this.unsubscribe(),this.state=Ft.errored,e==null||e(dr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=re,e&&e(dr.SUBSCRIBED);return}}).receive("error",I=>{this.state=Ft.errored,e==null||e(dr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(I).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(dr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,s){return this.state===Ft.joined&&e===Vc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,s)}async send(e,t={}){var s,a;if(!this._canPush()&&e.type==="broadcast"){const{event:l,payload:u}=e,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(s=t.timeout)!==null&&s!==void 0?s:this.timeout);return await((a=y.body)===null||a===void 0?void 0:a.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,f,g;const y=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((g=(f=(u=this.params)===null||u===void 0?void 0:u.config)===null||f===void 0?void 0:f.broadcast)===null||g===void 0)&&g.ack)&&l("ok"),y.receive("ok",()=>l("ok")),y.receive("error",()=>l("error")),y.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ft.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ds.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(a=>{s=new pg(this,ds.leave,{},e),s.receive("ok",()=>{t(),a("ok")}).receive("timeout",()=>{t(),a("timed out")}).receive("error",()=>{a("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ft.closed,this.bindings={}}async _fetchWithTimeout(e,t,s){const a=new AbortController,l=setTimeout(()=>a.abort(),s),u=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:a.signal}));return clearTimeout(l),u}_push(e,t,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new pg(this,e,t,s);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>y4){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,s){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,s){var a,l;const u=e.toLocaleLowerCase(),{close:f,error:g,leave:y,join:_}=ds;if(s&&[f,g,y,_].indexOf(u)>=0&&s!==this._joinRef())return;let T=this._onMessage(u,t,s);if(t&&!T)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(I=>{var L,q,z;return((L=I.filter)===null||L===void 0?void 0:L.event)==="*"||((z=(q=I.filter)===null||q===void 0?void 0:q.event)===null||z===void 0?void 0:z.toLocaleLowerCase())===u}).map(I=>I.callback(T,s)):(l=this.bindings[u])===null||l===void 0||l.filter(I=>{var L,q,z,re,J,Y;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in I){const le=I.id,ce=(L=I.filter)===null||L===void 0?void 0:L.event;return le&&((q=t.ids)===null||q===void 0?void 0:q.includes(le))&&(ce==="*"||(ce==null?void 0:ce.toLocaleLowerCase())===((z=t.data)===null||z===void 0?void 0:z.type.toLocaleLowerCase()))}else{const le=(J=(re=I==null?void 0:I.filter)===null||re===void 0?void 0:re.event)===null||J===void 0?void 0:J.toLocaleLowerCase();return le==="*"||le===((Y=t==null?void 0:t.event)===null||Y===void 0?void 0:Y.toLocaleLowerCase())}else return I.type.toLocaleLowerCase()===u}).map(I=>{if(typeof T=="object"&&"ids"in T){const L=T.data,{schema:q,table:z,commit_timestamp:re,type:J,errors:Y}=L;T=Object.assign(Object.assign({},{schema:q,table:z,commit_timestamp:re,eventType:J,new:{},old:{},errors:Y}),this._getPayloadRecords(L))}I.callback(T,s)})}_isClosed(){return this.state===Ft.closed}_isJoined(){return this.state===Ft.joined}_isJoining(){return this.state===Ft.joining}_isLeaving(){return this.state===Ft.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,s){const a=e.toLocaleLowerCase(),l={type:a,filter:t,callback:s};return this.bindings[a]?this.bindings[a].push(l):this.bindings[a]=[l],this}_off(e,t){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(a=>{var l;return!(((l=a.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===s&&uy.isEqual(a.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ds.close,{},e)}_onError(e){this._on(ds.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ft.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=Vw(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=Vw(e.columns,e.old_record)),t}}const yg=()=>{},Vh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},S4=[1e3,2e3,5e3,1e4],A4=1e4,R4=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class N4{constructor(e,t){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=np,this.transport=null,this.heartbeatIntervalMs=Vh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=yg,this.ref=0,this.reconnectTimer=null,this.logger=yg,this.conn=null,this.sendBuffer=[],this.serializer=new _4,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let l;return a?l=a:typeof fetch>"u"?l=(...u)=>au(async()=>{const{default:f}=await Promise.resolve().then(()=>fl);return{default:f}},void 0).then(({default:f})=>f(...u)).catch(f=>{throw new Error(`Failed to load @supabase/node-fetch: ${f.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):l=fetch,(...u)=>l(...u)},!(!((s=t==null?void 0:t.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${sp.websocket}`,this.httpEndpoint=KT(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t==null?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=d4.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:g4}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},e?this.conn.close(e,t??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,s){this.logger(e,t,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Pc.connecting:return va.Connecting;case Pc.open:return va.Open;case Pc.closing:return va.Closing;default:return va.Closed}}isConnected(){return this.connectionState()===va.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const s=`realtime:${e}`,a=this.getChannels().find(l=>l.topic===s);if(a)return a;{const l=new uy(`realtime:${e}`,t,this);return this.channels.push(l),l}}push(e){const{topic:t,event:s,payload:a,ref:l}=e,u=()=>{this.encode(e,f=>{var g;(g=this.conn)===null||g===void 0||g.send(f)})};this.log("push",`${t} ${s} (${l})`,a),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(p4,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},Vh.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(y){this.log("error","error in heartbeat callback",y)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:a,payload:l,ref:u}=t,f=u?`(${u})`:"",g=l.status||"";this.log("receive",`${g} ${s} ${a} ${f}`.trim(),l),this.channels.filter(y=>y._isMember(s)).forEach(y=>y._trigger(a,l,u)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ds.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const s=e.match(/\?/)?"&":"?",a=new URLSearchParams(t);return`${e}${s}${a}`}_workerObjectUrl(e){let t;if(e)t=e;else{const s=new Blob([R4],{type:"application/javascript"});t=URL.createObjectURL(s)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t;e?t=e:this.accessToken?t=await this.accessToken():t=this.accessTokenValue,this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(s=>{const a={access_token:t,version:m4};t&&s.updateJoinPayload(a),s.joinedOnce&&s._isJoined()&&s._push(ds.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(t)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new FT(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Vh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,s,a,l,u,f,g,y,_;if(this.transport=(t=e==null?void 0:e.transport)!==null&&t!==void 0?t:null,this.timeout=(s=e==null?void 0:e.timeout)!==null&&s!==void 0?s:np,this.heartbeatIntervalMs=(a=e==null?void 0:e.heartbeatIntervalMs)!==null&&a!==void 0?a:Vh.HEARTBEAT_INTERVAL,this.worker=(l=e==null?void 0:e.worker)!==null&&l!==void 0?l:!1,this.accessToken=(u=e==null?void 0:e.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(f=e==null?void 0:e.heartbeatCallback)!==null&&f!==void 0?f:yg,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=e==null?void 0:e.reconnectAfterMs)!==null&&g!==void 0?g:E=>S4[E-1]||A4,this.encode=(y=e==null?void 0:e.encode)!==null&&y!==void 0?y:(E,T)=>T(JSON.stringify(E)),this.decode=(_=e==null?void 0:e.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class hy extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Vt(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class C4 extends hy{constructor(e,t,s){super(e),this.name="StorageApiError",this.status=t,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ip extends hy{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var I4=function(r,e,t,s){function a(l){return l instanceof t?l:new t(function(u){u(l)})}return new(t||(t=Promise))(function(l,u){function f(_){try{y(s.next(_))}catch(E){u(E)}}function g(_){try{y(s.throw(_))}catch(E){u(E)}}function y(_){_.done?l(_.value):a(_.value).then(f,g)}y((s=s.apply(r,e||[])).next())})};const QT=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>au(async()=>{const{default:s}=await Promise.resolve().then(()=>fl);return{default:s}},void 0).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)},k4=()=>I4(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield au(()=>Promise.resolve().then(()=>fl),void 0)).Response:Response}),ap=r=>{if(Array.isArray(r))return r.map(t=>ap(t));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([t,s])=>{const a=t.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[a]=ap(s)}),e},j4=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)};var Pa=function(r,e,t,s){function a(l){return l instanceof t?l:new t(function(u){u(l)})}return new(t||(t=Promise))(function(l,u){function f(_){try{y(s.next(_))}catch(E){u(E)}}function g(_){try{y(s.throw(_))}catch(E){u(E)}}function y(_){_.done?l(_.value):a(_.value).then(f,g)}y((s=s.apply(r,e||[])).next())})};const _g=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),O4=(r,e,t)=>Pa(void 0,void 0,void 0,function*(){const s=yield k4();r instanceof s&&!(t!=null&&t.noResolveJson)?r.json().then(a=>{const l=r.status||500,u=(a==null?void 0:a.statusCode)||l+"";e(new C4(_g(a),l,u))}).catch(a=>{e(new ip(_g(a),a))}):e(new ip(_g(r),r))}),D4=(r,e,t,s)=>{const a={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"||!s?a:(j4(s)?(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(s)):a.body=s,e!=null&&e.duplex&&(a.duplex=e.duplex),Object.assign(Object.assign({},a),t))};function ou(r,e,t,s,a,l){return Pa(this,void 0,void 0,function*(){return new Promise((u,f)=>{r(t,D4(e,s,a,l)).then(g=>{if(!g.ok)throw g;return s!=null&&s.noResolveJson?g:g.json()}).then(g=>u(g)).catch(g=>O4(g,f,s))})})}function _d(r,e,t,s){return Pa(this,void 0,void 0,function*(){return ou(r,"GET",e,t,s)})}function Ds(r,e,t,s,a){return Pa(this,void 0,void 0,function*(){return ou(r,"POST",e,s,a,t)})}function op(r,e,t,s,a){return Pa(this,void 0,void 0,function*(){return ou(r,"PUT",e,s,a,t)})}function P4(r,e,t,s){return Pa(this,void 0,void 0,function*(){return ou(r,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),s)})}function YT(r,e,t,s,a){return Pa(this,void 0,void 0,function*(){return ou(r,"DELETE",e,s,a,t)})}var M4=function(r,e,t,s){function a(l){return l instanceof t?l:new t(function(u){u(l)})}return new(t||(t=Promise))(function(l,u){function f(_){try{y(s.next(_))}catch(E){u(E)}}function g(_){try{y(s.throw(_))}catch(E){u(E)}}function y(_){_.done?l(_.value):a(_.value).then(f,g)}y((s=s.apply(r,e||[])).next())})};class V4{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}execute(){return M4(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Vt(e))return{data:null,error:e};throw e}})}}var U4=function(r,e,t,s){function a(l){return l instanceof t?l:new t(function(u){u(l)})}return new(t||(t=Promise))(function(l,u){function f(_){try{y(s.next(_))}catch(E){u(E)}}function g(_){try{y(s.throw(_))}catch(E){u(E)}}function y(_){_.done?l(_.value):a(_.value).then(f,g)}y((s=s.apply(r,e||[])).next())})};class L4{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}asStream(){return new V4(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.execute().then(e,t)}execute(){return U4(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Vt(e))return{data:null,error:e};throw e}})}}var Rn=function(r,e,t,s){function a(l){return l instanceof t?l:new t(function(u){u(l)})}return new(t||(t=Promise))(function(l,u){function f(_){try{y(s.next(_))}catch(E){u(E)}}function g(_){try{y(s.throw(_))}catch(E){u(E)}}function y(_){_.done?l(_.value):a(_.value).then(f,g)}y((s=s.apply(r,e||[])).next())})};const z4={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},zw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class B4{constructor(e,t={},s,a){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=s,this.fetch=QT(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,s,a){return Rn(this,void 0,void 0,function*(){try{let l;const u=Object.assign(Object.assign({},zw),a);let f=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const g=u.metadata;typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),g&&l.append("metadata",this.encodeMetadata(g)),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.append("cacheControl",u.cacheControl),g&&l.append("metadata",this.encodeMetadata(g))):(l=s,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType,g&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(g)))),a!=null&&a.headers&&(f=Object.assign(Object.assign({},f),a.headers));const y=this._removeEmptyFolders(t),_=this._getFinalPath(y),E=yield(e=="PUT"?op:Ds)(this.fetch,`${this.url}/object/${_}`,l,Object.assign({headers:f},u!=null&&u.duplex?{duplex:u.duplex}:{}));return{data:{path:y,id:E.Id,fullPath:E.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Vt(l))return{data:null,error:l};throw l}})}upload(e,t,s){return Rn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,s)})}uploadToSignedUrl(e,t,s,a){return Rn(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),u=this._getFinalPath(l),f=new URL(this.url+`/object/upload/sign/${u}`);f.searchParams.set("token",t);try{let g;const y=Object.assign({upsert:zw.upsert},a),_=Object.assign(Object.assign({},this.headers),{"x-upsert":String(y.upsert)});typeof Blob<"u"&&s instanceof Blob?(g=new FormData,g.append("cacheControl",y.cacheControl),g.append("",s)):typeof FormData<"u"&&s instanceof FormData?(g=s,g.append("cacheControl",y.cacheControl)):(g=s,_["cache-control"]=`max-age=${y.cacheControl}`,_["content-type"]=y.contentType);const E=yield op(this.fetch,f.toString(),g,{headers:_});return{data:{path:l,fullPath:E.Key},error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(Vt(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(e,t){return Rn(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const a=Object.assign({},this.headers);t!=null&&t.upsert&&(a["x-upsert"]="true");const l=yield Ds(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:a}),u=new URL(this.url+l.url),f=u.searchParams.get("token");if(!f)throw new hy("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:f},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Vt(s))return{data:null,error:s};throw s}})}update(e,t,s){return Rn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,s)})}move(e,t,s){return Rn(this,void 0,void 0,function*(){try{return{data:yield Ds(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Vt(a))return{data:null,error:a};throw a}})}copy(e,t,s){return Rn(this,void 0,void 0,function*(){try{return{data:{path:(yield Ds(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Vt(a))return{data:null,error:a};throw a}})}createSignedUrl(e,t,s){return Rn(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),l=yield Ds(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:t},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const u=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${u}`)},{data:l,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Vt(a))return{data:null,error:a};throw a}})}createSignedUrls(e,t,s){return Rn(this,void 0,void 0,function*(){try{const a=yield Ds(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),l=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:a.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${l}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Vt(a))return{data:null,error:a};throw a}})}download(e,t){const a=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),u=l?`?${l}`:"",f=this._getFinalPath(e),g=()=>_d(this.fetch,`${this.url}/${a}/${f}${u}`,{headers:this.headers,noResolveJson:!0});return new L4(g,this.shouldThrowOnError)}info(e){return Rn(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const s=yield _d(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:ap(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Vt(s))return{data:null,error:s};throw s}})}exists(e){return Rn(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield P4(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Vt(s)&&s instanceof ip){const a=s.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,t){const s=this._getFinalPath(e),a=[],l=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";l!==""&&a.push(l);const f=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",g=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});g!==""&&a.push(g);let y=a.join("&");return y!==""&&(y=`?${y}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${s}${y}`)}}}remove(e){return Rn(this,void 0,void 0,function*(){try{return{data:yield YT(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Vt(t))return{data:null,error:t};throw t}})}list(e,t,s){return Rn(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},z4),t),{prefix:e||""});return{data:yield Ds(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},s),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Vt(a))return{data:null,error:a};throw a}})}listV2(e,t){return Rn(this,void 0,void 0,function*(){try{const s=Object.assign({},e);return{data:yield Ds(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},t),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Vt(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const q4="2.75.0",$4={"X-Client-Info":`storage-js/${q4}`};var jo=function(r,e,t,s){function a(l){return l instanceof t?l:new t(function(u){u(l)})}return new(t||(t=Promise))(function(l,u){function f(_){try{y(s.next(_))}catch(E){u(E)}}function g(_){try{y(s.throw(_))}catch(E){u(E)}}function y(_){_.done?l(_.value):a(_.value).then(f,g)}y((s=s.apply(r,e||[])).next())})};class H4{constructor(e,t={},s,a){this.shouldThrowOnError=!1;const l=new URL(e);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},$4),t),this.fetch=QT(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return jo(this,void 0,void 0,function*(){try{return{data:yield _d(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Vt(e))return{data:null,error:e};throw e}})}getBucket(e){return jo(this,void 0,void 0,function*(){try{return{data:yield _d(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Vt(t))return{data:null,error:t};throw t}})}createBucket(e){return jo(this,arguments,void 0,function*(t,s={public:!1}){try{return{data:yield Ds(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Vt(a))return{data:null,error:a};throw a}})}updateBucket(e,t){return jo(this,void 0,void 0,function*(){try{return{data:yield op(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Vt(s))return{data:null,error:s};throw s}})}emptyBucket(e){return jo(this,void 0,void 0,function*(){try{return{data:yield Ds(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Vt(t))return{data:null,error:t};throw t}})}deleteBucket(e){return jo(this,void 0,void 0,function*(){try{return{data:yield YT(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Vt(t))return{data:null,error:t};throw t}})}}class F4 extends H4{constructor(e,t={},s,a){super(e,t,s,a)}from(e){return new B4(this.url,this.headers,e,this.fetch)}}const G4="2.75.0";let Nc="";typeof Deno<"u"?Nc="deno":typeof document<"u"?Nc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Nc="react-native":Nc="node";const K4={"X-Client-Info":`supabase-js-${Nc}/${G4}`},Q4={headers:K4},Y4={schema:"public"},W4={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},X4={};var J4=function(r,e,t,s){function a(l){return l instanceof t?l:new t(function(u){u(l)})}return new(t||(t=Promise))(function(l,u){function f(_){try{y(s.next(_))}catch(E){u(E)}}function g(_){try{y(s.throw(_))}catch(E){u(E)}}function y(_){_.done?l(_.value):a(_.value).then(f,g)}y((s=s.apply(r,e||[])).next())})};const Z4=r=>{let e;return r?e=r:typeof fetch>"u"?e=LT:e=fetch,(...t)=>e(...t)},eD=()=>typeof Headers>"u"?zT:Headers,tD=(r,e,t)=>{const s=Z4(t),a=eD();return(l,u)=>J4(void 0,void 0,void 0,function*(){var f;const g=(f=yield e())!==null&&f!==void 0?f:r;let y=new a(u==null?void 0:u.headers);return y.has("apikey")||y.set("apikey",r),y.has("Authorization")||y.set("Authorization",`Bearer ${g}`),s(l,Object.assign(Object.assign({},u),{headers:y}))})};var nD=function(r,e,t,s){function a(l){return l instanceof t?l:new t(function(u){u(l)})}return new(t||(t=Promise))(function(l,u){function f(_){try{y(s.next(_))}catch(E){u(E)}}function g(_){try{y(s.throw(_))}catch(E){u(E)}}function y(_){_.done?l(_.value):a(_.value).then(f,g)}y((s=s.apply(r,e||[])).next())})};function sD(r){return r.endsWith("/")?r:r+"/"}function rD(r,e){var t,s;const{db:a,auth:l,realtime:u,global:f}=r,{db:g,auth:y,realtime:_,global:E}=e,T={db:Object.assign(Object.assign({},g),a),auth:Object.assign(Object.assign({},y),l),realtime:Object.assign(Object.assign({},_),u),storage:{},global:Object.assign(Object.assign(Object.assign({},E),f),{headers:Object.assign(Object.assign({},(t=E==null?void 0:E.headers)!==null&&t!==void 0?t:{}),(s=f==null?void 0:f.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>nD(this,void 0,void 0,function*(){return""})};return r.accessToken?T.accessToken=r.accessToken:delete T.accessToken,T}function iD(r){const e=r==null?void 0:r.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(sD(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const WT="2.75.0",qo=30*1e3,lp=3,vg=lp*qo,aD="http://localhost:9999",oD="supabase.auth.token",lD={"X-Client-Info":`gotrue-js/${WT}`},cp="X-Supabase-Api-Version",XT={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},cD=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,uD=10*60*1e3;class Gc extends Error{constructor(e,t,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=s}}function Ee(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class hD extends Gc{constructor(e,t,s){super(e,t,s),this.name="AuthApiError",this.status=t,this.code=s}}function dD(r){return Ee(r)&&r.name==="AuthApiError"}class ba extends Gc{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Ii extends Gc{constructor(e,t,s,a){super(e,s,a),this.name=t,this.status=s}}class oi extends Ii{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function fD(r){return Ee(r)&&r.name==="AuthSessionMissingError"}class Oo extends Ii{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Uh extends Ii{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Lh extends Ii{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function mD(r){return Ee(r)&&r.name==="AuthImplicitGrantRedirectError"}class Bw extends Ii{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class up extends Ii{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function bg(r){return Ee(r)&&r.name==="AuthRetryableFetchError"}class qw extends Ii{constructor(e,t,s){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=s}}class hp extends Ii{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const vd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),$w=` 	
\r=`.split(""),gD=(()=>{const r=new Array(128);for(let e=0;e<r.length;e+=1)r[e]=-1;for(let e=0;e<$w.length;e+=1)r[$w[e].charCodeAt(0)]=-2;for(let e=0;e<vd.length;e+=1)r[vd[e].charCodeAt(0)]=e;return r})();function Hw(r,e,t){if(r!==null)for(e.queue=e.queue<<8|r,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;t(vd[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;t(vd[s]),e.queuedBits-=6}}function JT(r,e,t){const s=gD[r];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function Fw(r){const e=[],t=u=>{e.push(String.fromCodePoint(u))},s={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},l=u=>{_D(u,s,t)};for(let u=0;u<r.length;u+=1)JT(r.charCodeAt(u),a,l);return e.join("")}function pD(r,e){if(r<=127){e(r);return}else if(r<=2047){e(192|r>>6),e(128|r&63);return}else if(r<=65535){e(224|r>>12),e(128|r>>6&63),e(128|r&63);return}else if(r<=1114111){e(240|r>>18),e(128|r>>12&63),e(128|r>>6&63),e(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function yD(r,e){for(let t=0;t<r.length;t+=1){let s=r.charCodeAt(t);if(s>55295&&s<=56319){const a=(s-55296)*1024&65535;s=(r.charCodeAt(t+1)-56320&65535|a)+65536,t+=1}pD(s,e)}}function _D(r,e,t){if(e.utf8seq===0){if(r<=127){t(r);return}for(let s=1;s<6;s+=1)if((r>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=r&31;else if(e.utf8seq===3)e.codepoint=r&15;else if(e.utf8seq===4)e.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|r&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function Yo(r){const e=[],t={queue:0,queuedBits:0},s=a=>{e.push(a)};for(let a=0;a<r.length;a+=1)JT(r.charCodeAt(a),t,s);return new Uint8Array(e)}function vD(r){const e=[];return yD(r,t=>e.push(t)),new Uint8Array(e)}function Ea(r){const e=[],t={queue:0,queuedBits:0},s=a=>{e.push(a)};return r.forEach(a=>Hw(a,t,s)),Hw(null,t,s),e.join("")}function bD(r){return Math.round(Date.now()/1e3)+r}function wD(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const e=Math.random()*16|0;return(r=="x"?e:e&3|8).toString(16)})}const Ln=()=>typeof window<"u"&&typeof document<"u",ga={tested:!1,writable:!1},ZT=()=>{if(!Ln())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ga.tested)return ga.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),ga.tested=!0,ga.writable=!0}catch{ga.tested=!0,ga.writable=!1}return ga.writable};function ED(r){const e={},t=new URL(r);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((a,l)=>{e[l]=a})}catch{}return t.searchParams.forEach((s,a)=>{e[a]=s}),e}const e1=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>au(async()=>{const{default:s}=await Promise.resolve().then(()=>fl);return{default:s}},void 0).then(({default:s})=>s(...t)):e=fetch,(...t)=>e(...t)},xD=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",$o=async(r,e,t)=>{await r.setItem(e,JSON.stringify(t))},pa=async(r,e)=>{const t=await r.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},ai=async(r,e)=>{await r.removeItem(e)};class $d{constructor(){this.promise=new $d.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}$d.promiseConstructor=Promise;function wg(r){const e=r.split(".");if(e.length!==3)throw new hp("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!cD.test(e[s]))throw new hp("JWT not in base64url format");return{header:JSON.parse(Fw(e[0])),payload:JSON.parse(Fw(e[1])),signature:Yo(e[2]),raw:{header:e[0],payload:e[1]}}}async function TD(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function SD(r,e){return new Promise((s,a)=>{(async()=>{for(let l=0;l<1/0;l++)try{const u=await r(l);if(!e(l,null,u)){s(u);return}}catch(u){if(!e(l,u)){a(u);return}}})()})}function AD(r){return("0"+r.toString(16)).substr(-2)}function RD(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=t.length;let a="";for(let l=0;l<56;l++)a+=t.charAt(Math.floor(Math.random()*s));return a}return crypto.getRandomValues(e),Array.from(e,AD).join("")}async function ND(r){const t=new TextEncoder().encode(r),s=await crypto.subtle.digest("SHA-256",t),a=new Uint8Array(s);return Array.from(a).map(l=>String.fromCharCode(l)).join("")}async function CD(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const t=await ND(r);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Do(r,e,t=!1){const s=RD();let a=s;t&&(a+="/PASSWORD_RECOVERY"),await $o(r,`${e}-code-verifier`,a);const l=await CD(s);return[l,s===l?"plain":"s256"]}const ID=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function kD(r){const e=r.headers.get(cp);if(!e||!e.match(ID))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function jD(r){if(!r)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(r<=e)throw new Error("JWT has expired")}function OD(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const DD=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Po(r){if(!DD.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Eg(){const r={};return new Proxy(r,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const s=t.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Gw(r){return JSON.parse(JSON.stringify(r))}var PD=function(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(r);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(r,s[a])&&(t[s[a]]=r[s[a]]);return t};const _a=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),MD=[502,503,504];async function Kw(r){var e;if(!xD(r))throw new up(_a(r),0);if(MD.includes(r.status))throw new up(_a(r),r.status);let t;try{t=await r.json()}catch(l){throw new ba(_a(l),l)}let s;const a=kD(r);if(a&&a.getTime()>=XT["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?s=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(s=t.error_code),s){if(s==="weak_password")throw new qw(_a(t),r.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new oi}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0))throw new qw(_a(t),r.status,t.weak_password.reasons);throw new hD(_a(t),r.status||500,s)}const VD=(r,e,t,s)=>{const a={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(s),Object.assign(Object.assign({},a),t))};async function Oe(r,e,t,s){var a;const l=Object.assign({},s==null?void 0:s.headers);l[cp]||(l[cp]=XT["2024-01-01"].name),s!=null&&s.jwt&&(l.Authorization=`Bearer ${s.jwt}`);const u=(a=s==null?void 0:s.query)!==null&&a!==void 0?a:{};s!=null&&s.redirectTo&&(u.redirect_to=s.redirectTo);const f=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",g=await UD(r,e,t+f,{headers:l,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(g):{data:Object.assign({},g),error:null}}async function UD(r,e,t,s,a,l){const u=VD(e,s,a,l);let f;try{f=await r(t,Object.assign({},u))}catch(g){throw console.error(g),new up(_a(g),0)}if(f.ok||await Kw(f),s!=null&&s.noResolveJson)return f;try{return await f.json()}catch(g){await Kw(g)}}function hs(r){var e;let t=null;BD(r)&&(t=Object.assign({},r),r.expires_at||(t.expires_at=bD(r.expires_in)));const s=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:t,user:s},error:null}}function Qw(r){const e=hs(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((t,s)=>t&&typeof s=="string",!0)&&(e.data.weak_password=r.weak_password),e}function di(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function LD(r){return{data:r,error:null}}function zD(r){const{action_link:e,email_otp:t,hashed_token:s,redirect_to:a,verification_type:l}=r,u=PD(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:e,email_otp:t,hashed_token:s,redirect_to:a,verification_type:l},g=Object.assign({},u);return{data:{properties:f,user:g},error:null}}function Yw(r){return r}function BD(r){return r.access_token&&r.refresh_token&&r.expires_in}const xg=["global","local","others"];var qD=function(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(r);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(r,s[a])&&(t[s[a]]=r[s[a]]);return t};class $D{constructor({url:e="",headers:t={},fetch:s}){this.url=e,this.headers=t,this.fetch=e1(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=xg[0]){if(xg.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${xg.join(", ")}`);try{return await Oe(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(Ee(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,t={}){try{return await Oe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:di})}catch(s){if(Ee(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:t}=e,s=qD(e,["options"]),a=Object.assign(Object.assign({},s),t);return"newEmail"in s&&(a.new_email=s==null?void 0:s.newEmail,delete a.newEmail),await Oe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:zD,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(Ee(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Oe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:di})}catch(t){if(Ee(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,s,a,l,u,f,g;try{const y={nextPage:null,lastPage:0,total:0},_=await Oe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&s!==void 0?s:"",per_page:(l=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:Yw});if(_.error)throw _.error;const E=await _.json(),T=(u=_.headers.get("x-total-count"))!==null&&u!==void 0?u:0,I=(g=(f=_.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&g!==void 0?g:[];return I.length>0&&(I.forEach(L=>{const q=parseInt(L.split(";")[0].split("=")[1].substring(0,1)),z=JSON.parse(L.split(";")[1].split("=")[1]);y[`${z}Page`]=q}),y.total=parseInt(T)),{data:Object.assign(Object.assign({},E),y),error:null}}catch(y){if(Ee(y))return{data:{users:[]},error:y};throw y}}async getUserById(e){Po(e);try{return await Oe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:di})}catch(t){if(Ee(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Po(e);try{return await Oe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:di})}catch(s){if(Ee(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,t=!1){Po(e);try{return await Oe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:di})}catch(s){if(Ee(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){Po(e.userId);try{const{data:t,error:s}=await Oe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:t,error:s}}catch(t){if(Ee(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Po(e.userId),Po(e.id);try{return{data:await Oe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(Ee(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,s,a,l,u,f,g;try{const y={nextPage:null,lastPage:0,total:0},_=await Oe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&s!==void 0?s:"",per_page:(l=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:Yw});if(_.error)throw _.error;const E=await _.json(),T=(u=_.headers.get("x-total-count"))!==null&&u!==void 0?u:0,I=(g=(f=_.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&g!==void 0?g:[];return I.length>0&&(I.forEach(L=>{const q=parseInt(L.split(";")[0].split("=")[1].substring(0,1)),z=JSON.parse(L.split(";")[1].split("=")[1]);y[`${z}Page`]=q}),y.total=parseInt(T)),{data:Object.assign(Object.assign({},E),y),error:null}}catch(y){if(Ee(y))return{data:{clients:[]},error:y};throw y}}async _createOAuthClient(e){try{return await Oe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(Ee(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await Oe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(Ee(t))return{data:null,error:t};throw t}}async _deleteOAuthClient(e){try{return await Oe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(Ee(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await Oe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(Ee(t))return{data:null,error:t};throw t}}}function Ww(r={}){return{getItem:e=>r[e]||null,setItem:(e,t)=>{r[e]=t},removeItem:e=>{delete r[e]}}}const Mo={debug:!!(globalThis&&ZT()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class t1 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class HD extends t1{}async function FD(r,e,t){Mo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),Mo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async a=>{if(a){Mo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,a.name);try{return await t()}finally{Mo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,a.name)}}else{if(e===0)throw Mo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new HD(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(Mo.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}function GD(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function n1(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function KD(r){return parseInt(r,16)}function QD(r){const e=new TextEncoder().encode(r);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function YD(r){var e;const{chainId:t,domain:s,expirationTime:a,issuedAt:l=new Date,nonce:u,notBefore:f,requestId:g,resources:y,scheme:_,uri:E,version:T}=r;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!E)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(T!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${T}`);if(!((e=r.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const I=n1(r.address),L=_?`${_}://${s}`:s,q=r.statement?`${r.statement}
`:"",z=`${L} wants you to sign in with your Ethereum account:
${I}

${q}`;let re=`URI: ${E}
Version: ${T}
Chain ID: ${t}${u?`
Nonce: ${u}`:""}
Issued At: ${l.toISOString()}`;if(a&&(re+=`
Expiration Time: ${a.toISOString()}`),f&&(re+=`
Not Before: ${f.toISOString()}`),g&&(re+=`
Request ID: ${g}`),y){let J=`
Resources:`;for(const Y of y){if(!Y||typeof Y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${Y}`);J+=`
- ${Y}`}re+=J}return`${z}
${re}`}class Mt extends Error{constructor({message:e,code:t,cause:s,name:a}){var l;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(l=a??(s instanceof Error?s.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=t}}class bd extends Mt{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function WD({error:r,options:e}){var t,s,a;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Mt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((t=l.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new Mt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(e.mediation==="conditional"&&((s=l.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Mt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((a=l.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Mt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new Mt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new Mt({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return l.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new Mt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new Mt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const u=window.location.hostname;if(r1(u)){if(l.rp.id!==u)return new Mt({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new Mt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new Mt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new Mt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new Mt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function XD({error:r,options:e}){const{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Mt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new Mt({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const s=window.location.hostname;if(r1(s)){if(t.rpId!==s)return new Mt({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new Mt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new Mt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new Mt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}var s1=function(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(r);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(r,s[a])&&(t[s[a]]=r[s[a]]);return t};class JD{createNewAbortSignal(){if(this.controller){const t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const ZD=new JD;function eP(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:e,user:t,excludeCredentials:s}=r,a=s1(r,["challenge","user","excludeCredentials"]),l=Yo(e).buffer,u=Object.assign(Object.assign({},t),{id:Yo(t.id).buffer}),f=Object.assign(Object.assign({},a),{challenge:l,user:u});if(s&&s.length>0){f.excludeCredentials=new Array(s.length);for(let g=0;g<s.length;g++){const y=s[g];f.excludeCredentials[g]=Object.assign(Object.assign({},y),{id:Yo(y.id).buffer,type:y.type||"public-key",transports:y.transports})}}return f}function tP(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:e,allowCredentials:t}=r,s=s1(r,["challenge","allowCredentials"]),a=Yo(e).buffer,l=Object.assign(Object.assign({},s),{challenge:a});if(t&&t.length>0){l.allowCredentials=new Array(t.length);for(let u=0;u<t.length;u++){const f=t[u];l.allowCredentials[u]=Object.assign(Object.assign({},f),{id:Yo(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return l}function nP(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const t=r;return{id:r.id,rawId:r.id,response:{attestationObject:Ea(new Uint8Array(r.response.attestationObject)),clientDataJSON:Ea(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function sP(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const t=r,s=r.getClientExtensionResults(),a=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:Ea(new Uint8Array(a.authenticatorData)),clientDataJSON:Ea(new Uint8Array(a.clientDataJSON)),signature:Ea(new Uint8Array(a.signature)),userHandle:a.userHandle?Ea(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function r1(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function Xw(){var r,e;return!!(Ln()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator==null?void 0:navigator.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function rP(r){try{const e=await navigator.credentials.create(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new bd("Browser returned unexpected credential type",e)}:{data:null,error:new bd("Empty credential response",e)}}catch(e){return{data:null,error:WD({error:e,options:r})}}}async function iP(r){try{const e=await navigator.credentials.get(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new bd("Browser returned unexpected credential type",e)}:{data:null,error:new bd("Empty credential response",e)}}catch(e){return{data:null,error:XD({error:e,options:r})}}}const aP={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},oP={userVerification:"preferred",hints:["security-key"]};function wd(...r){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),t=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),s={};for(const a of r)if(a)for(const l in a){const u=a[l];if(u!==void 0)if(Array.isArray(u))s[l]=u;else if(t(u))s[l]=u;else if(e(u)){const f=s[l];e(f)?s[l]=wd(f,u):s[l]=wd(u)}else s[l]=u}return s}function lP(r,e){return wd(aP,r,e||{})}function cP(r,e){return wd(oP,r,e||{})}class uP{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:s,signal:a},l){try{const{data:u,error:f}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!u)return{data:null,error:f};const g=a??ZD.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:y}=u.webauthn.credential_options.publicKey;y.name||(y.name=`${y.id}:${s}`),y.displayName||(y.displayName=y.name)}switch(u.webauthn.type){case"create":{const y=lP(u.webauthn.credential_options.publicKey,l==null?void 0:l.create),{data:_,error:E}=await rP({publicKey:y,signal:g});return _?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:_}},error:null}:{data:null,error:E}}case"request":{const y=cP(u.webauthn.credential_options.publicKey,l==null?void 0:l.request),{data:_,error:E}=await iP(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:y,signal:g}));return _?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:_}},error:null}:{data:null,error:E}}}}catch(u){return Ee(u)?{data:null,error:u}:{data:null,error:new ba("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:t,webauthn:s}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:a}},l){if(!t)return{data:null,error:new Gc("rpId is required for WebAuthn authentication")};try{if(!Xw())return{data:null,error:new ba("Browser does not support WebAuthn",null)};const{data:u,error:f}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:s},signal:a},{request:l});if(!u)return{data:null,error:f};const{webauthn:g}=u;return this._verify({factorId:e,challengeId:u.challengeId,webauthn:{type:g.type,rpId:t,rpOrigins:s,credential_response:g.credential_response}})}catch(u){return Ee(u)?{data:null,error:u}:{data:null,error:new ba("Unexpected error in authenticate",u)}}}async _register({friendlyName:e,rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:a},l){if(!t)return{data:null,error:new Gc("rpId is required for WebAuthn registration")};try{if(!Xw())return{data:null,error:new ba("Browser does not support WebAuthn",null)};const{data:u,error:f}=await this._enroll({friendlyName:e});if(!u)return await this.client.mfa.listFactors().then(_=>{var E;return(E=_.data)===null||E===void 0?void 0:E.all.find(T=>T.factor_type==="webauthn"&&T.friendly_name===e&&T.status!=="unverified")}).then(_=>_?this.client.mfa.unenroll({factorId:_==null?void 0:_.id}):void 0),{data:null,error:f};const{data:g,error:y}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:t,rpOrigins:s},signal:a},{create:l});return g?this._verify({factorId:u.id,challengeId:g.challengeId,webauthn:{rpId:t,rpOrigins:s,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:y}}catch(u){return Ee(u)?{data:null,error:u}:{data:null,error:new ba("Unexpected error in register",u)}}}}GD();const hP={url:aD,storageKey:oD,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:lD,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Jw(r,e,t){return await t()}const Vo={};class Kc{get jwks(){var e,t;return(t=(e=Vo[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){Vo[this.storageKey]=Object.assign(Object.assign({},Vo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=Vo[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Vo[this.storageKey]=Object.assign(Object.assign({},Vo[this.storageKey]),{cachedAt:e})}constructor(e){var t,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Kc.nextInstanceID,Kc.nextInstanceID+=1,this.instanceID>0&&Ln()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},hP),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new $D({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=e1(a.fetch),this.lock=a.lock||Jw,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Ln()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=FD:this.lock=Jw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new uP(this)},this.persistSession?(a.storage?this.storage=a.storage:ZT()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ww(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Ww(this.memoryStorage)),Ln()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${WT}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=ED(window.location.href);let s="none";if(this._isImplicitGrantCallback(t)?s="implicit":await this._isPKCECallback(t)&&(s="pkce"),Ln()&&this.detectSessionInUrl&&s!=="none"){const{data:a,error:l}=await this._getSessionFromURL(t,s);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),mD(l)){const g=(e=l.details)===null||e===void 0?void 0:e.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:u,redirectType:f}=a;return this._debug("#_initialize()","detected session in URL",u,"redirect type",f),await this._saveSession(u),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Ee(t)?{error:t}:{error:new ba("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,s,a;try{const l=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:hs}),{data:u,error:f}=l;if(f||!u)return{data:{user:null,session:null},error:f};const g=u.session,y=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:y,session:g},error:null}}catch(l){if(Ee(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(e){var t,s,a;try{let l;if("email"in e){const{email:_,password:E,options:T}=e;let I=null,L=null;this.flowType==="pkce"&&([I,L]=await Do(this.storage,this.storageKey)),l=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:T==null?void 0:T.emailRedirectTo,body:{email:_,password:E,data:(t=T==null?void 0:T.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:T==null?void 0:T.captchaToken},code_challenge:I,code_challenge_method:L},xform:hs})}else if("phone"in e){const{phone:_,password:E,options:T}=e;l=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:_,password:E,data:(s=T==null?void 0:T.data)!==null&&s!==void 0?s:{},channel:(a=T==null?void 0:T.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:T==null?void 0:T.captchaToken}},xform:hs})}else throw new Uh("You must provide either an email or phone number and a password");const{data:u,error:f}=l;if(f||!u)return{data:{user:null,session:null},error:f};const g=u.session,y=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:y,session:g},error:null}}catch(l){if(Ee(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(e){try{let t;if("email"in e){const{email:l,password:u,options:f}=e;t=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Qw})}else if("phone"in e){const{phone:l,password:u,options:f}=e;t=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Qw})}else throw new Uh("You must provide either an email or phone number and a password");const{data:s,error:a}=t;return a?{data:{user:null,session:null},error:a}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new Oo}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:a})}catch(t){if(Ee(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,s,a,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,s,a,l,u,f,g,y,_,E,T;let I,L;if("message"in e)I=e.message,L=e.signature;else{const{chain:q,wallet:z,statement:re,options:J}=e;let Y;if(Ln())if(typeof z=="object")Y=z;else{const R=window;if("ethereum"in R&&typeof R.ethereum=="object"&&"request"in R.ethereum&&typeof R.ethereum.request=="function")Y=R.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof z!="object"||!(J!=null&&J.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Y=z}const le=new URL((t=J==null?void 0:J.url)!==null&&t!==void 0?t:window.location.href),ce=await Y.request({method:"eth_requestAccounts"}).then(R=>R).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ce||ce.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const oe=n1(ce[0]);let C=(s=J==null?void 0:J.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!C){const R=await Y.request({method:"eth_chainId"});C=KD(R)}const A={domain:le.host,address:oe,statement:re,uri:le.href,version:"1",chainId:C,nonce:(a=J==null?void 0:J.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(u=(l=J==null?void 0:J.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(f=J==null?void 0:J.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(g=J==null?void 0:J.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(y=J==null?void 0:J.signInWithEthereum)===null||y===void 0?void 0:y.requestId,resources:(_=J==null?void 0:J.signInWithEthereum)===null||_===void 0?void 0:_.resources};I=YD(A),L=await Y.request({method:"personal_sign",params:[QD(I),oe]})}try{const{data:q,error:z}=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:I,signature:L},!((E=e.options)===null||E===void 0)&&E.captchaToken?{gotrue_meta_security:{captcha_token:(T=e.options)===null||T===void 0?void 0:T.captchaToken}}:null),xform:hs});if(z)throw z;return!q||!q.session||!q.user?{data:{user:null,session:null},error:new Oo}:(q.session&&(await this._saveSession(q.session),await this._notifyAllSubscribers("SIGNED_IN",q.session)),{data:Object.assign({},q),error:z})}catch(q){if(Ee(q))return{data:{user:null,session:null},error:q};throw q}}async signInWithSolana(e){var t,s,a,l,u,f,g,y,_,E,T,I;let L,q;if("message"in e)L=e.message,q=e.signature;else{const{chain:z,wallet:re,statement:J,options:Y}=e;let le;if(Ln())if(typeof re=="object")le=re;else{const oe=window;if("solana"in oe&&typeof oe.solana=="object"&&("signIn"in oe.solana&&typeof oe.solana.signIn=="function"||"signMessage"in oe.solana&&typeof oe.solana.signMessage=="function"))le=oe.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof re!="object"||!(Y!=null&&Y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");le=re}const ce=new URL((t=Y==null?void 0:Y.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in le&&le.signIn){const oe=await le.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},Y==null?void 0:Y.signInWithSolana),{version:"1",domain:ce.host,uri:ce.href}),J?{statement:J}:null));let C;if(Array.isArray(oe)&&oe[0]&&typeof oe[0]=="object")C=oe[0];else if(oe&&typeof oe=="object"&&"signedMessage"in oe&&"signature"in oe)C=oe;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)L=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),q=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in le)||typeof le.signMessage!="function"||!("publicKey"in le)||typeof le!="object"||!le.publicKey||!("toBase58"in le.publicKey)||typeof le.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");L=[`${ce.host} wants you to sign in with your Solana account:`,le.publicKey.toBase58(),...J?["",J,""]:[""],"Version: 1",`URI: ${ce.href}`,`Issued At: ${(a=(s=Y==null?void 0:Y.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((l=Y==null?void 0:Y.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${Y.signInWithSolana.notBefore}`]:[],...!((u=Y==null?void 0:Y.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${Y.signInWithSolana.expirationTime}`]:[],...!((f=Y==null?void 0:Y.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${Y.signInWithSolana.chainId}`]:[],...!((g=Y==null?void 0:Y.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${Y.signInWithSolana.nonce}`]:[],...!((y=Y==null?void 0:Y.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${Y.signInWithSolana.requestId}`]:[],...!((E=(_=Y==null?void 0:Y.signInWithSolana)===null||_===void 0?void 0:_.resources)===null||E===void 0)&&E.length?["Resources",...Y.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const oe=await le.signMessage(new TextEncoder().encode(L),"utf8");if(!oe||!(oe instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");q=oe}}try{const{data:z,error:re}=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:L,signature:Ea(q)},!((T=e.options)===null||T===void 0)&&T.captchaToken?{gotrue_meta_security:{captcha_token:(I=e.options)===null||I===void 0?void 0:I.captchaToken}}:null),xform:hs});if(re)throw re;return!z||!z.session||!z.user?{data:{user:null,session:null},error:new Oo}:(z.session&&(await this._saveSession(z.session),await this._notifyAllSubscribers("SIGNED_IN",z.session)),{data:Object.assign({},z),error:re})}catch(z){if(Ee(z))return{data:{user:null,session:null},error:z};throw z}}async _exchangeCodeForSession(e){const t=await pa(this.storage,`${this.storageKey}-code-verifier`),[s,a]=(t??"").split("/");try{const{data:l,error:u}=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:hs});if(await ai(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new Oo}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:a??null}),error:u})}catch(l){if(Ee(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(e){try{const{options:t,provider:s,token:a,access_token:l,nonce:u}=e,f=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:a,access_token:l,nonce:u,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:hs}),{data:g,error:y}=f;return y?{data:{user:null,session:null},error:y}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new Oo}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:g,error:y})}catch(t){if(Ee(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,s,a,l,u;try{if("email"in e){const{email:f,options:g}=e;let y=null,_=null;this.flowType==="pkce"&&([y,_]=await Do(this.storage,this.storageKey));const{error:E}=await Oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(t=g==null?void 0:g.data)!==null&&t!==void 0?t:{},create_user:(s=g==null?void 0:g.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:y,code_challenge_method:_},redirectTo:g==null?void 0:g.emailRedirectTo});return{data:{user:null,session:null},error:E}}if("phone"in e){const{phone:f,options:g}=e,{data:y,error:_}=await Oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(a=g==null?void 0:g.data)!==null&&a!==void 0?a:{},create_user:(l=g==null?void 0:g.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},channel:(u=g==null?void 0:g.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:y==null?void 0:y.message_id},error:_}}throw new Uh("You must provide either an email or phone number.")}catch(f){if(Ee(f))return{data:{user:null,session:null},error:f};throw f}}async verifyOtp(e){var t,s;try{let a,l;"options"in e&&(a=(t=e.options)===null||t===void 0?void 0:t.redirectTo,l=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:u,error:f}=await Oe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:a,xform:hs});if(f)throw f;if(!u)throw new Error("An error occurred on token verification.");const g=u.session,y=u.user;return g!=null&&g.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),{data:{user:y,session:g},error:null}}catch(a){if(Ee(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var t,s,a;try{let l=null,u=null;return this.flowType==="pkce"&&([l,u]=await Do(this.storage,this.storageKey)),await Oe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&s!==void 0?s:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:u}),headers:this.headers,xform:LD})}catch(l){if(Ee(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:s}=e;if(s)throw s;if(!t)throw new oi;const{error:a}=await Oe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if(Ee(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:s,type:a,options:l}=e,{error:u}=await Oe(this.fetch,"POST",t,{headers:this.headers,body:{email:s,type:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in e){const{phone:s,type:a,options:l}=e,{data:u,error:f}=await Oe(this.fetch,"POST",t,{headers:this.headers,body:{phone:s,type:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:f}}throw new Uh("You must provide either an email or phone number and a type")}catch(t){if(Ee(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await s,await t()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=t();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await pa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<vg:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const u=await pa(this.userStorage,this.storageKey+"-user");u!=null&&u.user?e.user=u.user:e.user=Eg()}if(this.storage.isServer&&e.user){let u=this.suppressGetSessionWarning;e=new Proxy(e,{get:(g,y,_)=>(!u&&y==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(g,y,_))})}return{data:{session:e},error:null}}const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{session:null},error:l}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:di}):await this._useSession(async t=>{var s,a,l;const{data:u,error:f}=t;if(f)throw f;return!(!((s=u.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new oi}:await Oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(a=u.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0,xform:di})})}catch(t){if(Ee(t))return fD(t)&&(await this._removeSession(),await ai(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async s=>{const{data:a,error:l}=s;if(l)throw l;if(!a.session)throw new oi;const u=a.session;let f=null,g=null;this.flowType==="pkce"&&e.email!=null&&([f,g]=await Do(this.storage,this.storageKey));const{data:y,error:_}=await Oe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:f,code_challenge_method:g}),jwt:u.access_token,xform:di});if(_)throw _;return u.user=y.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(s){if(Ee(s))return{data:{user:null},error:s};throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new oi;const t=Date.now()/1e3;let s=t,a=!0,l=null;const{payload:u}=wg(e.access_token);if(u.exp&&(s=u.exp,a=s<=t),a){const{data:f,error:g}=await this._callRefreshToken(e.refresh_token);if(g)return{data:{user:null,session:null},error:g};if(!f)return{data:{user:null,session:null},error:null};l=f}else{const{data:f,error:g}=await this._getUser(e.access_token);if(g)throw g;l={access_token:e.access_token,refresh_token:e.refresh_token,user:f.user,token_type:"bearer",expires_in:s-t,expires_at:s},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(t){if(Ee(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var s;if(!e){const{data:u,error:f}=t;if(f)throw f;e=(s=u.session)!==null&&s!==void 0?s:void 0}if(!(e!=null&&e.refresh_token))throw new oi;const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{user:null,session:null},error:l}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(Ee(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!Ln())throw new Lh("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Lh(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new Bw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Lh("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Bw("No code detected.");const{data:J,error:Y}=await this._exchangeCodeForSession(e.code);if(Y)throw Y;const le=new URL(window.location.href);return le.searchParams.delete("code"),window.history.replaceState(window.history.state,"",le.toString()),{data:{session:J.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:a,access_token:l,refresh_token:u,expires_in:f,expires_at:g,token_type:y}=e;if(!l||!f||!u||!y)throw new Lh("No session defined in URL");const _=Math.round(Date.now()/1e3),E=parseInt(f);let T=_+E;g&&(T=parseInt(g));const I=T-_;I*1e3<=qo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${I}s, should have been closer to ${E}s`);const L=T-E;_-L>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",L,T,_):_-L<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",L,T,_);const{data:q,error:z}=await this._getUser(l);if(z)throw z;const re={provider_token:s,provider_refresh_token:a,access_token:l,expires_in:E,expires_at:T,refresh_token:u,token_type:y,user:q.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:re,redirectType:e.type},error:null}}catch(s){if(Ee(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await pa(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var s;const{data:a,error:l}=t;if(l)return{error:l};const u=(s=a.session)===null||s===void 0?void 0:s.access_token;if(u){const{error:f}=await this.admin.signOut(u,e);if(f&&!(dD(f)&&(f.status===404||f.status===401||f.status===403)))return{error:f}}return e!=="others"&&(await this._removeSession(),await ai(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=wD(),s={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async t=>{var s,a;try{const{data:{session:l},error:u}=t;if(u)throw u;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,t={}){let s=null,a=null;this.flowType==="pkce"&&([s,a]=await Do(this.storage,this.storageKey,!0));try{return await Oe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:a,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(l){if(Ee(l))return{data:null,error:l};throw l}}async getUserIdentities(){var e;try{const{data:t,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(Ee(t))return{data:null,error:t};throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:s,error:a}=await this._useSession(async l=>{var u,f,g,y,_;const{data:E,error:T}=l;if(T)throw T;const I=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(f=e.options)===null||f===void 0?void 0:f.scopes,queryParams:(g=e.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await Oe(this.fetch,"GET",I,{headers:this.headers,jwt:(_=(y=E.session)===null||y===void 0?void 0:y.access_token)!==null&&_!==void 0?_:void 0})});if(a)throw a;return Ln()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:e.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(Ee(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var s;try{const{error:a,data:{session:l}}=t;if(a)throw a;const{options:u,provider:f,token:g,access_token:y,nonce:_}=e,E=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=l==null?void 0:l.access_token)!==null&&s!==void 0?s:void 0,body:{provider:f,id_token:g,access_token:y,nonce:_,link_identity:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:hs}),{data:T,error:I}=E;return I?{data:{user:null,session:null},error:I}:!T||!T.session||!T.user?{data:{user:null,session:null},error:new Oo}:(T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("USER_UPDATED",T.session)),{data:T,error:I})}catch(a){if(Ee(a))return{data:{user:null,session:null},error:a};throw a}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var s,a;const{data:l,error:u}=t;if(u)throw u;return await Oe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0})})}catch(t){if(Ee(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const s=Date.now();return await SD(async a=>(a>0&&await TD(200*Math.pow(2,a-1)),this._debug(t,"refreshing attempt",a),await Oe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:hs})),(a,l)=>{const u=200*Math.pow(2,a);return l&&bg(l)&&Date.now()+u-s<qo})}catch(s){if(this._debug(t,"error",s),Ee(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",s),Ln()&&!t.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,t;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const a=await pa(this.storage,this.storageKey);if(a&&this.userStorage){let u=await pa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:a.user},await $o(this.userStorage,this.storageKey+"-user",u)),a.user=(e=u==null?void 0:u.user)!==null&&e!==void 0?e:Eg()}else if(a&&!a.user&&!a.user){const u=await pa(this.storage,this.storageKey+"-user");u&&(u!=null&&u.user)?(a.user=u.user,await ai(this.storage,this.storageKey+"-user"),await $o(this.storage,this.storageKey,a)):a.user=Eg()}if(this._debug(s,"session from storage",a),!this._isValidSession(a)){this._debug(s,"session is not valid"),a!==null&&await this._removeSession();return}const l=((t=a.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<vg;if(this._debug(s,`session has${l?"":" not"} expired with margin of ${vg}s`),l){if(this.autoRefreshToken&&a.refresh_token){const{error:u}=await this._callRefreshToken(a.refresh_token);u&&(console.error(u),bg(u)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:f}=await this._getUser(a.access_token);!f&&(u!=null&&u.user)?(a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(s,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(s,"error",a),console.error(a);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var t,s;if(!e)throw new oi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new $d;const{data:l,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!l.session)throw new oi;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const f={data:l.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(l){if(this._debug(a,"error",l),Ee(l)){const u={data:null,error:l};return bg(l)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(u),u}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(l),l}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,t,s=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",t,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:t});const l=[],u=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(e,t)}catch(g){l.push(g)}});if(await Promise.all(u),l.length>0){for(let f=0;f<l.length;f+=1)console.error(l[f]);throw l[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),s=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&t.user&&await $o(this.userStorage,this.storageKey+"-user",{user:t.user});const a=Object.assign({},t);delete a.user;const l=Gw(a);await $o(this.storage,this.storageKey,l)}else{const a=Gw(t);await $o(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await ai(this.storage,this.storageKey),await ai(this.storage,this.storageKey+"-code-verifier"),await ai(this.storage,this.storageKey+"-user"),this.userStorage&&await ai(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ln()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),qo);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:s}}=t;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((s.expires_at*1e3-e)/qo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${qo}ms, refresh threshold is ${lp} ticks`),a<=lp&&await this._callRefreshToken(s.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof t1)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ln()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,s){const a=[`provider=${encodeURIComponent(t)}`];if(s!=null&&s.redirectTo&&a.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&a.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[l,u]=await Do(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});a.push(f.toString())}if(s!=null&&s.queryParams){const l=new URLSearchParams(s.queryParams);a.push(l.toString())}return s!=null&&s.skipBrowserRedirect&&a.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var s;const{data:a,error:l}=t;return l?{data:null,error:l}:await Oe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token})})}catch(t){if(Ee(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var s,a;const{data:l,error:u}=t;if(u)return{data:null,error:u};const f=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:g,error:y}=await Oe(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(s=l==null?void 0:l.session)===null||s===void 0?void 0:s.access_token});return y?{data:null,error:y}:(e.factorType==="totp"&&g.type==="totp"&&(!((a=g==null?void 0:g.totp)===null||a===void 0)&&a.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),{data:g,error:null})})}catch(t){if(Ee(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;const{data:a,error:l}=t;if(l)return{data:null,error:l};const u=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?nP(e.webauthn.credential_response):sP(e.webauthn.credential_response)})}:{code:e.code}),{data:f,error:g}=await Oe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:u,headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});return g?{data:null,error:g}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),{data:f,error:g})})}catch(t){if(Ee(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var s;const{data:a,error:l}=t;if(l)return{data:null,error:l};const u=await Oe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});if(u.error)return u;const{data:f}=u;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:eP(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:tP(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(Ee(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:s}=await this.getUser();if(s)return{data:null,error:s};const a={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=t==null?void 0:t.factors)!==null&&e!==void 0?e:[])a.all.push(l),l.status==="verified"&&a[l.factor_type].push(l);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,s;const{data:{session:a},error:l}=e;if(l)return{data:null,error:l};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=wg(a.access_token);let f=null;u.aal&&(f=u.aal);let g=f;((s=(t=a.user.factors)===null||t===void 0?void 0:t.filter(E=>E.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(g="aal2");const _=u.amr||[];return{data:{currentLevel:f,nextLevel:g,currentAuthenticationMethods:_},error:null}}))}async fetchJwk(e,t={keys:[]}){let s=t.keys.find(f=>f.kid===e);if(s)return s;const a=Date.now();if(s=this.jwks.keys.find(f=>f.kid===e),s&&this.jwks_cached_at+uD>a)return s;const{data:l,error:u}=await Oe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=a,s=l.keys.find(f=>f.kid===e),!s)?null:s}async getClaims(e,t={}){try{let s=e;if(!s){const{data:I,error:L}=await this.getSession();if(L||!I.session)return{data:null,error:L};s=I.session.access_token}const{header:a,payload:l,signature:u,raw:{header:f,payload:g}}=wg(s);t!=null&&t.allowExpired||jD(l.exp);const y=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,t!=null&&t.keys?{keys:t.keys}:t==null?void 0:t.jwks);if(!y){const{error:I}=await this.getUser(s);if(I)throw I;return{data:{claims:l,header:a,signature:u},error:null}}const _=OD(a.alg),E=await crypto.subtle.importKey("jwk",y,_,!0,["verify"]);if(!await crypto.subtle.verify(_,E,u,vD(`${f}.${g}`)))throw new hp("Invalid JWT signature");return{data:{claims:l,header:a,signature:u},error:null}}catch(s){if(Ee(s))return{data:null,error:s};throw s}}}Kc.nextInstanceID=0;const dP=Kc;class fP extends dP{constructor(e){super(e)}}var mP=function(r,e,t,s){function a(l){return l instanceof t?l:new t(function(u){u(l)})}return new(t||(t=Promise))(function(l,u){function f(_){try{y(s.next(_))}catch(E){u(E)}}function g(_){try{y(s.throw(_))}catch(E){u(E)}}function y(_){_.done?l(_.value):a(_.value).then(f,g)}y((s=s.apply(r,e||[])).next())})};class gP{constructor(e,t,s){var a,l,u;this.supabaseUrl=e,this.supabaseKey=t;const f=iD(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",f),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",f),this.storageUrl=new URL("storage/v1",f),this.functionsUrl=new URL("functions/v1",f);const g=`sb-${f.hostname.split(".")[0]}-auth-token`,y={db:Y4,realtime:X4,auth:Object.assign(Object.assign({},W4),{storageKey:g}),global:Q4},_=rD(s??{},y);this.storageKey=(a=_.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(l=_.global.headers)!==null&&l!==void 0?l:{},_.accessToken?(this.accessToken=_.accessToken,this.auth=new Proxy({},{get:(E,T)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(T)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=_.auth)!==null&&u!==void 0?u:{},this.headers,_.global.fetch),this.fetch=tD(t,this._getAccessToken.bind(this),_.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},_.realtime)),this.rest=new h4(new URL("rest/v1",f).href,{headers:this.headers,schema:_.db.schema,fetch:this.fetch}),this.storage=new F4(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),_.accessToken||this._listenForAuthEvents()}get functions(){return new t4(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,s)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return mP(this,void 0,void 0,function*(){var e,t;if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(t=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:a,userStorage:l,storageKey:u,flowType:f,lock:g,debug:y},_,E){const T={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new fP({url:this.authUrl.href,headers:Object.assign(Object.assign({},T),_),storageKey:u,autoRefreshToken:e,persistSession:t,detectSessionInUrl:s,storage:a,userStorage:l,flowType:f,lock:g,debug:y,fetch:E,hasCustomAuthorizationHeader:Object.keys(this.headers).some(I=>I.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new N4(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,s)=>{this._handleTokenChanged(t,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(e,t,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const pP=(r,e,t)=>new gP(r,e,t);function yP(){if(typeof window<"u"||typeof process>"u")return!1;const r=process.version;if(r==null)return!1;const e=r.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}yP()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const ut=(r,e,t,s={})=>({code:r,message:e,provider:t,context:s,timestamp:new Date().toISOString()});class _P{constructor(e){this.config=e,this.app=null,this.auth=null,this.db=null}async connect(){try{this.app=RE(this.config),this.auth=kI(this.app),this.db=NO(this.app),await new Promise(e=>{const t=vC(this.auth,s=>{t(),e(s)})}),console.log("✅ Firebase connected successfully")}catch(e){throw ut("FIREBASE_CONNECT_ERROR",`Failed to connect to Firebase: ${e.message}`,"firebase",{originalError:e})}}async signIn(){try{const e=await fC(this.auth);return sessionStorage.setItem("firebase_token",await e.user.getIdToken()),{user:e.user,token:await e.user.getIdToken()}}catch(e){throw ut("FIREBASE_AUTH_ERROR",`Firebase authentication failed: ${e.message}`,"firebase",{originalError:e})}}async signOut(){try{await bC(this.auth),sessionStorage.removeItem("firebase_token")}catch(e){throw ut("FIREBASE_SIGNOUT_ERROR",`Firebase sign out failed: ${e.message}`,"firebase",{originalError:e})}}currentUser(){return this.auth.currentUser}async read(e,t={}){try{let a=vw(this.db,e);if(t.where){const[u,f,g]=t.where;a=zO(a,BO(u,f,g))}return(await FO(a)).docs.map(u=>({id:u.id,...u.data()}))}catch(s){throw ut("FIREBASE_READ_ERROR",`Failed to read from ${e}: ${s.message}`,"firebase",{collectionPath:e,queryOptions:t,originalError:s})}}async write(e,t,s){try{const a=gg(this.db,e,t);return await GO(a,{...s,updatedAt:new Date().toISOString()},{merge:!0}),{id:t,...s}}catch(a){throw ut("FIREBASE_WRITE_ERROR",`Failed to write to ${e}/${t}: ${a.message}`,"firebase",{collectionPath:e,docId:t,originalError:a})}}async update(e,t,s){try{const a=gg(this.db,e,t);return await KO(a,{...s,updatedAt:new Date().toISOString()}),{id:t,...s}}catch(a){throw ut("FIREBASE_UPDATE_ERROR",`Failed to update ${e}/${t}: ${a.message}`,"firebase",{collectionPath:e,docId:t,originalError:a})}}async delete(e,t){try{const s=gg(this.db,e,t);return await QO(s),{id:t,deleted:!0}}catch(s){throw ut("FIREBASE_DELETE_ERROR",`Failed to delete ${e}/${t}: ${s.message}`,"firebase",{collectionPath:e,docId:t,originalError:s})}}onSnapshot(e,t){try{const s=vw(this.db,e);return YO(s,a=>{const l=a.docs.map(u=>({id:u.id,...u.data()}));t(l,null)},a=>{t(null,ut("FIREBASE_SNAPSHOT_ERROR",`Snapshot error on ${e}: ${a.message}`,"firebase",{collectionPath:e,originalError:a}))})}catch(s){throw ut("FIREBASE_SNAPSHOT_SETUP_ERROR",`Failed to setup snapshot for ${e}: ${s.message}`,"firebase",{collectionPath:e,originalError:s})}}}class vP{constructor(e){this.config=e,this.client=null}async connect(){try{this.client=pP(this.config.url,this.config.anonKey),console.log("✅ Supabase connected successfully")}catch(e){throw ut("SUPABASE_CONNECT_ERROR",`Failed to connect to Supabase: ${e.message}`,"supabase",{originalError:e})}}async signIn(){try{const{data:e,error:t}=await this.client.auth.signInAnonymously();if(t)throw t;return sessionStorage.setItem("supabase_token",e.session.access_token),{user:e.user,token:e.session.access_token}}catch(e){throw ut("SUPABASE_AUTH_ERROR",`Supabase authentication failed: ${e.message}`,"supabase",{originalError:e})}}async signOut(){try{await this.client.auth.signOut(),sessionStorage.removeItem("supabase_token")}catch(e){throw ut("SUPABASE_SIGNOUT_ERROR",`Supabase sign out failed: ${e.message}`,"supabase",{originalError:e})}}async currentUser(){const{data:{user:e}}=await this.client.auth.getUser();return e}async read(e,t={}){try{let s=this.client.from(e).select("*");if(t.where){const[u,f,g]=t.where;switch(f){case"==":s=s.eq(u,g);break;case">":s=s.gt(u,g);break;case"<":s=s.lt(u,g);break;case">=":s=s.gte(u,g);break;case"<=":s=s.lte(u,g);break}}const{data:a,error:l}=await s;if(l)throw l;return a}catch(s){throw ut("SUPABASE_READ_ERROR",`Failed to read from ${e}: ${s.message}`,"supabase",{tableName:e,queryOptions:t,originalError:s})}}async write(e,t,s){try{const{data:a,error:l}=await this.client.from(e).upsert({id:t,...s,updated_at:new Date().toISOString()});if(l)throw l;return a}catch(a){throw ut("SUPABASE_WRITE_ERROR",`Failed to write to ${e}: ${a.message}`,"supabase",{tableName:e,docId:t,originalError:a})}}async update(e,t,s){try{const{data:a,error:l}=await this.client.from(e).update({...s,updated_at:new Date().toISOString()}).eq("id",t);if(l)throw l;return a}catch(a){throw ut("SUPABASE_UPDATE_ERROR",`Failed to update ${e}: ${a.message}`,"supabase",{tableName:e,docId:t,originalError:a})}}async delete(e,t){try{const{error:s}=await this.client.from(e).delete().eq("id",t);if(s)throw s;return{id:t,deleted:!0}}catch(s){throw ut("SUPABASE_DELETE_ERROR",`Failed to delete from ${e}: ${s.message}`,"supabase",{tableName:e,docId:t,originalError:s})}}onSnapshot(e,t){try{const s=this.client.channel(`${e}_changes`).on("postgres_changes",{event:"*",schema:"public",table:e},a=>{this.read(e).then(l=>t(l,null)).catch(l=>t(null,l))}).subscribe();return()=>{this.client.removeChannel(s)}}catch(s){throw ut("SUPABASE_SNAPSHOT_ERROR",`Failed to setup snapshot for ${e}: ${s.message}`,"supabase",{tableName:e,originalError:s})}}}class bP{constructor(e){this.config=e,this.endpoint=e.endpoint,this.key=e.key,this.databaseId=e.databaseId||"FineGuardDB",this.authenticated=!1}async connect(){try{const e=await fetch(`${this.endpoint}/dbs/${this.databaseId}/colls`,{method:"GET",headers:{Authorization:this.key,"x-ms-version":"2018-12-31","Content-Type":"application/json"}});if(!e.ok)throw new Error(`Azure connection failed: ${e.statusText}`);this.authenticated=!0,console.log("✅ Azure Cosmos DB connected successfully")}catch(e){throw ut("AZURE_CONNECT_ERROR",`Failed to connect to Azure Cosmos DB: ${e.message}`,"azure",{originalError:e})}}async signIn(){try{return sessionStorage.setItem("azure_token",this.key),{user:{id:"azure-user"},token:this.key}}catch(e){throw ut("AZURE_AUTH_ERROR",`Azure authentication failed: ${e.message}`,"azure",{originalError:e})}}async signOut(){sessionStorage.removeItem("azure_token"),this.authenticated=!1}currentUser(){return this.authenticated?{id:"azure-user"}:null}async read(e,t={}){try{let s="SELECT * FROM c";if(t.where){const[u,f,g]=t.where,y=f==="=="?"=":f,_=typeof g=="string"?`"${g}"`:g;s+=` WHERE c.${u} ${y} ${_}`}const a=await fetch(`${this.endpoint}/dbs/${this.databaseId}/colls/${e}/docs`,{method:"POST",headers:{Authorization:this.key,"x-ms-version":"2018-12-31","Content-Type":"application/query+json","x-ms-documentdb-isquery":"true"},body:JSON.stringify({query:s})});if(!a.ok)throw new Error(`Read failed: ${a.statusText}`);return(await a.json()).Documents||[]}catch(s){throw ut("AZURE_READ_ERROR",`Failed to read from ${e}: ${s.message}`,"azure",{containerName:e,queryOptions:t,originalError:s})}}async write(e,t,s){try{const a=await fetch(`${this.endpoint}/dbs/${this.databaseId}/colls/${e}/docs`,{method:"POST",headers:{Authorization:this.key,"x-ms-version":"2018-12-31","Content-Type":"application/json"},body:JSON.stringify({id:t,...s,_updatedAt:new Date().toISOString()})});if(!a.ok)throw new Error(`Write failed: ${a.statusText}`);return await a.json()}catch(a){throw ut("AZURE_WRITE_ERROR",`Failed to write to ${e}: ${a.message}`,"azure",{containerName:e,docId:t,originalError:a})}}async update(e,t,s){try{const a=await this.read(e,{where:["id","==",t]});if(!a||a.length===0)throw new Error("Document not found");const l=await fetch(`${this.endpoint}/dbs/${this.databaseId}/colls/${e}/docs/${t}`,{method:"PUT",headers:{Authorization:this.key,"x-ms-version":"2018-12-31","Content-Type":"application/json"},body:JSON.stringify({...a[0],...s,_updatedAt:new Date().toISOString()})});if(!l.ok)throw new Error(`Update failed: ${l.statusText}`);return await l.json()}catch(a){throw ut("AZURE_UPDATE_ERROR",`Failed to update ${e}: ${a.message}`,"azure",{containerName:e,docId:t,originalError:a})}}async delete(e,t){try{const s=await fetch(`${this.endpoint}/dbs/${this.databaseId}/colls/${e}/docs/${t}`,{method:"DELETE",headers:{Authorization:this.key,"x-ms-version":"2018-12-31"}});if(!s.ok)throw new Error(`Delete failed: ${s.statusText}`);return{id:t,deleted:!0}}catch(s){throw ut("AZURE_DELETE_ERROR",`Failed to delete from ${e}: ${s.message}`,"azure",{containerName:e,docId:t,originalError:s})}}onSnapshot(e,t){const s=setInterval(async()=>{try{const a=await this.read(e);t(a,null)}catch(a){t(null,a)}},5e3);return()=>clearInterval(s)}}const wP=r=>{let e;if(!r||!r.provider)throw ut("INVALID_CONFIG","Configuration must include a provider field","connector",{config:r});switch(r.provider){case"firebase":if(!r.firebaseConfig)throw ut("INVALID_CONFIG","Firebase provider requires firebaseConfig","connector",{config:r});e=new _P(r.firebaseConfig);break;case"supabase":if(!r.supabaseConfig)throw ut("INVALID_CONFIG","Supabase provider requires supabaseConfig","connector",{config:r});e=new vP(r.supabaseConfig);break;case"azure":if(!r.azureConfig)throw ut("INVALID_CONFIG","Azure provider requires azureConfig","connector",{config:r});e=new bP(r.azureConfig);break;default:throw ut("UNSUPPORTED_PROVIDER",`Provider "${r.provider}" is not supported`,"connector",{config:r})}return{async connect(){return await e.connect(),{auth:{signIn:()=>e.signIn(),signOut:()=>e.signOut(),currentUser:()=>e.currentUser()},db:{read:(t,s)=>e.read(t,s),write:(t,s,a)=>e.write(t,s,a),update:(t,s,a)=>e.update(t,s,a),delete:(t,s)=>e.delete(t,s),onSnapshot:(t,s)=>e.onSnapshot(t,s)}}},getProvider(){return r.provider}}},EP=()=>{const[r,e]=ye.useState("firebase"),[t,s]=ye.useState(null),[a,l]=ye.useState(!1),[u,f]=ye.useState(!1),[g,y]=ye.useState(null),[_,E]=ye.useState([]),[T,I]=ye.useState([]),[L,q]=ye.useState("companies"),[z,re]=ye.useState(!1),[J,Y]=ye.useState(!1),[le,ce]=ye.useState(null),[oe,C]=ye.useState({}),A={firebase:{provider:"firebase",firebaseConfig:{apiKey:"demo-api-key",authDomain:"fineguard-demo.firebaseapp.com",projectId:"fineguard-demo",storageBucket:"fineguard-demo.appspot.com",messagingSenderId:"123456789",appId:"1:123456789:web:abcdef"}},supabase:{provider:"supabase",supabaseConfig:{url:"https://your-project.supabase.co",anonKey:"your-anon-key-here"}},azure:{provider:"azure",azureConfig:{endpoint:"https://your-account.documents.azure.com:443/",key:"your-azure-key-here",databaseId:"FineGuardDB"}}},R=async()=>{f(!0),y(null);try{const V=A[r],ie=wP(V),{auth:te,db:Le}=await ie.connect();await te.signIn(),s({auth:te,db:Le}),l(!0),await O(Le)}catch(V){y(V.message||"Failed to connect to database"),console.error("Connection error:",V)}finally{f(!1)}},O=async V=>{try{const ie=await V.read("companies"),te=await V.read("obligations");E(ie||[]),I(te||[])}catch(ie){console.error("Error loading data:",ie),y("Failed to load data from database")}},j=async()=>{if(t)try{await t.auth.signOut(),s(null),l(!1),E([]),I([])}catch(V){console.error("Disconnect error:",V)}},M=()=>{C(L==="companies"?{name:"",companyNumber:"",address:"",riskLevel:"low",complianceScore:100}:{companyId:"",title:"",description:"",dueDate:"",status:"pending",penalty:0}),ce("new")},N=async()=>{if(t){f(!0);try{const V=L==="companies"?"companies":"obligations",ie=le==="new"?`${Date.now()}`:le;await t.db.write(V,ie,oe),await O(t.db),ce(null),C({})}catch(V){y(`Failed to save: ${V.message}`)}finally{f(!1)}}},We=async V=>{if(!(!t||!confirm("Are you sure you want to delete this item?"))){f(!0);try{const ie=L==="companies"?"companies":"obligations";await t.db.delete(ie,V),await O(t.db)}catch(ie){y(`Failed to delete: ${ie.message}`)}finally{f(!1)}}},Ve=V=>{ce(V.id),C(V)};return m.jsxs("div",{className:"space-y-8",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Admin Panel"}),m.jsx("p",{className:"text-muted-foreground",children:"Manage database connections and data"})]}),m.jsx(Cn,{variant:a?"default":"secondary",className:"text-lg px-4 py-2",children:a?m.jsxs(m.Fragment,{children:[m.jsx(It,{className:"h-4 w-4 mr-2"})," Connected"]}):m.jsxs(m.Fragment,{children:[m.jsx(ZA,{className:"h-4 w-4 mr-2"})," Disconnected"]})})]}),m.jsxs(Ce,{children:[m.jsxs(Pe,{children:[m.jsxs(Me,{className:"flex items-center gap-2",children:[m.jsx(Xh,{className:"h-6 w-6"}),"Database Connection"]}),m.jsx(Ms,{children:"Choose your database provider and connect"})]}),m.jsxs(Ie,{className:"space-y-4",children:[m.jsxs("div",{className:"flex gap-4 items-center",children:[m.jsx("label",{className:"font-medium",children:"Provider:"}),m.jsxs("select",{value:r,onChange:V=>e(V.target.value),disabled:a,className:"px-4 py-2 border rounded-lg bg-background",children:[m.jsx("option",{value:"firebase",children:"Firebase"}),m.jsx("option",{value:"supabase",children:"Supabase"}),m.jsx("option",{value:"azure",children:"Azure Cosmos DB"})]}),a?m.jsx(Re,{onClick:j,variant:"destructive",children:"Disconnect"}):m.jsxs(Re,{onClick:R,disabled:u,className:"bg-gradient-to-r from-cyan-400 to-blue-500",children:[u?m.jsx(G0,{className:"h-4 w-4 mr-2 animate-spin"}):m.jsx(Xh,{className:"h-4 w-4 mr-2"}),"Connect"]})]}),g&&m.jsxs("div",{className:"flex items-center gap-2 p-4 bg-red-50 dark:bg-red-950 border border-red-200 dark:border-red-800 rounded-lg",children:[m.jsx(gE,{className:"h-5 w-5 text-red-600"}),m.jsx("p",{className:"text-red-600 dark:text-red-400",children:g})]}),a&&m.jsxs("div",{className:"flex items-center gap-2 p-4 bg-green-50 dark:bg-green-950 border border-green-200 dark:border-green-800 rounded-lg",children:[m.jsx(It,{className:"h-5 w-5 text-green-600"}),m.jsxs("p",{className:"text-green-600 dark:text-green-400",children:["Connected to ",r.charAt(0).toUpperCase()+r.slice(1)]})]})]})]}),a&&m.jsxs(Ce,{children:[m.jsx(Pe,{children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsxs(Me,{className:"flex items-center gap-2",children:[m.jsx(mE,{className:"h-6 w-6"}),"Data Management"]}),m.jsx(Ms,{children:"View and manage your compliance data"})]}),m.jsxs(Re,{onClick:M,className:"bg-gradient-to-r from-cyan-400 to-blue-500",children:[m.jsx(RR,{className:"h-4 w-4 mr-2"}),"Add New"]})]})}),m.jsxs(Ie,{children:[m.jsxs("div",{className:"flex gap-2 mb-6 border-b",children:[m.jsxs("button",{onClick:()=>q("companies"),className:`px-6 py-3 font-medium transition-colors ${L==="companies"?"border-b-2 border-cyan-400 text-cyan-400":"text-muted-foreground hover:text-foreground"}`,children:["Companies (",_.length,")"]}),m.jsxs("button",{onClick:()=>q("obligations"),className:`px-6 py-3 font-medium transition-colors ${L==="obligations"?"border-b-2 border-cyan-400 text-cyan-400":"text-muted-foreground hover:text-foreground"}`,children:["Obligations (",T.length,")"]}),m.jsx("button",{onClick:()=>q("ai-crm"),className:`px-6 py-3 font-medium transition-colors ${L==="ai-crm"?"border-b-2 border-cyan-400 text-cyan-400":"text-muted-foreground hover:text-foreground"}`,children:"AI CRM 🤖"}),m.jsx("button",{onClick:()=>q("marketing"),className:`px-6 py-3 font-medium transition-colors ${L==="marketing"?"border-b-2 border-cyan-400 text-cyan-400":"text-muted-foreground hover:text-foreground"}`,children:"Marketing 📧"})]}),m.jsx("div",{className:"space-y-4",children:L==="ai-crm"?m.jsx("div",{className:"space-y-6",children:m.jsxs("div",{className:"p-6 bg-gradient-to-br from-cyan-50 to-blue-50 dark:from-cyan-950 dark:to-blue-950 rounded-lg border-2 border-cyan-200 dark:border-cyan-800",children:[m.jsx("h3",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:"🤖 AI CRM Module"}),m.jsx("p",{className:"text-muted-foreground mb-6",children:"Intelligent customer relationship management powered by AI. Automatically score leads, predict churn, and recommend next best actions."}),m.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:[m.jsxs(Ce,{children:[m.jsx(Pe,{children:m.jsx(Me,{className:"text-lg",children:"AI Lead Scoring"})}),m.jsxs(Ie,{children:[m.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Automatically score and prioritize leads based on engagement, company data, and compliance history."}),m.jsx(Re,{className:"w-full bg-gradient-to-r from-cyan-400 to-blue-500",children:"Enable AI Scoring"})]})]}),m.jsxs(Ce,{children:[m.jsx(Pe,{children:m.jsx(Me,{className:"text-lg",children:"Churn Prediction"})}),m.jsxs(Ie,{children:[m.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Predict which clients are at risk of leaving and receive proactive retention recommendations."}),m.jsx(Re,{className:"w-full bg-gradient-to-r from-cyan-400 to-blue-500",children:"Enable Churn Detection"})]})]}),m.jsxs(Ce,{children:[m.jsx(Pe,{children:m.jsx(Me,{className:"text-lg",children:"Next Best Action"})}),m.jsxs(Ie,{children:[m.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"AI-powered recommendations for the best next step with each client based on their compliance status."}),m.jsx(Re,{className:"w-full bg-gradient-to-r from-cyan-400 to-blue-500",children:"Enable NBA Engine"})]})]}),m.jsxs(Ce,{children:[m.jsx(Pe,{children:m.jsx(Me,{className:"text-lg",children:"Smart Segmentation"})}),m.jsxs(Ie,{children:[m.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Automatically segment clients by risk level, industry, compliance score, and engagement."}),m.jsx(Re,{className:"w-full bg-gradient-to-r from-cyan-400 to-blue-500",children:"Configure Segments"})]})]})]}),m.jsxs("div",{className:"bg-white dark:bg-gray-900 p-4 rounded-lg border",children:[m.jsx("h4",{className:"font-semibold mb-2",children:"🔐 Premium Feature"}),m.jsxs("p",{className:"text-sm text-muted-foreground",children:["AI CRM features require a FineGuard Premium license.",m.jsx("a",{href:"/pricing",className:"text-cyan-500 hover:underline ml-1",children:"Upgrade now"})]})]})]})}):L==="marketing"?m.jsx("div",{className:"space-y-6",children:m.jsxs("div",{className:"p-6 bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-950 dark:to-pink-950 rounded-lg border-2 border-purple-200 dark:border-purple-800",children:[m.jsx("h3",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:"📧 Marketing Admin Module"}),m.jsx("p",{className:"text-muted-foreground mb-6",children:"Automated marketing campaigns, email sequences, and client communications powered by AI copywriting."}),m.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:[m.jsxs(Ce,{children:[m.jsx(Pe,{children:m.jsx(Me,{className:"text-lg",children:"Email Campaigns"})}),m.jsxs(Ie,{children:[m.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Create and send automated email campaigns to clients based on compliance deadlines and risk levels."}),m.jsx(Re,{className:"w-full bg-gradient-to-r from-purple-400 to-pink-500",children:"Create Campaign"})]})]}),m.jsxs(Ce,{children:[m.jsx(Pe,{children:m.jsx(Me,{className:"text-lg",children:"AI Copywriting"})}),m.jsxs(Ie,{children:[m.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Generate professional email content automatically using AI, tailored to each client's situation."}),m.jsx(Re,{className:"w-full bg-gradient-to-r from-purple-400 to-pink-500",children:"Enable AI Writer"})]})]}),m.jsxs(Ce,{children:[m.jsx(Pe,{children:m.jsx(Me,{className:"text-lg",children:"SMS & WhatsApp"})}),m.jsxs(Ie,{children:[m.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Send urgent compliance alerts via SMS and WhatsApp for critical deadlines."}),m.jsx(Re,{className:"w-full bg-gradient-to-r from-purple-400 to-pink-500",children:"Configure Messaging"})]})]}),m.jsxs(Ce,{children:[m.jsx(Pe,{children:m.jsx(Me,{className:"text-lg",children:"Drip Sequences"})}),m.jsxs(Ie,{children:[m.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Set up automated email sequences for onboarding, reminders, and follow-ups."}),m.jsx(Re,{className:"w-full bg-gradient-to-r from-purple-400 to-pink-500",children:"Create Sequence"})]})]}),m.jsxs(Ce,{children:[m.jsx(Pe,{children:m.jsx(Me,{className:"text-lg",children:"Analytics Dashboard"})}),m.jsxs(Ie,{children:[m.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Track email open rates, click-through rates, and campaign performance."}),m.jsx(Re,{className:"w-full bg-gradient-to-r from-purple-400 to-pink-500",children:"View Analytics"})]})]}),m.jsxs(Ce,{children:[m.jsx(Pe,{children:m.jsx(Me,{className:"text-lg",children:"Template Library"})}),m.jsxs(Ie,{children:[m.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Access pre-built email templates for common compliance scenarios."}),m.jsx(Re,{className:"w-full bg-gradient-to-r from-purple-400 to-pink-500",children:"Browse Templates"})]})]})]}),m.jsxs("div",{className:"bg-white dark:bg-gray-900 p-4 rounded-lg border",children:[m.jsx("h4",{className:"font-semibold mb-2",children:"🔐 Premium Feature"}),m.jsxs("p",{className:"text-sm text-muted-foreground",children:["Marketing features require a FineGuard Premium license.",m.jsx("a",{href:"/pricing",className:"text-purple-500 hover:underline ml-1",children:"Upgrade now"})]})]})]})}):L==="companies"?_.length>0?_.map(V=>m.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("h3",{className:"font-semibold text-lg",children:V.name}),m.jsxs("p",{className:"text-sm text-muted-foreground",children:["#",V.companyNumber]}),m.jsxs("div",{className:"flex gap-2 mt-2",children:[m.jsx(Cn,{variant:V.riskLevel==="critical"?"destructive":"default",children:V.riskLevel}),m.jsxs(Cn,{variant:"outline",children:[V.complianceScore,"% Compliance"]})]})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx(Re,{size:"sm",variant:"outline",onClick:()=>Ve(V),children:m.jsx(K0,{className:"h-4 w-4"})}),m.jsx(Re,{size:"sm",variant:"destructive",onClick:()=>We(V.id),children:m.jsx(Y0,{className:"h-4 w-4"})})]})]},V.id)):m.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No companies found"}):T.length>0?T.map(V=>m.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("h3",{className:"font-semibold text-lg",children:V.title}),m.jsx("p",{className:"text-sm text-muted-foreground",children:V.companyName}),m.jsxs("div",{className:"flex gap-2 mt-2",children:[m.jsx(Cn,{variant:V.status==="overdue"?"destructive":"default",children:V.status}),m.jsxs(Cn,{variant:"outline",children:["Due: ",V.dueDate]}),V.penalty>0&&m.jsxs(Cn,{variant:"destructive",children:["£",V.penalty," penalty"]})]})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx(Re,{size:"sm",variant:"outline",onClick:()=>Ve(V),children:m.jsx(K0,{className:"h-4 w-4"})}),m.jsx(Re,{size:"sm",variant:"destructive",onClick:()=>We(V.id),children:m.jsx(Y0,{className:"h-4 w-4"})})]})]},V.id)):m.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No obligations found"})})]})]}),le&&m.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:()=>ce(null),children:m.jsxs(Ce,{className:"max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:V=>V.stopPropagation(),children:[m.jsx(Pe,{children:m.jsxs(Me,{children:[le==="new"?"Add New":"Edit"," ",L==="companies"?"Company":"Obligation"]})}),m.jsxs(Ie,{className:"space-y-4",children:[L==="companies"?m.jsxs(m.Fragment,{children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:"Company Name"}),m.jsx("input",{type:"text",value:oe.name||"",onChange:V=>C({...oe,name:V.target.value}),className:"w-full p-2 border rounded-lg bg-background"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:"Company Number"}),m.jsx("input",{type:"text",value:oe.companyNumber||"",onChange:V=>C({...oe,companyNumber:V.target.value}),className:"w-full p-2 border rounded-lg bg-background"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:"Address"}),m.jsx("input",{type:"text",value:oe.address||"",onChange:V=>C({...oe,address:V.target.value}),className:"w-full p-2 border rounded-lg bg-background"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:"Risk Level"}),m.jsxs("select",{value:oe.riskLevel||"low",onChange:V=>C({...oe,riskLevel:V.target.value}),className:"w-full p-2 border rounded-lg bg-background",children:[m.jsx("option",{value:"low",children:"Low"}),m.jsx("option",{value:"medium",children:"Medium"}),m.jsx("option",{value:"high",children:"High"}),m.jsx("option",{value:"critical",children:"Critical"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:"Compliance Score"}),m.jsx("input",{type:"number",value:oe.complianceScore||100,onChange:V=>C({...oe,complianceScore:parseInt(V.target.value)}),className:"w-full p-2 border rounded-lg bg-background",min:"0",max:"100"})]})]}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:"Title"}),m.jsx("input",{type:"text",value:oe.title||"",onChange:V=>C({...oe,title:V.target.value}),className:"w-full p-2 border rounded-lg bg-background"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:"Description"}),m.jsx("textarea",{value:oe.description||"",onChange:V=>C({...oe,description:V.target.value}),className:"w-full p-2 border rounded-lg bg-background",rows:3})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:"Due Date"}),m.jsx("input",{type:"date",value:oe.dueDate||"",onChange:V=>C({...oe,dueDate:V.target.value}),className:"w-full p-2 border rounded-lg bg-background"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:"Status"}),m.jsxs("select",{value:oe.status||"pending",onChange:V=>C({...oe,status:V.target.value}),className:"w-full p-2 border rounded-lg bg-background",children:[m.jsx("option",{value:"pending",children:"Pending"}),m.jsx("option",{value:"overdue",children:"Overdue"}),m.jsx("option",{value:"completed",children:"Completed"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:"Penalty (£)"}),m.jsx("input",{type:"number",value:oe.penalty||0,onChange:V=>C({...oe,penalty:parseInt(V.target.value)}),className:"w-full p-2 border rounded-lg bg-background",min:"0"})]})]}),m.jsxs("div",{className:"flex gap-2 pt-4",children:[m.jsxs(Re,{onClick:N,className:"flex-1 bg-gradient-to-r from-cyan-400 to-blue-500",children:[u?m.jsx(G0,{className:"h-4 w-4 mr-2 animate-spin"}):m.jsx(It,{className:"h-4 w-4 mr-2"}),"Save"]}),m.jsx(Re,{onClick:()=>ce(null),variant:"outline",className:"flex-1",children:"Cancel"})]})]})]})}),m.jsxs(Ce,{children:[m.jsxs(Pe,{children:[m.jsx(Me,{className:"flex items-center gap-2",children:"🤖 AI CRM Module"}),m.jsx(Ms,{children:"Intelligent customer relationship management powered by AI"})]}),m.jsxs(Ie,{children:[m.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[m.jsxs(Ce,{children:[m.jsx(Pe,{children:m.jsx(Me,{className:"text-lg",children:"AI Lead Scoring"})}),m.jsxs(Ie,{children:[m.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Automatically score and prioritize leads based on engagement, company data, and compliance history."}),m.jsx(Re,{className:"w-full bg-gradient-to-r from-cyan-400 to-blue-500",children:"Enable AI Scoring"})]})]}),m.jsxs(Ce,{children:[m.jsx(Pe,{children:m.jsx(Me,{className:"text-lg",children:"Churn Prediction"})}),m.jsxs(Ie,{children:[m.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Predict which clients are at risk of leaving and receive proactive retention recommendations."}),m.jsx(Re,{className:"w-full bg-gradient-to-r from-cyan-400 to-blue-500",children:"Enable Churn Detection"})]})]}),m.jsxs(Ce,{children:[m.jsx(Pe,{children:m.jsx(Me,{className:"text-lg",children:"Next Best Action"})}),m.jsxs(Ie,{children:[m.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"AI-powered recommendations for the best next step with each client based on their compliance status."}),m.jsx(Re,{className:"w-full bg-gradient-to-r from-cyan-400 to-blue-500",children:"Enable NBA Engine"})]})]}),m.jsxs(Ce,{children:[m.jsx(Pe,{children:m.jsx(Me,{className:"text-lg",children:"Smart Segmentation"})}),m.jsxs(Ie,{children:[m.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Automatically segment clients by risk level, industry, compliance score, and engagement."}),m.jsx(Re,{className:"w-full bg-gradient-to-r from-cyan-400 to-blue-500",children:"Configure Segments"})]})]})]}),m.jsxs("div",{className:"mt-6 bg-muted p-4 rounded-lg border",children:[m.jsx("h4",{className:"font-semibold mb-2",children:"🔐 Premium Feature"}),m.jsxs("p",{className:"text-sm text-muted-foreground",children:["AI CRM features require a FineGuard Premium license.",m.jsx("a",{href:"/pricing",className:"text-cyan-500 hover:underline ml-1",children:"Upgrade now"})]})]})]})]}),m.jsxs(Ce,{children:[m.jsxs(Pe,{children:[m.jsx(Me,{className:"flex items-center gap-2",children:"📧 Marketing Admin Module"}),m.jsx(Ms,{children:"Automated marketing campaigns and client communications"})]}),m.jsxs(Ie,{children:[m.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[m.jsxs(Ce,{children:[m.jsx(Pe,{children:m.jsx(Me,{className:"text-lg",children:"Email Campaigns"})}),m.jsxs(Ie,{children:[m.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Create and send automated email campaigns to clients based on compliance deadlines and risk levels."}),m.jsx(Re,{className:"w-full bg-gradient-to-r from-purple-400 to-pink-500",children:"Create Campaign"})]})]}),m.jsxs(Ce,{children:[m.jsx(Pe,{children:m.jsx(Me,{className:"text-lg",children:"AI Copywriting"})}),m.jsxs(Ie,{children:[m.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Generate professional email content automatically using AI, tailored to each client's situation."}),m.jsx(Re,{className:"w-full bg-gradient-to-r from-purple-400 to-pink-500",children:"Enable AI Writer"})]})]}),m.jsxs(Ce,{children:[m.jsx(Pe,{children:m.jsx(Me,{className:"text-lg",children:"SMS & WhatsApp"})}),m.jsxs(Ie,{children:[m.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Send urgent compliance alerts via SMS and WhatsApp for critical deadlines."}),m.jsx(Re,{className:"w-full bg-gradient-to-r from-purple-400 to-pink-500",children:"Configure Messaging"})]})]}),m.jsxs(Ce,{children:[m.jsx(Pe,{children:m.jsx(Me,{className:"text-lg",children:"Drip Sequences"})}),m.jsxs(Ie,{children:[m.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Set up automated email sequences for onboarding, reminders, and follow-ups."}),m.jsx(Re,{className:"w-full bg-gradient-to-r from-purple-400 to-pink-500",children:"Create Sequence"})]})]}),m.jsxs(Ce,{children:[m.jsx(Pe,{children:m.jsx(Me,{className:"text-lg",children:"Analytics Dashboard"})}),m.jsxs(Ie,{children:[m.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Track email open rates, click-through rates, and campaign performance."}),m.jsx(Re,{className:"w-full bg-gradient-to-r from-purple-400 to-pink-500",children:"View Analytics"})]})]}),m.jsxs(Ce,{children:[m.jsx(Pe,{children:m.jsx(Me,{className:"text-lg",children:"Template Library"})}),m.jsxs(Ie,{children:[m.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Access pre-built email templates for common compliance scenarios."}),m.jsx(Re,{className:"w-full bg-gradient-to-r from-purple-400 to-pink-500",children:"Browse Templates"})]})]})]}),m.jsxs("div",{className:"mt-6 bg-muted p-4 rounded-lg border",children:[m.jsx("h4",{className:"font-semibold mb-2",children:"🔐 Premium Feature"}),m.jsxs("p",{className:"text-sm text-muted-foreground",children:["Marketing features require a FineGuard Premium license.",m.jsx("a",{href:"/pricing",className:"text-purple-500 hover:underline ml-1",children:"Upgrade now"})]})]})]})]})]})},xc="2024-10-11",Tg="https://api.company-information.service.gov.uk";function xP(){const[r,e]=ye.useState(()=>sessionStorage.getItem("ch_api_key")||""),[t,s]=ye.useState(!1),[a,l]=ye.useState("Idle"),[u,f]=ye.useState([]),[g,y]=ye.useState({current:0,total:0}),_=ye.useRef(!1),[E,T]=ye.useState([]),[I,L]=ye.useState(!1),[q,z]=ye.useState(null),re=R=>{f(O=>[`[${new Date().toLocaleTimeString()}] ${R}`,...O.slice(0,199)])},J=R=>{e(R),sessionStorage.setItem("ch_api_key",R)},Y=async(R,O=0)=>{const j=await fetch(`${Tg}/search/companies?incorporated_from=${R}&incorporated_to=${R}&start_index=${O}`,{headers:{Authorization:`Basic ${btoa(r+":")}`,"Content-Type":"application/json"}});if(!j.ok)throw new Error(`API error: ${j.status} ${j.statusText}`);return await j.json()},le=async R=>{const O=await fetch(`${Tg}/company/${R}`,{headers:{Authorization:`Basic ${btoa(r+":")}`,"Content-Type":"application/json"}});if(!O.ok)throw new Error(`Company profile error: ${O.status}`);return await O.json()},ce=async R=>{try{const O=await fetch(`${Tg}/company/${R}/registered-office-address`,{headers:{Authorization:`Basic ${btoa(r+":")}`,"Content-Type":"application/json"}});return O.ok?await O.json():null}catch{return null}},oe=async R=>{var O,j;try{const[M,N]=await Promise.all([le(R.company_number),ce(R.company_number)]),We=N?[N.address_line_1,N.address_line_2,N.locality,N.region,N.postal_code].filter(Boolean).join(", "):"Address not available";return{company_name:R.title,company_number:R.company_number,company_status:R.company_status,company_type:M==null?void 0:M.type,incorporation_date:R.date_of_creation,registered_address:We,accounts_due_date:((O=M==null?void 0:M.accounts)==null?void 0:O.next_due)||"Not available",cs_due_date:((j=M==null?void 0:M.confirmation_statement)==null?void 0:j.next_due)||"Not available",sic_codes:(M==null?void 0:M.sic_codes)||[],jurisdiction:(M==null?void 0:M.jurisdiction)||"england-wales",last_updated:new Date().toISOString()}}catch(M){return re(`Error processing company ${R.company_number}: ${M.message}`),null}},C=async()=>{if(!r){re("Companies House API Key is required to start.");return}s(!0),_.current=!1,f([]),y({current:0,total:0}),T([]);try{re(`Starting real data collection for companies incorporated on: ${xc}`),l("Searching Companies House...");let R=0;const O=100;let j=0,M=0;const N=[];if(j=(await Y(xc,0)).total_results,y({current:0,total:j}),re(`Found ${j} companies incorporated on ${xc}`),j===0){re("No companies found for the specified date."),s(!1),l("Idle");return}for(;R<j&&!_.current;){l(`Fetching companies ${R+1}-${Math.min(R+O,j)}...`);const V=await Y(xc,R);N.push(...V.items),R+=O,await new Promise(ie=>setTimeout(ie,200))}if(_.current){re("Agent paused by user."),l("Paused");return}l("Enriching company data...");const Ve=[];for(const V of N){if(_.current){re("Agent paused by user."),l("Paused");return}try{const ie=await oe(V);ie&&(Ve.push(ie),T([...Ve])),M++,y({current:M,total:j}),M%10===0&&re(`Processed ${M}/${j} companies`),await new Promise(te=>setTimeout(te,100))}catch(ie){re(`Failed to process company ${V.company_number}: ${ie.message}`);continue}}re(`Successfully processed ${M} real companies from Companies House`),l("Finished")}catch(R){re(`Agent failed: ${R.message}`),l("Error")}finally{s(!1)}},A=()=>{_.current=!0};return m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-800",children:m.jsxs("div",{className:"container mx-auto px-4 py-8",children:[m.jsxs("div",{className:"mb-8",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[m.jsx(zh,{className:"w-10 h-10 text-blue-600"}),m.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-cyan-600 bg-clip-text text-transparent",children:"Live Companies House Data"})]}),m.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Fetch and analyze real-time company data directly from Companies House API"})]}),m.jsxs(Ce,{className:"mb-8",children:[m.jsxs(Pe,{children:[m.jsxs(Me,{className:"flex items-center gap-2",children:[m.jsx(Xh,{className:"w-6 h-6 text-blue-600"}),"Real Companies House Data Collector"]}),m.jsxs(Ms,{children:["This agent will fetch real company data from the Companies House API for companies incorporated on ",xc,"."]})]}),m.jsxs(Ie,{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsxs("label",{className:"text-sm font-semibold flex items-center gap-2 mb-2",children:[m.jsx(dR,{className:"w-4 h-4"}),"Companies House API Key"]}),m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"password",value:r,onChange:R=>J(R.target.value),placeholder:"Enter your Companies House API key",className:"w-full p-3 border rounded-lg bg-background pr-10"}),r.length>0&&m.jsx(HA,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-green-500"})]}),m.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Get your API key from: ",m.jsx("a",{href:"https://developer.company-information.service.gov.uk/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:"Companies House Developer Portal"})]})]}),m.jsx("div",{className:"flex items-center gap-4",children:t?m.jsxs(Re,{onClick:A,className:"flex-1 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700",children:[m.jsx(YA,{className:"w-5 h-5 mr-2"})," Pause Collection"]}):m.jsxs(Re,{onClick:C,disabled:!r,className:"flex-1 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700",children:[m.jsx(XA,{className:"w-5 h-5 mr-2"})," Start Live Data Collection"]})}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between items-center text-sm font-semibold mb-2",children:[m.jsxs("span",{children:["Status: ",m.jsx(Cn,{variant:"outline",children:a})]}),m.jsxs("span",{className:"text-gray-500",children:[g.current," / ",g.total]})]}),m.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3 overflow-hidden",children:m.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-cyan-500 h-3 rounded-full transition-all duration-500",style:{width:g.total>0?`${g.current/g.total*100}%`:"0%"}})})]}),m.jsx("div",{className:"bg-gray-900 text-green-400 font-mono text-xs rounded-lg p-4 h-48 overflow-y-auto",children:u.length>0?u.map((R,O)=>m.jsx("p",{className:"whitespace-pre-wrap",children:R},O)):m.jsx("p",{className:"text-gray-500",children:"Agent log will appear here..."})})]})]}),m.jsxs(Ce,{children:[m.jsxs(Pe,{children:[m.jsxs(Me,{className:"flex items-center gap-2",children:[m.jsx(mE,{className:"w-6 h-6 text-blue-600"}),"Live Company Database"]}),m.jsx(Ms,{children:"Real-time company data from Companies House"})]}),m.jsx(Ie,{children:I?m.jsxs("div",{className:"text-center p-8",children:[m.jsx(mR,{className:"w-8 h-8 animate-spin mx-auto text-blue-500"}),m.jsx("p",{className:"text-gray-500 mt-2",children:"Loading company data..."})]}):q?m.jsx("div",{className:"p-4 bg-red-100 dark:bg-red-900/20 text-red-700 dark:text-red-400 rounded-lg text-center",children:q}):E.length===0?m.jsxs("div",{className:"text-center text-gray-500 p-8",children:[m.jsx(Xh,{className:"w-12 h-12 mx-auto text-gray-300 mb-2"}),m.jsx("p",{children:"No data yet. Start the agent to collect real company data."})]}):m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-sm",children:[m.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800 text-xs uppercase",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-4 py-3 text-left",children:"Company Name & Number"}),m.jsx("th",{className:"px-4 py-3 text-left",children:"Status"}),m.jsx("th",{className:"px-4 py-3 text-left",children:"Registered Address"}),m.jsx("th",{className:"px-4 py-3 text-left",children:"Accounts Due"}),m.jsx("th",{className:"px-4 py-3 text-left",children:"CS Due"})]})}),m.jsx("tbody",{children:E.map((R,O)=>m.jsxs("tr",{className:"border-b dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800",children:[m.jsxs("td",{className:"px-4 py-3",children:[m.jsx("div",{className:"font-medium",children:R.company_name}),m.jsx("div",{className:"font-mono text-xs text-gray-500",children:R.company_number})]}),m.jsx("td",{className:"px-4 py-3",children:m.jsx(Cn,{variant:R.company_status==="active"?"default":R.company_status==="dissolved"?"destructive":"secondary",children:R.company_status})}),m.jsx("td",{className:"px-4 py-3 text-xs max-w-xs truncate",title:R.registered_address,children:R.registered_address}),m.jsx("td",{className:"px-4 py-3 font-mono text-red-600 dark:text-red-400 font-bold text-xs",children:R.accounts_due_date}),m.jsx("td",{className:"px-4 py-3 font-mono text-blue-600 dark:text-blue-400 font-bold text-xs",children:R.cs_due_date})]},O))})]})})})]})]})})}const TP=({isOpen:r,onClose:e,onAuthSuccess:t})=>{const[s,a]=ye.useState(!0),[l,u]=ye.useState({email:"",password:"",name:"",confirmPassword:""}),[f,g]=ye.useState(!1),[y,_]=ye.useState(""),[E,T]=ye.useState("");if(!r)return null;const I=async q=>{q.preventDefault(),_(""),T(""),g(!0);try{if(!s){if(l.password!==l.confirmPassword)throw new Error("Passwords do not match");if(l.password.length<6)throw new Error("Password must be at least 6 characters")}if(await new Promise(z=>setTimeout(z,1e3)),s){const z={email:l.email,name:l.email.split("@")[0],subscription:"free"};localStorage.setItem("fineguard_user",JSON.stringify(z)),T("Login successful!"),setTimeout(()=>{t(z),e()},1e3)}else{const z={email:l.email,name:l.name,subscription:"free"};localStorage.setItem("fineguard_user",JSON.stringify(z)),T("Account created successfully!"),setTimeout(()=>{t(z),e()},1e3)}}catch(z){_(z.message)}finally{g(!1)}},L=q=>{u({...l,[q.target.name]:q.target.value})};return m.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:m.jsxs("div",{className:"bg-background border-2 border-cyan-400/30 rounded-3xl max-w-md w-full p-8 relative shadow-2xl",children:[m.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 hover:bg-muted rounded-full transition-colors",children:m.jsx(pE,{className:"h-5 w-5"})}),m.jsxs("div",{className:"text-center mb-6",children:[m.jsxs("div",{className:"inline-flex items-center gap-2 mb-4",children:[m.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-cyan-400 to-blue-500 rounded-full flex items-center justify-center",children:m.jsx("span",{className:"text-2xl",children:"🛡️"})}),m.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"FineGuard"})]}),m.jsx("h3",{className:"text-xl font-semibold mb-2",children:s?"Welcome Back":"Create Account"}),m.jsx("p",{className:"text-muted-foreground text-sm",children:s?"Sign in to access your compliance dashboard":"Start protecting your business today"})]}),y&&m.jsx("div",{className:"mb-4 p-3 bg-red-500/10 border border-red-500/30 rounded-lg text-red-500 text-sm",children:y}),E&&m.jsxs("div",{className:"mb-4 p-3 bg-green-500/10 border border-green-500/30 rounded-lg text-green-500 text-sm flex items-center gap-2",children:[m.jsx(It,{className:"h-4 w-4"}),E]}),m.jsxs("form",{onSubmit:I,className:"space-y-4",children:[!s&&m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:"Full Name"}),m.jsxs("div",{className:"relative",children:[m.jsx(mp,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),m.jsx("input",{type:"text",name:"name",value:l.name,onChange:L,className:"w-full pl-10 pr-4 py-3 border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-cyan-400",placeholder:"John Doe",required:!s})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email Address"}),m.jsxs("div",{className:"relative",children:[m.jsx(vR,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),m.jsx("input",{type:"email",name:"email",value:l.email,onChange:L,className:"w-full pl-10 pr-4 py-3 border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-cyan-400",placeholder:"you@example.com",required:!0})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:"Password"}),m.jsxs("div",{className:"relative",children:[m.jsx(F0,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),m.jsx("input",{type:"password",name:"password",value:l.password,onChange:L,className:"w-full pl-10 pr-4 py-3 border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-cyan-400",placeholder:"••••••••",required:!0})]})]}),!s&&m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:"Confirm Password"}),m.jsxs("div",{className:"relative",children:[m.jsx(F0,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),m.jsx("input",{type:"password",name:"confirmPassword",value:l.confirmPassword,onChange:L,className:"w-full pl-10 pr-4 py-3 border rounded-lg bg-background focus:outline-none focus:ring-2 focus:ring-cyan-400",placeholder:"••••••••",required:!s})]})]}),m.jsx("button",{type:"submit",disabled:f,className:"w-full py-3 bg-gradient-to-r from-cyan-400 to-blue-500 text-white rounded-lg font-semibold hover:shadow-lg hover:scale-[1.02] transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:f?"Processing...":s?"Sign In":"Create Account"})]}),m.jsx("div",{className:"mt-6 text-center",children:m.jsx("button",{onClick:()=>{a(!s),_(""),T("")},className:"text-sm text-cyan-500 hover:underline",children:s?"Don't have an account? Sign up":"Already have an account? Sign in"})}),s&&m.jsx("div",{className:"mt-4 text-center",children:m.jsx("button",{className:"text-sm text-muted-foreground hover:text-cyan-500 transition-colors",children:"Forgot password?"})})]})})},SP=({user:r,onLogout:e,onUpgrade:t})=>{const a={free:{name:"Free",color:"text-gray-500",icon:"🆓"},starter:{name:"Starter",color:"text-blue-500",icon:"🌟",price:"£1"},pro:{name:"Pro",color:"text-purple-500",icon:"👑",price:"£15"},ultimate:{name:"Ultimate",color:"text-amber-500",icon:"💎",price:"£99"}}[r.subscription||"free"];return m.jsx("div",{className:"min-h-screen bg-background py-12 px-4",children:m.jsxs("div",{className:"max-w-6xl mx-auto",children:[m.jsx("div",{className:"bg-gradient-to-r from-cyan-400 to-blue-500 rounded-3xl p-8 mb-8 text-white",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsxs("h1",{className:"text-3xl font-bold mb-2",children:["Welcome back, ",r.name,"!"]}),m.jsx("p",{className:"text-white/80",children:"Manage your FineGuard subscription and settings"})]}),m.jsx("div",{className:"text-6xl",children:a.icon})]})}),m.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[m.jsxs("div",{className:"md:col-span-2 space-y-6",children:[m.jsxs("div",{className:"border-2 border-cyan-400/30 rounded-2xl p-6 bg-background/50 backdrop-blur",children:[m.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[m.jsx($0,{className:"h-5 w-5 text-cyan-500"}),"Current Subscription"]}),m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsxs("div",{children:[m.jsxs("div",{className:`text-2xl font-bold ${a.color} mb-1`,children:[a.name," Plan"]}),a.price&&m.jsxs("div",{className:"text-muted-foreground",children:[a.price,"/month"]})]}),r.subscription==="free"&&m.jsx("button",{onClick:t,className:"px-6 py-3 bg-gradient-to-r from-cyan-400 to-blue-500 text-white rounded-full font-semibold hover:shadow-lg hover:scale-105 transition-all",children:"Upgrade Now"})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsx("h3",{className:"font-semibold mb-2",children:"Your Features:"}),r.subscription==="free"?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[m.jsx(It,{className:"h-4 w-4 text-green-500"}),m.jsx("span",{children:"Up to 1 company"})]}),m.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[m.jsx(It,{className:"h-4 w-4 text-green-500"}),m.jsx("span",{children:"Basic compliance tracking"})]}),m.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[m.jsx(GA,{className:"h-4 w-4"}),m.jsx("span",{children:"AI features not included"})]})]}):r.subscription==="starter"?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[m.jsx(It,{className:"h-4 w-4 text-green-500"}),m.jsx("span",{children:"Up to 1 company"})]}),m.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[m.jsx(It,{className:"h-4 w-4 text-green-500"}),m.jsx("span",{children:"Email alerts"})]}),m.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[m.jsx(It,{className:"h-4 w-4 text-green-500"}),m.jsx("span",{children:"AI compliance checklists"})]})]}):r.subscription==="pro"?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[m.jsx(It,{className:"h-4 w-4 text-green-500"}),m.jsx("span",{children:"Up to 5 companies"})]}),m.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[m.jsx(It,{className:"h-4 w-4 text-green-500"}),m.jsx("span",{children:"AI-powered insights"})]}),m.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[m.jsx(It,{className:"h-4 w-4 text-green-500"}),m.jsx("span",{children:"Priority support"})]}),m.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[m.jsx(It,{className:"h-4 w-4 text-green-500"}),m.jsx("span",{children:"Risk scoring"})]})]}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[m.jsx(It,{className:"h-4 w-4 text-green-500"}),m.jsx("span",{children:"Unlimited companies"})]}),m.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[m.jsx(It,{className:"h-4 w-4 text-green-500"}),m.jsx("span",{children:"Dedicated account manager"})]}),m.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[m.jsx(It,{className:"h-4 w-4 text-green-500"}),m.jsx("span",{children:"White-label option"})]}),m.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[m.jsx(It,{className:"h-4 w-4 text-green-500"}),m.jsx("span",{children:"API access"})]})]})]})]}),m.jsxs("div",{className:"border-2 border-cyan-400/30 rounded-2xl p-6 bg-background/50 backdrop-blur",children:[m.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[m.jsx(mp,{className:"h-5 w-5 text-cyan-500"}),"Account Details"]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-sm text-muted-foreground",children:"Name"}),m.jsx("div",{className:"font-medium",children:r.name})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-sm text-muted-foreground",children:"Email"}),m.jsx("div",{className:"font-medium",children:r.email})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-sm text-muted-foreground",children:"Member Since"}),m.jsx("div",{className:"font-medium",children:new Date().toLocaleDateString()})]})]})]})]}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"border-2 border-cyan-400/30 rounded-2xl p-6 bg-background/50 backdrop-blur",children:[m.jsx("h2",{className:"text-lg font-bold mb-4",children:"Quick Actions"}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("button",{className:"w-full p-3 text-left hover:bg-muted rounded-lg transition-colors flex items-center gap-3",children:[m.jsx(nR,{className:"h-5 w-5 text-cyan-500"}),m.jsx("span",{children:"Billing & Payments"})]}),m.jsxs("button",{className:"w-full p-3 text-left hover:bg-muted rounded-lg transition-colors flex items-center gap-3",children:[m.jsx(IR,{className:"h-5 w-5 text-cyan-500"}),m.jsx("span",{children:"Account Settings"})]}),r.subscription!=="ultimate"&&m.jsxs("button",{onClick:t,className:"w-full p-3 text-left hover:bg-muted rounded-lg transition-colors flex items-center gap-3 border border-cyan-400/30",children:[m.jsx($0,{className:"h-5 w-5 text-amber-500"}),m.jsx("span",{className:"text-cyan-500 font-semibold",children:"Upgrade Plan"})]}),m.jsxs("button",{onClick:e,className:"w-full p-3 text-left hover:bg-red-500/10 rounded-lg transition-colors flex items-center gap-3 text-red-500",children:[m.jsx(yR,{className:"h-5 w-5"}),m.jsx("span",{children:"Sign Out"})]})]})]}),m.jsxs("div",{className:"border-2 border-cyan-400/30 rounded-2xl p-6 bg-background/50 backdrop-blur",children:[m.jsx("h2",{className:"text-lg font-bold mb-4",children:"Need Help?"}),m.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Our support team is here to help you with any questions."}),m.jsx("button",{className:"w-full py-2 bg-gradient-to-r from-cyan-400 to-blue-500 text-white rounded-lg font-semibold hover:shadow-lg transition-all",children:"Contact Support"})]})]})]})]})})},AP={companies:[{id:1,name:"Tech Innovations Ltd",companyNumber:"12345678",address:"123 Business Park, London, SW1A 1AA",riskLevel:"high",complianceScore:65,overdueCount:2,obligationCount:8},{id:2,name:"Global Solutions Ltd",companyNumber:"87654321",address:"456 Enterprise Road, Manchester, M1 1AB",riskLevel:"medium",complianceScore:78,overdueCount:0,obligationCount:6},{id:3,name:"Startup Ventures Ltd",companyNumber:"11223344",address:"789 Innovation Street, Bristol, BS1 1CD",riskLevel:"critical",complianceScore:45,overdueCount:3,obligationCount:5}],obligations:[{id:1,companyId:1,companyName:"Tech Innovations Ltd",title:"Annual Accounts Filing",description:"Submit annual financial statements to Companies House",dueDate:"2024-03-15",status:"overdue",penalty:1500,daysOverdue:45,phoneNumber:"+447912345678"},{id:2,companyId:1,companyName:"Tech Innovations Ltd",title:"Confirmation Statement",description:"Annual confirmation of company details",dueDate:"2024-04-20",status:"pending",penalty:0,daysOverdue:0,phoneNumber:"+447912345678"},{id:3,companyId:2,companyName:"Global Solutions Ltd",title:"VAT Return",description:"Quarterly VAT submission to HMRC",dueDate:"2024-05-10",status:"pending",penalty:0,daysOverdue:0,phoneNumber:"+447987654321"},{id:4,companyId:3,companyName:"Startup Ventures Ltd",title:"Corporation Tax",description:"Corporation tax payment and filing",dueDate:"2024-02-28",status:"overdue",penalty:2500,daysOverdue:62,phoneNumber:"+447445566778"},{id:5,companyId:3,companyName:"Startup Ventures Ltd",title:"Annual Accounts Filing",description:"Submit annual financial statements",dueDate:"2024-01-31",status:"overdue",penalty:1800,daysOverdue:90,phoneNumber:"+447445566778"}]};function RP(){const[r,e]=ye.useState(!1),[t,s]=ye.useState("home"),[a,l]=ye.useState(!1),[u,f]=ye.useState(AP),[g,y]=ye.useState(null),[_,E]=ye.useState(null),[T,I]=ye.useState(!1),[L,q]=ye.useState({title:"",content:"",loading:!1}),[z,re]=ye.useState(!1),[J,Y]=ye.useState(null);ye.useEffect(()=>{const D=localStorage.getItem("fineguard_user");D&&Y(JSON.parse(D))},[]),ye.useEffect(()=>{r?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[r]);const le=D=>{const ae={day:"numeric",month:"short",year:"numeric"};return new Date(D).toLocaleDateString("en-GB",ae)},ce=D=>{const ae=new Date,_e=new Date(D)-ae;return Math.ceil(_e/(1e3*60*60*24))},oe=D=>{switch(D){case"low":return"bg-green-500";case"medium":return"bg-blue-500";case"high":return"bg-orange-500";case"critical":return"bg-red-600";default:return"bg-gray-500"}},C=D=>{switch(D){case"completed":return"bg-green-500";case"overdue":return"bg-red-600";case"pending":return"bg-blue-500";default:return"bg-gray-500"}},A={overdueCount:u.obligations.filter(D=>D.status==="overdue").length,totalCompanies:u.companies.length,avgScore:(u.companies.reduce((D,ae)=>D+ae.complianceScore,0)/u.companies.length).toFixed(1),penaltyRisk:u.obligations.filter(D=>D.status==="overdue").reduce((D,ae)=>D+ae.penalty,0)},R=D=>{f(ae=>({...ae,obligations:ae.obligations.map(we=>we.id===D?{...we,status:"completed",penalty:0}:we),companies:ae.companies.map(we=>{const _e=ae.obligations.find($e=>$e.id===D);return we.id===(_e==null?void 0:_e.companyId)?{...we,complianceScore:Math.min(100,we.complianceScore+5)}:we})})),E(null)},O=D=>{I(!0),q({title:`AI Mitigation Plan for ${D.name}`,content:"",loading:!0}),setTimeout(()=>{q({title:`AI Mitigation Plan for ${D.name}`,loading:!1,content:`
**Current Risk Level:** ${D.riskLevel.toUpperCase()}
**Generated:** ${new Date().toLocaleDateString()}

### Immediate Actions Required:
1. **Review Overdue Filings** - Address all overdue obligations within 7 days
2. **Engage Compliance Officer** - Assign dedicated resource for monitoring
3. **Implement Early Warning System** - Set up 30-day advance reminders

### Strategic Recommendations:
- Conduct comprehensive compliance audit
- Implement automated tracking system
- Schedule quarterly compliance reviews
- Establish escalation procedures for high-risk items

### Priority Timeline:
- **Week 1:** Clear all critical overdue items
- **Month 1:** Implement monitoring system
- **Quarter 1:** Achieve 85%+ compliance score
        `})},2e3)},j=D=>{I(!0),q({title:`AI Compliance Checklist: ${D.title}`,content:"",loading:!0}),setTimeout(()=>{q({title:`AI Compliance Checklist: ${D.title}`,loading:!1,content:`
### Pre-Submission Requirements:
- Verify company details are up to date
- Gather all required financial documents
- Review previous year's filing for consistency
- Confirm director approvals obtained

### Submission Steps:
1. **Document Preparation** - Ensure all statements are signed
2. **Online Portal Login** - Use Companies House WebFiling service
3. **Data Entry** - Input financial figures accurately
4. **Document Upload** - Attach signed PDF copies
5. **Final Review** - Verify all information before submission
6. **Confirmation** - Save submission reference number

### Post-Submission Actions:
- File confirmation email in company records
- Update internal compliance tracking system
- Schedule reminder for next filing period
- Notify relevant stakeholders of completion
        `})},1500)},M=[...u.obligations].sort((D,ae)=>D.status==="overdue"&&ae.status!=="overdue"?-1:ae.status==="overdue"&&D.status!=="overdue"?1:new Date(D.dueDate)-new Date(ae.dueDate)),N=[{id:"home",label:"Home",icon:cR},{id:"about",label:"About",icon:H0},{id:"how-it-works",label:"How It Works",icon:q0},{id:"features",label:"Features",icon:Q0},{id:"pricing",label:"Pricing",icon:aR},{id:"testimonials",label:"Testimonials",icon:eg},{id:"contact",label:"Contact",icon:tg},{id:"dashboard",label:"Dashboard",icon:Ec},{id:"admin",label:"Admin",icon:q0},{id:"live-data",label:"Live Data",icon:zh}],We=()=>{switch(t){case"home":return m.jsx(Ve,{});case"about":return m.jsx(V,{});case"how-it-works":return m.jsx(ie,{});case"features":return m.jsx(te,{});case"pricing":return m.jsx(Le,{});case"testimonials":return m.jsx(P,{});case"contact":return m.jsx(se,{});case"dashboard":return m.jsx(he,{});case"admin":return m.jsx(EP,{});case"live-data":return m.jsx(xP,{});case"member":return J?m.jsx(SP,{user:J,onLogout:()=>{localStorage.removeItem("fineguard_user"),Y(null),s("home")},onUpgrade:()=>s("pricing")}):m.jsx(Ve,{});default:return m.jsx(Ve,{})}},Ve=()=>m.jsxs("div",{className:"space-y-16",children:[m.jsxs("section",{className:"relative min-h-[600px] flex items-center justify-center overflow-hidden rounded-2xl",children:[m.jsx("img",{src:W0,alt:"FineGuard Workshop",className:"absolute inset-0 w-full h-full object-cover"}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-900/40 to-purple-900/30"}),m.jsxs("div",{className:"relative z-10 text-center text-white px-4 max-w-4xl",children:[m.jsx("h1",{className:"text-5xl md:text-7xl font-bold mb-6 animate-fade-in",children:"Welcome to FineGuard"}),m.jsx("p",{className:"text-xl md:text-2xl mb-8 opacity-90",children:"Where paperwork has personality and compliance is effortless"}),m.jsxs("div",{className:"flex gap-4 justify-center flex-wrap",children:[m.jsx(Re,{size:"lg",className:"bg-gradient-to-r from-cyan-400 to-blue-500 text-white border-0 rounded-full px-10 py-6 text-lg font-semibold hover:shadow-2xl hover:shadow-cyan-400/40 transition-all hover:scale-105",onClick:()=>s("dashboard"),children:"Get Started"}),m.jsx(Re,{size:"lg",className:"border-2 border-cyan-400/50 bg-white/10 backdrop-blur-md text-white hover:bg-white/20 rounded-full px-10 py-6 text-lg font-semibold transition-all hover:scale-105",onClick:()=>s("how-it-works"),children:"Learn More"})]})]})]}),m.jsxs("section",{className:"container mx-auto px-4",children:[m.jsx("h2",{className:"text-4xl font-bold text-center mb-12",children:"Why Choose FineGuard?"}),m.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[m.jsxs(Ce,{className:"hover:shadow-xl transition-shadow",children:[m.jsxs(Pe,{children:[m.jsx(Ec,{className:"h-12 w-12 text-blue-600 mb-4"}),m.jsx(Me,{children:"AI-Powered Protection"})]}),m.jsx(Ie,{children:m.jsx("p",{className:"text-muted-foreground",children:"Ultra, your AI guardian, monitors deadlines 24/7 so you never miss a filing."})})]}),m.jsxs(Ce,{className:"hover:shadow-xl transition-shadow",children:[m.jsxs(Pe,{children:[m.jsx(Jm,{className:"h-12 w-12 text-orange-600 mb-4"}),m.jsx(Me,{children:"Smart Reminders"})]}),m.jsx(Ie,{children:m.jsx("p",{className:"text-muted-foreground",children:"Get timely notifications before deadlines with actionable compliance checklists."})})]}),m.jsxs(Ce,{className:"hover:shadow-xl transition-shadow",children:[m.jsxs(Pe,{children:[m.jsx(ng,{className:"h-12 w-12 text-green-600 mb-4"}),m.jsx(Me,{children:"Peace of Mind"})]}),m.jsx(Ie,{children:m.jsx("p",{className:"text-muted-foreground",children:"Focus on growing your business while we handle compliance automatically."})})]})]})]}),m.jsx("section",{className:"container mx-auto px-4",children:m.jsxs("div",{className:"max-w-4xl mx-auto",children:[m.jsx("h2",{className:"text-4xl font-bold text-center mb-4",children:"See FineGuard in Action"}),m.jsx("p",{className:"text-center text-muted-foreground mb-8 text-lg",children:"Watch how Ultra protects your business from compliance penalties"}),m.jsx("div",{className:"relative rounded-2xl overflow-hidden shadow-2xl border-4 border-cyan-400/30",children:m.jsxs("video",{controls:!0,className:"w-full",poster:W0,children:[m.jsx("source",{src:"/demo-video.mov",type:"video/quicktime"}),m.jsx("source",{src:"/demo-video.mp4",type:"video/mp4"}),"Your browser does not support the video tag."]})})]})}),m.jsx("section",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white py-16 rounded-2xl mx-4",children:m.jsxs("div",{className:"container mx-auto px-4 text-center",children:[m.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Ready to protect your business?"}),m.jsx("p",{className:"text-xl mb-8 opacity-90",children:"Join thousands of UK businesses using FineGuard"}),m.jsx(Re,{size:"lg",className:"bg-white/90 backdrop-blur-md text-blue-900 hover:bg-white rounded-full px-10 py-6 text-lg font-semibold hover:shadow-2xl hover:scale-105 transition-all",onClick:()=>s("pricing"),children:"View Pricing Plans"})]})})]}),V=()=>m.jsxs("div",{className:"space-y-12",children:[m.jsxs("section",{className:"relative min-h-[400px] flex items-center justify-center overflow-hidden rounded-2xl",children:[m.jsx("img",{src:BR,alt:"Ultra Guardian",className:"absolute inset-0 w-full h-full object-cover"}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-blue-900/30 to-purple-900/30"}),m.jsxs("div",{className:"relative z-10 text-center text-white px-4",children:[m.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-4",children:"The Story of Protection"}),m.jsx("p",{className:"text-xl opacity-90",children:"Giving peace of mind to UK founders"})]})]}),m.jsx("section",{className:"container mx-auto px-4 max-w-4xl",children:m.jsx(Ce,{children:m.jsxs(Ie,{className:"p-8 space-y-6",children:[m.jsx("h2",{className:"text-3xl font-bold",children:"Our Mission"}),m.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"FineGuard was born from a simple truth: small business owners shouldn't lose sleep over compliance deadlines. Every day, brilliant entrepreneurs face the burden of paperwork, filings, and regulations that distract from what they do best—building amazing businesses."}),m.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"That's where Ultra comes in. Our AI guardian watches over your compliance obligations 24/7, ensuring you never miss a deadline, never face unnecessary penalties, and always stay protected. From Companies House filings to HMRC submissions, we've got you covered."}),m.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mt-8",children:[m.jsxs("div",{className:"p-6 bg-blue-50 dark:bg-blue-950/20 rounded-lg",children:[m.jsx("h3",{className:"text-xl font-bold mb-2",children:"10,000+"}),m.jsx("p",{className:"text-muted-foreground",children:"Businesses Protected"})]}),m.jsxs("div",{className:"p-6 bg-green-50 dark:bg-green-950/20 rounded-lg",children:[m.jsx("h3",{className:"text-xl font-bold mb-2",children:"£2.5M+"}),m.jsx("p",{className:"text-muted-foreground",children:"Penalties Prevented"})]})]})]})})})]}),ie=()=>m.jsxs("div",{className:"space-y-12",children:[m.jsxs("section",{className:"relative min-h-[400px] flex items-center justify-center overflow-hidden rounded-2xl",children:[m.jsx("img",{src:qR,alt:"Engine Room",className:"absolute inset-0 w-full h-full object-cover"}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-teal-900/30 to-blue-900/30"}),m.jsxs("div",{className:"relative z-10 text-center text-white px-4",children:[m.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-4",children:"Inside the System"}),m.jsx("p",{className:"text-xl opacity-90",children:"How FineGuard keeps you compliant"})]})]}),m.jsx("section",{className:"container mx-auto px-4 max-w-5xl",children:m.jsx("div",{className:"space-y-8",children:[{step:1,title:"Connect Your Business",description:"Simply add your company number and we'll sync with Companies House and HMRC to identify all your obligations."},{step:2,title:"Ultra Monitors Everything",description:"Our AI guardian tracks every deadline, regulation change, and filing requirement specific to your business."},{step:3,title:"Smart Reminders",description:"Get timely notifications via email, SMS, and dashboard alerts with AI-generated compliance checklists."},{step:4,title:"Stay Protected",description:"Never miss a deadline again. Focus on growth while we handle the compliance burden automatically."}].map(D=>m.jsx(Ce,{className:"hover:shadow-lg transition-shadow",children:m.jsxs(Ie,{className:"p-8 flex gap-6 items-start",children:[m.jsx("div",{className:"flex-shrink-0 w-16 h-16 bg-blue-600 text-white rounded-full flex items-center justify-center text-2xl font-bold",children:D.step}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-2xl font-bold mb-2",children:D.title}),m.jsx("p",{className:"text-lg text-muted-foreground",children:D.description})]})]})},D.step))})})]}),te=()=>m.jsxs("div",{className:"space-y-12",children:[m.jsxs("section",{className:"relative min-h-[400px] flex items-center justify-center overflow-hidden rounded-2xl",children:[m.jsx("img",{src:$R,alt:"Features",className:"absolute inset-0 w-full h-full object-cover"}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-blue-900/30 to-indigo-900/30"}),m.jsxs("div",{className:"relative z-10 text-center text-white px-4",children:[m.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-4",children:"Never Miss a Deadline"}),m.jsx("p",{className:"text-xl opacity-90",children:"Powerful features for complete peace of mind"})]})]}),m.jsx("section",{className:"container mx-auto px-4",children:m.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[{icon:Ec,title:"AI Guardian",desc:"Ultra monitors your obligations 24/7"},{icon:Jm,title:"Smart Alerts",desc:"Multi-channel notifications (email, SMS, dashboard)"},{icon:zh,title:"Deadline Tracking",desc:"Never miss Companies House or HMRC filings"},{icon:Ch,title:"AI Checklists",desc:"Step-by-step compliance guidance"},{icon:ng,title:"Risk Scoring",desc:"Real-time compliance health monitoring"},{icon:It,title:"Auto-Sync",desc:"Automatic updates from official sources"}].map((D,ae)=>m.jsxs(Ce,{className:"hover:shadow-xl transition-all hover:-translate-y-1",children:[m.jsxs(Pe,{children:[m.jsx(D.icon,{className:"h-12 w-12 text-blue-600 mb-4"}),m.jsx(Me,{children:D.title})]}),m.jsx(Ie,{children:m.jsx("p",{className:"text-muted-foreground",children:D.desc})})]},ae))})})]}),Le=()=>m.jsxs("div",{className:"space-y-12",children:[m.jsxs("section",{className:"relative min-h-[400px] flex items-center justify-center overflow-hidden rounded-2xl",children:[m.jsx("img",{src:HR,alt:"Pricing",className:"absolute inset-0 w-full h-full object-cover"}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-purple-900/30 to-blue-900/30"}),m.jsxs("div",{className:"relative z-10 text-center text-white px-4",children:[m.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-4",children:"Protection for Every Dream"}),m.jsx("p",{className:"text-xl opacity-90",children:"Transparent pricing, no hidden fees"})]})]}),m.jsx("section",{className:"container mx-auto px-4",children:m.jsx("div",{className:"grid md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:[{name:"Starter",price:"£1",period:"/month",features:["1 company","Basic deadline tracking","Email notifications","Compliance dashboard","Monthly reports"]},{name:"Pro",price:"£15",period:"/month",popular:!0,features:["Up to 5 companies","AI-powered insights","Email alerts","Priority support","AI compliance checklists","Risk scoring"]},{name:"Ultimate",price:"£99",period:"/month",features:["Unlimited companies","Dedicated account manager","White-label option","API access","Custom integrations","24/7 phone support"]}].map(D=>m.jsxs(Ce,{className:`hover:shadow-2xl transition-all ${D.popular?"border-blue-600 border-2 scale-105":""}`,children:[D.popular&&m.jsx("div",{className:"bg-blue-600 text-white text-center py-2 rounded-t-lg font-semibold",children:"Most Popular"}),m.jsxs(Pe,{className:"text-center",children:[m.jsx(Me,{className:"text-2xl",children:D.name}),m.jsxs("div",{className:"mt-4",children:[m.jsx("span",{className:"text-5xl font-bold",children:D.price}),m.jsx("span",{className:"text-muted-foreground",children:D.period})]})]}),m.jsxs(Ie,{children:[m.jsx("ul",{className:"space-y-3",children:D.features.map((ae,we)=>m.jsxs("li",{className:"flex items-start gap-2",children:[m.jsx(It,{className:"h-5 w-5 text-green-600 flex-shrink-0 mt-0.5"}),m.jsx("span",{children:ae})]},we))}),m.jsx(Re,{className:"w-full mt-6",variant:D.popular?"default":"outline",children:"Get Started"})]})]},D.name))})})]}),P=()=>m.jsxs("div",{className:"space-y-12",children:[m.jsxs("section",{className:"relative min-h-[400px] flex items-center justify-center overflow-hidden rounded-2xl",children:[m.jsx("img",{src:FR,alt:"Testimonials",className:"absolute inset-0 w-full h-full object-cover"}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-orange-900/30 to-blue-900/30"}),m.jsxs("div",{className:"relative z-10 text-center text-white px-4",children:[m.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-4",children:"Voices of Relief"}),m.jsx("p",{className:"text-xl opacity-90",children:"Trusted by UK businesses nationwide"})]})]}),m.jsx("section",{className:"container mx-auto px-4",children:m.jsx("div",{className:"grid md:grid-cols-2 gap-8 max-w-5xl mx-auto",children:[{name:"Sarah Mitchell",role:"Bakery Owner, London",quote:"FineGuard saved me from a £1,500 penalty. Ultra reminded me about my accounts filing just in time!"},{name:"James Chen",role:"Tech Startup Founder",quote:"As a first-time founder, compliance was overwhelming. FineGuard made it effortless."},{name:"Emma Thompson",role:"Design Studio Director",quote:"The AI checklists are brilliant. I know exactly what to do for each filing."},{name:"David Patel",role:"Coffee Shop Chain Owner",quote:"Managing 3 companies was a nightmare. Now Ultra handles everything automatically."}].map((D,ae)=>m.jsx(Ce,{className:"hover:shadow-xl transition-shadow",children:m.jsxs(Ie,{className:"p-8",children:[m.jsx("div",{className:"flex items-center gap-2 mb-4 text-yellow-500",children:[...Array(5)].map((we,_e)=>m.jsx(Q0,{className:"h-5 w-5 fill-current"},_e))}),m.jsxs("p",{className:"text-lg mb-4 italic",children:['"',D.quote,'"']}),m.jsxs("div",{children:[m.jsx("p",{className:"font-semibold",children:D.name}),m.jsx("p",{className:"text-sm text-muted-foreground",children:D.role})]})]})},ae))})})]}),se=()=>m.jsxs("div",{className:"space-y-12",children:[m.jsxs("section",{className:"relative min-h-[400px] flex items-center justify-center overflow-hidden rounded-2xl",children:[m.jsx("img",{src:GR,alt:"Contact",className:"absolute inset-0 w-full h-full object-cover"}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-blue-900/30 to-indigo-900/30"}),m.jsxs("div",{className:"relative z-10 text-center text-white px-4",children:[m.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-4",children:"Reach Out Anytime"}),m.jsx("p",{className:"text-xl opacity-90",children:"We're here to help"})]})]}),m.jsx("section",{className:"container mx-auto px-4 max-w-4xl",children:m.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[m.jsxs(Ce,{children:[m.jsxs(Pe,{children:[m.jsx(Me,{children:"Get in Touch"}),m.jsx(Ms,{children:"Fill out the form and we'll respond within 24 hours"})]}),m.jsxs(Ie,{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:"Name"}),m.jsx("input",{type:"text",className:"w-full p-2 border rounded-lg",placeholder:"Your name"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),m.jsx("input",{type:"email",className:"w-full p-2 border rounded-lg",placeholder:"your@email.com"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-2",children:"Message"}),m.jsx("textarea",{className:"w-full p-2 border rounded-lg",rows:4,placeholder:"How can we help?"})]}),m.jsx(Re,{className:"w-full",children:"Send Message"})]})]}),m.jsxs(Ce,{children:[m.jsx(Pe,{children:m.jsx(Me,{children:"Contact Information"})}),m.jsxs(Ie,{className:"space-y-4",children:[m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx(tg,{className:"h-5 w-5 text-blue-600 mt-1"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-semibold",children:"Phone"}),m.jsx("p",{className:"text-muted-foreground",children:"+44 20 1234 5678"})]})]}),m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx(eg,{className:"h-5 w-5 text-blue-600 mt-1"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-semibold",children:"Email"}),m.jsx("p",{className:"text-muted-foreground",children:"hello@fineguard.co.uk"})]})]}),m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx(Zm,{className:"h-5 w-5 text-blue-600 mt-1"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-semibold",children:"Address"}),m.jsxs("p",{className:"text-muted-foreground",children:["123 Compliance Street",m.jsx("br",{}),"London, SW1A 1AA"]})]})]})]})]})]})})]}),he=()=>m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[m.jsxs(Ce,{className:"hover:shadow-lg transition-shadow",children:[m.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[m.jsx(Me,{className:"text-sm font-medium",children:"Overdue Items"}),m.jsx(gE,{className:"h-4 w-4 text-red-600"})]}),m.jsxs(Ie,{children:[m.jsx("div",{className:"text-3xl font-bold text-red-600",children:A.overdueCount}),m.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Requires immediate attention"})]})]}),m.jsxs(Ce,{className:"hover:shadow-lg transition-shadow",children:[m.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[m.jsx(Me,{className:"text-sm font-medium",children:"Total Companies"}),m.jsx(Zm,{className:"h-4 w-4 text-blue-600"})]}),m.jsxs(Ie,{children:[m.jsx("div",{className:"text-3xl font-bold",children:A.totalCompanies}),m.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Active monitoring"})]})]}),m.jsxs(Ce,{className:"hover:shadow-lg transition-shadow",children:[m.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[m.jsx(Me,{className:"text-sm font-medium",children:"Avg Compliance"}),m.jsx(ng,{className:"h-4 w-4 text-green-600"})]}),m.jsxs(Ie,{children:[m.jsxs("div",{className:"text-3xl font-bold",children:[A.avgScore,"%"]}),m.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Overall health score"})]})]}),m.jsxs(Ce,{className:"hover:shadow-lg transition-shadow",children:[m.jsxs(Pe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[m.jsx(Me,{className:"text-sm font-medium",children:"Penalty Risk"}),m.jsx(Jm,{className:"h-4 w-4 text-orange-600"})]}),m.jsxs(Ie,{children:[m.jsxs("div",{className:"text-3xl font-bold text-orange-600",children:["£",A.penaltyRisk.toLocaleString()]}),m.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Potential exposure"})]})]})]}),m.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[m.jsxs(Ce,{children:[m.jsxs(Pe,{children:[m.jsxs(Me,{className:"flex items-center gap-2",children:[m.jsx(Zm,{className:"h-5 w-5"}),"Companies"]}),m.jsx(Ms,{children:"Manage your registered companies"})]}),m.jsx(Ie,{className:"space-y-3",children:u.companies.map(D=>m.jsxs("div",{onClick:()=>y(D),className:"p-4 border rounded-lg hover:shadow-md transition-all cursor-pointer bg-card",children:[m.jsxs("div",{className:"flex items-start justify-between mb-2",children:[m.jsx("h3",{className:"font-semibold text-lg",children:D.name}),m.jsx(Cn,{className:`${oe(D.riskLevel)} text-white`,children:D.riskLevel.toUpperCase()})]}),m.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[m.jsxs("div",{children:["#",D.companyNumber]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("span",{children:["Compliance: ",D.complianceScore,"%"]}),m.jsxs("span",{className:"flex items-center gap-1",children:[m.jsx("i",{className:"fas fa-tasks text-xs"}),D.obligationCount," obligations"]})]}),D.overdueCount>0&&m.jsxs(Cn,{variant:"destructive",className:"mt-2",children:[D.overdueCount," overdue"]})]})]},D.id))})]}),m.jsxs(Ce,{children:[m.jsxs(Pe,{children:[m.jsxs(Me,{className:"flex items-center gap-2",children:[m.jsx(zh,{className:"h-5 w-5"}),"Obligations"]}),m.jsx(Ms,{children:"Track compliance deadlines"})]}),m.jsx(Ie,{className:"space-y-3",children:M.map(D=>{const ae=ce(D.dueDate);return m.jsxs("div",{onClick:()=>E(D),className:`p-4 border rounded-lg hover:shadow-md transition-all cursor-pointer ${D.status==="overdue"?"border-red-500 bg-red-50 dark:bg-red-950/20":D.status==="completed"?"border-green-500 bg-green-50 dark:bg-green-950/20":"bg-card"}`,children:[m.jsxs("div",{className:"flex items-start justify-between mb-2",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("h3",{className:"font-semibold",children:D.title}),m.jsx("p",{className:"text-sm text-muted-foreground",children:D.companyName})]}),m.jsx(Cn,{className:`${C(D.status)} text-white text-xs`,children:D.status==="overdue"?`${D.daysOverdue}d overdue`:D.status.toUpperCase()})]}),m.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[m.jsxs("span",{className:"flex items-center gap-1",children:[m.jsx("i",{className:"fas fa-calendar-alt text-xs"}),le(D.dueDate),D.status==="pending"&&` (in ${ae} days)`]}),D.penalty>0&&D.status!=="completed"&&m.jsxs("span",{className:"font-semibold text-red-600",children:[m.jsx("i",{className:"fas fa-bell text-xs"})," £",D.penalty.toLocaleString()]})]})]},D.id)})})]})]})]});return m.jsxs("div",{className:"min-h-screen bg-background",children:[m.jsxs("header",{className:"sticky top-0 z-50 w-full",children:[m.jsx("div",{className:"mx-4 mt-4 rounded-full border border-cyan-400/30 bg-background/40 backdrop-blur-xl shadow-lg shadow-cyan-500/20",children:m.jsxs("div",{className:"container flex h-20 items-center justify-between px-6",children:[m.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",onClick:()=>s("home"),children:[m.jsxs("div",{className:"relative",children:[m.jsx(Ec,{className:"h-10 w-10 text-cyan-400"}),m.jsx("div",{className:"absolute inset-0 blur-lg bg-cyan-400/30"})]}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"FineGuard"}),m.jsx("p",{className:"text-xs text-muted-foreground",children:"by UltraTech AI"})]})]}),m.jsx("nav",{className:"hidden md:flex items-center gap-3",children:N.map(D=>m.jsx("button",{onClick:()=>s(D.id),className:`px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 ${t===D.id?"bg-cyan-400/20 text-cyan-400 shadow-lg shadow-cyan-400/20 border border-cyan-400/30":"text-foreground/70 hover:text-foreground hover:bg-white/10"}`,children:D.label},D.id))}),m.jsxs("div",{className:"flex items-center gap-3",children:[J?m.jsx("div",{className:"hidden md:flex items-center gap-2",children:m.jsxs(Re,{size:"sm",variant:"outline",className:"rounded-full border-cyan-400/30",onClick:()=>s("member"),children:[m.jsx(mp,{className:"h-4 w-4 mr-2"}),J.name]})}):m.jsxs(Re,{size:"sm",className:"hidden md:flex bg-gradient-to-r from-cyan-400 to-blue-500 text-white border-0 rounded-full px-6 hover:shadow-lg hover:shadow-cyan-400/30 transition-all",onClick:()=>re(!0),children:[m.jsx(It,{className:"h-4 w-4 mr-2"}),"Sign Up"]}),m.jsx(Re,{variant:"ghost",size:"icon",onClick:()=>e(!r),className:"rounded-full hover:bg-white/10",children:r?m.jsx(PR,{className:"h-5 w-5"}):m.jsx(TR,{className:"h-5 w-5"})}),m.jsx(Re,{variant:"ghost",size:"icon",className:"md:hidden rounded-full hover:bg-white/10",onClick:()=>l(!a),children:a?m.jsx(pE,{className:"h-5 w-5"}):m.jsx(wR,{className:"h-5 w-5"})})]})]})}),a&&m.jsx("div",{className:"md:hidden border-t bg-background",children:m.jsx("nav",{className:"container px-4 py-4 space-y-2",children:N.map(D=>m.jsxs("button",{onClick:()=>{s(D.id),l(!1)},className:`w-full flex items-center gap-2 px-3 py-2 rounded-lg transition-colors ${t===D.id?"bg-blue-100 dark:bg-blue-950 text-blue-600":"hover:bg-muted"}`,children:[m.jsx(D.icon,{className:"h-4 w-4"}),m.jsx("span",{className:"text-sm font-medium",children:D.label})]},D.id))})})]}),m.jsx("main",{className:"container mx-auto p-4 md:p-6",children:We()}),g&&m.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:()=>y(null),children:m.jsxs(Ce,{className:"max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:D=>D.stopPropagation(),children:[m.jsx(Pe,{children:m.jsxs(Me,{className:"flex items-center justify-between",children:[m.jsx("span",{children:g.name}),m.jsx(Re,{variant:"ghost",size:"icon",onClick:()=>y(null),children:m.jsx("i",{className:"fas fa-times"})})]})}),m.jsxs(Ie,{className:"space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-muted-foreground",children:"Company Number"}),m.jsx("p",{className:"font-semibold",children:g.companyNumber})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-muted-foreground",children:"Risk Level"}),m.jsx(Cn,{className:`${oe(g.riskLevel)} text-white`,children:g.riskLevel.toUpperCase()})]}),m.jsxs("div",{className:"col-span-2",children:[m.jsx("p",{className:"text-sm text-muted-foreground",children:"Address"}),m.jsx("p",{children:g.address})]})]}),(g.riskLevel==="critical"||g.riskLevel==="high")&&m.jsxs(Re,{className:"w-full",onClick:()=>O(g),children:[m.jsx(Ch,{className:"mr-2 h-4 w-4"}),"AI Mitigation Plan"]}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-semibold mb-2",children:"Obligations"}),m.jsx("div",{className:"space-y-2",children:u.obligations.filter(D=>D.companyId===g.id).map(D=>m.jsxs("div",{className:"p-3 border rounded-lg text-sm",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:"font-medium",children:D.title}),m.jsx(Cn,{className:`${C(D.status)} text-white text-xs`,children:D.status})]}),m.jsxs("p",{className:"text-muted-foreground text-xs mt-1",children:["Due: ",le(D.dueDate)]})]},D.id))})]})]})]})}),_&&m.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:()=>E(null),children:m.jsxs(Ce,{className:"max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:D=>D.stopPropagation(),children:[m.jsxs(Pe,{children:[m.jsxs(Me,{className:"flex items-center justify-between",children:[m.jsx("span",{children:_.title}),m.jsx(Re,{variant:"ghost",size:"icon",onClick:()=>E(null),children:m.jsx("i",{className:"fas fa-times"})})]}),m.jsx(Ms,{children:_.companyName})]}),m.jsxs(Ie,{className:"space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-muted rounded-lg",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),m.jsx(Cn,{className:`${C(_.status)} text-white mt-1`,children:_.status.toUpperCase()})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-muted-foreground",children:"Due Date"}),m.jsx("p",{className:"font-semibold",children:le(_.dueDate)})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-muted-foreground",children:"Potential Penalty"}),m.jsxs("p",{className:`font-semibold ${_.penalty>0&&_.status!=="completed"?"text-red-600":"text-green-600"}`,children:["£",_.penalty.toLocaleString()]})]}),m.jsxs("div",{children:[m.jsxs("p",{className:"text-sm text-muted-foreground",children:["Days ",_.status==="overdue"?"Overdue":"Until Due"]}),m.jsx("p",{className:"font-semibold",children:_.status==="overdue"?_.daysOverdue:ce(_.dueDate)})]})]}),m.jsxs(Re,{className:"w-full",onClick:()=>j(_),children:[m.jsx(Ch,{className:"mr-2 h-4 w-4"}),"AI Compliance Checklist"]}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-semibold mb-2",children:"Description"}),m.jsx("p",{className:"text-sm text-muted-foreground",children:_.description})]}),m.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[m.jsx(Re,{variant:"outline",onClick:()=>E(null),className:"flex-1",children:"Close"}),_.status!=="completed"&&m.jsxs(Re,{onClick:()=>R(_.id),className:"flex-1 bg-green-600 hover:bg-green-700",children:[m.jsx(It,{className:"mr-2 h-4 w-4"}),"Mark Complete"]})]})]})]})}),T&&m.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:()=>I(!1),children:m.jsxs(Ce,{className:"max-w-3xl w-full max-h-[90vh] overflow-y-auto",onClick:D=>D.stopPropagation(),children:[m.jsx(Pe,{children:m.jsxs(Me,{className:"flex items-center justify-between",children:[m.jsxs("span",{className:"flex items-center gap-2",children:[m.jsx(Ch,{className:"h-5 w-5 text-purple-600"}),L.title]}),m.jsx(Re,{variant:"ghost",size:"icon",onClick:()=>I(!1),children:m.jsx("i",{className:"fas fa-times"})})]})}),m.jsx(Ie,{children:L.loading?m.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mb-4"}),m.jsx("p",{className:"text-muted-foreground",children:"Analyzing compliance data..."})]}):m.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none",children:L.content.split(`
`).map((D,ae)=>D.startsWith("###")?m.jsx("h3",{className:"text-lg font-semibold mt-4 mb-2",children:D.replace("###","").trim()},ae):D.startsWith("**")?m.jsx("p",{className:"font-semibold my-2",children:D.replace(/\*\*/g,"")},ae):D.startsWith("-")?m.jsx("li",{className:"ml-4",children:D.replace("-","").trim()},ae):D.match(/^\d+\./)?m.jsx("p",{className:"my-1",children:D},ae):D.trim()?m.jsx("p",{className:"my-2",children:D},ae):null)})})]})}),m.jsx("footer",{className:"mt-16 mb-4",children:m.jsx("div",{className:"mx-4 rounded-3xl border border-cyan-400/30 bg-background/40 backdrop-blur-xl shadow-lg shadow-cyan-500/20 p-8",children:m.jsxs("div",{className:"container mx-auto",children:[m.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs("div",{className:"relative",children:[m.jsx(Ec,{className:"h-12 w-12 text-cyan-400"}),m.jsx("div",{className:"absolute inset-0 blur-lg bg-cyan-400/30"})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent",children:"FineGuard"}),m.jsx("p",{className:"text-xs text-muted-foreground",children:"by UltraTech AI"})]})]}),m.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-6 text-sm",children:[m.jsx("button",{onClick:()=>s("home"),className:"text-foreground/70 hover:text-cyan-400 transition-colors",children:"Home"}),m.jsx("button",{onClick:()=>s("about"),className:"text-foreground/70 hover:text-cyan-400 transition-colors",children:"About"}),m.jsx("button",{onClick:()=>s("pricing"),className:"text-foreground/70 hover:text-cyan-400 transition-colors",children:"Pricing"}),m.jsx("button",{onClick:()=>s("contact"),className:"text-foreground/70 hover:text-cyan-400 transition-colors",children:"Contact"})]}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("a",{href:"#",className:"text-foreground/70 hover:text-cyan-400 transition-colors",children:m.jsx(eg,{className:"h-5 w-5"})}),m.jsx("a",{href:"#",className:"text-foreground/70 hover:text-cyan-400 transition-colors",children:m.jsx(tg,{className:"h-5 w-5"})}),m.jsx("a",{href:"#",className:"text-foreground/70 hover:text-cyan-400 transition-colors",children:m.jsx(H0,{className:"h-5 w-5"})})]})]}),m.jsx("div",{className:"mt-6 pt-6 border-t border-cyan-400/20 text-center",children:m.jsx("p",{className:"text-sm text-muted-foreground",children:"© 2024 UltraTech AI. All rights reserved."})})]})})}),m.jsx(TP,{isOpen:z,onClose:()=>re(!1),onAuthSuccess:D=>{Y(D),s("member")}})]})}$S.createRoot(document.getElementById("root")).render(m.jsx(ye.StrictMode,{children:m.jsx(RP,{})}));
